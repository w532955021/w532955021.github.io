!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("./jzfrontend/utils/jzUtils.min.js"),require("./jzfrontend/biz-shared/bizShared.min.js"),require("./jzfrontend/request/jzRequest.min.js")):"function"==typeof define&&define.amd?define("__webpack_no_use_variable",[,,],e):"object"==typeof exports?exports.__webpack_no_use_variable=e(require("./jzfrontend/utils/jzUtils.min.js"),require("./jzfrontend/biz-shared/bizShared.min.js"),require("./jzfrontend/request/jzRequest.min.js")):t.__webpack_no_use_variable=e(t.jzUtils,t.bizShared,t.jzRequest)}(this,(function(__WEBPACK_EXTERNAL_MODULE__2__,__WEBPACK_EXTERNAL_MODULE__3__,__WEBPACK_EXTERNAL_MODULE__5__){return function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=306)}({10:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},122:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var o=function(t){return t&&t.nodeType==Node.ELEMENT_NODE},n=function(t){return o(t)&&"A"==t.tagName},a=function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;if(!o(e))return null;var a=e.parentNode,r=n(a);return r?a:a==i?null:t(a,i)}},124:function(t,e){"undefined"==typeof Mobi&&(Mobi={}),Mobi.getPreviewWindow=function(){if(Fai.top._isMobiV2)return Fai.top;var t=Fai.top.document.getElementById("mobiReviewPageFrame");return t?t.contentWindow:window},Mobi.getPreviewDocument=function(){return Mobi.getPreviewWindow().document},Mobi.getPreviewObject=function(t){if(t)return"string"==typeof t&&t.indexOf("#")>-1&&(t=t.replace("#","")),Mobi.getPreviewDocument().getElementById(t)},Mobi.getPreviewObjectClass=function(t){if(t)return Mobi.getPreviewDocument().getElementsByClassName(t)},Mobi.getJQMobi=function(){return Mobi.getPreviewWindow().jm},Mobi.unifiedAttrVal=function(t,e,i){var o=t.find(e),n=0;o.each((function(){var t=jm(this).css(i);(t=parseInt(t))>n&&(n=t)})),o.each((function(){jm(this).css(i,n+"px")}))},Mobi.orientationchange=function(){var t="onorientationchange"in window?"orientationchange":"resize";window.addEventListener(t,(function(){Mobi.orientationFunctions()}),!1)},Mobi.orientationFunctions=function(){Mobi.logoSizeCompressByMargin(),Mobi.titlePositionRefreshByLogo()},Mobi.createElementByHtml=function(t){var e=document.createElement("div");return e.innerHTML=t,(e=e.firstChild).parentNode.removeChild(e),e},Mobi.isNull=function(t){return void 0===t||null==t},Mobi.addInterval=function(t,e,i){Mobi.isNull(Mobi.intervalFunc)&&(Mobi.intervalFunc=new Array);for(var o=0;o<Mobi.intervalFunc.length;++o)if(Mobi.intervalFunc[o].id==t){Mobi.intervalFunc.splice(o,1);break}Mobi.intervalFunc.push({id:t,func:e,interval:i,type:1})},Mobi.startInterval=function(t){if(!Mobi.isNull(Mobi.intervalFunc))for(var e=0;e<Mobi.intervalFunc.length;++e){var i=Mobi.intervalFunc[e];null!=t&&i.id!=t||(i.timer&&clearInterval(i.timer),1==i.type?i.timer=setInterval(i.func,i.interval):i.timer=setTimeout(i.func,i.interval))}},Mobi.bindTouchAndClickEvent=function(t,e,i){var o=i?"."+i:"";jm.os.supportsTouch?(t.unbind("touchstart"+o),t.bind("touchstart"+o,e)):(t.unbind("mousedown"+o),t.bind("mousedown"+o,e))},Mobi.onTouchAndClickEvent=function(t,e){jm.os.supportsTouch?(jm("body").off("touchstart",t),jm("body").on("touchstart",t,e)):(jm("body").off("mousedown",t),jm("body").on("mousedown",t,e))},Mobi.bindTransitionEnd=function(t,e){if(t){var i=t;"[object String]"===Object.prototype.toString.call(i)&&(i=jm(t));var o=Mobi.getTransitionEndEventName();i.unbind(o),i.bind(o,e)}},Mobi.bindClickEvent=function(t,e,i){var o=jm(t);if(jm.os.supportsTouch){var n="touchstart."+e,a="touchmove."+e,r="touchend."+e;o.off(n).on(n,(function(){var t=!1;o.off(a).on(a,(function(){t=!0})),o.off(r).on(r,(function(){if(o.off(r).off(a),!t)return i.apply(this,arguments)}))}))}else{var s="click."+e;o.off(s).on(s,i)}},Mobi.bindTapEvent=function(t,e,i){var o=jm.os.supportsTouch?{down:"touchstart",up:"touchend",move:"touchmove"}:{down:"mousedown",up:"mouseup",move:"mousemove"},n=o.up+"."+e,a=o.down+"."+e,r=o.move+"."+e,s=jm(t);s.off(a).on(a,(function(){var t=!1;s.off(r).on(r,(function(){t=!0})),s.off(n).on(n,(function(){if(s.off(n).off(r),!t)return i.apply(this,arguments)}))}))}},125:function(module,__webpack_exports__,__webpack_require__){"use strict";var _slidesshow__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6),_jz_biz_shared__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_jz_biz_shared__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_jz_biz_shared__WEBPACK_IMPORTED_MODULE_1__);function asyncGeneratorStep(t,e,i,o,n,a,r){try{var s=t[a](r),l=s.value}catch(t){return void i(t)}s.done?e(l):Promise.resolve(l).then(o,n)}function _asyncToGenerator(t){return function(){var e=this,i=arguments;return new Promise((function(o,n){var a=t.apply(e,i);function r(t){asyncGeneratorStep(a,o,n,r,s,"next",t)}function s(t){asyncGeneratorStep(a,o,n,r,s,"throw",t)}r(void 0)}))}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Mobi.autoFixGWebTop=function(t){if(!Fai.top._openThemeV3)if(Fai.top._templateFrameId>=2e3&&Fai.top._templateFrameId<3e3)jm("#fk-gWebPlaceholdPT").remove();else if(21!=Fai.top._pageId&&(28!==Fai.top._pageId||(jm("#fk-gWebPlaceholdPT").remove(),[1014,1010,1009,1008,1007,1006,1003].includes(Fai.top._templateFrameId)))){var e=Mobi.webTop(),i=Mobi.getPreviewObject("g_web"),o=Mobi.getPreviewObject("webTop"),n=Mobi.getPreviewObject("webHeaderBox");if(n.style.top="",o.style.top="",0!=jm("#fk-tipsLimitUv").length&&(e+=parseInt(jm("#fk-tipsLimitUv").height())),2===t||7===t||8===t){if(7==t){var a=jm("#webHeader"),r=Mobi.getPreviewObject("navbar");if(e>0&&(r.style.top=e+"px"),"none"===a.css("display"))return}n.style.top=e+"px",o.style.top=e+"px";var s=Mobi.getPreviewObject("fk-gWebPlaceholdPT"),l=Mobi.getPreviewObject("webHeader");s?s.style.height=l.offsetHeight+"px":(s=jm("<div id='fk-gWebPlaceholdPT' style='height:"+l.offsetHeight+"px;'></div>"),jm(i).prepend(s))}else jm("#fk-gWebPlaceholdPT").remove()}},Mobi.webTop=function(){var t=0;return Mobi.getPreviewObject("mobiTipsMarquee")?t=Mobi.getPreviewObject("webTips").offsetHeight:t},Mobi.closeRightClickTool=function(){var t=jm(document);t.on("contextmenu copy cut",(function(t){return!!jm(t.target).is("input, textarea")&&void 0})),t.off("touchend.bc").on("touchend.bc",(function(){jm(".img_no_select").removeClass("img_no_select")})),jm(window).on("load",(function(){setTimeout((function(){jm("img").forEach((function(t){Mobi.initImgNoSelect(t)}))}),1e3)}))},Mobi.initImgNoSelect=function(t){var e=/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent),i=!1,o=0,n=0,a=0,r=0,s=jm(t);s.off("touchstart.bc").on("touchstart.bc",(function(t){throw o=t.touches[0].pageX,n=t.touches[0].pageY,s.addClass("img_no_select"),new Error("NO ERRPR:禁止长按弹出的菜单")})),s.off("touchmove.bc").on("touchmove.bc",(function(t){var e=t.touches[0].pageX,s=t.touches[0].pageY;a=e-o,r=s-n,i=Math.abs(a)>Math.abs(r)&&a>0||(Math.abs(a)>Math.abs(r)&&a<0||(Math.abs(r)>Math.abs(a)&&r>0||Math.abs(r)>Math.abs(a)&&r<0))})),s.off("touchend.bc").on("touchend.bc",(function(){s.removeClass("img_no_select"),!i&&e&&s.trigger("click")}))},Mobi.topTipMarquee=function(){var t=Mobi.getPreviewObject("mobiTipsMarquee");if(!t)return!1;for(var e=Mobi.getPreviewObjectClass("J_marquee")[0],i=t.querySelectorAll("li"),o=jm(e).width(),n=!1,a=[],r=0,s=0;s<i.length;s++)a[s]=parseInt(i[s].offsetWidth),r=o>a[s]?0==s?o:parseInt(r)+a[s]:0==s?a[s]:parseInt(r)+a[s];1==i.length&&a[0]<o||(Mobi.copyTipsDom(i,t),n=!0),n&&Mobi.initTipsMarquee(r)},Mobi.copyTipsDom=function(t){var e,i=t.length-1,o=Mobi.getPreviewObjectClass("J_marqueeContainer")[0],n=Mobi.createElementByHtml("<ul class='marquee j-marquee J_marquee' id='J_mobiTipsMarqueeCopy'></ul>");o.appendChild(n);for(var a=0;a<=i;a++)e=jm(t[a]).clone(),jm(n).append(e)},Mobi.initTipsMarquee=function(t){var e,i=Mobi.getPreviewObject("mobiTipsMarquee"),o=Mobi.getPreviewObject("J_mobiTipsMarqueeCopy");jm(i).addClass("j-marquee"),jm(i).css({width:t+"px",left:"0",top:"0"}),e=i.offsetWidth,jm(o).css({width:t+"px",left:e+"px",top:"0"}),Mobi.setParentMarquee(i,o)},Mobi.setParentMarquee=function(t,e){var i=t.offsetWidth+e.offsetWidth,o=Mobi.getPreviewObjectClass("J_marqueeContainer")[0];jm(o).css({width:i+"px",left:"0",top:"0"}),o.setAttribute("style",o.getAttribute("style")+Mobi.marqueeAnimation(i,70))},Mobi.marqueeAnimation=function(t,e){var i="mobi_notice_right_to_left_50";return"-webkit-animation: "+i+" "+t/e+"s linear 1s infinite;-moz-animation:    "+i+" "+t/e+"s linear 1s infinite;-o-animation:      "+i+" "+t/e+"s linear 1s infinite;animation:         "+i+" "+t/e+"s linear 1s infinite;"},Mobi.ingTigs=function(t){var e=null==t||""==t?"正在处理...":t;0==jm("#mobiIng").length&&jm("<div id='mobiIng' class='mobiIng'></div>").appendTo("body");var i=jm("#mobiIng"),o=parseInt(1e4*Math.random()),n='<div id="'+o+'" class="mobiTips"><div id="mobiMsg'+o+'" class="mobiMsg">'+e+"</div></div>";i.find(".mobiTips").remove(),jm("#mobiIngTigs").find(".mobiTips").remove(),jm(n).appendTo(i),window.setTimeout((function(){i.css("visibility","hidden"),i.css("opacity","0")}),2500),window.setTimeout((function(){jm("#"+o).remove(),i.css("visibility","visible"),i.css("opacity","1")}),3e3)},Mobi.ing=function(t,e,i){var o=null==t||""==t?"正在处理...":t,n="",a=!1;n=""==e||null==e||0==e?"<div class='faisco-icons-S000359 iconMargin'></div>":1==e?"<div class='faisco-icons-S000357 iconMargin'></div>":2==e?"<div class='faisco-icons-S000358 iconMargin'></div>":"",i=i||!1;0==jm("#mobiIngTigs").length?jm("<div id='mobiIngTigs' class='mobiIngTigs'></div>").appendTo("body"):a=!0;var r=jm("#mobiIngTigs"),s=parseInt(1e4*Math.random()),l='<div id="'+s+'" class="mobiTips" \'><div id="mobiMsg'+s+'" class="mobiMsg">'+n+"<div class=''>"+o+"</div></div></div>";r.html(l),a&&(r.css("visibility","inherit"),r.css("opacity","1")),i||(window.setTimeout((function(){r.css("visibility","hidden"),r.css("opacity","0")}),2500),window.setTimeout((function(){jm("#"+s).remove(),r.remove()}),1500))},Mobi.initForms=function(){for(var t=document.querySelector("#webModuleContainer").querySelectorAll(".form"),e=0;e<t.length;e++){var i=t[e],o=i.getAttribute("id");o&&(o=o.replace("module",""),1==i.getAttribute("_autoHeight")||jm(i).hasClass("formStyle52")||jm(i).hasClass("formStyle53")||jm(i).hasClass("formStyle35")||Mobi.setModuleHeight2(o,i.clientHeight,Fai.top.moduleManageFontSize["module"+o]))}},Mobi.fixFontSizeDeviation=function(){},Mobi.topContentFixedAutoHidden=function(t){if(0==t||2==t){var e=Mobi.getPreviewObject("webHeaderBox"),i={},o=Mobi.getPreviewObject("g_web");e.setAttribute("showNav","true"),o.style[jm.feat.cssPrefix+"Transition"]="top 350ms",o.addEventListener("touchstart",(function(t){i.y1=t.touches[0].pageY}),!1),o.addEventListener("touchmove",(function(t){i.y2=t.touches[0].pageY}),!1),o.addEventListener("touchend",(function(){i.y1-i.y2>0?"true"==e.getAttribute("showNav")&&(e.setAttribute("showNav","false"),e.style.opacity=0,e.style.zIndex=-1):"false"==e.getAttribute("showNav")&&(e.setAttribute("showNav","true"),e.style.opacity=1,e.style.zIndex=5)}),!1)}},Mobi.onlineServiceInputWord=function(){var t=Fai.top._openThemeV3;if((Fai.top._manageMode||jm.os.supportsTouch)&&(!(Fai.top._templateFrameId>=2e3&&Fai.top._templateFrameId<3e3)||t)){var e=jm("input[type='text'], input[type='email'], input[type='tel'], input[type='number'], textArea"),i=t?document.getElementById("p_footer_nav_wrap"):document.getElementById("webCustomerServiceBox"),o=jm("#wxPublicAttentionService"),n="",a="",r=!1;i&&(r=t?!jm(i).hasClass("is_no_nav"):i.querySelectorAll(".service").length>0),!i||!r&&o.length<1||e.each((function(t,e){jm(e).off("blur.inputted").off("focus.inputted").on("blur.inputted",(function(){i.style.display=a,o.length&&(o[0].style.display=n)})).on("focus.inputted",(function(){a=jm(i).css("display"),i.style.display="none",o.length&&(n=o.css("display"),o.hide())}))}))}};var ajaxDone=!0;function fixRegSpecialCharacter(t){for(var e=["\\",".","?","$","*","^","[","]","{","}","|","(",")","/"],i=0,o=e.length;i<o;i++)t=t.replace(e[i],"\\"+e[i]);return t}function queryFormPayResult(t){return new Promise((function(e,i){var o=[];o.push("&id=".concat(t)),jm.ajax({type:"post",url:"".concat(Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"}),"/mobiForm_h.jsp?cmd=getWafNotCk_getSiteFormSubmitById"),data:o.join(""),error:function(){Mobi.ing("系统繁忙，请稍后重试",!1),i()},success:function(t){try{t=jm.parseJSON(t)}catch(t){i(t)}e(t)}})}))}function sleep(t){return new Promise((function(e){setTimeout(e,t)}))}Mobi.createFullScreenDiv=function(t,e,i){if(ajaxDone)if(e)if(i){jm("#"+t).length>0&&jm("#"+t).remove(),jm("#fullScreenDivCotainer").append("<div id='"+t+"' class='fullScreenDiv webBackground webContainerBox moduleContent categoryModel refreshBase'></div>"),jm("#"+t).css("background-image","none"),jm("#"+t).css("background-image",jm("#webBodyBackground").css("background-image"));var o="";"getWafNotCk_productDetail"==e&&(o="&loadingPath="+Fai.top._loadingPath),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/other_h.jsp?cmd="+e+o,data:i,error:function(){Mobi.closeLoading(),Mobi.ing(LS.js_systemError),ajaxDone=!0},success:function(i){var o=jm.parseJSON(i);o.success&&(jm("#"+t).append(o.html),jm("#"+t).addClass("showFullScreen"),Mobi.getPreviewObject(t).focus(),Mobi.switchJump(),Mobi.initModulePhotoSwipe(t),"getWafNotCk_productDetail"==e&&Mobi.bindImgLazyLoad("productRemarkDiv")),ajaxDone=!0,Mobi.closeLoading()}})}else Mobi.ing(LS.mallStlSubmitError);else Mobi.ing(LS.mallStlSubmitError)},Mobi.createInnerScreenDiv=function(t,e,i,o,n){if(ajaxDone)if(o)if(n){var a=document.getElementById("ngGroupDiv").className,r=new RegExp("ngTag","g");if(a.match(r)){for(var s=0;s<i;++s)if(jm("#line"+s).hasClass("ngLine-bg")){jm("#line"+s).removeClass("ngLine-bg");break}for(var l=0;l<i;++l)jm("#ngName"+l).css({width:"90%"}),jm("#ngMark"+l).css({float:"right"}),jm("#line"+l).css({color:"black"});jm("#ngGroupDiv").removeClass("ngTag"),jm("#ngGroupDiv").text(""),jm("#ngGroupDiv").css({"margin-top":"0px"})}Mobi.showLoading();var c=document.getElementById("ngList"+t).offsetHeight;jm("#ngGroupDiv").addClass("ngTag"),setTimeout((function(){for(var t=0;t<i;++t)jm("#ngName"+t).css({width:"34%"}),jm("#ngMark"+t).css({float:"left"}),e==t?jm("#ngMark"+t).css("color","white"):(jm("#line"+t).css({color:"#555555"}),jm("#ngMark"+t).css({color:"#555555"}))}),90),setTimeout((function(){jm("#line"+e).addClass("ngLine-bg"),jm("#ngGroupDiv").css({"min-height":c+"px","margin-top":"-"+c+"px"})}),100),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/other_h.jsp?cmd="+o,data:n,error:function(){Mobi.closeLoading(),Mobi.ing(LS.js_systemError),ajaxDone=!0},success:function(t){var e=jm.parseJSON(t);e.success&&jm("#ngGroupDiv").append(e.html),ajaxDone=!0,Mobi.closeLoading()}})}else Mobi.ing(LS.mallStlSubmitError);else Mobi.ing(LS.mallStlSubmitError)},Mobi.getCommentDiv=function(t,e,i){if(t)if(isNaN(e))Mobi.ing(LS.mallStlSubmitError);else{0===jm("#comemtDiv").length?jm("#fullScreenDivCotainer").append("<div class='fullScreenDiv webContainerBox moduleContent'  style='overflow-y: scroll;background:#fff;' id='comemtDiv'></div>"):jm("#comemtDiv").html("");var o="id="+e;isNaN(i)||(o+="&pageno="+i),Mobi.mobiHideScroll(),Mobi.showLoading();var n=jm("html").css("font-size");n=n.substring(0,n.length-2),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/other_h.jsp?cmd="+t+"&rem="+n,data:o,error:function(){Mobi.closeLoading(),Mobi.ing(LS.js_systemError)},success:function(t){var e=jm.parseJSON(t);e.success&&(jm("#comemtDiv").append(e.html),jm("#comemtDiv").addClass("showFullScreen")),Mobi.closeLoading(),Mobi.hidePlaceholder(),setTimeout((function(){var t=jm(".ct-s-content-m");if(void 0!==t&&null!=t)for(var e=0;e<t.length;e++){var i=t.eq(e)[0].querySelectorAll("img");void 0!==i&&null!=i&&i.length>0&&Mobi.bindCommImgShow(i)}}),100)}})}else Mobi.ing(LS.mallStlSubmitError)},Mobi.removeCommentDiv=function(){Mobi.mobiShowScroll(),jm("#comemtDiv").remove(),window.location.reload()},Mobi.disableSafeMode=function(){var t,e=Fai.top.$("#mobiReviewPageFrame").attr("src"),i=e.indexOf("?"),o=Fai.top.location.href||"";-1!=i&&(t=e.substring(0,i),e.substring(i+1).indexOf("_safeMode=true")>-1&&(t+="?"+e.substring(i+1).replace("&_safeMode=true","").replace("_safeMode=true&","").replace("_safeMode=true",""))),Fai.top.$("#mobiReviewPageFrame").attr("src",t),location.hash=function(t){if(t){var e,i,o,n=t.indexOf("#"),a=t.indexOf(".jsp"),r=t.indexOf("?"),s=t.substring(n+2,a),l={},c="";if(-1!=r){for(e=t.substring(r+1).split("&"),o=0;o<e.length;o++)0!=e.length&&(i=e[o].split("="),l[i[0]]=i[1]);c+="&data="+jm.toJSON(l)}return"appId="+s+c}}(t),Fai.top.location.href=o.replace("_safeMode=true","_safeMode=false")},Mobi.switchJump=function(){var t=jm(".switchJump"),e=[101,102,107,106,110,112];jm.each(t,(function(t,i){if("length"!==t){var o=i.getAttribute("_t"),n=i.getAttribute("_mu")||i.getAttribute("mJUrl"),a=i.getAttribute("_mColHide"),r=i.getAttribute("href");if(100==o&&null==n&&null==r)return i.setAttribute("href","javascript:void(0);"),void i.setAttribute("style","text-decoration:none;");if(null!=n||a)return a&&-1==e.indexOf(parseInt(o))?(i.setAttribute("href","javascript:void(0);"),void i.setAttribute("style","text-decoration:none;")):void(null!=n&&("javascript"==n.substring(0,10)?(i.setAttribute("href","javascript:;"),i.setAttribute("onclick",n.substring(11)+";return false;")):i.setAttribute("href",n)))}})),Mobi.outerUrlJump()},Mobi.outerUrlJump=function(){Fai.top._manageMode&&$("body").on("click","a",(function(t){var e=$(this)[0].getAttribute("href");if(null!==e){var i=$(this)[0].getAttribute("target");-1!=e.indexOf("Mobi.openLinkFlv")||-1==e.indexOf("http")&&-1==e.indexOf("https")||"_blank"==i||(Fai.top.Fai.ing("管理态不支持跳转外部链接，请通过“预览”进行访问",!0),t.preventDefault())}}))},Mobi.toggleMust=function(){jm(".msgTopV3 .J_checkMust").siblings(".openThemeV3Must").each((function(){""!=jm(this).siblings(".J_checkMust").val()&&jm(this).css("display","none")})),jm(".msgTopV3 .J_checkMust").each((function(){jm(this).keyup((function(){""!=jm(this).val()?jm(this).siblings(".openThemeV3Must").css("display","none"):jm(this).siblings(".openThemeV3Must").css("display","inline-block")}))})),jm(".msgTopV3 .J_checkMust").each((function(){jm(this).keydown((function(){""!=jm(this).val()?jm(this).siblings(".openThemeV3Must").css("display","none"):jm(this).siblings(".openThemeV3Must").css("display","inline-block")}))}))},Mobi.msgCheckMustItem=function(t){jm(t).find(".msg_isMust").on("keyup focusout",(function(){var e=!0;jm(t).find(".msg_isMust").each((function(){""!==jm(this).val().trim()||(e=!1)})),!0===e&&jm(".sendIcon").removeAttr("disabled")}))},Mobi.addParentDivToTable=function(){},Mobi.viewPageBeforeInit=function(){Fai.top._manageMode||window.top===window.self||(jm("#g_body").addClass("g_viewMode"),jm("#webTips").css("display","none"))},Mobi.getTransitionEndEventName=function(){var t,e=document.createElement("div"),i={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(Object.hasOwnProperty.call(i,t)&&undefined!==e.style[t])return i[t]},Mobi.prompt=function(t){t=jm.extend({promptWrap:"",content:"",textClass:"",cancelClass:""},t);var e=parseInt(1e4*Math.random()),i="<div id='mobiPrompt"+e+"' class='mobiPrompt "+t.promptWrap+" '></div>",o="<div id='mobiPrompt_Bg"+e+"' class='mobiPrompt_Bg'></div>";jm(i).appendTo("body"),jm(o).appendTo("body");var n=jm("#mobiPrompt"+e),a=jm("#mobiPrompt_Bg"+e),r=[];r.push("<div class='mobiPrompt_inner'>"),r.push("<div class=' mobiPrompt_content'>"),r.push("<div class=''>"+t.content+"</div>"),r.push("<div class='J-prompt-cancel icon-mobiPromptClose'></div>"),r.push("</div>"),r.push("<div class=' mobiPrompt_buttons '>"),r.push("<div class='J-prompt-cancel mobiPromptCancel "+t.cancelClass+" icon-PromptCancel'></div>"),r.push("<div class='J-prompt-save mobiPromptSave "+t.textClass+" icon-PromptSave'></div>"),r.push("</div>"),r.push("</div>"),n.append(r.join("")),t.callback&&n.find(".J-prompt-save").on("click",(function(){n.removeClass("mobiPromptShow"),a.removeClass("mobiPromptBgShow"),setTimeout((function(){n.remove(),a.remove()}),200),t.callback()})),t.cancelCallback?n.find(".J-prompt-cancel").on("click",(function(){n.removeClass("mobiPromptShow"),a.removeClass("mobiPromptBgShow"),setTimeout((function(){n.remove(),a.remove()}),200),t.cancelCallback()})):n.find(".J-prompt-cancel").on("click",(function(){n.removeClass("mobiPromptShow"),a.removeClass("mobiPromptBgShow"),setTimeout((function(){n.remove(),a.remove()}),200)})),window.setTimeout((function(){a.addClass("mobiPromptBgShow"),n.addClass("mobiPromptShow")}),100)},Mobi.customPopup=function(t){t=jm.extend({content:""},t);var e=parseInt(1e4*Math.random()),i="<div id='mobiPrelude"+e+"' class='mobiPrelude'></div>",o="<div id='mobiPrompt"+e+"' class='mobiPrompt'></div>",n="<div id='mobiPrompt_Bg"+e+"' class='mobiPrompt_Bg' style='opacity: 0.6;'></div>";jm(i).appendTo("body"),jm(o).appendTo("body"),jm(n).appendTo("body");var a=jm("#mobiPrompt"+e),r=jm("#mobiPrompt_Bg"+e);i=jm("#mobiPrelude"+e);var s=[];s.push("<div class='mobiPrelude_inner' style='background: transparent;'>"),void 0!==t.prelude&&null!=t.prelude||(t.prelude=""),s.push(t.prelude||""),s.push("</div>"),i.append(s.join(""));var l=[];l.push("<div class='mobiPrompt_inner' style='background: transparent; box-shadow: none;'>"),l.push(t.content),l.push("</div>"),a.append(l.join("")),t.callback&&a.find(".J-prompt-callback").on("click",(function(){i.removeClass("mobiPreludeShow"),a.removeClass("mobiPromptShow"),r.removeClass("mobiPromptBgShow"),setTimeout((function(){i.remove(),a.remove(),r.remove()}),200),t.callback()})),t.cancelCallback?a.find(".J-prompt-cancel").on("click",(function(){i.removeClass("mobiPreludeShow"),a.removeClass("mobiPromptShow"),r.removeClass("mobiPromptBgShow"),setTimeout((function(){i.remove(),a.remove(),r.remove()}),200),t.cancelCallback()})):a.find(".J-prompt-cancel").on("click",(function(){i.removeClass("mobiPreludeShow"),a.removeClass("mobiPromptShow"),r.removeClass("mobiPromptBgShow"),setTimeout((function(){i.remove(),a.remove(),r.remove()}),200)})),window.setTimeout((function(){r.addClass("mobiPromptBgShow"),i.addClass("mobiPreludeShow"),t.mainFrameTimeout?window.setTimeout((function(){i.removeClass("mobiPreludeShow"),i.remove(),a.addClass("mobiPromptShow")}),t.mainFrameTimeout):a.addClass("mobiPromptShow")}),100)},Mobi.initWebPage=function(t){var e=t.triggerId,i=t.returnSeltFun||!1,o=t.callback,n=!1,a=t.callbackAlways||!1,r=jm("#webPagePanel"+e);0!==r.length&&r.remove();var s=["newsDetailShare","newsDetailV3Share","productDetailShare","graphicPosterItem"];if(jm("#"+e).unbind("click.initWebPage").bind("click.initWebPage",(function(){if(Mobi.showPanel(t,!0),-1!=s.indexOf(e)||a)o&&o();else if(!n){if(o&&o(),"productInfoSize"===e)return void Mobi.bindTapEvent(".productMallOptionImageContent,.mallOptionImg","tap",(function(t){var i=[],o={},n=jm(t.target),a=n.attr("src")||(n.css("background-image")?n.css("background-image").replace(/^url\(\"/g,"").replace(/\"\)$/g,""):null);(n.hasClass("productMallOptionImageContent")||n.hasClass("mallOptionImg"))&&a&&(o.src=a,i.push(o)),Object(_slidesshow__WEBPACK_IMPORTED_MODULE_0__.slideshowView)({id:e,previewSrcList:i.length?i:Fai.top.previewSrcList,zIndex:9999,initialIndex:0,logEventConfig:{event:"jz_hdpzj",properties:{jz_content_terminal:"mobi-产品详情-购物选项",jz_version:Fai.top.jzVersion}}})}));n=!0}window.scrollTo(0,0)})),i)return function(){Mobi.showPanel(t,!0),n||(o&&o(),n=!0)}},Mobi.showPanel=function(t,e){var i=t.triggerId,o=t.panelId,n=t.pageHtml,a=t.pageBg,r=t.closeWebPage,s=t.closeCallBack||function(){},l=t.direction||"right",c=t.redo||!1,d="",m=t.callback;e=e||!1,jm("#g_body").css("overflow-y","hidden");var p,u=jm("#webPagePanel"+i),f=["newsDetailShare","newsDetailV3Share","productDetailShare","graphicPosterItem"];if(-1!=f.indexOf(i)){var h=jm("#webPagePaneloneKeySharing");jm("#"+h).unbind("click.initWebPage"),0!==h.length&&h.remove()}else"oneKeySharing"==i&&f.forEach((function(t){var e=jm("#webPagePanel"+t);jm("#"+e).unbind("click.initWebPage"),0!==e.length&&e.remove()}));c&&u.length&&u.remove(),20==Fai.top._colInfo.id&&Fai.top._openThemeV3&&(d=" pdThemev3"),n&&(p=jm(n),p=jm("#"+p[0].id));var g="webPagePanelRight";"left"===l?g="webPagePanelLeft":"top"===l?g="webPagePanelTop":"bottom"===l&&(g="webPagePanelBottom");var v="";a&&(v="<div class='webPagePanelBg' style='z-index:999'></div>");var b=0;"productMallOptionPanel"==o&&jm("video").css("display","none");if(0==u.length||null==p||c){jm("#g_web").append("<div id='webPagePanel"+i+"' class='webPagePanel"+d+"' style='z-index:1000'>"+v+"</div>"),u=jm("#webPagePanel"+i),n?(u.append(n),p=jm(n),p=jm("#"+p[0].id)):(o||alert("panelId is null"),p=jm("#"+o),u.append(p)),p.addClass(g),p.addClass("webPagePanel"),u.show(),p.show(),setTimeout((function(){p.addClass("webPagePanelShow")})),"graphicPosterItem"==i&&p.unbind("touchmove.graphicPosterItem").bind("touchmove.graphicPosterItem",(function(t){t.preventDefault()}),!1),a&&Mobi.bindTouchAndClickEvent(jm("#webPagePanel"+i+" .webPagePanelBg"),(function(){return p.removeClass("webPagePanelShow"),p.removeClass("webPagePanelShow"),jm("#g_body").css({overflow:"",height:"",top:""}),jm("#g_body").css("overflow-y",""),jm("html").css({overflow:""}),jm("#g_web").removeClass("gwNoScroll"),jm("#webPagePanel"+i).css("z-index","-1"),"graphicPosterItem"==i&&jm("#webPagePanel"+i).remove(),window.scrollTo(0,b),!1}));for(var _=r.split(","),j=0;j<_.length;j++){var M=_[j].trim();Mobi.bindTouchAndClickEvent(jm(M),(function(){return p.removeClass("webPagePanelShow"),jm("#g_body").css({overflow:"",height:"",top:""}),jm("#g_body").css("overflow-y",""),jm("html").css({overflow:""}),jm("#g_web").removeClass("gwNoScroll"),jm("#webPagePanel"+i).css("z-index","-1"),jm("#webPagePanel"+i).css("display","none"),"graphicPosterItem"==i&&(jm("#webPagePanel"+i).remove(),p.unbind("touchmove.graphicPosterItem")),window.scrollTo(0,b),"userCommentId"!=i&&"postComment"!=i||jm("input,textarea").each((function(t,e){e.blur()})),"function"==typeof s&&s(),!1})),jm(M).unbind("click"),jm(M).bind("click",(function(){return p.removeClass("webPagePanelShow"),jm("#g_body").css({overflow:"",height:"",top:""}),jm("#g_body").css("overflow-y",""),jm("html").css({overflow:""}),jm("#g_web").removeClass("gwNoScroll"),jm("#webPagePanel"+i).css("z-index","-1"),jm("#webPagePanel"+i).css("display","none"),"graphicPosterItem"==i&&(jm("#webPagePanel"+i).remove(),p.unbind("touchmove.graphicPosterItem")),window.scrollTo(0,b),"userCommentId"!=i&&"postComment"!=i||jm("input,textarea").each((function(t,e){e.blur()})),"function"==typeof s&&s(),!1}))}Mobi.bindTransitionEnd(p,(function(){p.hasClass("webPagePanelShow")||u.hide()})),m&&!e&&m()}else u.show(),p.addClass(g),setTimeout((function(){p.addClass("webPagePanelShow")}),0);b=window.scrollY;var y=jm(window).height();u.css("height",y+"px"),-1!=f.indexOf(i)||"oneKeySharing"==i?u.css("z-index","10000"):u.css("z-index","1000"),Mobi.initShare("shareLinkWeixin","","shareLinkQQ"),jm("#copy_url").bind("click",(function(){var t=new ClipboardJS("#copy_url");t.on("success",(function(e){Mobi.ing("复制成功",1),t.destroy(),e.clearSelection()})),t.on("error",(function(){navigator.userAgent.indexOf("UCBrowser")>-1?Mobi.ing("复制成功",1):Mobi.ingTigs("该浏览器不支持复制链接的功能，请手动复制"),t.destroy()}))}))},Mobi.initProductGroundNav=function(t){var e=jm("#module"+t).find(".productNewGroup"),i=e.find(".J_navOpenBtn"),o=e.find(".J_navHorizon");i.on("click",(function(){var t=e.find(".J_navMask");i.hasClass("faisco-icons-downward1")?(i.removeClass("faisco-icons-downward1").addClass("faisco-icons-upward1"),o.addClass("f-navOpenStyle"),t.length>0?t.show():(e.append("<div class='J_navMask f-navMask'></div>"),e.find(".J_navMask").on("click",(function(){i.trigger("click")})))):(t.hide(),i.removeClass("faisco-icons-upward1 f-navOpenStyle").addClass("faisco-icons-downward1"),o.removeClass("f-navOpenStyle"))}))},Mobi.initProductGroup=function(t,e,i){if(1==e||0==t)return!1;var o=window.innerHeight?window.innerHeight:window.screen.height,n=jm("#module22"),a=jm(".productNewGroup"),r=jm(".webCustomerServiceBox"),s=0;r.length&&(s=r[0].offsetHeight);var l,c,d,m,p,u,f=a.attr("_prUrl")||"",h=(n[0]||{}).offsetHeight,g=!1;Fai.top._templateFrameId>=2e3&&Fai.top._templateFrameId<3e3&&(g=!0),g&&(l=a.find(".firstGroup"),jm("#webFooter").find(".footerMenu").hide(),jm("#webFooter").find(".technical").hide(),a.height(jm("body").height()-jm("#webHeaderBox").height()-jm("#fixedAreaBox").height()+"px"));for(var v=jm(a).find(".J_itemImage"),b=0;b<v.length;b++){j(v[b])}if(a.css("height",o-h-s+"px"),(c=a.find(".firstGroup .firstGroupItem")).off(".productNewGroup").on("click.productNewGroup",(function(){var t,e=a.find(".firstGroup .checkedItem"),i=a.find(".unFirstGroup .checkedPanel"),o=jm(this),n=jm(o).attr("data-id"),r=jm("#sed_"+n),s=jm(".hideScollBar");if(0!=a.find(".J_hasThreeGroup").length){if(!r.html()&&f)return window.location.href=f+"?groupId="+n,!1;if((""===r.html()||""===r.find(".f-groupImgWrap").html())&&f)return window.location.href=f+"?groupId="+n,!1}if(jm(this).hasClass("checkedItem"))return!1;e.removeClass("checkedItem"),i.removeClass("checkedPanel"),o.addClass("checkedItem"),r.addClass("checkedPanel"),e.find(".firstGroupName").removeClass("f-fontColor"),o.find(".firstGroupName").addClass("f-fontColor"),s[0].scrollTop=0,g&&(u=0,o.find(".J_navSelect").addClass("fk-navSelect"),u=jm("body")[0].clientWidth/2-o[0].getBoundingClientRect().left,clearInterval(t),t=u>0?setInterval((function(){u>0?(u--,l[0].scrollLeft--):clearInterval(t)}),1):setInterval((function(){u<0?(u++,l[0].scrollLeft++):clearInterval(t)}),1))})),5!=t&&6!=t?Mobi.SimpleDrag.__create(a.find(".firstGroupList")):(d=0,c.each((function(t,e){p=jm(e),m=e.offsetWidth+2+parseFloat(p.css("margin-right").replace("px","")),d+=m})),a.find(".firstGroupList").width(d+"px")),i&&(g||1==t)){var _={key:"productGroup",targets:jm(a).find(".J_groupItem"),type:Mobi.QuickIn.TYPE.FU,popupWindowOption:{settings:{title:"添加图片",maxSize:5,type:["jpg","jpeg","bmp","png","gif"],imgMode:2,maxChoiceList:1,netFileMode:!0,openIcon:!0,tabIndex:0,group:"thumbImg"},closeFunc:function(t,e){if(0==t.length||!e.fileId||0==e.fileId.length)return;var i=parseInt(jm(t).parent().attr("data-id")),o=e.fileId,n=e.filePath,a=e.isDefaultColor,r=e.color,s=Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/productGroup_h.jsp?cmd=setWafCk_setSingle&id="+i+"&mIcon="+o;a||(s=s+"&mIconColor="+Fai.top.Fai.encodeUrl(r));jm.ajax({url:s,type:"get",error:function(){top.Fai.ing("服务繁忙，请稍候重试",!1)},success:function(i){var s=jm.parseJSON(i);if(s.success){var l=jm(t).parent().find(".J_itemImage"),c=jm(l).parent(),d=g?"f-itemImg":"itemImage";c.empty(),top.Fai.isFontIcon(o)?a?c.append("<span class='J_itemImage "+d+" "+n+"'></span>"):c.append("<span class='J_itemImage "+d+" "+n+"' style='color:"+r+"'></span>"):c.append("<img  class='J_itemImage "+d+"' src='"+n+"' data-w='"+e.fileWidth+"' data-h='"+e.fileHeight+"' />"),j(jm(c).find(".J_itemImage")),top.Fai.ing(s.msg,!0)}else top.Fai.ing(s.msg,!0)}})}}};2!=t&&Mobi.QuickIn.__createInstance(_)}function j(t){var e=parseInt(jm(t).attr("data-w")),i=parseInt(jm(t).attr("data-h")),o=g?"3.0rem":"2.8rem",n=g?"3.0rem":"2.9rem";e>=i?jm(t).css("width",o).css("height","auto").css("vertical-align","middle"):i>e&&jm(t).css("width","auto").css("height",n).css("display","block").css("margin","0 auto")}},Mobi.initProductGroupV3=function(t,e,i){if(1==e||0==t)return!1;var o,n,a,r,s,l,c=jm(".productNewGroup"),d=jm(".firstGroup"),m=c.attr("_prUrl")||"";d=c.find(".firstGroup"),jm("#webFooter").find(".footerMenu").hide(),jm("#webFooter").find(".technical").hide(),"block"==jm("#p_footer_nav_wrap").css("display")?(l=jm("body").height()-jm(".sysSearch").height()-jm("#J_footer_nav").height()+"px",c.height(l),d.css({height:l,"min-height":l})):(l=jm("body").height()-jm(".sysSearch").height()-1+"px",c.height(l),d.css({height:l,"min-height":l}));for(var p=jm(c).find(".J_itemImage"),u=0;u<p.length;u++){h(p[u])}if((o=c.find(".firstGroup .firstGroupItem")).off(".productNewGroup").on("click.productNewGroup",(function(){var t,e=c.find(".firstGroup .checkedItem"),i=c.find(".unFirstGroup .checkedPanel"),o=jm(this),n=jm(o).attr("data-id"),a=jm("#sed_"+n),r=jm(".hideScollBar");if(0!=c.find(".J_hasThreeGroup").length){if(!a.html()&&m)return window.location.href=m+"?groupId="+n,!1;if((""===a.html()||!Array.from(a.find(".f-groupImgWrap")).some((function(t){return!!jm(t).html()})))&&m)return window.location.href=m+"?groupId="+n,!1}if(jm(this).hasClass("checkedItem"))return!1;e.removeClass("checkedItem"),i.removeClass("checkedPanel"),o.addClass("checkedItem"),a.addClass("checkedPanel"),r[0].scrollTop=0,e.find(".firstGroupName").removeClass("f-fontColor"),o.find(".firstGroupName").addClass("f-fontColor"),s=0,o.find(".J_navSelect").addClass("fk-navSelect"),s=jm("body")[0].clientWidth/2-o[0].getBoundingClientRect().left,clearInterval(t),t=s>0?setInterval((function(){s>0?(s--,d[0].scrollLeft--):clearInterval(t)}),1):setInterval((function(){s<0?(s++,d[0].scrollLeft++):clearInterval(t)}),1)})),5!=t&&6!=t?Mobi.SimpleDrag.__create(c.find(".firstGroupList")):(n=0,o.each((function(t,e){r=jm(e),a=e.offsetWidth+2+parseFloat(r.css("margin-right").replace("px","")),n+=a})),c.find(".firstGroupList").width(n+"px")),i){var f={key:"productGroup",targets:jm(c).find(".J_groupItem"),type:Mobi.QuickIn.TYPE.FU,popupWindowOption:{settings:{title:"添加图片",maxSize:Fai.top._uploadImgSizeLimit?Fai.top._uploadImgSizeLimit:5,type:["jpg","jpeg","bmp","png","gif"],imgMode:2,maxChoiceList:1,netFileMode:!0,openIcon:!0,tabIndex:0,group:"thumbImg"},closeFunc:function(t,e){if(0==t.length||!e.fileId||0==e.fileId.length)return;var i=parseInt(jm(t).parent().attr("data-id")),o=e.fileId,n=e.filePath,a=e.isDefaultColor,r=e.color,s=Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/productGroup_h.jsp?cmd=setWafCk_setSingle&id="+i+"&mIcon="+o;a||(s=s+"&mIconColor="+Fai.top.Fai.encodeUrl(r));jm.ajax({url:s,type:"get",error:function(){top.Fai.ing("服务繁忙，请稍候重试",!1)},success:function(i){var s=jm.parseJSON(i);if(s.success){var l=jm(t).parent().find(".J_itemImage"),c=jm(l).parent();c.empty(),top.Fai.isFontIcon(o)?a?c.append("<span class='J_itemImage f-itemImg "+n+"'></span>"):c.append("<span class='J_itemImage f-itemImg "+n+"' style='color:"+r+"'></span>"):c.append("<img  class='J_itemImage f-itemImg' src='"+n+"' data-w='"+e.fileWidth+"' data-h='"+e.fileHeight+"' />"),h(jm(c).find(".J_itemImage")),top.Fai.ing(s.msg,!0)}else top.Fai.ing(s.msg,!0)}})}}};2!=t&&Mobi.QuickIn.__createInstance(f)}function h(t){var e=parseInt(jm(t).attr("data-w")),i=parseInt(jm(t).attr("data-h"));e>=i?jm(t).css("width","2.625rem").css("height","auto").css("vertical-align","middle"):i>e&&jm(t).css("width","auto").css("height","2.625rem").css("display","block").css("margin","0 auto")}},Mobi.QuickIn={TYPE:{FU:1},__data:{},__html:{},__func:{},__createInstance:new Function},function(t,e){e.__createInstance=function(i){!function(i){(function(i){for(var o=e.__html.replace("_$dataId",e.__data.count).replace("_$dataType",i.type),n=0;n<i.targets.length;n++){var a=i.targets[n];t(a).append(o)}e.__data.instances[e.__data.count]=i})(i),n=e.__data.instances[e.__data.count],t(n.targets).find(".quick_in").unbind("click.quickIn").bind("click.quickIn",(function(){o=t(this);var e=t(o).parents(".thirdGroupImageItem").find(".itemImage");switch(n.type){case Mobi.QuickIn.TYPE.FU:top.Mobi.fileUpload2("",t.extend({oldIcon:{filePath:i(e),color:e.css("color")}},n.popupWindowOption.settings),a);break;default:alert("not found quickIn type!")}function i(t){var e="";try{e=t.attr("class").match(/faisco-icons-\w{7}/gi).pop()}finally{return e}}function a(e){var i=t.parseJSON(e);i&&n.popupWindowOption.closeFunc(o,i.data[0])}})),t(n.targets).off(".quickIn").on("mouseenter.quickIn",(function(){t(this).find(".quick_in").show()})).on("mouseleave",(function(){t(this).find(".quick_in").hide()}));var o,n}(i)},e.__data.init||(e.__data.count=0,e.__data.init=!1,e.__data.instances={},e.__html="<div class='quick_in' data-id='_$dataId' data-type='_$dataType'></div>"),e.__data.init=!0}(jm,Mobi.QuickIn),Mobi.SimpleDrag={__data:{},__func:{},__create:new Function},function(t,e){function i(t,e,i){e.isClicking=!0,e.startY=a(t),0!=e.overflowHeight&&(e.transformY=r(i))}function o(e,i,o){i.isClicking=!1,i.moveY=function(t){if(!t.moveY||t.moveY>0)return 0;if(t.moveY<0&&-1*t.moveY>=t.overflowHeight)return-1*t.overflowHeight;return t.moveY}(i),t(o).css("transform","translateY("+i.moveY+")").css("-webkit-transform","translateY("+i.moveY+"px)"),t(o).css("transition","transform 0.5s cubic-bezier(0.45, 0.05, 0.55, 0.95) 0s").css("-webkit-transition","transform 0.5s cubic-bezier(0.45, 0.05, 0.55, 0.95) 0s"),setTimeout((function(){t(o).css("transition","").css("-webkit-transition","")}),550)}function n(e,i,o){i.isClicking&&(i.moveY=a(e)-i.startY,0!=i.overflowHeight&&(i.moveY+=i.transformY),i.moveY>i.moveOverflowRange?i.moveY=i.moveOverflowRange:i.moveY<-1*i.overflowHeight-i.moveOverflowRange&&(i.moveY=-1*i.overflowHeight-i.moveOverflowRange),t(o).css("transform","translateY("+i.moveY+")").css("-webkit-transform","translateY("+i.moveY+"px)"))}function a(t){var e=t.clientY;return t.touches&&(e=t.touches[0].clientY),e}function r(e){if(0==e.length)return 0;var i=t(e).css("transform");return i||(i=t(e).css("-webkit-transform")),"none"==i?i=0:(i=i.replace("translateY(","").replace(")",""),i=parseInt(i,10)),i||(i=0),i}Mobi.SimpleDrag.__create=function(e){!function(e){var a={};(function(e,i){var o=parseInt(t(i).parent().height()),n=parseInt(t(i).height());e.startY=0,e.moveY=0,e.isClicking=!1,e.overflowHeight=n-o,e.transformY=r(i),e.moveOverflowRange=t(t(i).children()[0]).height(),n<o&&(e.overflowHeight=0)})(a,e),t(e).css("transform","translateY(0px)"),t(e).off(".simpleDrag"),t(e).on("mousedown.simpleDrag",(function(t){i(t,a,this)})).on("touchstart.simpleDrag",(function(t){i(t,a,this)})).on("mouseup.simpleDrag",(function(t){o(t,a,this)})).on("touchend.simpleDrag",(function(t){o(t,a,this)})).on("mousemove.simpleDrag",(function(t){n(t,a,this),t.preventDefault()})).on("touchmove.simpleDrag",(function(t){n(t,a,this),t.preventDefault()}))}(e)}}(jm),window.Dialog=function(t){t.fn.Dialog=function(i){var o=[];return t(this).each((function(){var n=new e,a=t.extend({trigger:t(this)},i);n.init(a),o.push(n)})),o},t.Dialog=function(i){if("confirm"===i.type){var o=new e,n='<div class="fkarea-ui-confirm-title">'+i.content+"</div>";i.buttons||(i.buttons=[{no:"取消"},{yes:"完成"}]);for(var a="",r=0,s=i.buttons.length;r<s;r++){var l=i.buttons[r];l.no&&(a+='<td><button class="fkarea-ui-confirm-no" data-type="no">'+l.no+"</button></td>"),l.yes&&(a+='<td><button class="fkarea-ui-confirm-submit " data-type="yes">'+l.yes+"</button></td>")}n='<table class="fkarea-ui-dialog-action"><tr>'+a+"</tr></table>"+n;var c=t.extend({target:n,animate:!0,show:!0,fixed:!0,mask:!0,className:"fkarea-ui-alert",afterHide:function(){this.dispose()},beforeShow:function(e){o.touch(t(".fkarea-ui-confirm-submit",e),(function(){i.callback&&i.callback.call(o,"yes",e),t("body").css({overflow:"auto"})})),o.touch(t(".fkarea-ui-confirm-no",e),(function(){i.callback&&i.callback.call(o,"no",e),t("body").css({overflow:"auto"})}))}},i);o.init(c)}},t.confirm=function(e,i,o,n){var a={},r={zIndex:1001,type:"confirm"};a="object"==_typeof(e)?t.extend(r,e):t.extend(r,{content:e,buttons:i,callback:o}),t.Dialog(t.extend(a,n))};var e=function(){var e=Math.random().toString().replace(".","");this.id="dialog_"+e,this.settings={},this.settings.titleTpl=t('<div class="fkarea-ui-dialog-title"></div>'),this.timer=null,this.showed=!1,this.mask=t()};return e.prototype={init:function(e){this.settings=t.extend({fixed:!1},this.settings,e),this.settings.mask&&(this.mask=t('<div class="fkarea-ui-dialog-mask"/>'),t("body").append(this.mask)),t("body").append('<div class="fkarea-ui-dialog" id="'+this.id+'"></div>'),this.dialogContainer=t("#"+this.id);var i=this.settings.zIndex||10;this.dialogContainer.css({zIndex:i}),this.settings.className&&this.dialogContainer.addClass(this.settings.className),this.mask.css({zIndex:i-1}),this.settings.title&&(this.dialogContainer.append(this.settings.titleTpl),this.settings.titleTpl.html(this.settings.title)),this.bindEvent(),this.settings.show&&this.show()},touch:function(e,i){var o;function n(t){return i.call(this,t)}t(e).on("click",n),t(e).on("touchmove",(function(t){o=!0,t.preventDefault(),t.stopPropagation()})).on("touchend",(function(t){t.preventDefault(),o||i.call(this,t,"touch")||(t.preventDefault(),t.stopPropagation()),o=!1}))},bindEvent:function(){var e=this;this.settings.trigger&&(t(this.settings.trigger).click((function(){e.show()})),e.touch(t(this.settings.trigger),(function(){e.show()}))),t(this.dialogContainer).on("click",".js-dialog-close",(function(){return e.hide(),!1})),t(this.dialogContainer).on("hide",(function(){e.hide()}))},dispose:function(){this.dialogContainer.remove(),this.mask.remove(),this.timer&&clearInterval(this.timer)},hide:function(){var e=this;e.settings.beforeHide&&e.settings.beforeHide.call(e,e.dialogContainer),this.showed=!1,this.mask.hide(),this.timer&&clearInterval(this.timer),this.settings.animate?(this.dialogContainer.removeClass("fkarea-zoomIn").addClass("fkarea-zoomOut"),setTimeout((function(){e.dialogContainer.hide(),"object"===_typeof(e.settings.target)&&t("body").append(e.dialogContainer.hide()),e.settings.afterHide&&e.settings.afterHide.call(e,e.dialogContainer)}),500)):(this.dialogContainer.hide(),"object"===_typeof(this.settings.target)&&t("body").append(this.dialogContainer),this.settings.afterHide&&this.settings.afterHide.call(this,this.dialogContainer))},show:function(){"string"==typeof this.settings.target?/^(\.|#\w+)/gi.test(this.settings.target)?this.dailogContent=t(this.settings.target):this.dailogContent=t("<div>"+this.settings.target+"</div>"):this.dailogContent=this.settings.target,this.mask.show(),this.mask.bind("touchmove",(function(t){t.preventDefault()})),t("body").css({overflow:"hidden"}),this.dailogContent.show(),this.dailogContent.bind("touchmove",(function(t){t.preventDefault()})),this.height=this.settings.height||"auto",this.width=this.settings.width||"auto",this.dialogContainer.append(this.dailogContent).show().css({height:this.height,width:this.width}),this.settings.beforeShow&&this.settings.beforeShow.call(this,this.dialogContainer),this.showed=!0,this.setPosition();var e=this;this.timer&&clearInterval(this.timer),this.settings.fixed&&(this.timer=setInterval((function(){e.setPosition()}),1e3)),this.settings.animate&&this.dialogContainer.addClass("fkarea-zoomIn").removeClass("fkarea-zoomOut").addClass("fkarea-animated")},setPosition:function(){if(this.showed){var t=this;this.dialogContainer.show(),this.height=this.settings.height,this.width=this.settings.width,isNaN(this.height)&&(this.height=this.dialogContainer.outerHeight&&this.dialogContainer.outerHeight()||this.dialogContainer.height()),isNaN(this.width)&&(this.width=this.dialogContainer.outerWidth&&this.dialogContainer.outerWidth()||this.dialogContainer.width());var e=(this.settings.clientHeight||document.documentElement.clientHeight||document.body.clientHeight)/2-this.height/2;e=Math.floor(Math.max(0,e));var i="absolute",o="768px";jm&&jm("#g_web")&&jm("#g_web").length>0&&(o=jm("#g_web").css("max-width")),t.settings.fixed&&(i="fixed"),t.dialogContainer.css({position:i,top:e,width:"100%",left:0,right:0,maxWidth:o,margin:"0px auto"})}}},e}(window.Zepto||window.jQuery||jm),window.MobileSelectArea=function(t){var e=function(){var t=Math.random().toString().replace(".","");this.id="scroller_"+t,this.scroller,this.data,this.index=0,this.value=[0,0,0],this.oldvalue,this.oldtext=[],this.text=["","",""],this.level=3,this.mtop=30,this.separator=""};return e.prototype={init:function(e){this.settings=t.extend({eventName:"click"},e),this.lcid=parseInt(this.settings.lcid),this.trigger=t(this.settings.trigger),null==this.settings.init?this.init=1:this.init=0;var i=parseInt(this.settings.level);this.level=i>0?i:3,this.trigger.attr("readonly","readonly"),this.value=this.settings.value&&this.settings.value.split(",")||[0,0,0],this.text=this.settings.text||this.trigger.val().split(" ")||["","",""],this.oldvalue=this.value.concat([]),this.oldtext=this.text.concat([]),this.clientHeight=document.documentElement.clientHeight||document.body.clientHeight,this.clientWidth=document.documentElement.clientWidth||document.body.clientWidth,this.bindEvent()},getData:function(){"object"==_typeof(this.settings.data)&&(this.data=this.settings.data)},bindEvent:function(){var e=this;this.trigger[e.settings.eventName]((function(){for(var i="",o=0;o<e.level;o++)i+="<div></div>";2052!=e.lcid&&1028!=e.lcid?e.buttons=[{no:"cancel"},{yes:"fulfil"}]:e.buttons=null,t.confirm('<div class="fkarea-ui-scroller-mask"><div id="'+e.id+'" class="ui-scroller">'+i+"<p></p></div></div>",e.buttons,(function(t){"yes"==t&&e.submit(),"no"==t&&e.cancel(),this.dispose()}),{width:320,height:215}),e.scroller=t("#"+e.id),e.getData(),e.format();var n=0,a=0;function r(e){e=e||window.event,n=e.pageY,t(window).off("mousemove.area-scroller").on("mousemove.area-scroller",s),t(window).off("mouseup.area-scroller").on("mouseup.area-scroller",l),e.preventDefault()}function s(e){e=e||window.event;var i=(a=e.pageY)-n,o=t(e.target).parent();if("DL"==o[0].nodeName){var r=parseInt(o.css("top")||0)+i;r<60-t(o).height()&&(r=60-t(o).height()),o.css("top",r+"px"),n=a,e.preventDefault()}}function l(i){i=i||window.event,a=i.pageY,t(window).off("mousemove.area-scroller"),t(window).off("mouseup.area-scroller");var o=a-n,r=t(i.target).parent();if("DL"==r[0].nodeName){var s=t(r.parent()).index(),l=parseInt(r.css("top")||0)+o-30;l>e.mtop&&(l=e.mtop),l<60-t(r).height()&&(l=60-t(r).height());var c=l/e.mtop,d=Math.round(c),m=Math.abs(d)+1;1==d&&(m=0),e.value[s]=t(r.children().get(m)).attr("ref"),0==e.value[s]?e.text[s]="":e.text[s]=t(r.children().get(m)).html();for(var p=e.level-1;p>s;p--)e.value[p]=0,e.text[p]="";t(r.children().get(m)).hasClass("focus")||e.format(),t(r.children().get(m)).addClass("focus").siblings().removeClass("focus"),r.css("top",d*e.mtop+"px"),i.preventDefault()}}return e.scroller.children().off("mousedown.area-scroller").on("mousedown.area-scroller",r),e.scroller.children().bind("touchstart",(function(t){n=(t.changedTouches||t.originalEvent.changedTouches)[0].pageY})),e.scroller.children().bind("touchmove",(function(e){var i=(a=(e.changedTouches||e.originalEvent.changedTouches)[0].pageY)-n,o=t(e.target).parent();if("DL"==o[0].nodeName){var r=parseInt(o.css("top")||0)+i;return r<60-t(o).height()&&(r=60-t(o).height()),o.css("top",r+"px"),n=a,!1}})),e.scroller.children().bind("touchend",(function(i){var o=(a=(i.changedTouches||i.originalEvent.changedTouches)[0].pageY)-n,r=t(i.target).parent();if("DL"==r[0].nodeName){var s=t(r.parent()).index(),l=parseInt(r.css("top")||0)+o-30;l>e.mtop&&(l=e.mtop),l<60-t(r).height()&&(l=60-t(r).height());var c=l/e.mtop,d=Math.round(c),m=Math.abs(d)+1;1==d&&(m=0),e.value[s]=t(r.children().get(m)).attr("ref"),0==e.value[s]?e.text[s]="":e.text[s]=t(r.children().get(m)).html();for(var p=e.level-1;p>s;p--)e.value[p]=0,e.text[p]="";return t(r.children().get(m)).hasClass("focus")||e.format(),t(r.children().get(m)).addClass("focus").siblings().removeClass("focus"),r.css("top",d*e.mtop+"px"),!1}})),!1}))},format:function(){this.f(this.data)},f:function(e){var i=this,o=e;o||(o=[]);var n,a='<dl><dd ref="0">——</dd>',r=i.mtop;if(0!==i.index&&"0"==i.value[i.index-1]&&0==this.init)a='<dl><dd ref="0" class="focus">——</dd>',i.value[i.index]=0,i.text[i.index]="";else{if("0"==i.value[i.index]&&(a='<dl><dd ref="0" class="focus">——</dd>'),o.length>0&&1==this.init){a="<dl>";var s=o[0].pid||0,l=o[0].id||0;n=2052==i.lcid||1028==i.lcid?site_cityUtil.getCities(o[0].id):site_cityUtil.getCitiesEn(o[0].id),i.value[this.index]||(i.value[this.index]=l,i.text[this.index]=o[0].name),a+='<dd pid="'+s+'" class="'+u+'" ref="'+l+'">'+o[0].name+"</dd>"}for(var c=i.init,d=o.length;c<d;c++){var m=o[c].pid||0,p=o[c].id||0,u="";i.value[i.index]==p&&(u="focus",n=2052==i.lcid||1028==i.lcid?site_cityUtil.getCities(o[c].id):site_cityUtil.getCitiesEn(o[c].id),r=i.mtop*-(c-i.init)),a+='<dd pid="'+m+'" class="'+u+'" ref="'+p+'">'+o[c].name+"</dd>"}}var f=a+="</dl>",h=i.scroller.children();t(h[i.index]).html(f),t(h[i.index]).children().css("top",r+30+"px"),i.index++,i.index>i.level-1?i.index=0:i.f(n)},submit:function(){this.oldvalue=this.value.concat([]),this.oldtext=this.text.concat([]),1==this.trigger[0].nodeType&&(this.trigger.val(this.text.join(this.separator)),this.trigger.attr("data-value",this.value.join(","))),this.settings.callback&&this.settings.callback.call(this,this.scroller,this.text,this.value)},cancel:function(){this.value=this.oldvalue.concat([]),this.text=this.oldtext.concat([])}},e}(window.Zepto||window.jQuery||jm),Mobi.initProductGroupManage=function(t,e){if(!(Fai.top._templateFrameId<2e3||Fai.top._templateFrameId>=3e3)){var i=Mobi.getPreviewDocument().getElementById("module"+t);$(i).mouseover((function(){Mobi.addModuleLayer("module"+t,e)})).mouseleave((function(){Mobi.removeModuleLayer("module"+t)}))}},Mobi.initProductGroupManageV3=function(t,e){var i=Mobi.getPreviewDocument().getElementById("module"+t);$(i).mouseover((function(){Mobi.addModuleLayer("module"+t,e)})).mouseleave((function(){Mobi.removeModuleLayer("module"+t)}))},Mobi.ajaxClick=function(t,e,i){var o=function(t){n(t);var e=['<div class="ajaxLoadingAgain width" style="margin-top:50px;margin-bottom:50px;text-align:center;">','<div style="color: #1b7ad1; text-decoration: none; text-align:center; width:100%;cursor:pointer;" onclick="reloadingClick('+t+');">加载失败，请点击重新加载</div>',"</div>"];jm("#module"+t+" .middleCenter").empty().append(e.join(""))},n=function(t){jm("#module"+t+" .moduleLoading").remove()};window.reloadingClick=function(t){c(t)};var a=jm(t).attr("href");i&&(a=t.children[t.selectedIndex].getAttribute("value"));var r=3,s=0;try{r=Fai.top._colInfo.id,s=Fai.top._colInfo.extId}catch(t){r=3,s=0}var l=!1,c=function(t){setTimeout((function(){l||function(t){var e=["<div class='moduleLoading' style='height : 150px;'>","<table style='width:100%;height:100%;'><tr><td align='center' valign='middle'>","<img src='"+Fai.top._resRoot+"/image/loading/loading_2.gif?v=201509211806' >","</td></tr></table>","</div>"];jm("#module"+t+" .middleCenter").empty().append(e.join(""))}(t)}),1e3),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/ajaxLoadModuleDom_h.jsp",data:"cmd=getWafNotCk_getAjaxPageModuleInfo&_colId="+r+"&_extId="+s+"&moduleId="+t+"&href="+jm.encodeUrl(a),error:function(){l=!0,n(t),o(t),Mobi.ing(LS.js_systemError)},success:function(e,i,a){var r=a.getResponseHeader("wafUpdate");if(r&&"true"==r&&window.location.reload(),l=!0,n(t),(e=jm.parseJSON(e)).success){var s=jm(e.domStr).find(".middleCenter"+t).html();jm("#module"+t).find(".middleCenter"+t).html(s),jm.fkEval.call(window,e.scripts),Mobi.scrollToModule(t)}else o(t),Mobi.ing(e.msg)}})};c(e)},Mobi.getOemViewUrl=function(t){return"http://www.webportal.cc/sys/view.jsp?id="+t},Mobi.autoLoginWx=function(){var t=navigator.userAgent.toLowerCase();(-1!=t.indexOf("micromessenger")||-1!=t.indexOf("wxwork"))&&jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/other_h.jsp?cmd=getWafNotCk_autoLoginWx",success:function(t){var e=jm.parseJSON(t);if(e.success){var i=e.wxLoginUrl,o=e.appId,n=e.aesKey,a=i+"wxLogin.jsp?aid="+Fai.top._aid+"&appId="+o+"&secondAuth=true&key="+n+"&returnUrl="+encodeURIComponent(document.location.href);document.location.href=a}}})},Mobi.showTopTips=function(t,e){var i="",o=!1;if(null==t||0==t)i='<li style="color:red;margin-left:20px;">免费域名不支持调用第三方代码，请使用已购买的域名进行访问&nbsp;&nbsp;&nbsp;</li>';else if(1==t)if(Fai.top._manageMode&&Fai.top.httpInCodeCount>0){if(Fai.top.$(".httpInCodeTips").length>0)return void Fai.top.$(".httpIncode").text("点击定位链接位置（"+Fai.top.httpInCodeCount+"条）");o=!0,i="<div class='httpInCodeTips' style='color:#ff8e1e;font-size:13px;text-align:0;margin-left:20px;'>网站内插入的代码存在非HTTPS链接，该链接无法正常加载，请先修改或者删除该链接。<a class='httpIncode' style='text-decoration: underline;color:#ff1d1d;' href='javascript:;' onclick='Mobi.getPreviewWindow().Mobi.jumptoHttpInCodeModule()'>点击定位链接位置（"+Fai.top.httpInCodeCount+"条）</a><a class='tipsDescription' onclick='Mobi.getPreviewWindow().Mobi.jumptoHttpInCodeExplain()' style='cursor:pointer; color:red; margin-left:30px; margin-right:30px; text-decoration:underline;'>详细说明&gt;&gt;</a></div>"}else i="<li style='color:#ff8e1e;font-size:13px;text-align:0;margin-left:20px;'>网站内插入的代码存在非HTTPS链接，该链接无法正常加载显示，请替换成HTTPS链接或使用非HTTPS方式访问&nbsp;&nbsp;&nbsp</li>";else if(2==t)i='<li style="color:red;margin-left:20px;">免费域名不支持插件代码&nbsp;&nbsp;&nbsp</li>';else if(3==t){i=['<li style="color:red;margin-left:20px;">基于安全原因，2018年4月11号起新注册的用户免费域名访问不支持插件代码和第三方代码，请','<a style="color:#5874d8;"  onclick="Mobi.logCorpDog(200848, 5)" href="'+("//"+Fai.top._homeHost+"/marketing/domain.html")+'" target="_blank">绑定独立域名</a>','进行访问或<a style="color:#5874d8;" onclick="Mobi.logCorpDog(200848, 2)"  href="'+("//"+Fai.top._portalHost+"/portal.jsp#appId=setAuth")+'" target="_blank">申请凡科认证</a>',"</li>"].join("")}if(e&&""!=e&&(i=e),o){var n=['<div id="fk-tips" class="fk-tips" style="position: fixed; width: 100%; height: 40px; background: #fff5dc; font-size: 13px; color: #ff8e1e; line-height: 40px; text-align: center;">',i,"</div>"];return Fai.top.$(".fk-toolTopBar").css("top","40px"),Fai.top.$(".mobiStyleDesign").css("top","100px"),void Fai.top.$("body").prepend(n.join(""))}if(jm("#webTips").length>0)jm("#mobiTipsMarquee").append(i);else{var a=['<div id="webTips" class="webTips jz-webTips">','   <div id="mobitips" class="mobitips">','       <div class="mobiScrollbar">','           <div class="j-marqueeContainer J_marqueeContainer">','               <ul class="marquee J_marquee" id="mobiTipsMarquee">',i,"               </ul>","           </div>","       </div>","   </div>","</div>"];jm("body").prepend(a.join(""))}jm(".detailHeaderColor.detailHeaderColor").css("top","1.5rem"),jm(".productDetailHeader").css("top","1.5rem"),Mobi.topTipMarquee()},Mobi.jumptoHttpInCodeExplain=function(){var t=Mobi.newGetBlogUrl(11673,844);Fai.top.window.open(t)},Mobi.newGetBlogUrl=function(t,e){if(!Fai.top._oem)return Fai.top.isMall?"https://mall.fkw.com/blog/"+t:"https://jz.fkw.com/blog/"+t;var i="http://";return 0==window.location.href.indexOf("https://")&&(i="https://"),i+Fai.top._portalHost+"/sys/view.jsp?id="+e},Mobi.changeHttp=function(){var t=Fai.top.location.href;0==t.indexOf("https://")&&(t="http://"+t.substring(8)),Fai.top.location.href=t},Mobi.fixIphoneXFooter=function(){if(function(){var t=/iphone/gi.test(navigator.userAgent),e=812==screen.height&&375==screen.width,i=896==screen.height&&414==screen.width;return t&&(e||i)}()&&Mobi.checkHasFooter()){var t=jm("#g_body");t.addClass(Fai.top._isMall?"isMall":"notIsMall"),e(),jm(window).on("scroll.fixfooter",Mobi.debounce(e,100))}function e(){var e=window.innerWidth;window.innerHeight/(e/window.screen.width)-window.screen.width>350?t.addClass("fixed_iphoneX_footer"):t.removeClass("fixed_iphoneX_footer")}},Mobi.checkHasFooter=function(){var t=jm("#p_footer_nav_wrap"),e=jm("#webCustomerServiceBox"),i=jm(".mallFixNavWrap"),o=jm(".J_newsBottom"),n=jm(".newsBottom"),a=jm("#fixedAreaBox"),r=jm("#serviceBtnOuter");return!!(t.length&&"none"!=t.css("display")&&"0px"==t.find("#J_footer_nav").css("margin-bottom")||e.length&&"none"!=e.css("display")||i.length&&"none"!=i.css("display")||o.length&&"none"!=o.css("display")||n.length&&"none"!=n.css("display")||a.length&&"none"!=a.css("display")&&!a.hasClass("p_footer_item_wrap")||r.length&&"none"!=r.css("display")||(Fai.top._bookingOpen||Fai.top._productFormOpen||Fai.top._isMobiMallOpen||Fai.top._immediatelyConsultOpen)&&20==Fai.top._pageId)},function(t,e){e.allFixWXPAList=[],e.hasInit=!1,e.fixWXPublicAttentionTip=function(i,o,n){e.hasInit=!0;var a=t("#wxPublicAttentionService");n&&a.show();var r=0,s=a.find(".close"),l=a.find(".clickContent"),c=['<div id="wxTopTip" class="wxTopTip">',"</div>",'   <div id="wxPage" class="wxPage">','       <div class="pic" id="wxPagePic">','           <img class="img" src="'+o+'"/>',"       </div>",'       <div class="pic1">','           <img class="img" src="'+o+'"/>',"       </div>",'       <div class="text">',"           长按识别图中二维码快来关注我吧","       </div>","   </div>"];s.bind("click",(function(){a.hide(),t.cookie("_hideWXPublicAttentionTip",1,{expires:1,path:"/"})})),l.bind("click",(function(){t("body").append(c.join("")),""==o&&t("#wxPage").find(".img").hide(),t("#wxTopTip").bind("click",(function(){t(this).remove(),t("#wxPage").remove()})),t("#wxPagePic").bind("mouseup",(function(t){t.stopPropagation(),t.preventDefault()}))})),i&&(1!=top.Fai.top._other.pa.st?a.hide():a.show()),Fai.top._openThemeV3?r=t("#p_footer_nav_wrap").length&&"none"!=t("#p_footer_nav_wrap").css("display")&&t("#J_footer_nav").length&&"true"!=t("#J_footer_nav").attr("_issuspension")?t("#J_footer_nav").height():0:Fai.top._templateFrameId>=2e3?t("#serviceBtnOuter").length>0&&"none"!=t("#serviceBtnOuter").css("display")?r=t("#serviceBtnOuter").height():t("#fixedAreaBox").length>0&&"none"!=t("#fixedAreaBox").css("display")&&(r=t("#fixedAreaBox").height()):(Fai.top._templateFrameId>=1e3&&Fai.top._templateFrameId,t("#webCustomerServiceBox").length>0&&"none"!=t("#webCustomerServiceBox").css("display")&&(r=t("#customerServiceDiv").height())),a.css("bottom",r+"px"),e.allFixWXPAList.length&&t(e.allFixWXPAList).each((function(t,i){e.doAllFixWXPA(i.number,i.moduleId,i.other)}))},e.doAllFixWXPA=function(e,i,o){var n=t("#wxPublicAttentionService"),a=0;if(1==e)Fai.top._openOnlineService&&(a=t("#customerServiceDiv").height()),n.css("bottom",a+"px");else if(2==e)if(o){var r=t("#module"+i).find(".newsBottom"),s=r.length>0?r:t(".newsBottom");a=parseInt(s.height()),setTimeout((function(){n.css("bottom",a+"px")}),0)}else Fai.top._openThemeV3&&t(".only_share").length>0&&"none"!=t(".only_share").css("display")&&(a=parseInt(t(".only_share").height()),setTimeout((function(){n.css("bottom",a+"px")}),0));else 3==e&&(Fai.top._openThemeV3?t("#productBottomBox").length>0&&"none"!=t("#productBottomBox").css("display")&&(a=parseInt(t("#productBottomBox").offset().height),n.css("bottom",a+"px")):o&&(a=parseInt(t(".productMallShop").offset().height),n.css("bottom",a+"px")))}}(jm,Mobi.mobiPATipFix||(Mobi.mobiPATipFix={})),Mobi.allFixWXPA=function(t,e,i){Mobi.mobiPATipFix.hasInit?Mobi.mobiPATipFix.doAllFixWXPA(t,e,i):Mobi.mobiPATipFix.allFixWXPAList.push({number:t,moduleId:e,other:i})},Mobi.fixNewsJumpLink=function(t,e){jm("#module"+t).find(".newsLine").off("click.link").on("click.link",(function(t){if(!jm(t.target).hasClass("J_linkH")){var i=jm(this).find(".J_linkH").attr("href");-1!=i.indexOf("http:")||-1!=i.indexOf("https:")?window.location.href=i:-1!=i.indexOf("Fai.ing")?top.Fai.ing("管理态不支持跳转外部链接，请通过“预览”进行访问"):window.location.href="/"+e+"/"+i}}))},Mobi.statisticsHttpInCode=function(t,e){for(var i in Fai.top.httpInCode||(Fai.top.httpInCode={}),Fai.top.httpInCode[t]=e,Fai.top.httpInCodeModuleList=[],Fai.top.httpInCodeCount=0,Fai.top.httpInCode)0!=Fai.top.httpInCode[i]&&(Fai.top.httpInCodeModuleList.push(i),Fai.top.httpInCodeCount+=Fai.top.httpInCode[i]);0==Fai.top.httpInCodeCount?jm(".httpIncode").length>0&&jm(document).ready((function(){window.location.reload()})):Fai.top.$(".httpIncode").text("点击定位链接位置（"+Fai.top.httpInCodeCount+"条）")},Mobi.fixParamAreaHeight=function(t){var e=jm("#module"+t),i=0,o=e.find(".paramCollectionWrap");o.each((function(t,e){var o=parseInt(jm(e).height());o>i&&(i=o)})),i>0&&o.each((function(t,e){jm(e).height(i+"px")}))},Mobi.fixNewsDetailVideo=function(){var t=Fai.top.navigator.userAgent;/(iPhone)/i.test(t)&&jm("video").each((function(t,e){jm(e).on("progress",(function(){e.played.length<1&&e.play()}))}))},Mobi.jumptoHttpInCodeModule=function(){Fai.top.curHttpInCode||(Fai.top.curHttpInCode=0),Fai.top.curHttpInCode==Fai.top.httpInCodeModuleList.length-1?Fai.top.curHttpInCode=0:++Fai.top.curHttpInCode;var t=Fai.top.httpInCodeModuleList[Fai.top.curHttpInCode];if(jm("#mobiImagePage").remove(),jm("#g_web").show(),0==t)setTimeout((function(){Fai.top.$(".f_item_set").click(),setTimeout((function(){Fai.top.$(".tabs-label:eq(1)").click()}),100)}),0);else if(-1==t)jm("html, body, #g_main, #web").animate({scrollTop:document.getElementById("footer").offsetTop+jm("#webHeaderBox").height()},{duration:500,easing:"swing"});else{var e=document.getElementById("module"+t).offsetTop;document.getElementById("module"+t).offsetParent.offsetTop>0&&(e+=document.getElementById("module"+t).offsetParent.offsetTop),jm("html, body, #g_main, #web").animate({scrollTop:e+jm("#webHeaderBox").height()+jm("#webBannerBox").height()+document.getElementById("g_web").offsetTop},{duration:500,easing:"swing"})}},Mobi.bindCommitBtn=function(t,e,i,o,n,a){jm(t).on("click",(function(){Mobi.siteFormAdd(e,i,o,n,a)}))},Mobi.checkFaiAnchor=function(){var t=window.location.hash.substring(1).split("_");if("fai"==t[0]){var e=parseInt(t[1]);if(e){var i={};i.jumpModuleId=e,i.colUrl="",i.colId=-1,setTimeout((function(){Mobi.jumpToModulePosition(i)}),1e3)}}},Mobi.isModuleV2=function(t){return!!Fai.top.isModuleV2Map["style_"+t]},Mobi.addFontFaceToHead2=function(t){t.forEach((function(t){var e=t.fontFamily,i=t.resUrl;if(0===jm("#".concat(e)).length){var o="\n            <style type='text/css' id='".concat(e,"'>\n                @font-face {\n                    font-family: '").concat(e,"';\n                    src: url('").concat(i,"') format('truetype');\n                    font-weight: normal;\n                    font-style: normal;\n                }\n            </style>\n            ");jm("head").append(o)}}))},Mobi.linkToForm=function(t){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mobiForm_h.jsp?cmd=getWafNotCk_get&formId="+t,error:function(){},success:function(e){var i=jm.parseJSON(e);if(i.success){var o=i.module,n=i.renderOptions,a=o.srcUploadJS,r=o.srcCityJS,s=Mobi.executeFormScripts(a),l=Mobi.executeFormScripts2(r);Promise.all([s,l]).then((function(){Fai.top.Mobi.formPopup.rending||(Fai.top.Mobi.formPopup.rending=!0,Mobi.formPopup.render(t,o,n))}))}else Fai.top._manageMode?Fai.top.Fai.ing("表单已被删除",!0):Mobi.ing("表单已被删除",!0)}})},Mobi.executeFormScripts=function(t){return new Promise((function(e){if(jm(this).uploadify)e();else{var i=document.createElement("script");i.type="text/javascript",i.src=t,i.onload=function(){e(),i.onload=null},document.head.appendChild(i)}}))},Mobi.executeFormScripts2=function(t){return new Promise((function(e){if("undefined"==typeof site_cityUtil){var i=document.createElement("script");i.type="text/javascript",i.src=t,i.onload=function(){e(),i.onload=null},document.head.appendChild(i)}else e()}))},Mobi.updatePopupThemeModules=function(t){if(null!=t)if(Fai.top._manageMode)top.Fai.top.Mobi.updatePopupThemeModule(t);else{var e=Fai.top._themeColor;t.forEach((function(t){var i=t.style;switch(i){case 54:Mobi.updatePopupFloatBtnModule(t,e);break;case 52:Mobi.updatePopupSimpleTextModule(t,e);break;default:console.log("not aim styleId"+i)}}))}},Mobi.updatePopupFloatBtnModule=function(t,e){var i=t.id,o=Mobi.getPreviewDocument().querySelector(".formMiddleContent"+i),n=jm(o).find("a"),a=t.pattern.cl,r=t.content;if(null!=n&&null!=a&&1===a.ftc&&(a.c=e,n.css("color",e)),null!=r&&null!=r.b&&1===r.b.btc&&(r.b.c=e,Mobi.removeCtrlStyleCssList("mobiStyleModule","module"+i,[{cls:".floatBtnStyle .middle",key:"border"}]),Mobi.setCtrlStyleCssList("mobiStyleModule","module"+i,[{cls:".floatBtnStyle .middle",key:"border",value:r.b.w+"px solid "+e}])),null!=r&&null!=r.sh&&1===r.sh.stc){var s=r.sh;r.sh.c=e;var l;l=s.dx+"px "+s.dy+"px "+s.f+"px "+e,Mobi.removeCtrlStyleCssList("mobiStyleModule","module"+i,[{cls:".floatBtnStyle .middle",key:"-moz-box-shadow"},{cls:".floatBtnStyle .middle",key:"-webkit-box-shadow"},{cls:".floatBtnStyle .middle",key:"box-shadow"}]),Mobi.setCtrlStyleCssList("mobiStyleModule","module"+i,[{cls:".floatBtnStyle .middle",key:"-moz-box-shadow",value:l},{cls:".floatBtnStyle .middle",key:"-webkit-box-shadow",value:l},{cls:".floatBtnStyle .middle",key:"box-shadow",value:l}])}},Mobi.updatePopupSimpleTextModule=function(t,e){var i=t.id,o=Mobi.getPreviewDocument().querySelector(".formMiddleContent"+i);jm(o).find(".simpleText").find("span").each((function(t,i){var o=jm(i),n=o.attr("_themecolor"),a=o.attr("style");n&&""!=a&&o.css("color",e)}))},Mobi.setModuleStyleCssList=function(t,e){Mobi.setCtrlStyleCssList("mobiStyleModule","module"+t,e)},Mobi.setCtrlStyleCssList=function(t,e,i,o,n){var a=n||Mobi.getPreviewWindow(),r=a.document,s=a.jm("#"+t),l=new Array;if(1==s.length){var c=s.html();l=(c=c.replace(/{\r\n/g,"{").replace(/\t/g,"").replace(/\r\n}/g,";}")).split("\n"),s.remove()}for(var d=l.length-1;d>=0;--d)for(var m=l[d],p=0;p<i.length;++p){var u=i[p].cls,f=i[p].key,h=new RegExp("#"+e+" +"+fixRegSpecialCharacter(u)+" *{ *"+f+"[^;]*;","gi");if(""!=e&&"undefined"!=e||(h=new RegExp(fixRegSpecialCharacter(u)+" *{ *"+f+"[^;]*;","gi")),0==m.length||/^\s$/.test(m)||h.test(m)){if(o&&o.noRemoveModuleStyle&&m.indexOf("module")>-1&&(""==e||"undefined"==e)&&-1===u.indexOf("module"))break;l.splice(d,1);break}}for(var g=0;g<i.length;++g)""==e||"undefined"==e?l.push(i[g].cls+"{"+i[g].key+":"+i[g].value+";}"):l.push("#"+e+" "+i[g].cls+"{"+i[g].key+":"+i[g].value+";}");o&&o.rev&&l.reverse(),jm(r.querySelector("head")).append('<style type="text/css" id="'+t+'">'+l.join("\n")+"</style>")},Mobi.checkUserDomainAction=function(){function t(){jm("body").html("")}Fai.top._manageMode||Fai.top._isDev||jm.ajax({url:"/ajax/siteDomain_h.jsp?cmd=getWafNotCk_checkFaiDomain",type:"POST",data:{domain:window.location.host},success:function(e){try{var i=jm.parseJSON(e);if(i.success&&i.isFaiDomain)return;t()}catch(e){t()}},error:function(e){var i=e.responseText;500==e.status&&-1!=i.indexOf("empty response")&&t()}})},Mobi.shareDataGetProductInfo=function(){var t={},e=Fai.top._shareDataProdectDetail||{},i=e.productInfo||{},o=e.jsShareInfo||"{}",n=JSON.parse(o),a=Fai.top.location;return t.title=i.name||"",t.img=i.picPath||"",t.url=a.href||"",t.price=n.sharePrices.firstPrice||"0.00",t},Mobi.commShareTemplateData=function(t,e){var i;t=t||"page";var o=Fai.top._colInfo,n={},a=Fai.top.location;switch("product"==t&&(n=Mobi.shareDataGetProductInfo()),(i={photo:Fai.top._shareDataPhotoDetail,news:Fai.top._shareDataNewsDetail,product:n,page:{title:o.name,url:a.href,img:e||""}}[t]||{}).type=t,o.id){case 4:case 28:i.type="news",i.title=Fai.top._shareDataNewsDetail.title+"";break;case 5:case 20:n=Mobi.shareDataGetProductInfo(),i.type="product",i.title=n.title+"",i.price=n.price,i.isHiddenPrice=Fai.top._shareDataProdectDetail.isHiddenPrice;break;case 24:i.type="photo",i.title=Fai.top._shareDataPhotoDetail.title+""}return i},Mobi.showCreateShareGrapic=function(t){var e,i=Mobi.createGraphicPosterPage(),o="graphicPosterItem",n=jm("#webPagePanel"+o),a="",r="#webPagePanel"+o+" .webPagePanelBg",s=Fai.top._colInfo,l=Fai.top.location,c={title:s.name,url:l.href,img:t.picUrl||""};switch(s.id){case 4:case 28:c.title=Fai.top._shareDataNewsDetail.title+"",c.type="news";break;case 5:case 20:var d=Mobi.shareDataGetProductInfo();c.title=d.title+"",c.type="product",c.price=d.price,c.isHiddenPrice=Fai.top._shareDataProdectDetail.isHiddenPrice;break;case 24:c.title=Fai.top._shareDataPhotoDetail.title+"",c.type="photo"}0!==n.length&&n.remove(),jm("#g_body").css("overflow-y","hidden"),20==Fai.top._colInfo.id&&Fai.top._openThemeV3&&(a=" pdThemev3");jm("#g_web").append("<div id='webPagePanel"+o+"' class='webPagePanel"+a+"' style='z-index:1000'><div class='webPagePanelBg' style='z-index:999'></div></div>"),n=jm("#webPagePanel"+o),i&&(n.append(i),e=jm(i),(e=jm("#"+e[0].id)).addClass("webPagePanelBottom"),e.addClass("webPagePanel"),n.show(),e.show(),setTimeout((function(){e.addClass("webPagePanelShow")})),e.unbind("touchmove").bind("touchmove",(function(t){t.preventDefault()}),!1),jm(r).unbind("touchmove").bind("touchmove",(function(t){t.preventDefault()}),!1),jm(r).unbind("click").bind("click",(function(){return e.removeClass("webPagePanelShow"),jm("#g_body").css({overflow:"",height:"",top:""}),jm("#g_body").css("overflow-y",""),jm("html").css({overflow:""}),jm("#g_web").removeClass("gwNoScroll"),jm("#webPagePanel"+o).css("z-index","-1"),jm("#webPagePanel"+o).css("display","none"),jm("#webPagePanel"+o).remove(),jm(r).unbind("touchmove"),e.unbind("touchmove"),!1})),Mobi.bindTransitionEnd(e,(function(){e.hasClass("webPagePanelShow")||n.hide()})));var m=jm(window).height();n.css("height",m+"px"),n.css("z-index","10000"),Mobi.drawCommCanvasSharePicture(c)},Mobi.showCommSharePanel=function(t,e,i){var o=Mobi.getJQMobi();t=t||"shareListShowSwipe";var n=Mobi.getPreviewObject(t);if(n){var a=Mobi.commShareTemplateData(e,i),r={triggerId:"graphicPosterItem",pageBg:!0,pageHtml:Mobi.createGraphicPosterPage(),direction:"bottom",closeWebPage:"#graphicPosterPanelBg",redo:!0,callback:function(){Mobi.drawCommCanvasSharePicture(a)}};if(Mobi.initWebPage(r),Mobi.initScaleImage(n),o("#"+t).swipehandle(n,{continuous:!0,bulletsClick:!0,callback:function(t){for(var e=s.length;e--;)s[e].className=" ";s[t]?s[t].className="on":s[t-s.length].className="on",1==jm(".mobiProductVideoDialog").length&&Mobi.videoQuit()}}),jm(".shareListSwipe").bind("click",(function(t){Mobi.logDog(201083,1),!top._manageMode&&"news"===e&&[21,28,4].includes(Fai.top._colInfo.id)&&jm(t.target).hasClass("shareNewIcon")&&_jz_biz_shared__WEBPACK_IMPORTED_MODULE_1__.Clue.logClueShareNewsAction()})),n.querySelector(".bullets"))var s=n.querySelector(".bullets").getElementsByTagName("li")}},Mobi.drawCommCanvasSharePicture=function(t){var e=document.getElementById("myCanvas");if(null!=e){var i=Mobi.getcanvasTool(e);if(i){var o=i.ctx,n=i.baseFontSize,a=11*n,r=13.85*n,s=.8*n,l=10*n,c=0,d=jm("#_TOKEN").attr("value"),m={font:.55*n+"px PingFang-SC-Medium"};"product"==t.type&&!1===t.isHiddenPrice&&(r+=c=1.15*n);var p=function(t,e,i,o){var n=2*i;t.font=o.font;var a=t.measureText(e).width;return a<=i?1:a>i&&a<=n?2:3}(o,t.title,l,m);r+=(s*=p)-.275*n,e.width=a,e.height=r;var u=10*n,f=u,h=u,g=u,v=u,b=!1,_=!1,j=new Image;j.src="".concat(document.location.protocol,"//").concat(document.location.host,"/ajax/mobiImgTransfer_h.jsp?_TOKEN=").concat(d,"&imgUrl=").concat(jm.encodeUrl(t.img),"&isZip=true&cmd=wafNotCk_"),j.onload=function(){g=this.naturalHeight;(v=this.naturalWidth)>=g?f=(h=u)/g*v:h=(f=u)/v*g,b=!0,y()&&w()};var M=new Image;M.src="".concat(document.location.protocol,"//").concat(document.location.host,"/qrCode.jsp?cmd=printUrlCode&size=166&url=").concat(jm.encodeUrl(t.url)),M.onload=function(){_=!0,y()&&w()}}}function y(){return b&&_}function w(){var e=jm("html").css("fontSize").split("px"),l=13.85+.8*p+2+c/n+"rem",d=(13.85+.8*p+2+c/n)*parseFloat(e),m=a,b=r;jm("#myCanvas").attr("height",b),jm("#myCanvas").attr("width",m),jm("#graphicPosterShowSwipe").css("height",l);var _,y,w,C,P,x,k,L,F,T,A,B,D,O=i.Rect(0,0,m,b);if(i.drawRoundedRect(O,.35*n,"#F7F7F7",!1),_=.5*n,y=(f-u)/2*v/f,w=(h-u)/2*g/h,C=u*g/h,P=u*v/f,o.drawImage(j,y,w,P,C,_,_,u,u),S(),"product"==t.type&&!1===t.isHiddenPrice&&function(){var e={font:.65*n+"px PingFang-SC-Medium",style:Fai.top._themeColor||"#FD6F28",align:"left",baseLine:"top"},a={maxWidth:10*n,textX:.5*n,textY:10.875*n,offset:.8*n};if(Fai.top._openThemeV3){var r=t.price.split("."),s=I(o,.5*n+"px PingFang-SC-Medium",Fai.top.choiceCurrencyVal),l=I(o,.65*n+"px PingFang-SC-Medium",r[0]+"."),c=10.875*n+.15*n,d=10.875*n;e.font=.5*n+"px PingFang-SC-Medium",a.textY=c,i.drawText(Fai.top.choiceCurrencyVal,e,a,"...",1),e.font=.65*n+"px PingFang-SC-Medium",a.textX=a.textX+s,a.textY=d,i.drawText(r[0]+".",e,a,"...",1),e.font=.5*n+"px PingFang-SC-Medium",a.textX=a.textX+l,a.textY=c,i.drawText(r[1],e,a,"...",1)}else{var m=Fai.top.choiceCurrencyVal+t.price;i.drawText(m,e,a,"...",1)}}(),x="product"==t.type?t.isHiddenPrice?10.875*n:10.75*n+c:10.875*n,k={font:.55*n+"px PingFang-SC-Medium",style:"#333333",align:"left",baseLine:"top"},L={maxWidth:10*n,textX:.5*n,textY:x,offset:.8*n},i.drawText((F=t.title)&&F.replace?F.replace(/&nbsp;/gi," ").replace(/&lt;/gi,"<").replace(/&gt;/g,">").replace(/&#92;/gi,"\\").replace(/&#39;/gi,"'").replace(/&quot;/gi,'"').replace(/<br\/>/gi,"\n").replace(/&amp;/gi,"&"):F,k,L,"...",3),T=.5*n,A=s-.255*n+10.875*n+c+.5*n,B=1.875*n,D=1.875*n,o.drawImage(M,T,A,B,D),S(),function(){o.save();var t=LS.posterTips,e=.5*n+1.875*n+.45*n,i=s-.255*n+10.875*n+1.6*n+c;o.font=.5*n+"px SourceHanSansCN-Regular",o.fillStyle="#999",o.fillText(t,e,i),o.restore()}(),document.getElementById("myCanvas")){var N=document.getElementById("myCanvas").toDataURL("image/png"),E=new Image;E.src=N,E.setAttribute("class","actualPoster"),E.setAttribute("style","width:11rem;height:"+b/n+"rem;user-select: none;-webkit-user-select:none;"),jm("#myCanvasImg").remove(),jm(".myCanvasContain").empty().append(E),jm(".myCanvasContain").append('<div style="margin-top: 1rem; text-align:center; color: #fff; font-size: 0.65rem;">'+LS.posterButtonTips+"</div>");var R=jm("#webPagePanelgraphicPosterItem")[0].offsetHeight;jm("#graphicPosterShowSwipe").css("width",a/n+"rem").css("left",(16-a/n)/2+"rem").css("top",(R-d)/2+"px"),jm(".myCanvas").css("opacity",1),Fai.top._manageMode||Mobi.logDog(201187,2)}}function S(){o.closePath(),o.restore()}function I(t,e,i){return t.font=e,t.measureText(i).width}},Mobi.copyAccountAndOpenWX=function(t){if(Fai.top.isWXAddFansAuthAllow){var e=window.navigator.userAgent,i=/MicroMessenger/.test(e);Mobi.copyDataToClipboard({data:t,sCb:function(){if(i)Mobi.ing("复制微信号成功",1);else{var t=jm('\n            <div id="wx_addFans_popup_wrap" class="wx_addFans_popup_wrap">\n              <div class="wx_addFans_popup">\n                <div class="text_wrap">\n                  <span class="success_text">微信号复制成功</span>\n                  <span class="countdown">是否跳转到微信搜索该微信号？</span>\n                </div>\n                <div class="btn_wrap">\n                  <div class="cancel_btn">取消</div>\n                  <div class="open_btn">打开</div>\n                </div>\n              </div>\n            </div>\n          ');jm("body").append(t),t.on("touchmove",(function(t){t.stopPropagation(),t.preventDefault()})),t.find(".cancel_btn").on("click",(function(){t.remove()})),t.find(".open_btn").on("click",(function(){window.location.href="weixin://",t.remove()}))}},fCb:function(){Mobi.ing("复制微信号失败，请手动复制",1)}})}else Mobi.ing("网站版本已过期，请联系管理员",0)},Mobi.copyDataToClipboard=function(t){var e=t.data,i=t.sCb,o=t.fCb,n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.setAttribute("readonly",""),n.select(),n.setSelectionRange(0,n.value.length);var a=!1;try{a=document.execCommand("copy")}catch(t){o()}finally{document.body.removeChild(n)}a?i():o()},Mobi.showQueryLoaing=function(){var t="showQueryLoaing";return jm("body").append('\n        <div\n            id="'.concat(t,'"\n            style="\n                width: 3rem;\n                height:3rem;\n                background: rgba(0,0,0,.75);\n                border-radius: 0.2rem;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                position: fixed;\n                top: 50%;\n                left: 50%;\n                transform: translate(-50%,-50%);\n                z-index: 99999;\n            "\n        >\n            <svg\n                xmlns="http://www.w3.org/2000/svg"\n                viewBox="0 0 30 30"\n                style="\n                    width: 1.15rem;\n                    height: 1.15rem;\n                "\n            >\n            <style>\n                .showQueryLoaing {\n                    animation: svg-load 1.8s linear infinite;\n                }\n                @keyframes svg-load {\n                    from {\n                        transform:rotate(0);\n                        transform-origin: 50% 50%;\n                    }\n                    to {\n                        transform:rotate(360deg);\n                        transform-origin: 50% 50%;\n                    }\n                }\n            </style>\n                <path class="showQueryLoaing" d="M8,20.63A1.37,1.37,0,0,0,7,21L4.16,23.85a1.41,1.41,0,1,0,2,2L9,23a1.4,1.4,0,0,0-1-2.4ZM6.56,15a1.41,1.41,0,0,0-1.4-1.41H1.41a1.41,1.41,0,0,0,0,2.82H5.16A1.41,1.41,0,0,0,6.56,15ZM6.15,4.16a1.41,1.41,0,1,0-2,2L7,9a1.41,1.41,0,0,0,1.37.39,1.43,1.43,0,0,0,1-1A1.41,1.41,0,0,0,9,7ZM22,9.37A1.37,1.37,0,0,0,23,9l2.81-2.81a1.41,1.41,0,1,0-2-2L21,7a1.4,1.4,0,0,0,1,2.4ZM23,21a1.41,1.41,0,0,0-1.37-.39,1.43,1.43,0,0,0-1,1A1.41,1.41,0,0,0,21,23l2.81,2.81a1.41,1.41,0,1,0,2-2Zm-8,2.4a1.41,1.41,0,0,0-1.41,1.4v3.75a1.41,1.41,0,1,0,2.82,0V24.84A1.41,1.41,0,0,0,15,23.44Zm13.59-9.85H24.84a1.41,1.41,0,0,0,0,2.82h3.75a1.41,1.41,0,1,0,0-2.82ZM15,0a1.41,1.41,0,0,0-1.41,1.41V5.16a1.41,1.41,0,0,0,2.82,0V1.41A1.41,1.41,0,0,0,15,0Zm0,0" fill="#fff">\n                </path>\n            </svg>\n        </div>\n    ')),function(){jm("#".concat(t)).remove()}},Mobi.actionByformPayResult=function(){var _ref3=_asyncToGenerator(regeneratorRuntime.mark((function _callee(jumpUrl){var isFromPay,curUrlSearch,urlParams,scrollTop,isPopupForm,formId,bssId,payStatus,isReturnOrCancelPay,isLastQueryFail,removeQueryLoading,setscrollTop,failPayAction,result,isPaySuccess,_result,_result$isPaySuccess,_result2,_result2$isPaySuccess,_result3,_result3$isPaySuccess,isAction,pay_success_lotteryId,pay_success_phoneNumber,allowForm;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(failPayAction=function(){Mobi.logDog(201217,3),setscrollTop(scrollTop),isPopupForm&&Mobi.linkToForm(formId);var t=isLastQueryFail?"请前往会员中心查看支付结果":"支付失败";Mobi.ing(t,2)},setscrollTop=function(t){document.documentElement.scrollTop=t,window.pageYOffset=t,document.body.scrollTop=t},isFromPay="true"===window.sessionStorage.getItem("from_mobi_pay"),window.sessionStorage.removeItem("from_mobi_pay"),isFromPay){_context.next=6;break}return _context.abrupt("return");case 6:if(curUrlSearch=window.location.search,urlParams=new URLSearchParams(curUrlSearch),scrollTop=+urlParams.get("scrollTop"),isPopupForm="true"===urlParams.get("isPopupForm"),formId=+urlParams.get("formId"),bssId=+urlParams.get("bssId"),payStatus=urlParams.get("payStatus"),isReturnOrCancelPay="0"===payStatus,!isReturnOrCancelPay){_context.next=17;break}return failPayAction(),_context.abrupt("return");case 17:return isLastQueryFail=!1,removeQueryLoading=null,result=null,isPaySuccess=!1,_context.next=23,queryFormPayResult(bssId);case 23:if(result=_context.sent,_result=result,_result$isPaySuccess=_result.isPaySuccess,isPaySuccess=void 0!==_result$isPaySuccess&&_result$isPaySuccess,isPaySuccess){_context.next=38;break}return removeQueryLoading=Mobi.showQueryLoaing(),_context.next=31,sleep(2e3);case 31:return _context.next=33,queryFormPayResult(bssId);case 33:result=_context.sent,_result2=result,_result2$isPaySuccess=_result2.isPaySuccess,isPaySuccess=void 0!==_result2$isPaySuccess&&_result2$isPaySuccess,isPaySuccess&&removeQueryLoading();case 38:if(isPaySuccess){_context.next=49;break}return _context.next=41,sleep(3e3);case 41:return _context.next=43,queryFormPayResult(bssId);case 43:result=_context.sent,_result3=result,_result3$isPaySuccess=_result3.isPaySuccess,isPaySuccess=void 0!==_result3$isPaySuccess&&_result3$isPaySuccess,removeQueryLoading(),isLastQueryFail=!isPaySuccess;case 49:isPaySuccess?(Mobi.logDog(201217,4),setscrollTop(scrollTop),Mobi.ing("支付成功",1),isAction=jumpUrl.startsWith("javascript:"),localStorage.getItem("pay_lotteryId")&&"undefined"!=localStorage.getItem("pay_lotteryId")&&(pay_success_lotteryId=localStorage.getItem("pay_lotteryId"),pay_success_phoneNumber=localStorage.getItem("pay_phoneNumber"),allowForm=!0,Mobi.getLotteryInfo(pay_success_lotteryId,pay_success_phoneNumber,null,allowForm),localStorage.setItem("pay_lotteryId",""),localStorage.setItem("pay_phoneNumber","")),jumpUrl&&setTimeout((function(){isAction?eval(jumpUrl):window.location.href=jumpUrl}),2500)):failPayAction();case 50:case"end":return _context.stop()}}),_callee)})));return function(t){return _ref3.apply(this,arguments)}}(),Mobi.updateProductTypeList=function(t){null!=t&&0!=t&&jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"../ajax"})+"/productGroup_h.jsp?cmd=getWafNotCk_getList&fullName=true&getLevel=true",error:function(){},success:function(e){var i=jm.parseJSON(e),o=Fai.top._rootStore.getters.getModuleById(t);if(null!=o&&i.success){var n=[];jm.each(i.list,(function(t,e){0!=e.id&&n.push(e)})),o.groupListOptions.initGroupIconDatas=n;for(var a=[],r=o.groupListOptions.productGroupList,s=0;s<i.productGroupList.length;s++){var l=i.productGroupList[s];if(0!=l.id){for(var c=!0,d=0;d<r.length;d++){var m=r[d];if(m.id==l.id){m.name=l.name,m.parentId=l.parentId,a.push(m),c=!1;break}}1==c&&a.push(l)}}o.groupListOptions.productGroupList=a;var p=[],u=[];i.productGroupList.forEach((function(t){if(0!=t.id){for(var e=0;e<o.content.idList.length;e++){var i=o.content.idList[e];if(i==t.id){p.push(i);break}}u.push(t.id)}})),o.content.idList=p;for(var f=function(t){var e=o.content.catalogList[t],i=[];e.groupList.forEach((function(t){-1!=u.indexOf(t)&&i.push(t)})),i.length!=e.length&&(e.groupList=i)},h=0;h<o.content.catalogList.length;h++)f(h)}}})},Mobi.fileDownload=function(t){var e=t.fileId,i=t.mll,o=t.dat,n=t.lmgl,a=t.mol;jm.ajax({type:"get",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"../ajax"})+"/fileDownload_h.jsp?fileId=".concat(e,"&mll=").concat(i,"&dat=").concat(o,"&cmd=getWafNotCk_getDownloadInfo&lmgl=").concat(JSON.stringify(n),"&mol=").concat(a),error:function(){Mobi.ing("服务繁忙，请稍候重试",!1)},success:function(t){if(!(t=JSON.parse(t)).success){if(!1===t.login){var e="".concat(window.location.pathname).concat(window.location.search);return e=Fai.top.encodeURIComponent(e),void(document.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?returnUrl=".concat(e))}if(!1===t.auth){var i=t.visitorMemberAcct,o=t.levelLimitName,n=t.downloadAuthType,a=t.memberOnlyLevel||!1;return void(1!=n||a?(1==n&&a||2==n)&&Mobi.ing("亲爱的".concat(i,",您暂时没有权限下载该文件。"),0):Mobi.ing("亲爱的".concat(i,",您还需要升级到").concat(o,"才能下载该文件。"),0))}}var r=t.downloadUrl;r?self!==top?window.open(r):window.open(r,"_self"):Mobi.ing("当前文件已丢失",0)}})},Mobi.openLinkFlv=function(t){var e=t.flvCode,i=t.flvType,o=new RegExp("`","g");e=e.replace(o,'"'),Mobi.dialogVideo(0,{flvCode:e,flvType:i})},Mobi.dialogVideo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={t:e.flvType,iu:e.flvCode},o="cmd=getWafNotCk_getMobiVideoDialog&moduleId="+t+"&content="+jm.encodeUrl(jm.toJSON(i));jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/flv_h.jsp",data:o,success:function(t){if(0!=(t=jm.parseJSON(t)).success){var e="<div class='videoDialog' id='videoDialog'><div class=\"cancelVideo faisco-icons-\" onclick=\"Mobi.cancelVideoDialog()\"></div>"+t.data+"</div>";jm("#g_body").append(e),document.getElementById("g_body").style.overflowY="hidden"}else Fai.top._manageMode?Fai.top.Fai.ing("视频信息有误，无法正常打开，请联系管理员",!0):Mobi.ing("视频信息有误，无法正常打开，请联系管理员",!0)}})},Mobi.fixedInputFocusAutoHideFooter=function(){jm('input[type="text"], input[type="number"], input[type="password"], input[type="email"]').forEach((function(t){jm(t).off("focus.f").off("blur.f").on("focus.f",(function(){setTimeout((function(){document.activeElement==t&&(jm(".J_area_box_wrap").addClass("is_inputing"),jm("#p_footer_nav_wrap").addClass("is_inputing"))}),200)})).on("blur.f",(function(){jm(".J_area_box_wrap").removeClass("is_inputing"),jm("#p_footer_nav_wrap").removeClass("is_inputing")}))}))},Mobi.reloadFontIconOnIphone=function(){var t=/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent),e=jm("#jzBasicFontIcons");if(!Fai.top._manageMode&&jm.cookie("_checkWxLogin")&&t){var i=e.attr("href"),o=document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("href",i),o.setAttribute("id","jzBasicFontIcons"),e.remove(),console.log(1),document.head.appendChild(o)}},function(t,e){t.clearAllJumpModuleCookie=function(){var t=[/module\d+_page/,/module\d+_tabModuleId/,/module\d+_searchId/,/module\d+_search/,/module\d+_foldModuleId/];document.cookie.split(";").filter((function(e){for(var i=e.split("=")[0].trim(),o=0;o<t.length;o++){var n=i.match(t[o]);if(n&&n.length)return!0}return!1})).forEach((function(t){var i=t.split("=")[0].trim();e.cookie(i,null,{expires:-2,path:"/",domain:location.host})}))},t.jumpModuleUtils={modules:null,cookieMap:{},COOKIE_MAP_KEY:"cookie_map_key",init:function(){null==this.modules&&(this.modules=this.getDataFromLocal(this.getCurrentModuleId()),null==this.modules&&(this.modules={id:this.getCurrentModuleId(),colId:Fai.top._colInfo.id,moduleList:{},scrollY:0,time:Date.now(),expires:216e5})),this.cookieMap=this.getDataFromLocal(this.COOKIE_MAP_KEY)||{}},getDataFromLocal:function(t){var e=sessionStorage.getItem(t);return null!=e?JSON.parse(e):null},setDataToLocal:function(t,e){e.time=Date.now(),sessionStorage.setItem(t,JSON.stringify(e))},removeDataFromLocal:function(t){sessionStorage.removeItem(t)},addModule:function(t,i){this.init(),this.modules.moduleList[t]=i,this.modules.scrollY=e("html,body")[0].scrollTop||0,this.setDataToCookie(i),this.setDataToLocal(this.modules.id,this.modules),this.setDataToLocal(this.COOKIE_MAP_KEY,this.cookieMap),Fai.top._manageMode&&this.setDataToLocal("scrollPage",{colId:Fai.top._colId,scrollTop:this.modules.scrollY||0})},getModuleInfoById:function(t){if(this.init(),null!=this.modules)return this.modules.moduleList[t]},removeModuleInfoById:function(t){this.init(),null!=this.modules&&(this.modules.moduleList[t]=null,this.setDataToLocal(this.modules.id,this.modules),this.removeDataFromCookie(t),this.setDataToLocal(this.COOKIE_MAP_KEY,this.cookieMap))},getCurrentModuleId:function(){return Fai.top._colInfo.aid},setDataToCookie:function(t,i){i=i||12;var o=t.data,n=new Date;if(n.setTime(n.getTime()+60*i*60),25==t.style){var a="id"==t.data.pType;e.cookie("module"+t.moduleId+"_searchId",a,{expires:n,path:"/",domain:location.host}),e.cookie("module"+t.moduleId+"_search",a?o.id:o.name,{expires:n,path:"/",domain:location.host}),this.cookieMap[t.moduleId]=["module"+t.moduleId+"_searchId","module"+t.moduleId+"_search"]}else 6==t.style?(e.cookie("module"+t.moduleId+"_page",t.data.page,{expires:n,path:"/",domain:location.host}),this.cookieMap[t.moduleId]=["module"+t.moduleId+"_page"]):50==t.style?(e.cookie("module"+t.moduleId+"_tabModuleId",t.data.currentModuleId,{expires:n,path:"/",domain:location.host}),this.cookieMap[t.moduleId]=["module"+t.moduleId+"_tabModuleId"]):3==t.style||34==t.style?(e.cookie("module"+t.moduleId+"_page",t.data.page,{expires:n,path:"/",domain:location.host}),this.cookieMap[t.moduleId]=["module"+t.moduleId+"_page"]):58==t.style&&(e.cookie("module"+t.moduleId+"_foldModuleId",t.data.currentModuleId,{expires:n,path:"/",domain:location.host}),this.cookieMap[t.moduleId]=["module"+t.moduleId+"_foldModuleId"])},removeDataFromCookie:function(t){(this.cookieMap[t]||[]).forEach((function(t){e.cookie(t,null,{expires:-2,path:"/",domain:location.host})})),this.cookieMap[t]=[]}},window.addEventListener("onload",(function(){null==sessionStorage.getItem(Fai.top._aid)&&Mobi.clearAllJumpModuleCookie()}))}(Mobi,jm,top),Mobi.banCurPageContentCopy=function(){jm(document).ready((function(){if(!Fai.top.banCopyTextImg&&!Fai.top._manageMode){var t=jm(document);t.on("contextmenu copy cut",(function(t){return!jm(t.target).parents(".richContent").length||!!jm(t.target).is("input, textarea")&&void 0})),t.off("touchend.bc").on("touchend.bc",(function(){jm(".img_no_select").removeClass("img_no_select")})),jm(window).on("load",(function(){setTimeout((function(){jm(".richContent img").forEach((function(t){Mobi.initImgNoSelect(t),function(t){var e=["jpg","jpeg","bmp","png","gif"],i=jm(t).attr("src-original")||"",o=jm(t).attr("src")||"",n="";if(i||o){var a=i||o,r=a.includes(Fai.top._resImageRoot),s=a.includes("!"),l=Fai.top._loadingPath,c=!0;c=["faiusr.com","faisys.com","faiusrd.com"].some((function(t){return a.includes(t)}));var d=a.indexOf(".webp"),m=-1;m=-1!==d?a.lastIndexOf(".",d):a.lastIndexOf("."),n=a.substring(m+1),c&&e.includes(n)&&!r&&!s&&(a=a.slice(0,m),i&&o.includes(l)?jm(t).attr("src-original",a):o&&jm(t).attr("src",a))}}(t)}))}),1e3)}));var e=jm("head"),i=jm("\n            <style>\n            .richContent *{-webkit-touch-callout: none;-moz-touch-callout: none;-ms-touch-callout: none;touch-callout: none;-webkit-user-select: none;-moz-user-select: none;-ms-user-select: none;user-select: none;}\n            </style>");e.append(i)}}))},Mobi.banWXResizeFontSize=function(){function t(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0}),WeixinJSBridge.on("menu:setfont",(function(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0})}))}"object"==("undefined"==typeof WeixinJSBridge?"undefined":_typeof(WeixinJSBridge))&&"function"==typeof WeixinJSBridge.invoke?t():document.addEventListener("WeixinJSBridgeReady",t,!1)},jm((function(){if(Fai.top._isMall&&Fai.top._manageMode&&!Fai.top._oem){var t='<div class="mobiAdvertisement_box"><div class="mobiAdvertisement_Inner"><div class="mobiAdvertisement_title"><a class="closeImg"></a></div><a class="mobiAdvertisement_adImg" onclick="Mobi.logDog(201631,5);" style="display:block; width: auto; height: auto;"><img src="'+Fai.top._resRoot+'/image/mall/mall_daily.png?v=201903270000" alt="轻松建网站"></a></div></div>',e=!1,i=0,o="",n="";if(Fai.top._isFreeVer?(e=!0,i=1,o="_mobiFreeTips",n="_mobiFreeWindow"):50!=Fai.top._ver&&52!=Fai.top._ver||(e=!0,i=365,o="_mobiNotUltTips",n="_mobiNotUltWindow"),e){if(!jm.cookie(o)){var a=Fai.top.$(".mobiStyleDesign");a.append(t),Mobi.logDog(201631,4),a.find(".mobiAdvertisement_box").find(".closeImg").bind("click",(function(){Mobi.logDog(201631,6),jm.cookie(o,!0,{expires:i,path:"/"}),a.find(".mobiAdvertisement_box").hide()})),a.find(".mobiAdvertisement_box").find(".mobiAdvertisement_adImg").bind("click",(function(){jm.cookie(o,!0,{expires:i,path:"/"}),a.find(".mobiAdvertisement_box").hide(),window.open("//i.fkw.com/marketing/site.jsp?siteType=2")}))}if(!jm.cookie(n)){var r=Fai.top.$(".mobiStyleDesign");r.append('<div class="mobiAd"><div class="mobiAdBg"></div><div class="mobiAdContent"><div class="mobiAdImg"></div><div class="mobiAdClose"></div></div></div>'),Mobi.logDog(201631,1),r.find(".mobiAd").find(".mobiAdClose").bind("click",(function(){Mobi.logDog(201631,3),jm.cookie(n,!0,{expires:i,path:"/"}),r.find(".mobiAd").hide()})),r.find(".mobiAd").find(".mobiAdImg").bind("click",(function(){Mobi.logDog(201631,2),jm.cookie(n,!0,{expires:i,path:"/"}),r.find(".mobiAd").hide(),window.open("//i.fkw.com/marketing/site.jsp?siteType=2")}))}}}}))},126:function(t,e){Mobi.showNavItemContainer=function(){Mobi.hideNavItemContainer(),Mobi.removeNavIconPositionFix();for(var t=Mobi.getPreviewObject("navbarList"),e=Mobi.getPreviewObject("navbar"),i=t,o=parseInt(jm(e).width()),n=0,a=e.querySelectorAll(".navItem"),r=e.querySelectorAll(".itemSep"),s=jm(e),l=jm(t),c=s.offset(),d="true"===s.attr("_arrowopen")||!jm.os.supportsTouch,m=jm("#g_web")[0].offsetLeft,p=0;p<a.length;p++)n+=a[p].offsetWidth;for(var u=0;u<r.length;u++)n+=r[u].offsetWidth;if((n=n+a.length+.7*window._htmlFontSize)>o){var f=function(){var t=l.offset().left-m;Math.abs(t)+o<n&&M.css("display","block"),t>=-1&&j.css("display","none"),t<0&&j.css("display","block"),Math.abs(t)+o+1>=n&&M.css("display","none")},h=function t(e,i){var o=l.offset();jm(e).unbind(i),u>=P.length-1&&(u=P.length-2),u<1&&(u=1),I=P[u]-P[u-1],1==u&&(I-=w),u--;var n=o.left-m+I;n>0&&(n=0),l.css("transform","translate3d("+n+"px, 0px, 0px) scale(1)"),jm.setCookie("startX",n),jm.setCookie("startX_p",u),setTimeout((function(){f(),jm(e).bind(i,(function(){t(this,i)}))}),300)},g=function t(e,i){var a=l.offset();jm(e).unbind(i),u>=P.length-1&&(u=P.length-2),I=P[u+1]-P[u],0==u&&(I-=w),++u==S&&(u=S-1);var r=a.left-m-I;Math.abs(r)+o>n&&(r=0-(n-o)),l.css("transform","translate3d("+r+"px, 0px, 0px) scale(1)"),jm.setCookie("startX",r),jm.setCookie("startX_p",u),setTimeout((function(){f(),jm(e).bind(i,(function(){t(this,i)}))}),300)};navigator.appVersion.match(/MSIE [\d.]+/)&&10===parseInt(navigator.appVersion.match(/MSIE ([\d.]+)/)[1])&&(n+=2*a.length),jm(i).css("width",n+"px").removeClass("navbarList-horizontalLayout");var v=jm.getCookie("startX")?parseInt(jm.getCookie("startX")):0;if(jm.os.supportsTouch){var b=function(t,e){var i=e.wrapper.querySelector(".navTouchLeft"),o=e.wrapper.querySelector(".navTouchRight");i.style.display=t<0?"block":"none",e.maxScrollX===e.x?o.style.display="none":o.style.display="block"},_=new iScroll(e,{x:v,scrollX:!0,scrollY:!1,mouseWheel:!0,remarkXCoordinate:!0,remarkNavLeftRight:b,onScrollEnd:function(){d&&f()}});b(v,_),s.on("swipe",(function(){Mobi.hideOfficalNavSubMenu()}))}if(d){var j=jm(e).find(".navLeft"),M=jm(e).find(".navRight"),y=o-n;v<0&&(j.css("display","block"),jm(i).css("transform","translate3d("+y+"px, 0px, 0px) scale(1)")),M.css("display","block"),u=jm.getCookie("startX_p")?parseInt(jm.getCookie("startX_p")):0;var w,S=0,I=0;w=jm(r[0]).css("display")?0:jm(e).find(".itemSep").width()/2;var C=e.offsetLeft,P=[];jm(e).find(".navItem").each((function(t){P[t]=this.offsetLeft-C,S++})),M.unbind("click"),j.unbind("click"),M.on("click",(function(t){t.stopPropagation(),g(this,"click"),jm(".nav_offical_sub_menu_wrap").length>0&&Mobi.hideOfficalNavSubMenu()})),j.on("click",(function(t){t.stopPropagation(),h(this,"click"),jm(".nav_offical_sub_menu_wrap").length>0&&Mobi.hideOfficalNavSubMenu()}))}s.on("click.nav",".navItem",(function(){var t=jm(this),e=t.offset(),o=jm.os.supportsTouch?_.x:jm(i).offset().left,n=parseInt(t.width());c.right<e.right?t.closest(".nav_1_level").length<1&&jm.setCookie("startX",o-n):c.left>e.left&&t.closest(".nav_1_level").length<1&&jm.setCookie("startX",o+n)}))}jm(i).removeClass("navbarList-horizontalLayout")},Mobi.hideNavItemContainer=function(){jm(Mobi.getPreviewObject("navbarList")).removeAttr("style"),jm(Mobi.getPreviewObject("navbar")).find(".navLeft").hide(),jm(Mobi.getPreviewObject("navbar")).find(".navRight").hide()},Mobi.removeAllSwipeMenuClass=function(){function t(t){jm("#webHeaderBox").removeClass(t),jm("#webBannerBox").removeClass(t),jm("#webContainerBox").removeClass(t),jm("#customerServiceDiv").removeClass(t),jm("#webFooter").removeClass(t),jm("#bgm_icon").removeClass(t)}t("moveAnimation"),t("moveRight"),jm("#navbar").removeClass("open"),jm("#navButton").removeClass("navButtonOpen"),jm("#navExistOffPanel").removeClass("navButtonOpen")},Mobi.navSwipeMenu=function(t){var e=!1;function i(t){jm("#webBannerBox").addClass(t),jm("#webContainerBox").addClass(t),jm("#customerServiceDiv").addClass(t),jm("#webFooter").addClass(t),jm("#bgm_icon").addClass(t),jm(".J_newsBottom").addClass(t)}function o(){var o;-1!==Mobi.getPreviewObject("navbar").className.indexOf("open")?(Mobi.fixNavAnimation(),jm("#navbar").removeClass("open"),jm("#navExistOffPanel").removeClass("navPanelOpen"),jm("#navButton").removeClass("navButtonOpen"),o="moveRight",jm("#webHeaderBox").removeClass(o),jm("#webBannerBox").removeClass(o),jm("#webContainerBox").removeClass(o),jm("#customerServiceDiv").removeClass(o),jm("#webFooter").removeClass(o),jm("#bgm_icon").removeClass(o),jm(".J_newsBottom").removeClass(o),2===t&&jm("#webTop").css("height","")):(jm("#navbar").addClass("open"),jm("#navExistOffPanel").addClass("navPanelOpen"),jm("#navButton").addClass("navButtonOpen"),i("moveRight"),e||(Mobi.fixNavIconPosition(),e=!0),2===t&&jm("#webTop").css("height","100%"))}i("moveAnimation"),5!=t&&2!=t&&8!==t&&Mobi.autoSetNavBarHeight(t),Mobi.bindTouchAndClickEvent(jm("#navButton"),(function(){return o(),!1}),"show"),Mobi.bindTouchAndClickEvent(jm("#navExistOffPanel"),(function(){return o(),!1})),jm(".J_newsBottom").appendTo(jm("#g_web"))},Mobi.fixNavIconPosition=function(){var t,e,i,o,n,a=Fai.top._templateLayoutId,r=jm("#navbarList"),s=r.find(".J_imgIcon"),l=r.find(".J_fontIcon"),c=r.find(".icon-navItemIcon");Mobi.removeNavIconPositionFix(),2!=a&&4!=a&&7!=a&&5!=a||l.length<1||s.length<1||(o=jm(l[0]),t=parseFloat(l[0].offsetWidth),o.addClass("fk-fixNavIconStyle"),e=parseFloat(l[0].offsetWidth),i=parseFloat(l[0].offsetHeight),o.removeClass("fk-fixNavIconStyle"),t>e||c.each((function(t,o){n=jm(o).parent().attr("id"),Mobi.setCtrlStyleCssList("mobiStyleNav",n,[{cls:".icon-navItemIcon",key:"width",value:e+"px"},{cls:".icon-navItemIcon",key:"height",value:i+"px"}])})))},Mobi.removeNavIconPositionFix=function(){var t=jm("#navbarList").find(".icon-navItemIcon");Fai.top._manageMode&&t.each((function(t,e){var i=jm(e).parent().attr("id");Mobi.removeCtrlStyleCssList("mobiStyleNav",i,[{cls:".icon-navItemIcon",key:"width"},{cls:".icon-navItemIcon",key:"height"}])}))},Mobi.initNavSubMenu=function(t,e,i){var o=[],n=[],a=Fai.top._manageMode&&Fai.top._columnStyleJson.s||e,r=Fai.top._manageMode&&Fai.top._other.templateInfo.templatePresetIndex||i;for(var s in t)if(Object.hasOwnProperty.call(t,s)){var l=t[s];if(n.push(l.id),Fai.top._manageMode){if(l.children&&l.children.length>0)for(var c=0;c<l.children.length;c++)o.push(l.children[c].id)}else o=o.concat(l.cil)}for(var d=0;d<o.length;d++){var m=jm.inArray(o[d],n);m>=0&&n.splice(m,1)}for(var p=jm("#fixedAreaBox"),u=p.offset(),f=0;f<n.length;f++)!function(o){var s,l,c=t["nav"+n[o]],d=[];if(c.children)for(o=0;o<c.children.length;o++)d.push(c.children[o].id);else d=c.cil;var m=jm("#mallNavItem_"+c.id);m.length<1||(d.length<1?(m.find(".mallNavText").removeClass("icon-subMenuIcon"),m.off("click.subMenu")):(Fai.top._manageMode&&(m.attr("href","javascript:;"),7!=a&&3!=a||m.find(".mallNavText").addClass("icon-subMenuIcon")),m.off("click.subMenu").on("click.subMenu",(function(){if(a=Fai.top._manageMode&&Fai.top._columnStyleJson.s||e,r=Fai.top._manageMode&&Fai.top._other.templateInfo.templatePresetIndex||i,jm(".nav_sub_menu_wrap").remove(),p.data("subMenuOpen")!=c.id){l="<div class='nav_sub_menu_wrap nav_style"+a+" nav_style"+a+"_color"+r+"'>",l+="<div id='sub_menu_"+c.id+"'  class='nav_sub_menu_wrap2'>",l+="<div class='nav_sub_menu_content'>";for(var o=0;o<d.length;o++)(s=t["nav"+d[o]])&&(l+="<a class='nav_sub_menu_item' href='"+s.jumpCtrl.href+"'>"+Mobi.encodeHtml(s.name)+"</a>");l+="</div>",l+="</div>",l+="<div id='sub_menu_triangle"+c.id+"' class='nav_sub_menu_triangle'></div>",l+="</div>",jm(l).appendTo(jm("#fixedAreaBox"));var n=.9*jm("#fixedAreaBox")[0].getBoundingClientRect().top,m=jm(this),f=jm("#sub_menu_"+c.id),h=jm("#sub_menu_triangle"+c.id),g=parseFloat(h.width()),v=parseFloat(h.height()),b=parseFloat(m.offset().left)-u.left,_=parseFloat(m.width()),j=parseFloat(f[0].offsetWidth),M=p.height(),y=M.indexOf("rem")>-1?parseFloat(M.replace("rem",0)*window._htmlFontSize):parseFloat(M),w=b+(_-j)/2,S=w+f[0].offsetWidth,I=jm("body")[0].offsetWidth;if(w=w<0?0:w,w=S>I?w-(S-I):w,6==a&&jm(event.target).closest(".bigCircle").length>0){var C=p.find(".bigCircle .mallNavBtnText");y=2*parseFloat(C.css("border-right-width").replace("px",""))+parseFloat(C.height())}f.css({left:w+"px",bottom:y+"px",maxHeight:n+"px",overflowY:"auto"}),h.css({left:b+(_-g)/2+"px",bottom:2+y+v/2+"px"}),p.data("subMenuOpen",c.id)}else p.data("subMenuOpen",0)}))))}(f);jm("body").off("click.subMenu").on("click.subMenu",(function(t){jm(t.target).closest("#fixedAreaBox").length<1&&p.data("subMenuOpen")>0&&Mobi.hideNavSubMenu()}))},Mobi.hideNavSubMenu=function(){var t=jm("#fixedAreaBox");jm(".nav_sub_menu_wrap").remove(),t.data("subMenuOpen",0)},Mobi.initOfficalNavSubMenu=function(t,e,i){var o=[],n=[],a="ontouchstart"in window?"tap":"click",r=jm("#navbar"),s=jm("#navbarList"),l=jm("#navButton"),c=document.body.offsetHeight,d=Mobi.checkSubMenuType(),m=Fai.top._templateLayoutId,p=jm.getCookie("navId");for(var u in jm.cookie("navId","",{expires:-1,path:"/"}),Mobi.initOfficalSubMenu(),t)if(Object.hasOwnProperty.call(t,u)){var f=t[u];if(n.push(f.id),Fai.top._manageMode){if(f.children&&f.children.length>0)for(var h=0;h<f.children.length;h++)o.push(f.children[h].id)}else o=o.concat(f.cil)}for(var g=0;g<o.length;g++){var v=jm.inArray(o[g],n);v>=0&&n.splice(v,1)}for(var b=0;b<n.length;b++)!function(o){var l=n[o],c=t["nav"+n[o]];if(c){var d=[],m=jm("#navItem_"+n[o]);if(M(m,l),i||(m.removeClass("nav_1_level"),m.off(a+".subMenu")),Fai.top._manageMode&&!i){if(c.children&&c.children.length>0)for(var u=0;u<c.children.length;u++)d.push(c.children[u].id)}else d=d.concat(c.cil);!d||d.length<1||(m.addClass("nav_1_level"),y(m,"subMenu",(function(i){if(i.preventDefault(),r.data("subMenuOpen")!=c.id){var o,n,a=jm(this),l=Mobi.checkSubMenuType(),u="panel"!=l&&"panel2"!=l?"navItem":"",f=!1;n="<div class='nav_offical_sub_menu_wrap nav_sub_layout_"+l+" subMenu_"+Fai.top._templateFrameId+"'>","bubble"!=l&&"bubble_horizon"!=l||(n+="<div class='icon- nav_sub_menu_triangle2'></div>"),n+="<div class='nav_offical_sub_menu_wrap2'>","panel"!=l&&"panel2"!=l||(n+="<div class='parent_menu sub_menu_nav_item_wrap'><a href='javascript:;'><span class='icon-parentMenu'></span><span class='navItemName'>"+c.name+"</span></a></div>");for(var h=0;h<d.length;h++){var g=d[h],v=t["nav"+g];v&&(f||(p?p==g&&(o=g,f=!0):v.jumpCtrl&&v.jumpCtrl.info&&(100==v.jumpCtrl.info.t&&(v.jumpCtrl.info.i==Fai.top._pageId||-5==v.jumpCtrl.info.i&&6==Fai.top._pageId)||106==v.jumpCtrl.info.t&&6==Fai.top._pageId&&Fai.top._groupId==v.jumpCtrl.info.i||107==v.jumpCtrl.info.t&&7==Fai.top._pageId&&Fai.top._groupId==v.jumpCtrl.info.i||112==v.jumpCtrl.info.t&&27==Fai.top._pageId&&Fai.top._groupId==v.jumpCtrl.info.i)&&(o=g)),"bubble"==l&&"dragDown"==l||(n+="<div id='itemSep_"+g+"' class='itemSep'></div>"),n+="<div id='navItem_"+g+"' class='sub_menu_nav_item_wrap navItem_"+g+" icon-navItem "+u+"'>",n+="<a href='"+v.jumpCtrl.href+"' _colid='"+g+"' id='navbar_"+g+"'>","panel"==l||"panel2"==l?n+="<span class='icon_subMenu'></span>":"fold"!=l&&"fold2"!=l||2!=e||(n+="<span class='navItemIcon icon-navItemIcon'></span>"),n+="<span class='navItemName '>"+Mobi.encodeHtml(v.name)+"</span>",n+="</a>",n+="</div>")}if(n+="</div>",n+="</div>",Mobi.hideOfficalNavSubMenu(!0),a.addClass("subMenuOpen"),s.addClass("jz_navbar_sub_menu_open"),r.addClass("jz_navbar_sub_menu_open_1"),"fold"==l||"fold2"==l){var b=r.find(".itemSelected a").css("background-color");Mobi.setCtrlStyleCssList("mobiStyleNav","",[{cls:".subMenuOpen",key:"background-color",value:b}])}"fold"==l||"fold2"==l?jm(n).insertAfter(a):"panel"==l?s.append(n):"panel2"==l?r.append(jm(n)):"bubble"!=l&&"bubble_horizon"!=l&&"dragDown"!=l||jm("#g_web").append(jm(n));var y=jm(".nav_offical_sub_menu_wrap");if("bubble"==l||"dragDown"==l)y.addClass("is_initing"),setTimeout((function(){_(jm(".nav_offical_sub_menu_wrap"),m,l),y.removeClass("is_initing")}),200);else if("bubble_horizon"==l){j(jm(".nav_offical_sub_menu_wrap"),m);var w=jm("#webHeader"),S=jm(".nav_sub_layout_bubble_horizon"),I=jm("#navbar");if(S.length){var C=parseInt(I.height())-parseInt(w.height()),P=parseInt(S.height()),x={top:S.css("top"),left:S.css("left")};P>=C&&(x.height="100%",x.overflowY="auto"),S.css(x)}}r.data("subMenuOpen",c.id),"panel"!=l&&"panel2"!=l||(Fai.top._scrollCash=r[0].scrollTop,r[0].scrollTop=0,jm(".parent_menu").on("click.nav",(function(){Mobi.hideOfficalNavSubMenu(),r[0].scrollTop=Fai.top._scrollCash})));var k=jm("#navItem_"+o);k.addClass("fk_subMenuSelected"),k.find(".navItemName").addClass("g_mainColor");for(var L=0;L<d.length;L++){var F=d[L];M(jm("#navItem_"+F),F)}}else Mobi.hideOfficalNavSubMenu()})))}}(b);function _(t,e,i){if(!(t.length<1||e.length<1)){var o,n,a=jm("#g_web").offset(),r=e.offset(),s=a.width,l=t[0].offsetWidth,c=r.left+(r.width-l)/2-0,d=c+l-a.left,m=c-a.left<0,p=d>a.width;(m||p)&&(o=m?c-a.left:d-s),c=m?a.left+.5*window._htmlFontSize:c,c=p?c-(d-s):c,t.css({top:r.bottom+"px",left:c+"px"}),o&&(n=l/2+o,jm(".nav_sub_menu_triangle2").css("left",n+"px"))}}function j(t,e){if(!(t.length<1||e.length<1)){var i,o,n=document.documentElement.scrollTop||document.body.scrollTop,a=n+c,r=n,s=jm("#navbar").offset(),l=e.offset(),d=t.offset(),m=t[0].offsetWidth,p=l.top-(d.height-l.height)/2,u=s.left-m+1,f=p<=r,h=p+d.height>=a;f?i=-((p=window._htmlFontSize+n)+window._htmlFontSize):h&&(p-=i=p+d.height-a+.5*window._htmlFontSize),t.css({top:p-n+"px",left:u+"px"}),i&&(o=l.top-n,jm(".nav_sub_menu_triangle2").css("top",o+"px"))}}function M(t,e){var i="ontouchstart"in window?"touchend":"click",o=!1;t.find("#navbar_"+e).off(i+".navHref").on(i+".navHref",(function(){var t=jm(this),i=t.attr("href");if(!t.closest(".navItem").hasClass("nav_1_level")&&void 0!==i&&""!=i&&"javascript:;"!=jm.trim(i)){if(!o){if(event.stopPropagation(),jm.cookie("navId",e,{path:"/"}),Fai.top._manageMode){if(Fai.top.Mobi.checkSaveBar())return!1;if(-1==i.indexOf("Mobi.openLinkFlv")&&(-1!=i.indexOf("http")||-1!=i.indexOf("https")))return Fai.top.Fai.ing("管理态不支持跳转外部链接，请通过“预览”进行访问",!0),!1}return i=Mobi.fixJzmHomeIframeParam(jm(this),i),window.location.href=i,!1}o=!1}})).on("touchmove",(function(){o=!0}))}function y(t,e,i){var o=Fai.top._templateFrameId,n="ontouchstart"in window?"touchend":"click";if(1019==o||1023==o||1015==o||1024==o||1021==o||1005==o){var a="".concat(n,".").concat(e);t.off(a).on(a,i)}else Mobi.bindTapEvent(t[0],"subMenu",i)}r.find(".nav_1_level").length>0&&r.addClass("jz_subMenu_bar"),jm("body").off(a+".subMenu2").on(a+".subMenu2",(function(t){jm(t.target).closest("#navbar").length<1&&r.data("subMenuOpen")>0&&setTimeout((function(){Mobi.hideOfficalNavSubMenu()}),200)})),"bubble_horizon"==d&&r.off("scroll.subMenu").on("scroll.subMenu",(function(){r.find(".subMenuOpen").length>0&&Mobi.hideOfficalNavSubMenu()})),l.on(a+".subMenu",(function(){Mobi.hideOfficalNavSubMenu()})),jm("#navExistOffPanel").off(a+".subMenu").on(a+".subMenu",(function(){Mobi.hideOfficalNavSubMenu()})),8!=m&&6!=m&&1!=m&&0!=m||Mobi.showNavItemContainer()},Mobi.checkSubMenuType=function(t){return Fai.top._openThemeV3?function(){var e="fold";switch(t&&t.advance.routine.subMenuType){case 1:e="panel";break;case 2:e="fold";break;case 3:e="bubble_horizon";break;case 4:e="bubble";break;case 5:e="dragDown";break;case 6:e="fold2"}return e}():function(){var t="fold",e=Fai.top._templateLayoutId;switch(e){case 2:t="fold";break;case 0:case 3:case 6:t="bubble";break;case 4:t="panel";break;case 1:t="panel2";break;case 7:t="fold2";break;case 8:t="dragDown"}[1022,1006].indexOf(Fai.top._templateFrameId)>-1?t="panel":[1016,1008].indexOf(Fai.top._templateFrameId)>-1?t="bubble_horizon":[1005,1019].indexOf(Fai.top._templateFrameId)>-1?t="dragDown":[1010,1020,326].indexOf(Fai.top._templateFrameId)>-1&&(t="fold2");return t}()},Mobi.getSecMenuAnimationName=function(t){var e="";if(Fai.top._openThemeV3)switch(t&&t.advance.routine.subMenuType){case 1:e+="translationLeft"}else e+=Fai.top._templateFrameId;return e},Mobi.initOfficalSubMenu=function(t){var e=Mobi.checkSubMenuType(t),i="jz_subMenu_"+Mobi.getSecMenuAnimationName(t),o=jm("#navbar");Fai.top._openThemeV3||o.removeClass("jz_subMenu_"+t),Mobi.hideOfficalNavSubMenu(!0,t),o.removeClass("jz_subMenu_fold jz_subMenu_fold2 jz_subMenu_bubble jz_subMenu_bubble_horizon jz_subMenu_panel jz_subMenu_panel2 jz_subMenu_dragDown jz_subMenu_bar jz_subMenu_translationLeft").addClass("jz_subMenu_"+e),o.removeClass(i).addClass(i)},Mobi.hideOfficalNavSubMenu=function(t,e){var i=jm("#navbar"),o=Mobi.checkSubMenuType(e),n=Fai.top._templateLayoutId,a=Mobi.getSecMenuAnimationName(e);"fold"!=o&&"fold2"!=o||Mobi.removeCtrlStyleCssList("mobiStyleNav","",[{cls:".subMenuOpen",keu:"background-color"}]),i.removeClass("jz_navbar_sub_menu_open_1"),i.find(".subMenuOpen").removeClass("subMenuOpen"),i.find(".jz_navbar_sub_menu_open").removeClass("jz_navbar_sub_menu_open"),i.data("subMenuOpen",0),4!=n&&"translationLeft"!=a||t||e&&(3==e.layout||8==e.layout)&&"fold"==o?"panel2"!=o||t?jm(".nav_offical_sub_menu_wrap").remove():jm(".nav_offical_sub_menu_wrap").css({top:"100%"}):jm(".nav_offical_sub_menu_wrap").css({left:"100%",width:"0",height:"0"})},Mobi.fixNavAnimation=function(){if([1028,1e3].includes(Fai.top._templateFrameId)){var t=jm("#navbar");t.removeClass("banNavAnimationDelay"),t[0].scrollTop>0&&t.addClass("banNavAnimationDelay")}},Mobi.checkNavType=function(){return{isMoveRightDrawer:[1029,1016,1017,1022].includes(Fai.top._templateFrameId)}}},127:function(t,e){var i=Mobi,o=window._htmlFontSize,n=1,a=2,r=3,s=4,l=5,c=9,d={drawer:[1,2,3,4,10],suspension:[5,8,9],label:[6,7]};function m(t,e){switch(t){case"drawer":return d.drawer.indexOf(e)>-1;case"suspension":return d.suspension.indexOf(e)>-1;case"label":return d.label.indexOf(e)>-1}}function p(t){return t&&"string"==typeof t&&(t=t.replace("px","")),parseInt(t)||0}i.initMainNavV3=function(t,e,i){var o=e.layout,n=jm("#navbar"),r=jm("#navbarList"),s=jm("#navButton"),l=jm(".J_headerFixBox"),c=jm(".J_headerFixBox"),d=jm("#webBannerBox"),p=jm("#webTop"),u=jm("#webTopBox"),f=jm("#J_nav_bar_wrap"),h=m("suspension",o),g=m("drawer",o),v=jm("#webHeader_v3");p.css("height",""),r.attr("style",""),Mobi.removeAllSwipeMenuClass(),Mobi.autoSetNavBarBottomV3(o),1==o||2==o||3==o||4==o||5==o||8==o?p.append(n):6==o||7==o?1==e.advance.routine.navPos?n.prependTo(d):2==e.advance.routine.navPos&&d.append(n):10==o&&l.append(n),(h||g||7==o)&&Mobi.navSwipeMenuV3(o,e),6!=o&&10!=o||Mobi.initNavHorizonSlider(e);var b=0===t.hs.hh,_=v&&v.length&&"none"!==v.css("display");7==o?n.append(s):h?s.insertAfter(p):b&&_?s.prependTo(c):s.insertAfter(u),n.removeClass("is_initing"),s.removeClass("is_initing");var j=0!=t.hs.styleId?t.hs.styleId:i.hs.styleId;3==e.type&&t.nav.advance.routine.fixedTop&&(Mobi.scrollNavFix(j),jm(window).off("load.nav").on("load.nav",(function(){Mobi.scrollNavFix(j)}))),o==a&&(Mobi.setCtrlStyleCssList("mobiStyleNav","",[{cls:".jz_nav-drawer-halfCover .navbarV3.open",key:"height",value:parseInt(f.height())+"px"}]),Fai.top._manageMode&&(n.off("transitionend.nav webkitTransitionEnd.nav oTransitionEnd.nav otransitionend.nav MSTransitionEnd.nav").on("transitionend.nav webkitTransitionEnd.nav oTransitionEnd.nav otransitionend.nav MSTransitionEnd.nav",(function(){n.hasClass("open")&&Mobi.removeCtrlStyleCssList("mobiStyleNav","",[{cls:".jz_nav-drawer-halfCover .navbarV3.open",key:"height"}])})),s.on("click.click",(function(){n.hasClass("open")||Mobi.setCtrlStyleCssList("mobiStyleNav","",[{cls:".jz_nav-drawer-halfCover .navbarV3.open",key:"height",value:parseInt(f.height())+"px"}])}))))},i.navSwipeMenuV3=function(t,e){var i=e.advance.routine.mask.type,o=jm.os.supportsTouch?"touchstart.navE":"click.navE";function r(){var e=Mobi.getPreviewObject("navbar").className,o=jm("#navButton"),r=jm("#main_nav_mask"),c=jm("#webTop");-1!==e.indexOf("open")?Mobi.closeNavV3(t):(jm("#navbar").addClass("open"),jm("#navExistOffPanel").addClass("navPanelOpen"),o.addClass("navButtonOpen"),s("jz_navOpen"),s("moveRight"),1!==t&&2!==t&&3!=t&&4!=t&&t!=l||jm("#webTopBox").addClass("jz_navWebTopOpen"),t!=n&&t!=a||o.appendTo(c),i&&(r.length>0?r.show():(jm("<div id='main_nav_mask' class='p_main_nav_mask'></div>").prependTo(c),r=jm("#main_nav_mask"),Mobi.bindClickEvent(r,"click",(function(){Mobi.closeNavV3(t)})))))}function s(t){jm("#webHeaderBox").addClass(t),jm("#webBannerBox").addClass(t),jm("#webContainerBox").addClass(t),jm("#customerServiceDiv").addClass(t),jm("#webFooter").addClass(t),jm("#bgm_icon").addClass(t),jm("#web_header_fixed_box").addClass(t),jm("#webFooter_v3").addClass(t),jm("#J_footer_nav").addClass(t)}s("moveAnimation"),t==c&&Mobi.autoSetNavBarHeightV3(t),Mobi.bindClickEvent(jm("#navButton"),"click",(function(){return r(),!1})),jm("#navExistOffPanel").off(o).on(o,(function(){return r(),!1}))},i.closeNavV3=function(t){var e=jm("#navButton"),i=jm("#webHeader_v3"),o=jm("#main_nav_mask");function r(t){jm("#webBannerBox").removeClass(t),jm("#webContainerBox").removeClass(t),jm("#customerServiceDiv").removeClass(t),jm("#webFooter").removeClass(t),jm("#bgm_icon").removeClass(t),i.removeClass(t),jm("#J_footer_nav").removeClass(t),jm("#webFooter_v3").removeClass(t),jm("#web_header_fixed_box").removeClass(t)}jm("#navbar").removeClass("open"),jm("#navExistOffPanel").removeClass("navPanelOpen"),e.removeClass("navButtonOpen"),r("jz_navOpen"),r("moveRight"),jm("#webTopBox").removeClass("jz_navWebTopOpen"),o.hide(),i.hasClass("J_header_is_hide")||t!=n&&t!=a||e.prependTo(i.find(".J_headerFixBox"))},i.autoSetNavBarHeightV3=function(t){var e=0,i=4+parseInt(jm(Mobi.getPreviewObject("navbar")).css("bottom").replace("px","")),o=t==c,n=jm("#navbar");(jm.os.iphone?o&&(e=Mobi.getPreviewWindow().innerHeight-i):jm.os.android?(e=Mobi.getPreviewWindow().screen.height/Mobi.getPreviewWindow().devicePixelRatio-Mobi.getPreviewWindow().screenTop,o&&(e=Mobi.getPreviewWindow().innerHeight-i)):jm.os.supportsTouch||(e=Mobi.getPreviewWindow().innerHeight,o&&(e=Mobi.getPreviewWindow().innerHeight-i)),e>0)&&(o?parseInt(jm("#navbarList").height())+parseInt(jm("#navbarList").css("padding-bottom").replace("px",""))>e&&(e-=parseInt(n.css("bottom").replace("px","")),jm("#navbar").css("height",e+"px")):jm("#navbar").css("height",e+"px"))},i.autoSetNavBarBottomV3=function(t){var e,i,n,a=jm("#navbar"),r=jm("#navButton");t==c?(n=r[0].getBoundingClientRect(),e=parseInt(r.css("bottom").replace("px",""))+n.height-.6*o,i=n.left+n.width/2-.13*o,a.css("bottom",e+"px"),a.css("left",i+"px")):(r.removeAttr("style"),a.removeAttr("style"))},i.initNavButtonV3=function(t,e,i){if(t&&e){var o=t.nav,n=0==o.button?e.nav.button:o.button,a=jm("#navButton");a.removeClass("navButton-swing navButton-border navButton-circle g_nav_bgColor_v3 g_nav_bdColor_v3 g_nav_color_v3 is_fixed");for(var r=0;r<=11;r++)a.removeClass("navButton_"+r);switch(a.addClass("navButton_"+n),t.hs.hh&&1==i.type&&a.addClass("is_fixed"),n){case 2:case 4:a.addClass("g_nav_color_v3");break;case 6:a.addClass("g_nav_bdColor_v3 g_nav_color_v3");break;case 8:a.addClass("g_nav_bgColor_v3 g_nav_bdColor_v3");break;case 11:a.addClass("g_nav_bgColor_v3")}}},i.initOfficalNavSubMenuV3=function(t,e,i,n){var a=[],r=[],s="ontouchstart"in window,l=s?"touchstart":"click",c=s?"tap":"click",d=jm("#navbar"),m=jm("#navbarList"),p=jm("#navButton"),u=document.body.offsetHeight,f=Mobi.checkSubMenuType(n),h=jm.getCookie("navId");for(var g in jm.cookie("navId","",{expires:-1,path:"/"}),Mobi.initOfficalSubMenu(n),t)if(Object.hasOwnProperty.call(t,g)){var v=t[g];if(r.push(v.id),Fai.top._manageMode){if(v.children&&v.children.length>0)for(var b=0;b<v.children.length;b++)a.push(v.children[b].id)}else a=a.concat(v.cil)}for(var _=0;_<a.length;_++){var j=jm.inArray(a[_],r);j>=0&&r.splice(j,1)}for(var M=0;M<r.length;M++)!function(i){var o=r[i],a=t["nav"+r[i]];if(a){var s=[],p=jm("#navItem_"+r[i]);if(S(p,o),e||(p.removeClass("nav_1_level"),p.off(l+".subMenu")),Fai.top._manageMode&&!e){if(a.children&&a.children.length>0)for(var u=0;u<a.children.length;u++)s.push(a.children[u].id)}else s=s.concat(a.cil);!s||s.length<1||(p.addClass("nav_1_level"),p.on(c+".subMenu",(function(e){if(e.preventDefault(),d.data("subMenuOpen")!=a.id){var i,o,r=jm(this),l=Mobi.checkSubMenuType(n),c="subMenu_"+Mobi.getSecMenuAnimationName(),u="panel"!=l&&"panel2"!=l?"navItem":"",f=!1;o="<div id='main_nav_sub_menu_wrap' class='nav_offical_sub_menu_wrap nav_sub_layout_"+l+" "+c+" '>","bubble"!=l&&"bubble_horizon"!=l||(o+="<div class='icon- nav_sub_menu_triangle2'></div>"),o+="<div class='nav_offical_sub_menu_wrap2'>","panel"!=l&&"panel2"!=l||(o+="<div class='parent_menu sub_menu_nav_item_wrap'><a href='javascript:;' class='sub_nav_link'><span class='icon-parentMenu'></span><span class='navItemName'>"+a.name+"</span></a></div>");for(var g=0;g<s.length;g++){var v=s[g],b=t["nav"+v];b&&(f||(h?h==v&&(i=v,f=!0):b.jumpCtrl&&b.jumpCtrl.info&&(100==b.jumpCtrl.info.t&&(b.jumpCtrl.info.i==Fai.top._pageId||-5==b.jumpCtrl.info.i&&6==Fai.top._pageId)||106==b.jumpCtrl.info.t&&6==Fai.top._pageId&&Fai.top._groupId==b.jumpCtrl.info.i||107==b.jumpCtrl.info.t&&7==Fai.top._pageId&&Fai.top._groupId==b.jumpCtrl.info.i||112==b.jumpCtrl.info.t&&27==Fai.top._pageId&&Fai.top._groupId==b.jumpCtrl.info.i)&&(i=v)),o+="<div id='navItem_"+v+"' class='sub_menu_nav_item_wrap navItem_"+v+" icon-navItem "+u+"'>",o+="<a class='sub_nav_link' href='"+b.jumpCtrl.href+"' _colid='"+v+"' id='navbar_"+v+"'>",o+="<span class='icon_subMenu'></span>",o+="<span class='navItemName'>"+Mobi.encodeHtml(b.name)+"</span>",o+="</a>",o+="</div>")}if(o+="</div>",o+="</div>",Mobi.hideOfficalNavSubMenu(!0,n),r.addClass("subMenuOpen"),m.addClass("jz_navbar_sub_menu_open"),d.addClass("jz_navbar_sub_menu_open_1"),"fold"==l||"fold2"==l){var _=d.find(".itemSelected a").css("background-color");Mobi.setCtrlStyleCssList("mobiStyleNav","",[{cls:".subMenuOpen",key:"background-color",value:_}])}"fold"==l||"fold2"==l?jm(o).insertAfter(r):"panel"==l?m.append(o):"panel2"==l?d.append(jm(o)):"bubble"!=l&&"bubble_horizon"!=l&&"dragDown"!=l||jm("#g_web").append(jm(o));var j=jm(".nav_offical_sub_menu_wrap");"bubble"==l||"dragDown"==l?(j.addClass("is_initing"),setTimeout((function(){y(j,p,l),j.removeClass("is_initing")}),200)):"bubble_horizon"==l&&w(jm(".nav_offical_sub_menu_wrap"),p),d.data("subMenuOpen",a.id),"panel"!=l&&"panel2"!=l||jm(".parent_menu").on("click.nav",(function(){Mobi.hideOfficalNavSubMenu(!1,n)}));var M=jm("#navItem_"+i);M.addClass("fk_subMenuSelected"),M.find(".navItemName").addClass("g_mainColor");for(var I=0;I<s.length;I++){var C=s[I];S(jm("#navItem_"+C),C)}}else Mobi.hideOfficalNavSubMenu(!1,n)})))}}(M);function y(t,e,i){if(!(t.length<1||e.length<1)){var n,a,r=jm("#g_web").offset(),s=e.offset(),l=r.width,c=t[0].offsetWidth,d=s.left+(s.width-c)/2-0,m=d+c-r.left,p=d-r.left<0,u=m>r.width;(p||u)&&(n=p?d-r.left:m-l),d=p?r.left+.5*o:d,d=u?d-(m-l):d,t.css({top:s.bottom+"px",left:d+"px"}),n&&(a=c/2+n,jm(".nav_sub_menu_triangle2").css("left",a+"px"))}}function w(t,e){if(!(t.length<1||e.length<1)){var i,n,a=document.documentElement.scrollTop||document.body.scrollTop,r=a+u,s=a,l=jm("#navbar").offset(),c=e.offset(),d=t.offset(),m=t[0].offsetWidth,p=c.top-(d.height-c.height)/2,f=l.left-m+1,h=p<=s,g=p+d.height>=r;h?i=-((p=o+a)+o):g&&(p-=i=p+d.height-r+.5*o),t.css({top:p-a+"px",left:f+"px"}),i&&(n=c.top-a,jm(".nav_sub_menu_triangle2").css("top",n+"px"))}}function S(t,e){var i="ontouchstart"in window?"touchend":"click",o=!1;t.find("#navbar_"+e).off(i+".navHref").on(i+".navHref",(function(){var t=jm(this),i=t.attr("href");if(!t.closest(".navItem").hasClass("nav_1_level")&&void 0!==i&&""!=i&&"javascript:;"!=jm.trim(i)){if(!o){if(event.stopPropagation(),jm.cookie("navId",e,{path:"/"}),Fai.top._manageMode){if(Fai.top.Mobi.checkSaveBar())return!1;if(-1==i.indexOf("Mobi.openLinkFlv")&&(-1!=i.indexOf("http")||-1!=i.indexOf("https")))return Fai.top.Fai.ing("管理态不支持跳转外部链接，请通过“预览”进行访问",!0),!1}return i=Mobi.fixJzmHomeIframeParam(jm(this),i),window.location.href=i,!1}o=!1}})).on("touchmove",(function(){o=!0}))}d.find(".nav_1_level").length>0&&d.addClass("jz_subMenu_bar"),jm("body").off(l+".subMenu2").on(l+".subMenu2",(function(t){var e=jm(t.target);e.closest("#navbar").length<1&&e.closest("#qqDiv").length<1&&d.data("subMenuOpen")>0&&setTimeout((function(){Mobi.hideOfficalNavSubMenu(!1,n)}),200)})),"bubble_horizon"==f&&d.off("scroll.subMenu").on("scroll.subMenu",(function(){d.find(".subMenuOpen").length>0&&Mobi.hideOfficalNavSubMenu(!1,n)})),p.on(l+".subMenu",(function(){Mobi.hideOfficalNavSubMenu(!1,n)})),jm("#navExistOffPanel").off(l+".subMenu").on(l+".subMenu",(function(){Mobi.hideOfficalNavSubMenu(!1,n)})),6!=n.layout&&10!=n.layout||Mobi.initNavHorizonSlider(n)},i.initNavHorizonSlider=function(t){Mobi.hideNavItemContainer(),Mobi.removeNavIconPositionFix();var e,i=jm("#navbarList"),o=jm("#navbar"),n=Mobi.getPreviewObject("J_nav_bar_wrap"),a=jm(n),r=parseInt(jm(n).width()),s=0,l=n.querySelectorAll(".J_nav_item"),c=a.offset(),d="true"===o.attr("_arrowopen")||!jm.os.supportsTouch,m=jm("#g_web")[0].offsetLeft;null!=t&&6==t.layout&&jm.each(l,(function(t,e){jm(e).addClass("flexShrinkZero")}));for(var u=0;u<l.length;u++)e=window.getComputedStyle(l[u]),s+=l[u].offsetWidth+p(e.marginRight)+p(e.marginLeft);if((s+=l.length)>r){var f=function(t,e){var i=e.wrapper.querySelector(".navTouchLeft"),o=e.wrapper.querySelector(".navTouchRight");i.style.display=t<0?"block":"none",e.maxScrollX===e.x?o.style.display="none":o.style.display="block",Mobi.hideOfficalNavSubMenu()},h=function(){var t=i.offset().left-m;Math.abs(t)+r<s&&M.css("display","block"),t>=-1&&j.css("display","none"),t<0&&j.css("display","block"),Math.abs(t)+r+1>=s&&M.css("display","none")},g=function t(e,o){var n=i.offset().left-m;jm(e).unbind(o),w>=P.length-1&&(w=P.length-2),w<1&&(w=1),I=P[w]-P[w-1],w--;var a=n+I;a>0&&(a=0),i.css("transform","translate3d("+a+"px, 0px, 0px) scale(1)"),jm.setCookie("startX",a),jm.setCookie("startX_p",w),setTimeout((function(){h(),jm(e).bind(o,(function(){t(this,o)}))}),300)},v=function t(e,o){var n=i.offset().left-m;jm(e).unbind(o),w>=P.length-1&&(w=P.length-2),I=P[w+1]-P[w],++w==S&&(w=S-1);var a=n-I;Math.abs(a)+r>s&&(a=0-(s-r)),i.css("transform","translate3d("+a+"px, 0px, 0px) scale(1)"),jm.setCookie("startX",a),jm.setCookie("startX_p",w),setTimeout((function(){h(),jm(e).bind(o,(function(){t(this,o)}))}),300)};navigator.appVersion.match(/MSIE [\d.]+/)&&10===parseInt(navigator.appVersion.match(/MSIE ([\d.]+)/)[1])&&(s+=2*l.length),i.css("width",s+"px");var b=jm.getCookie("startX")?parseInt(jm.getCookie("startX")):0;if(jm.os.supportsTouch){var _=new iScroll(n,{x:b,scrollX:!0,scrollY:!1,mouseWheel:!0,momentum:!1,remarkXCoordinate:!0,remarkNavLeftRight:f,onScrollEnd:function(){d&&h()}});f(b,_)}if(d){var j=jm(n).find(".navLeft"),M=jm(n).find(".navRight"),y=r-s;b<0&&(j.css("display","block"),i.css("transform","translate3d("+y+"px, 0px, 0px) scale(1)")),M.css("display","block");var w=jm.getCookie("startX_p")?parseInt(jm.getCookie("startX_p")):0,S=0,I=0,C=n.offsetLeft,P=[];jm(n).find(".J_nav_item").each((function(t){P[t]=this.offsetLeft-C,S++})),M.unbind("click"),j.unbind("click"),M.on("click",(function(e){e.stopPropagation(),v(this,"click"),jm(".nav_offical_sub_menu_wrap").length>0&&Mobi.hideOfficalNavSubMenu(!1,t)})),j.on("click",(function(e){e.stopPropagation(),g(this,"click"),jm(".nav_offical_sub_menu_wrap").length>0&&Mobi.hideOfficalNavSubMenu(!1,t)}))}a.on("click.nav",".J_nav_item",(function(){var t=jm(this),e=t.offset(),o=jm.os.supportsTouch?_.x:i.offset().left,n=parseInt(t.width());c.right<e.right?t.closest(".nav_1_level").length<1&&jm.setCookie("startX",o-n):c.left>e.left&&t.closest(".nav_1_level").length<1&&jm.setCookie("startX",o+n)}))}i.removeClass("navbarList-horizontalLayout")},i.getMainNavLayoutId=function(){return Fai.top._manageMode?Fai.top._navSkinPattern.layout:jm("#navbar").attr("layout")},i.initFooterSubMenuV3=function(t,e){var i=[],n=[];for(var a in t)if(Object.hasOwnProperty.call(t,a)){var r=t[a];if(n.push(r.id),Fai.top._manageMode){if(r.children&&r.children.length>0)for(var s=0;s<r.children.length;s++)i.push(r.children[s].id)}else i=i.concat(r.cil)}for(var l=0;l<i.length;l++){var c=jm.inArray(i[l],n);c>=0&&n.splice(c,1)}for(var d=jm("#J_footer_nav"),m=d.offset(),p=0;p<n.length;p++)!function(i){var a,r,s=t["nav"+n[i]],l=[];if(s.children)for(i=0;i<s.children.length;i++)l.push(s.children[i].id);else l=s.cil;var c=jm("#footer_nav_"+s.id);c.length<1||(l.length<1?(c.removeClass("one_level_nav"),c.off("click.subMenu")):(Fai.top._manageMode&&(c.attr("href","javascript:;"),c.addClass("one_level_nav")),c.off("click.subMenu").on("click.subMenu",(function(){if(jm(".nav_sub_menu_wrap").remove(),d.data("subMenuOpen")!=s.id){r="<div class='nav_sub_menu_wrap'>",r+="<div id='sub_menu_"+s.id+"'  class='nav_sub_menu_wrap2'>",r+="<div class='nav_sub_menu_content'>";for(var i=0;i<l.length;i++)(a=t["nav"+l[i]])&&(r+="<a class='nav_sub_menu_item' href='"+a.jumpCtrl.href+"'>"+Mobi.encodeHtml(a.name)+"</a>");r+="</div>",r+="</div>",r+="<div id='sub_menu_triangle"+s.id+"' class='nav_sub_menu_triangle'></div>",r+="</div>",jm(r).appendTo(jm("#J_footer_nav"));var n=.9*jm("#J_footer_nav")[0].getBoundingClientRect().top,c=jm(this),p=jm("#sub_menu_"+s.id),u=jm("#sub_menu_triangle"+s.id),f=parseFloat(u.width()),h=parseFloat(u.height()),g=parseFloat(c.offset().left)-m.left,v=parseFloat(c.width()),b=parseFloat(p[0].offsetWidth),_=d.height(),j=_.indexOf("rem")>-1?parseFloat(_.replace("rem",0)*o):parseFloat(_),M=g+(v-b)/2,y=M+p[0].offsetWidth,w=jm("body")[0].offsetWidth;if(M=M<0?0:M,M=y>w?M-(y-w):M,2==(Fai.top._manageMode?Fai.top._footerNavSkinPattern:e).advance.routine.layout&&jm(event.target).closest(".is_middle").length>0){var S=d.find(".is_middle").find(".u_nav_icon_decorate");j=parseFloat(j+parseFloat(S.height()/2+.3*o))}p.css({left:M+"px",bottom:j+"px",maxHeight:n+"px",overflowY:"auto"}),u.css({left:g+(v-f)/2+"px",bottom:2+j+h/2+"px"}),d.data("subMenuOpen",s.id)}else d.data("subMenuOpen",0)}))))}(p);jm("body").off("click.subMenu").on("click.subMenu",(function(t){jm(t.target).closest("#J_footer_nav").length<1&&d.data("subMenuOpen")>0&&Mobi.hideNavSubMenu()}))},i.fixMainNavPCVisitStyle=function(t){if(Mobi.isPC()&&!Fai.top._manageMode){var e=parseInt(jm("#navbar").attr("skinid")),i=t.layout==r,o=t.layout==s,n=m("suspension",t.layout),a=m("drawer",t.layout),l=jm("#navButton"),c=jm("#navButton"),d=jm("#navbar"),p=document.querySelector("#g_web").getBoundingClientRect(),u=l.offset(),f=t.advance,h=(document.documentElement||document.body).clientWidth,g=jm("#navExistOffPanel");if(!(h<=p.width)&&(a&&(o?(l.css("left",p.width-u+"px"),l.css("margin-right","0.5rem")):(l.css("left","auto"),l.css("margin-left","0.5rem"))),i||o||n||[].includes(e)))if(n){var v=f.navBtn.pos;if(1==v.type){var b=v.left/100*p.width;c.css("left",b+p.left+"px")}1===f.routine.navPanel.t&&0==f.routine.navPanel.unit&&1===f.routine.navPanel.width.t&&d.css("left","auto")}else i?1===f.routine.navPanel.t&&0==f.routine.navPanel.unit&&1===f.routine.navPanel.width.t&&(d.css("width",f.routine.navPanel.width.width/100*p.width+"px"),d.css("left","auto"),g.css("margin-left","0")):o&&1===f.routine.navPanel.t&&0==f.routine.navPanel.unit&&1===f.routine.navPanel.width.t&&(d.css("width",f.routine.navPanel.width.width/100*p.width+"px"),d.css("right",h-p.right+"px"),g.css("margin-left","0"))}}},128:function(t,e){var i=window._htmlFontSize;Mobi.getStyle=function(t,e){var i="";return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(e=e.replace(/-(\w)/g,(function(t,e){return e.toUpperCase()})),i=t.currentStyle[e]),i},Mobi.getFrameHeight=function(t){var e=parseInt(Mobi.getStyle(t,"padding-top").replace("px",""))+parseInt(Mobi.getStyle(t,"padding-bottom").replace("px","")),i=parseInt(Mobi.getStyle(t,"margin-top").replace("px",""))+parseInt(Mobi.getStyle(t,"margin-bottom").replace("px",""));return parseInt(Mobi.getStyle(t,"border-top-width").replace("px",""))+parseInt(Mobi.getStyle(t,"border-bottom-width").replace("px",""))+i+e},Mobi.setModuleHeight2=function(t,e,o){var n=Mobi.getPreviewObject("module"+t);if(n){var a=i/(o||i),r=jm(n).attr("_modulestyle"),s=53==r;e*=a,e=parseInt(e),n.style.height=e/i+"rem";var l=n.querySelector(".formBannerTitle"+t),c=n.querySelector(".formMiddle"),d=0,m=s&&Mobi.isModuleV2(r);if(l&&"none"!=getComputedStyle(l).display&&(d=jm(n).hasClass("formStyle2")?2*i:l.offsetHeight),!m){var p=e-d-Mobi.getFrameHeight(c);c.style.height=p/i+"rem";var u=c.querySelector(".middleCenter");p-=Mobi.getFrameHeight(u);var f=c.querySelector(".formMiddleContent");p-=Mobi.getFrameHeight(f),f.style.height=p/i+"rem",f.style.overflow="hidden"}jm(n).hasClass("formStyle51")&&(c.querySelector(".J_packContentList").style.height=p/i+"rem")}},Mobi.setModuleBannerHeight2=function(t,e){if(0!==t){var o=Mobi.getPreviewObject("module"+t).querySelector(".formBannerTitle");o&&(o.style.height=e/i+"rem")}},Mobi.scrollToModule=function(t){var e=jm("#module"+t),i=Mobi.getPreviewObject("webHeaderBox"),o=0;void 0===e||e.length<1||("fixed"==jm(i).css("position")&&(o=parseInt(jm(i).height())),(document.documentElement.scrollTop?document.documentElement:document.body).scrollTop=e.offset().top-o)},Mobi.getStyle=function(t,e){var i="";return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,"").getPropertyValue(e):t.currentStyle&&(e=e.replace(/-(\w)/g,(function(t,e){return e.toUpperCase()})),i=t.currentStyle[e]),i},Mobi.getFrameHeight=function(t){var e=parseInt(Mobi.getStyle(t,"padding-top").replace("px",""))+parseInt(Mobi.getStyle(t,"padding-bottom").replace("px","")),i=parseInt(Mobi.getStyle(t,"margin-top").replace("px",""))+parseInt(Mobi.getStyle(t,"margin-bottom").replace("px",""));return parseInt(Mobi.getStyle(t,"border-top-width").replace("px",""))+parseInt(Mobi.getStyle(t,"border-bottom-width").replace("px",""))+i+e},Mobi.setModuleHeight2=function(t,e,o){var n=Mobi.getPreviewObject("module"+t);if(n){var a=i/(o||i),r=jm(n).attr("_modulestyle"),s=53==r;e*=a,e=parseInt(e),n.style.height=e/i+"rem";var l=n.querySelector(".formBannerTitle"+t),c=n.querySelector(".formMiddle"),d=0,m=s&&Mobi.isModuleV2(r);if(l&&"none"!=getComputedStyle(l).display&&(d=jm(n).hasClass("formStyle2")?2*i:l.offsetHeight),!m){var p=e-d-Mobi.getFrameHeight(c);c.style.height=p/i+"rem";var u=c.querySelector(".middleCenter");p-=Mobi.getFrameHeight(u);var f=c.querySelector(".formMiddleContent");p-=Mobi.getFrameHeight(f),f.style.height=p/i+"rem",f.style.overflow="hidden"}jm(n).hasClass("formStyle51")&&(c.querySelector(".J_packContentList").style.height=p/i+"rem")}},Mobi.setModuleBannerHeight2=function(t,e){if(0!==t){var o=Mobi.getPreviewObject("module"+t).querySelector(".formBannerTitle");o&&(o.style.height=e/i+"rem")}},Mobi.scrollToModule=function(t){var e=jm("#module"+t),i=Mobi.getPreviewObject("webHeaderBox"),o=0;void 0===e||e.length<1||("fixed"==jm(i).css("position")&&(o=parseInt(jm(i).height())),(document.documentElement.scrollTop?document.documentElement:document.body).scrollTop=e.offset().top-o)}},129:function(t,e){Mobi.msgBoardShowMsg=function(t){jm(".notice").show(),jm(".notice").html(t)},Mobi.msgBoardAddMsg=function(t,e,i){var o=jm("#reqContent").val(),n=jm("#msgBoardCaptcha").val(),a=jm(".notice").show(),r=jm(".J_msgBoardCaptcha"),s=0;if(Fai.top.isJuly3FreeUser)return Mobi.logDog(200964,4),void Mobi.msgBoardShowMsg("免费版暂不支持此功能");if(jm("input.msg_isMust").each((function(){var t=jm(this).attr("id"),e=jm(this).attr("placeholder"),i=jm(this).val();return""==i||null==i?(a.html(jm.format(LS.msgBoardInputIsEmpty,jm.encodeHtml(e))),Mobi.getPreviewObject(t).focus(),s=1,!1):("reqPhone"!=t||jm.isPhone(i))&&("reqEmail"!=t||jm.isEmail(i))?void 0:(a.html(jm.format(LS.msgBoardInputCorrect,jm.encodeHtml(e))),Mobi.getPreviewObject(t).focus(),s=1,!1)})),1==s)return!1;var l=0;if(jm("input.msg_ipt").each((function(){var t=jm(this).attr("id"),e=jm(this).attr("placeholder"),i=jm(this).val(),o=jm(this).attr("maxlength");return i.length>o?(a.html(jm.format(LS.msgBoardInputMaxLength,jm.encodeHtml(e),o)),l=1,!1):"reqPhone"==t&&i.length&&!jm.isPhone(i)||"reqEmail"==t&&i.length&&!jm.isEmail(i)?(a.html(jm.format(LS.msgBoardInputCorrect,jm.encodeHtml(e))),Mobi.getPreviewObject(t).focus(),l=1,!1):void 0})),1==l)return!1;if(null==o||""==o)return Mobi.msgBoardShowMsg(LS.msgBoardInputContent),void Mobi.getPreviewObject("reqContent").focus();if(o.length>1e4)return Mobi.msgBoardShowMsg(jm.format(LS.msgBoardInputContent2,1e4)),void Mobi.getPreviewObject("reqContent").focus();if(!r.hasClass("msgBoardCaptchaHide")&&(null==n||""==n))return Mobi.msgBoardShowMsg(LS.msgBoardInputValidateCode),void Mobi.getPreviewObject("msgBoardCaptcha").focus();Mobi.msgBoardShowMsg(LS.msgBoardDoing);var c={};jm("input.msg_ipt").each((function(){var t=jm(this).attr("id"),e=jm(this).val();c[t]=e.trim()})),c.reqContent=o,c.memberId=void 0===e?0:e,jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/msgBoard_h.jsp",data:"cmd=addWafCk_add&msgBdData="+jm.encodeUrl(jm.toJSON(c))+"&validateCode="+jm.encodeUrl(n)+"&moduleId="+jm.encodeUrl(i),error:function(){Mobi.msgBoardShowMsg(LS.js_systemError)},success:function(e){(e=jm.parseJSON(e)).success?(t?Mobi.ing(LS.msgBoardSendOkAutoOpen,1):Mobi.ing(LS.msgBoardSendOk,1),setTimeout((function(){Fai.top.location.reload()}),1500)):(1==e.errno?Mobi.msgBoardShowMsg(LS.js_captchaError):2==e.errno?Mobi.msgBoardShowMsg(LS.js_argsError):-4==e.errno?Mobi.msgBoardShowMsg(LS.msgBoardAddCountLimit):Mobi.msgBoardShowMsg(LS.js_systemError),e.needCode&&(Mobi.msgBoardShowMsg(e.msg),r.removeClass("msgBoardCaptchaHide")),e.hasFW&&(Mobi.ing(e.msg),jm(".notice").hide())),Mobi.changeValidateCode(jm("#msgBoardCaptchaImg"))}})}},130:function(t,e){Mobi.noticeLeftRightMarquee=function(t){var e={direction:"up",speed:"normal",loop:"infinite",moveout:!1,isScrolling:!1};jm.extend(e,t),"normal"==e.speed?jm.extend(e,{speed:70}):"slow"==e.speed?jm.extend(e,{speed:40}):jm.extend(e,{speed:100}),jm("#noticeMarquee"+e.id).data("options",t);for(var i=e.id,o=Mobi.getPreviewObject("noticeMarquee"+i),n=o.offsetHeight,a=o.offsetWidth,r=0,s=o.querySelectorAll(".noticeMarqueeRow>span"),l=0;l<s.length;l++)r+=s[l].offsetWidth;var c=Mobi.getPreviewObject("noticeContainer"+i),d=c.offsetWidth,m=r>d?r:d,p=e.direction,u=0,f=e.speed,h=e.isScrolling,g=e.noticeType,v=Mobi.createElementByHtml("<div id='noticeMarqueeCopy"+i+"' class='noticeMarquee' style='overflow:hidden;width:"+m+"px;' ></div>"),b="<div id='noticeMarqueeNewParent"+i+"' style='position:relative;overflow:hidden;width:"+(m+d)+"px;'></div>";if(g<=5&&g>=1)var _=Mobi.createElementByHtml("<div style='-webkit-text-size-adjust:none;position: relative;width: 100%;height:1.5rem;line-height:1.5rem;overflow: hidden;"+(4==g?"":"left: 23px;")+"'></div>");else _=Mobi.createElementByHtml("<div style='-webkit-text-size-adjust:none; position: relative; width: auto;height:70px; line-height:70px; margin-left:70px; overflow: hidden;"+(4==g?"":"left: 20px;")+"'></div>");var j=Mobi.createElementByHtml(b);function M(t,e,i,o){var n;return"left"==e?n=i?"mobi_notice_right_to_left_50":"mobi_notice_right_to_left":"right"==e&&(n=i?"mobi_notice_left_to_right_50":"mobi_notice_left_to_right"),"-webkit-animation: "+n+" "+t/o+"s linear 1s infinite;-moz-animation:    "+n+" "+t/o+"s linear 1s infinite;-o-animation:      "+n+" "+t/o+"s linear 1s infinite;animation:         "+n+" "+t/o+"s linear 1s infinite;"}o.style.width=m+"px",null!=t&&(c.appendChild(_),_.appendChild(j),j.appendChild(o),j.appendChild(v),h?v.appendChild(o.querySelector(".noticeMarqueeDiv").cloneNode(!0)):(v.style.height="20px",v.style.width=d+"px"),"left"==p?u=n:(u=0-m,!h&&h||(u=0)),o.style.left=u+"px","left"!=p&&"right"!=p||(o.style.top="0px"),function(t){"left"!=t&&"right"!=t||(j.style.position="relative",v.style.top="0px","left"==t?(h&&(j.style.width=2*m+"px",o.style.left="0px",v.style.left=m+"px"),h||(o.style.left=a+"px",v.style.left=m+d+"px")):(o.style.width=m+"px",h&&(j.style.width=2*m+"px",o.style.paddingLeft=m+"px",j.style.left=-(2*m-d+23)+"px"),h||(v.style.left=m+"px",j.style.left=-m+"px")))}(p),("left"==p||"right"==p)&&(j.scrollLeft,h&&j.setAttribute("style",j.getAttribute("style")+M(m+d,p,h,f)),h||j.setAttribute("style",j.getAttribute("style")+M(m+d,p,h,f))))},Mobi.saveNoticeMarqueeProps=function(t){null!=t&&jm("#noticeMarquee"+t.id).data("options",t),jm("#module"+t.id).on("Fai_onModuleSizeChange",(function(){Mobi.noticeMarquee(jm("#noticeMarquee"+t.id).data("options"),t.id)})),jm("#module"+t.id).on("Fai_onModulePositionChange",(function(){Mobi.noticeMarquee(jm("#noticeMarquee"+t.id).data("options"),t.id)}))},Mobi.noticeMarqueeUpDown1=function(t){var e={direction:"top",speed:"normal",stopTime:1e3};jm.extend(e,t),"fast"===e.speed?jm.extend(e,{speed:500}):"slow"===e.speed?jm.extend(e,{speed:1100}):jm.extend(e,{speed:850});var i=jm("#noticeScrollbar"+e.id+" li");if(1==i.length){var o=jm(i.get(0)),n="<li class='"+o.getAttribute("class")+"'>"+o.html()+"</li>";jm(n).insertAfter(o)}jm("#noticeScrollbar"+e.id).marquee({yScroll:e.direction,showSpeed:e.speed,pauseSpeed:e.stopTime,hoverChange:!1});var a=jm("#module"+e.id+" .formMiddleContent");a.css("overflow","hidden"),a.css("width","98%"),jm("#module"+e.id+" .formMiddleCenter").css("overflow","hidden")},Mobi.revertIcon=function(t){var e=jm("#module"+t),i=!1,o=e.find(".noticeContainer").height();0!=e.find(".noticeFontIcon").length&&(i=!0),i?e.find(".noticeFontIcon").css("font-size","21px").css("line-height",o+"px"):e.find(".noticeImg").css("width","21px").css("height","21px")},Mobi.noticeMarqueeUpDown=function(t){var e={direction:"top",speed:"normal",stopTime:1e3};jm.extend(e,t),"fast"===e.speed?jm.extend(e,{speed:500}):"slow"===e.speed?jm.extend(e,{speed:1100}):jm.extend(e,{speed:850});var i=Mobi.getPreviewObject("noticeScrollbar"+e.id);if(!(i.length<1)){var o=i.style,n=jm(i),a=i.querySelectorAll("li"),r=a.length,s="",l=a[0].getAttribute("class"),c=a[0].getAttribute("style")||"";if(1==r){var d="";if(1==r)d="<li class='"+l+"' style='"+c+"'>"+a[0].innerHTML+"<li class='"+l+"' style='"+c+"'>"+a[0].innerHTML+"</li>";else for(var m in a)d+="<li class='"+l+"' style='"+c+"'>"+a[m].innerHTML+"</li>";n.append(jm(d))}else"top"==e.direction?(s="<li class='"+l+"' style='"+c+"'>"+a[r-1].innerHTML+"</li>",i.insertBefore(jm(s)[0],i.getElementsByClassName("scrollbarLi")[0])):(s="<li class='"+l+"' style='"+c+"'>"+a[0].innerHTML+"</li>",n.append(s));a=i.querySelectorAll("li"),o[jm.feat.cssPrefix+"TransitionProperty"]="top",o[jm.feat.cssPrefix+"TransitionTimingFunction"]="ease",i.parentNode.style.height=a[0].offsetHeight+"px";for(var p=[],u=0;u<a.length;u++)p[u]=a[u].offsetTop;"top"==e.direction&&p.reverse(),i.style.top=-p[0]+"px",Mobi.noticeMarqueetimeIds=Mobi.noticeMarqueetimeIds||{};var f=Mobi.noticeMarqueetimeIds["scroll"+e.id];f>=0&&clearTimeout(f);var h=p.length-1,g=p.length,v=e.speed+"ms",b=0,_=jm.feat.cssPrefix+"TransitionDuration";a.length>1&&function t(){h<g?(h?(o[_]=v,b=e.stopTime+e.speed):(o[_]="0ms",b=25),o.top=-p[h]+"px",h++):(h=0,b=0);Mobi.getPreviewWindow().Mobi.noticeMarqueetimeIds["scroll"+e.id]=setTimeout(t,b)}()}},Mobi.noticeUpDownSizeChange=function(t){var e=jm("#noticeMarquee"+t),i=e.height(),o=e.children().children();jm.each(o,(function(t,e){jm(e).css("top",-(i+2)+"px")})),jm("#noticeScrollbar"+t).removeData("_innerHeight")}},131:function(t,e){Mobi.siteFormAdd=function(t,e,i,o,n){var a=[],r=i,s=!0,l=o,c=jm("#M"+t+"F"+e+"siteFormValidateCode"),d=c.val(),m=[],p=jm("#M"+t+"F"+e+"siteFormAddButton");if(r.length>0&&jm.each(r,(function(i,o){if(o.hide)return!0;var n=o.id,r=o.name,l=o.must,c=o.type,d=o.openAreaCode,p={};p.id=n,p.type=c;var u=jm.parseJSON(o.wordLimit);if(0==c){var f=jm("#M"+t+"F"+e+"siteFormInput"+n).val();if(l&&""==f)return Mobi.ing(jm.format(LS.siteFormSubmitInputIsEmpty,jm.encodeHtml(r))),s=!1,!1;var h=100,g=0;if(void 0!==u&&null!=u&&1==u.o&&(h=u.a,g=u.i),f.length>h)return Mobi.ing(jm.format(LS.siteFormSubmitInputMaxLength,jm.encodeHtml(r),h)),s=!1,!1;if(f.length<g)return Mobi.ing(jm.format(LS.siteFormSubmitInputMinLength,jm.encodeHtml(r),g)),s=!1,!1;p.val=f}else if(1==c){var v=jm("#M"+t+"F"+e+"siteFormTextArea"+n).val();if(l&&""==v)return Mobi.ing(jm.format(LS.siteFormSubmitInputIsEmpty,jm.encodeHtml(r))),s=!1,!1;if(v.length>1e3)return Mobi.ing(jm.format(LS.siteFormSubmitInputMaxLength,jm.encodeHtml(r),1e3)),s=!1,!1;p.val=v}else if(2==c){var b=document.querySelectorAll("input[name='M"+t+"F"+e+"siteFormRadioR"+n+"']:checked");if(l&&0==b.length)return Mobi.ing(jm.format(LS.siteFormSubmitCheckIsEmpty,jm.encodeHtml(r))),s=!1,!1;b.length>0?p.val=b[0].value:p.val=""}else if(3==c){var _=document.querySelectorAll("input[name='M"+t+"F"+e+"siteFormCheckboxR"+n+"']:checked");if(l&&0==_.length)return Mobi.ing(jm.format(LS.siteFormSubmitCheckIsEmpty,jm.encodeHtml(r))),s=!1,!1;for(var j=[],M=0;M<_.length;M++)j.push(_[M].value);p.val=j.join("\n")}else if(4==c){var y=document.getElementById("M"+t+"F"+e+"siteFormSelect"+n),w=y.options[y.selectedIndex].value;if(l&&(0==w.length||"none"==w))return Mobi.ing(jm.format(LS.siteFormSubmitCheckIsEmpty,jm.encodeHtml(r))),s=!1,!1;p.val=w}else{if(5==c)return!0;if(6==c){f=jm("#Mobi"+t+"Calendar"+n+"Pluginsinput").val();var S=o.dateSetting?o.dateSetting.type:0,I=1==S?jm("#Mobi"+t+"Calendar"+n+"Plugins_endinput").val():"";if(l&&(""==f||1==S&&""==I))return Mobi.ing(jm.format(LS.siteFormSubmitCheckIsEmpty,jm.encodeHtml(r))),s=!1,!1;f=1==S?f+" 至 "+I:f,p.val=f}else if(7==c){var C=jm("#module"+t).find("#siteForm"+t+"fileName"+n),P={};if(l&&""==C.attr("_tmpFileId"))return Mobi.ing("请选择文件上传"),s=!1,!1;""==C.attr("_tmpFileId")?p.val="":(p.val=C.attr("_fileId"),P.tmpFileName=C.attr("_tmpFileName"),P.fileId=p.val,P.tmpFileId=C.attr("_tmpFileId"),P.fileType=Number(C.attr("_type"),0),P.fileWidth=Number(C.attr("_width"),0),P.fileHeight=Number(C.attr("_height"),0),m.push(P))}else if(8==c){var x=jm("#M"+t+"F"+e+"siteFormPhoneInput"+n).val(),k=o.phoneNumberLength;k||(k="7-11");var L=k,F=k;if(-1!=k.indexOf("-")){var T=k.split("-");L=T[0],F=T[1]}if(l){if(""==x)return Mobi.ing(jm.format(LS.siteFormSubmitInputIsEmpty,jm.encodeHtml(r))),s=!1,!1;if(!jm.isLimitedRangeNationMobile(x,L,F))return Mobi.ing(jm.format(LS.newMobileNumRegular,k)),s=!1,!1}else if(""!=x&&!jm.isLimitedRangeNationMobile(x,L,F))return Mobi.ing(jm.format(LS.newMobileNumRegular,k)),s=!1,!1;if(d){var A=jm("#M"+t+"F"+e+"siteFormSelectPhoneCT"+n).val();p.val=A+x}else p.val=x}else if(9==c){var B=jm("#M"+t+"F"+e+"siteFormMailInput"+n).val();if(l){if(""==B)return Mobi.ing(jm.format(LS.siteFormSubmitInputIsEmpty,jm.encodeHtml(r))),s=!1,!1;if(!jm.isEmail(B))return Mobi.ing(jm.format(LS.memberSignupUserAddItemCorrect,jm.encodeHtml(r))),s=!1,!1}else if(""!=B&&!jm.isEmail(B))return Mobi.ing(jm.format(LS.memberSignupUserAddItemCorrect,jm.encodeHtml(r))),s=!1,!1;p.val=B}else if(10==c){var D=jm("#M"+t+"F"+e+"siteFormIndentityInput"+n).val();if(l){if(""==D)return Mobi.ing(jm.format(LS.siteFormSubmitInputIsEmpty,jm.encodeHtml(r))),s=!1,!1;if(!jm.isCardNo(D))return Mobi.ing(jm.format(LS.memberSignupUserAddItemCorrect,jm.encodeHtml(r))),s=!1,!1}else if(""!=D&&!jm.isCardNo(D))return Mobi.ing(jm.format(LS.memberSignupUserAddItemCorrect,jm.encodeHtml(r))),s=!1,!1;p.val=D}else if(11==c){var O=jm("#M"+t+"F"+e+"siteFormAddressInput"+n).val();if(l&&""==O)return Mobi.ing(jm.format(LS.siteFormSubmitInputIsEmpty,jm.encodeHtml(r))),s=!1,!1;p.val=O}}a.push(p)})),!s)return!1;if(l&&""==d)return Mobi.ing(jm.format(c.attr("msg"))),s=!1,!1;if("提交中..."!=p.find("input")[0].value){p.css("opacity","0.5"),p.find("input")[0].value="提交中...",p.attr("disabled",!0),Mobi.ing(LS.siteFormSubmitIng,-1);var u=Fai.top._colInfo.id;jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mobiForm_h.jsp",data:"cmd=addWafCk_addSubmit&formId="+e+"&submitContentList="+jm.encodeUrl(jm.toJSON(a))+"&vCodeId="+t+e+"&validateCode="+d+"&tmpFileList="+jm.encodeUrl(jm.toJSON(m))+"&id="+t+"&colId="+u,error:function(){Mobi.ing(LS.js_systemError,2)},success:function(i){if((i=jm.parseJSON(i)).success)Mobi.ing(LS.siteFormSubmitOk,1),Mobi.resertForm(i.formHtml.id,i.formHtml.div),setTimeout((function(){n||window.location.reload(),location.href=n}),2500);else{if(i.hasFW)return void Mobi.ing(i.msg);-4==i.rt?Mobi.ing(LS.siteFormSubmitCountLimit):-20==i.rt?Mobi.ing(i.msg):-28==i.rt?Mobi.ing(LS.hasSubmitThisSiteForm):-401==i.rt?(Mobi.ing(LS.siteFormSubmitValidateCodeErr),jm("#M"+t+"F"+e+"siteFormValidateCode").val(""),Mobi.siteFormValidation(e,t)):-302==i.rt?Mobi.ing(LS.siteFormSubmitNotLogin+LS.login+LS.period):Mobi.ing(LS.js_systemError,2),i.needCode&&(Mobi.ing(i.msg),jm("#module"+t+" .J_formValidation").removeClass("siteFormValidationHide")),p.css("opacity","1"),p.find("input")[0].value="提交",p.attr("disabled",!1)}}})}},Mobi.siteFormNotLogin=function(){var t=LS.siteFormSubmitNotLogin+LS.login+LS.period;Mobi.ing(t)},Mobi.siteFormValidation=function(t,e){jm("#M"+e+"F"+t+"validateCodeImg").attr("src","validateCode.jsp?"+parseInt(1e3*Math.random())+"&vCodeId="+e+t)},Mobi.siteFormFileUpload=function(t,e,i,o,n,a,r,s){var l=jm(".uploadify-button").height(),c=jm(".uploadify-button").width(),d=jm(".uploadify-button").css("font-size"),m={file_post_name:"Filedata",upload_url:"/ajax/upsiteimg_h.jsp",button_placeholder_id:"siteForm"+n+"fileUpload"+i,file_size_limit:e+"MB",button_image_type:5,button_height:l,button_width:c,button_text:"<span class='fk_m_btText'>"+s+"</span>",button_text_style:".fk_m_btText{text-align:center;font-family: 微软雅黑; color: #666666;font-size:"+d+"}",button_text_top_padding:10,file_queue_limit:1,requeue_on_error:!1,post_params:{ctrl:"Filedata",app:21,type:0,isSiteForm:!0},file_types:a.join(""),file_dialog_complete_handler:function(){this._allSuccess=!1,this.startUpload()},file_queue_error_handler:function(t,e){switch(e){case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:Mobi.ing(LS.siteFormSubmitCheckFileSizeErr,!0);break;case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:Mobi.ing("不允许的文件类型",!0);break;case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:Mobi.ing("一次只能上传一个文件",!0);break;default:Mobi.ing("请重新选择文件上传。",!0)}},upload_success_handler:function(t,e){var o=jQuery.parseJSON(e);this._allSuccess=o.success,this._sysResult=o.msg,o.success?(setTimeout((function(){Mobi.ing("文件上传成功",!0)}),2e3),Mobi.onFileUploadEvent("upload",o,n,i)):Mobi.ing("文件"+t.name+"，"+o.msg)},upload_error_handler:function(t,e){-280==e?Mobi.ing("文件取消成功",!1):-270==e?Mobi.ing("已经存在名称为"+t.name+"的文件。",!0):Mobi.ing("服务繁忙，文件"+t.name+"上传失败，请稍候重试。")},upload_complete_handler:function(t){t.filestatus==SWFUpload.FILE_STATUS.COMPLETE?setTimeout((function(){swfObj.startUpload()}),swfObj.upload_delay):t.filestatus==SWFUpload.FILE_STATUS.ERROR&&Mobi.ing("服务繁忙，文件"+t.name+"上传失败，请稍候重试。")},upload_start_handler:function(){Mobi.ing("读取文件准备上传",!1)},view_progress:function(t,e,i,o){100==(o=Math.ceil(e/i*100))?Mobi.ing("正在上传"+o+"%",!0):Mobi.ing("正在上传"+o+"%",!1)}},p=document.createElement("script");p.type="text/javascript",p.src=t,p.onload=function(){var t=document.createElement("script");t.src=r,t.type="text/javascript",u.appendChild(t),t.onload=function(){swfObj=SWFUploadCreator.create(m),jm(".swfupload").css("vertical-align","middle")}};var u=document.documentElement||document.body;u.appendChild(p)},Mobi.siteFormFileUploadHtml=function(t,e,i,o,n,a,r,s,l,c,d){var m={siteFree:a,updateUrlViewRes:"updateUrlViewRes",auto:!0,fileTypeExts:i.join(""),multi:!1,fileSizeLimit:1024*r*1024,breakPoints:!0,fileSplitSize:20971520,saveInfoLocal:!1,showUploadedPercent:!0,showUploadedSize:!0,removeTimeout:9999999,post_params:{app:21,type:0,fileUploadLimit:r},isBurst:!1,isDefinedButton:!0,buttonText:d,getFileSizeUrl:"//"+c+"/ajax/advanceUpload.jsp?cmd=wafNotCk_getUploadSize",uploader:"//"+c+"/ajax/advanceUpload.jsp?cmd=wafNotCk_mobiupload",onUploadSuccess:function(i,o){var n=jQuery.parseJSON(o);n.success?(p({status:"end",id:i.id,title:"上传成功。"}),Mobi.onFileUploadEvent("upload",n,e,t),setTimeout((function(){Mobi.ing("文件上传成功",!0)}),2500)):(p({status:"end",id:i.id,title:n.msg}),Mobi.ing("文件:"+i.name+"，"+n.msg))},onUploadError:function(t){jm("#progressBody_ "+t.id).remove(),jm("#progressWrap_"+t.id).remove(),Mobi.ing("网络繁忙，文件:"+t.name+"上传失败，请稍后重试")},onSelect:function(){return!o||(Mobi.ing("已超过资源库容量限制，请升级网站版本。"),!1)},view_progress:function(t){100==(t=Math.ceil(t))?Mobi.ing("正在上传"+t+"%",!0):Mobi.ing("正在上传"+t+"%",!1,!0)}};function p(t){if("start"==t.status){var e=['<div id="progressBody_'+t.id+'" class="bodyDisable"></div>','<div id="progressWrap_'+t.id+'" class="bodyProgressWrap">','<div class="progressCenter"></div>','<div class="progressIngBody">','<div id="progressTitle'+t.id+'" class="progressIngTitle">'+t.title+"</div>",'<div class="progressIngMission">','<div class="mission"><div id="progress'+t.id+'" class="progress" style="width:1%;"></div></div>','<div id="progressNum'+t.id+'" class="progressNum">0%</div>',"</div>",'<div class="progressInfo"><span id="progressTips'+t.id+'" class="progressFileSize"></span><a class="progressCancel" href="javascript:uploadCancel(\''+t.id+"');\">取消</a></div>","</div>","</div>"];jm("body").append(e.join(""))}else"ing"==t.status?(jm("#progressTitle"+t.id).text(t.title),jm("#progress"+t.id).css("width",Math.round(t.percent)+"%"),jm("#progressNum"+t.id).html(Math.round(t.percent)+"%")):"end"==t.status?(jm("#progressTitle"+t.id).text(t.title),jm("#progressBody_"+t.id).remove(),jm("#progressWrap_"+t.id).remove()):"error"==t.status&&jm("#progress"+t.id).addClass("progressError")}var u=document.createElement("script");u.type="text/javascript",u.src=s,u.onload=function(){var i=document.createElement("script");i.src=l,i.type="text/javascript",f.appendChild(i),i.onload=function(){window.upload=jm("#uploadButton"+e+t).uploadify(m)}};var f=document.documentElement||document.body;f.appendChild(u)},Mobi.onFileUploadEvent=function(t,e,i,o){if("upload"==t){var n=e.id,a=e.name,r=e.type||0,s=e.fileId,l=e.width||0,c=e.height||0;jm("#module"+i).find("#siteForm"+i+"fileName"+o).html(a),jm("#module"+i).find("#siteForm"+i+"fileName"+o).attr("_tmpFileId",n).attr("_tmpFileName",a).attr("title",a).attr("_fileId",s).attr("_width",l).attr("_height",c).attr("_type",r)}},Mobi.fixMobiFormDropdownItem=function(t,e,i){jm(jm("#M"+t+"F"+e+"siteFormSelect"+i).find("option")[0]).hide()},Mobi.fixIphoneStyle=function(t,e){navigator.userAgent.indexOf("iPhone")>-1&&jm("#module"+e).find(".F"+t+"siteFormItemShowVal").find("select").css({width:"85%",height:"2rem"})};var i=function(t){if(!(void 0===t||t.length<1)){var e,i=document.scripts,o=!1;for(e=i.length-1;e>=0;e--)if((i[e].getAttribute("src")||"")==t){o=!0;break}return o}};Mobi.loadScript=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,o=arguments.length>2?arguments[2]:void 0;try{var n=function(t,e){t.onerror=t.onload=t.onreadystatechange=function(i){i=i||window.event,t.readyState&&!/loaded|complete/.test(t.readyState)&&"error"!==i.type||("load"===i.type&&"function"==typeof e&&e(),document.write=r,setTimeout((function(){a=t=t.onerror=t.onload=t.onreadystatechange=null}),500))}};if(i(t))return void("function"==typeof o&&o());var a=e,r=document.write,s=document.createElement("script");document.write=function(t){if(/script/.test(t)){var e=document.createElement("script"),i=$(t).attr("src");e.type="text/javascript",e.src=i,n(e,o),a.insertBefore(e,a.firstChild)}else $(t).length&&a.insertBefore($(t)[0],a.firstChild),!$(t).length&&(a.innerText=t)},s.type="text/javascript",s.src=t,n(s,o),a.insertBefore(s,a.firstChild)}catch(t){console.log(t)}},Mobi.siteFormSelectArea=function(t,e,i,o,n){var a,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){};if(window.site_cityUtil){a=2052==o||1028==o?site_cityUtil.getProvince():site_cityUtil.getProvinceEn();var s=new MobileSelectArea;s.init({level:n,lcid:o,trigger:"#M"+i+"F"+e+"siteFormAddressInput"+t,value:jm("#M"+i+"F"+e+"siteFormAddressInput"+t).data("value"),data:a,eventName:"click",init:0,callback:r})}else Mobi.loadScript(Fai.top._manageMode?top._cityJsLink:window._cityJsLink,document.body,(function(){a=2052==o||1028==o?site_cityUtil.getProvince():site_cityUtil.getProvinceEn(),(new MobileSelectArea).init({level:n,lcid:o,trigger:"#M"+i+"F"+e+"siteFormAddressInput"+t,value:jm("#M"+i+"F"+e+"siteFormAddressInput"+t).data("value"),data:a,eventName:"click",init:0,callback:r})}))},Mobi.siteFormPhoneValidate=function(t,e){var i,o,n;0!==(i=t?jm("#module"+t).find("#"+e):jm("#"+e)).length&&(i.keydown((function(t){return(n=t.which)>47&&n<58||n>95&&n<106||37===n||39===n||8===n})),i.keypress((function(t){return(n=t.which)>47&&n<58||n>95&&n<106})),i.on("input",(function(t){var e=t.target.value;8!==n&&(e&&e.length>11&&(t.target.value=e.slice(0,11)),e||(t.target.value=null==o?"":o)),e=null,o=t.target.value,n=0})),i.keyup((function(t){var e=jm(this);e.off("mousewheel.disabledScroll").on("mousewheel.disabledScroll",(function(t){t.preventDefault()})),e.get(0).addEventListener("DOMMouseScroll",(function(t){t.preventDefault()}),!1),38!=t.keyCode&&40!=t.keyCode||t.preventDefault()})))},Mobi.initmobiFormTimeBtn=function(t){var e,i,o,n,a=jm("#webFooterBox"),r="#Mobi"+t.moduleId+"Calendar"+t.siteFormItemId+"Plugins",s=jm(r),l=t.dateSetting,c=JSON.parse(JSON.stringify(l.od.unSelectDay)).sort(),d=0==l.type&&1==l.accuracy,m=1==l.type,p=new Date,u=new Date(p.getFullYear(),p.getMonth(),p.getDate()),f=[{elem:s,isStart:!0}];if(m)o="#Mobi"+t.moduleId+"Calendar"+t.siteFormItemId+"Plugins_end",f.push({elem:jm(o),isStart:!1});else for(var h=0;h<24;h++)if(-1==jm.inArray(h,l.ot.unSelectTime)){n=h;break}for(h=0;h<f.length;h++)!function(e){var i=f[e],o=i.isStart,r=i.elem,s=m?o?"fk-datePickStart":"fk-datePickEnd":"",p=1==l.od.t&&1==l.banPassDate?u:new Date(1900,0,1),g="";m&&(g="<div class='fk-calendarNav'>".concat(o?LS.js_select_start_date:LS.js_select_end_date,"</div>")),r.Calendar({inputExtClass:s,minDate:p,yearChangeable:t.yearChangeable,monthChangeable:t.monthChangeable,slideAble:!0,placeholder:t.placeholder,showHour:d,minHour:n||0,drawNavHeaderHtml:g,onBeforeInitCalendar:function(t){t._container.hasClass("fk-startDateInput")&&(t._option("minDate",p),t._option("maxDate",null)),t._input[0].blur(),a.addClass("fk-datepickerContainer")},onBeforeCancel:function(t){var e;m&&o&&(e=t.getTargetOption(t._container[0].id+"_end"))._hideDate(e._container,e)},beforeShowTime:function(t){return!(l.ot.unSelectTime.length>0&&jm.inArray(t,l.ot.unSelectTime)>-1)},beforeShowDay:function(t){return v(t)},onAfterRefresh:function(t){m&&(t._container.find(".ui-state-active").addClass("ui-state-active-hide"),o||t._container.find("td").not(".ui-calendar-unSelectable").eq(0).find(".ui-state-default").addClass("ui-calendar-startDate"))},onSelectDate:function(t,e){if(m){var i,o,n,a,r,s=t.replace(/-/g,"/"),d=new Date(s),u=new Date(d.getFullYear(),d.getMonth(),d.getDate()).getTime(),f={minDate:p,maxDate:null},g=e._container.hasClass("fk-startDateInput");if(g&&(f.minDate=d,1==l.banAll||1==l.banHoliday||c.length>0))for(h=1;h<365;h++)if(!v(r=new Date(u+864e5*h))){f.maxDate=r;break}g?(a="string"==typeof(n=(i=e.getTargetOption(e._container[0].id+"_end"))._input.val())?n.replace(/-/g,"/"):"",(o=new Date(a).getTime())&&(f.minDate&&o<f.minDate.getTime()||f.maxDate&&o>f.maxDate.getTime())&&i._input.val("")):i=e.getTargetOption(e._container[0].id.replace("_end","")),i&&(i._option("minDate",new Date(f.minDate)),i._option("maxDate",null!=f.maxDate?new Date(f.maxDate):null),i.switchMonthTo(e._options._selectedMonth,e._options._selectedYear),i.refresh())}},onAfterSelectDate:t.onAfterSelectDate||function(){},onAfterHidePicker:function(){(m&&!o||!m)&&(a.removeClass("fk-datepickerContainer"),t.onAfterHidePicker&&t.onAfterHidePicker())}})}(h);function g(t,e,i){var o,n;n=jm("<div class='fk-dateInputMaskWrap'></div>"),o=jm("<div class='fk-dateInputMask'></div>"),n.insertAfter(t),n.append(t),n.append(o),o.on("click",(function(){jm(e+"input").trigger("click"),jm(i+"input").trigger("click")}))}function v(t){var e=!0,i=t.getDay(),o=t.getTime();return 0==l.od.t||(1==l.banAll&&(e=!1),0!=i&&6!=i||(e=1!=l.banHoliday),l.banSingleDateList&&l.banSingleDateList.length&&1==l.od.t&&jm.inArray(i,l.banSingleDateList)>-1&&(e=!1),1==l.od.t&&jm.inArray(o,l.od.unSelectDay)>-1&&(e=!1),1==l.od.t&&jm.inArray(o,l.od.openDay)>-1&&(e=!0),e)}m&&(i=jm(o+"input"),e=jm(r+"input"),jm("#Mobi"+t.moduleId+"CalendarInput"+t.siteFormItemId).insertBefore(i),g(e,o,r),g(i,o,r))},Mobi.resertForm=function(t,e){var i=jm(Mobi.getPreviewObject("module"+t));i.children("div.formBannerMore").remove(),i.children("div.formBannerTitle, div.formMiddle").remove().end().prepend(e)},Mobi.changeMobileCt=function(t,e){var i=jm(Mobi.getPreviewObject(t)),o=jm(Mobi.getPreviewObject(e));i.on("change",(function(t){var e=t.target.value,n=i.find("option[value='"+e+"']").html();o.html(n.substring(n.indexOf("+")))}))}},132:function(t,e){Mobi.voidFun=function(){},Mobi.codeInsert=function(t,e){t=(t=Mobi.decodeHtml(t)).replace(/document.write/g,"Mobi.voidFun");var i=document.createElement("script");i.type="text/javascript";try{i.appendChild(document.createTextNode(t))}catch(e){i.text=t}if(1==e)document.body.appendChild(i);else if(2==e){(document.head||document.getElementsByTagName("head")[0]).appendChild(i)}},Mobi.decodeHtml=function(t){return t&&t.replace?t.replace(/&nbsp;/gi," ").replace(/&lt;/gi,"<").replace(/&gt;/g,">").replace(/&#92;/gi,"\\").replace(/&#39;/gi,"'").replace(/&quot;/gi,'"').replace(/<br\/>/gi,"\n").replace(/&amp;/gi,"&"):t}},133:function(module,__webpack_exports__,__webpack_require__){"use strict";var _jz_biz_shared__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_jz_biz_shared__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_jz_biz_shared__WEBPACK_IMPORTED_MODULE_0__),Fuc;function ownKeys(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(i),!0).forEach((function(e){_defineProperty(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var o,n,a=[],r=!0,s=!1;try{for(i=i.call(t);!(r=(o=i.next()).done)&&(a.push(o.value),!e||a.length!==e);r=!0);}catch(t){s=!0,n=t}finally{try{r||null==i.return||i.return()}finally{if(s)throw n}}return a}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){s=!0,a=t},f:function(){try{r||null==i.return||i.return()}finally{if(s)throw a}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function asyncGeneratorStep(t,e,i,o,n,a,r){try{var s=t[a](r),l=s.value}catch(t){return void i(t)}s.done?e(l):Promise.resolve(l).then(o,n)}function _asyncToGenerator(t){return function(){var e=this,i=arguments;return new Promise((function(o,n){var a=t.apply(e,i);function r(t){asyncGeneratorStep(a,o,n,r,s,"next",t)}function s(t){asyncGeneratorStep(a,o,n,r,s,"throw",t)}r(void 0)}))}}function timestamp2FormatDate(t){var e=new Date(t),i=e.getFullYear(),o=e.getMonth()+1,n=e.getDate();return"".concat(i,"-").concat(o<10?"0"+o:o,"-").concat(n<10?"0"+n:n)}Mobi.storageReturnUrl=function(t){t.match(/login.jsp$/)||localStorage.setItem("returnUrl",jm.encodeUrl(t))},Mobi.loadReturnUrl=function(t){t=jm.decodeUrl(t);var e=localStorage.getItem("returnUrl");e=jm.decodeHtml(e),localStorage.removeItem("returnUrl");var i=!1;-1!=t.indexOf("?")&&(i=!0),document.location.href=e?i?t+"&returnUrl="+e:t+"?returnUrl="+e:i?t+"&noReturn=true":t+"?noReturn=true"},Mobi.loadReturnUrlForLogin=function(t){t=jm.decodeUrl(t);var e=localStorage.getItem("returnUrl");e=jm.decodeHtml(e),localStorage.removeItem("returnUrl");var i=!1;-1!=t.indexOf("?")&&(i=!0),i&&(t=t.replace(/\+/g,"%2B")),document.location.href=e?i?t+"&returnUrl="+e:t+"?returnUrl="+e:i?t+"&noReturn=true":t+"?noReturn=true"},Mobi.mobileFastLoginToggle=function(){jm(".forAcctLogin").hide(),jm(".forFastLogin").show(),jm(".forFastLogin").css("display","inline-block")},Mobi.acctLoginToggle=function(){jm(".forAcctLogin").show(),jm(".forFastLogin").hide(),jm(".forAcctLogin").css("display","inline-block")},Mobi.loginAcquireCode=function(){var t=jm("#acquirerInput").val();return!(Mobi.isNull(t)||!t)&&(jm.isMobile(t)?void jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=wafNotCk_sendMobileLoginCode",data:"memName="+jm.encodeUrl(t)+"&new=true",error:function(){Mobi.ing(LS.js_systemError)},success:function(t){(t=jm.parseJSON(t)).success?(Mobi.loginAcquireCodeCountdown(60),jm("#memCodeSign").val(t.mobileCodeSign),Fai.top.tmpMobileCodeSgin=t.mobileCodeSign):t.argErr?Mobi.ing(LS.memberDialogSendMobileClose):t.apiKeyNotFound?Mobi.ing(LS.memberDialogYunPianErr):t.tplNotFound?Mobi.ing(LS.memberDialogMobileTplErr):t.notFound?Mobi.ing(LS.memberDialogNotFound):t.limitOne?Mobi.ing(LS.getMobileOneMin):t.limitTwo?Mobi.ing(LS.getMobileHalfHour):t.noMoney?Mobi.ing(LS.memberDialogMobileMoneyErr):t.mobileErr?Mobi.ing(LS.memberDialogSendMobileCodeErr):t.sendLimit?Mobi.ing(LS.memberDialogSendMobileCodeLimit):t.mobileSysErr?Mobi.ing(LS.memberDialogSendMobileSysErr):t.tplNationErr?Mobi.ing(LS.mobileNationTplErr):t.systemErr?Mobi.ing(LS.js_systemError):-301==t.rt?Mobi.ing(LS.smsRanout):t.msg?Mobi.ing(t.msg):Mobi.ing(LS.js_argsError)}}):(Mobi.ing(LS.mobileNumRegular),!1))},Mobi.loginAcquireCodeCountdown=function(t){jm("#acquireCode").attr("onclick","");var e=setInterval((function(){jm("#acquireCode").attr("onclick",""),jm("#acquireCode").text(jm.format(LS.reacquireMemCode,t)),t<0&&(clearInterval(e),jm("#acquireCode").text(LS.memberDialogAcquireCode),jm("#acquireCode").attr("onclick","Mobi.loginAcquireCode();return false;")),t--}),1e3)},Mobi.fastLogin=function(url,mid,fid,fromMerchants){var acquirer=jm("#acquirerInput").val(),code=jm("#memCodeInput").val(),memCodeSign=jm("#memCodeSign").val();if(null!=mid&&null!=fid&&(jm.cookie("_moduleid",mid),jm.cookie("_fileid",fid)),null!=acquirer&&""!=acquirer)if(null!=code&&""!=code){var loginBtn=jm(".loginSubmit");loginBtn.attr("disabled",!0),jm(".g_botton").removeClass("sendIcon");var autoLoginBtn=jm("#autoLogin"),autoLogin=!1;autoLoginBtn&&autoLoginBtn.prop("checked")&&(autoLogin=!0);var bssKey="AP7hkeIECAEQARoEWzE4XSIJ5ZSQ5LiW5rCR",fastLoginAction=function fastLoginAction(checkSign){var data="memCode="+jm.encodeUrl(code)+"&memCodeSign="+jm.encodeUrl(memCodeSign)+"&acquirer="+jm.encodeUrl(acquirer)+"&mode="+jm.encodeUrl("mobile")+"&fromMerchants="+fromMerchants;jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=wafNotCk_checkMobileCodeGeneral",data:data,error:function(){Mobi.ing(LS.js_systemError)},success:function success(result){if(result=jm.parseJSON(result),result.success){var memId=result.memId,fastLoginDataStr="cmd=wafNotCk_loginMemberByMobile&memId="+jm.encodeUrl(memId)+"&autoLogin="+jm.encodeUrl(autoLogin);checkSign&&(fastLoginDataStr+="&bssKey=".concat(bssKey,"&checkSign=").concat(checkSign)),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/login_h.jsp",data:fastLoginDataStr,error:function(){loginBtn.removeAttr("disabled"),Mobi.showMemberLoginMsg(-1,"ajax net error")},success:function(){var _success=_asyncToGenerator(regeneratorRuntime.mark((function _callee(result){var loginMethod,methods,i,patt1,cells;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(loginBtn.removeAttr("disabled"),result=jm.parseJSON(result),loginMethod="手机号验证登录",Mobi.logMallFdp("mall_mem_log_mall",{mall_free_text_0:loginMethod,mall_free_bool_0:result.success,mall_free_text_2:result.success?"":result.msg||result.rt+"",mall_free_bool_1:Fai.top._showFaiscoSideSupport,mall_free_bool_3:Fai.top._showFaiscoSupport,mall_content_terminal:"mobi"},!0),!result.success){_context.next=21;break}return Mobi.logMonitor(6060),jm("#_TOKEN").attr("value")||jm("#g_web").append("<span id='_TOKEN' value='"+result._TOKEN+"'></span>"),_context.next=9,bizShared.clueReuqestVm.authRecordLoginOther();case 9:if(Mobi._needFLoginFaitest=!1,Mobi.mallBuyLoginCheck(),jm.cookie("loginMethod",loginMethod),-1!=url.indexOf("javascript")){_context.next=17;break}return Fai.top.location.href=url,_context.abrupt("return");case 17:for(methods=url.split(";"),i=0;i<methods.length-1;i++)patt1=new RegExp("[^script:]"),patt1.test(url)&&(cells=methods[i].split(/:(.+)/),eval(cells[1]),-1!=url.indexOf("PhotoDetailSwipeForJumpCtrl")&&(window.klass.returnIndex=function(){Fai.top.location.href="/index.jsp"}));case 19:_context.next=28;break;case 21:if(!fromMerchants){_context.next=25;break}if(-302!==result.rt&&-303!==result.rt&&-304!==result.rt&&-305!==result.rt){_context.next=25;break}return Fai.top.location.href="/merchantResult.jsp?loginFail=true&loginRt="+result.rt,_context.abrupt("return");case 25:jm(".g_botton").addClass("sendIcon"),jm(".loginIcon ").hide(),result.active?Mobi.ing(LS.memberLoginMailActivation):-2e3==result.rt?Fai.top.location.href="login.jsp?errno=-307":(Mobi.showMemberLoginMsg(result.rt,result.captcha),result.captcha&&(Mobi._needFLoginFaitest=!0,Mobi.fastLogin(url,mid,fid,fromMerchants)));case 28:case"end":return _context.stop()}}),_callee)})));function success(t){return _success.apply(this,arguments)}return success}()})}else result.notFound?Mobi.ing(LS.memberDialogNotFound,!0):-2e3==result.rt?Fai.top.location.href="login.jsp?errno=-307":1==result.rt&&Mobi.ing(LS.memberSignupRegisterCaptchaNotMatch)}})};Mobi._needFLoginFaitest?initFaitest({bss:1,bssKey:bssKey},(function(t){fastLoginAction(t)})):fastLoginAction()}else Mobi.showMemberLoginMsg(5,!1);else Mobi.showMemberLoginMsg(4,!1)},Mobi.memberLogin1=function(t){Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?returnUrl="+jm.encodeUrl(jm.getUrlRoot(Fai.top.location.href))+"&errno="+t},Mobi.checkHaveMultipleMember=function(t){jm("#user").on("blur",(function(){e("#user")})),jm("#acquirerInput").on("blur",(function(){e("#acquirerInput")}));var e=function(e){if(3==t||4==t){var i=jm(e).val(),o=jm.isEmail(i),n=jm.isMobile(i),a=LS.mobiMultipleMemberMobileMsg;o&&(a=LS.mobiMultipleMemberEmailMsg),(o||n)&&jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/login_h.jsp",data:"cmd=getWafNotCk_checkHaveMultipleMember&authType="+t+"&acct="+i,error:function(){Mobi.showMemberLoginMsg(-1,"ajax net error")},success:function(t){if((t=jm.parseJSON(t)).success&&t.isMultipleMember){var i={cancelClass:"acctlogin",textClass:"acctlogin",content:a,callback:function(){Mobi.acctLoginToggle(),jm(e).val("")}};Mobi.prompt(i)}}})}}},Mobi.memberLogin=function(url,mid,fid,fromMerchants,lotteryId,phoneNumber){if(Mobi.logDog(200061,0),lotteryId&&jm.cookie("_lotteryId",lotteryId,{path:"/"}),phoneNumber&&jm.cookie("_phoneNumber",phoneNumber,{path:"/"}),Fai.top.isJuly3FreeUser)return Mobi.logDog(200964,2),void Mobi.ing("免费版暂不支持此功能");var acct=jm("#user").val(),pwd=jm("#password").val();if(null!=mid&&null!=fid&&(jm.cookie("_moduleid",mid),jm.cookie("_fileid",fid)),null!=acct&&""!=acct)if(null!=pwd&&""!=pwd){pwd=jm.md5(pwd);var loginBtn=jm(".loginSubmit");loginBtn.attr("disabled",!0),jm(".g_botton").removeClass("sendIcon");var autoLoginBtn=jm("#autoLogin"),autoLogin=!1;autoLoginBtn&&autoLoginBtn.prop("checked")&&(autoLogin=!0);var bssKey="AKWWpqEHCAEQARoDWzFdIgnllJDkuJbmsJE",loginAction=function loginAction(checkSign){var dataStr="cmd=wafNotCk_loginMember&acct="+jm.encodeUrl(acct)+"&pwd="+jm.encodeUrl(pwd)+"&autoLogin="+autoLogin+"&fromMerchants="+fromMerchants;checkSign&&(dataStr+="&bssKey=".concat(bssKey,"&checkSign=").concat(checkSign)),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/login_h.jsp",data:dataStr,error:function(){loginBtn.removeAttr("disabled"),Mobi.showMemberLoginMsg(-1,"ajax net error"),Mobi.logMonitor(6063,!0)},success:function(){var _success2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(result){var loginMethod,methods,i,patt1,cells;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(loginBtn.removeAttr("disabled"),loginMethod=jm.isEmail(acct)?"邮箱登录":"帐号密码登录",result.msg&&delete result.msg,result=jm.parseJSON(result),Mobi.logMallFdp("mall_mem_log_mall",{mall_free_text_0:loginMethod,mall_free_bool_0:result.success,mall_free_text_2:result.success?"":result.msg||result.rt+"",mall_free_bool_1:Fai.top._showFaiscoSideSupport,mall_free_bool_3:Fai.top._showFaiscoSupport,mall_content_terminal:"mobi"},!0),!result.success){_context2.next=23;break}return Mobi._needLoginFaitest=!1,Mobi.logMonitor(6059),jm("#_TOKEN").attr("value")||jm("#g_web").append("<span id='_TOKEN' value='"+result._TOKEN+"'></span>"),_context2.next=11,bizShared.clueReuqestVm.authRecordLoginOther();case 11:if(Mobi.mallBuyLoginCheck(),jm.cookie("loginMethod",loginMethod),-1!=url.indexOf("javascript")){_context2.next=19;break}return Fai.top.loginMemberSucJumpUrlIllegality&&(url="./index.jsp"),Fai.top.location.href=url,_context2.abrupt("return");case 19:for(methods=url.split(";"),i=0;i<methods.length-1;i++)patt1=new RegExp("[^script:]"),patt1.test(url)&&(cells=methods[i].split(/:(.+)/),eval(cells[1]),-1!=url.indexOf("PhotoDetailSwipeForJumpCtrl")&&(window.klass.returnIndex=function(){Fai.top.location.href="/index.jsp"}));case 21:_context2.next=30;break;case 23:if(!fromMerchants){_context2.next=27;break}if(-302!==result.rt&&-303!==result.rt&&-304!==result.rt&&-305!==result.rt&&-2004!==result.rt){_context2.next=27;break}return Fai.top.location.href="/merchantResult.jsp?loginFail=true&loginRt="+result.rt,_context2.abrupt("return");case 27:jm(".g_botton").addClass("sendIcon"),jm(".loginIcon ").hide(),result.active?(Mobi.ing(LS.memberLoginMailActivation),Mobi.logMonitor(6062,!0)):-2e3==result.rt?(Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?errno=-307",Mobi.logMonitor(6062,!0)):(Mobi.logMonitor(6063,!0),Mobi.showMemberLoginMsg(result.rt,result.captcha),result.captcha&&(Mobi._needLoginFaitest=!0,Mobi.memberLogin(url,mid,fid,fromMerchants)));case 30:case"end":return _context2.stop()}}),_callee2)})));function success(t){return _success2.apply(this,arguments)}return success}()})};Mobi._needLoginFaitest?initFaitest({bss:1,bssKey:bssKey},(function(t){loginAction(t)})):loginAction()}else Mobi.showMemberLoginMsg(2,!1);else Mobi.showMemberLoginMsg(1,!1)},Mobi.showMemberLoginMsg=function(t,e){var i="";if(1==t)i=LS.memberInputAcct,Mobi.getPreviewObject("user").focus();else if(2==t)i=LS.memberInputPwd,Mobi.getPreviewObject("password").focus();else if(3==t)i=LS.memberInputCaptcha;else if(4==t)i=LS.memberDialogPlzEnterMobile;else if(5==t)i=LS.memberDialogEnterCode;else if(11==t)i=LS.memberLoginFirst;else if(12==t)i=LS.memberLoginSignup;else if(13==t)i=LS.memberLoginToView;else if(14==t)i=LS.memberLoginNoPermission;else if(-3==t)i=LS.memberPwdError;else if(-301==t)i=LS.memberCaptchError;else if(-302==t)i=LS.memberPwdError;else if(-303==t)i=LS.memberNoAuth;else if(-305==t)i=LS.memberPwdError;else if(-307==t)i=LS.loginUseAcct;else if(-308==t)i=LS.memberDialogGetCodeFirst;else if(-2003==t)i="该帐号已多次登录失败，请更换帐号重试";else if(-2004==t)i="帐号/密码有误，请重新输入";else{var o="mobi login err;rt="+t+";";e&&e.length>0&&(o+="other="+e+";"),Mobi.logErr(o),i=LS.memberLoginError}var n=jm(".loginErrorLine");n.show(),Mobi.ing(i),setTimeout((function(){n.hide()}),3e3)},Mobi.changeValidateCode=function(t,e){jm(t).attr("src","validateCode.jsp?"+1e3*Math.random()+"&validateCodeRegType="+e)},Mobi.onLogout=function(t){null==t&&(t="index.jsp"),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/login_h.jsp?cmd=wafNotCk_logoutMember",error:function(){},success:function(e){(e=jm.parseJSON(e)).success&&(location.href=t)}})},Mobi.initWBLogin=function(t,e,i,o,n,a,r){jm("#"+a).click((function(){jm.cookie("_wbLoginKey",r,{expires:1}),window.location.href="https://api.weibo.com/oauth2/authorize?client_id="+t+"&redirect_uri="+e+"/wbLogin.jsp&display=mobile&response_type=code"}))},Mobi.wbWinListener=function(t,e,i,o,n,a,r){"string"==typeof t&&(t=jm.parseJSON(t));var s=Mobi.checkHasMobileOption(t),l=!1;if(t)for(var c=0;c<t.length;c++)if(t[c].otherLoginMust){l=!0;break}var d,m="loginType=2&openId="+encodeURIComponent(o);l||(m+="&avator="+encodeURIComponent(a)+"&name="+n),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/login_h.jsp?cmd=wafNotCk_otherLoginMember&hasMobile="+s+"&otherLoginMust="+l,data:m,error:function(){Mobi.logErr("Mobi.wbWinListener -> otherLoginMember ajax error"),Mobi.ing(LS.memberLoginError,!0)},success:(d=_asyncToGenerator(regeneratorRuntime.mark((function e(i){var s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=jm.parseJSON(i),s="微博登录",(i.success||-3!=i.rt)&&(i.isReg?(l=sessionStorage.getItem("regFromFdp")||"直接注册",sessionStorage.removeItem("regFromFdp"),Mobi.logMallFdp("mall_mem_reg",{mall_third_login:s,mall_free_text_1:l,mall_free_bool_0:i.success,mall_free_text_2:i.success?"":i.msg||i.rt+"",mall_content_terminal:"mobi"},!0)):Mobi.logMallFdp("mall_mem_log_mall",{mall_free_text_0:s,mall_free_bool_0:i.success,mall_free_text_2:i.success?"":i.msg||i.rt+"",mall_free_bool_1:Fai.top._showFaiscoSideSupport,mall_free_bool_3:Fai.top._showFaiscoSupport,mall_content_terminal:"mobi"},!0)),!i.success){e.next=13;break}return Mobi.logMonitor(6061),e.next=7,bizShared.clueReuqestVm.authRecordLoginOther();case 7:return Mobi.mallBuyLoginCheck(),jm.cookie("loginMethod",s),Fai.top.location.href="/login.jsp"==r?"/index.jsp":r,e.abrupt("return");case 13:i.active?Mobi.memberActive(i.mail,i.memName):-3==i.rt?Mobi.memberOtherLoginFill(t,n,o,a,2,i.mobileCtNameList,i.signNeenMobile,r):-303==i.rt?Mobi.ing(LS.memberNoAuth,!0):Mobi.ing(LS.js_argsError,!0);case 14:case"end":return e.stop()}}),e)}))),function(t){return d.apply(this,arguments)})})},Mobi.initQQLogin=function(t,e,i,o,n,a,r,s){jm("#"+a).off("click").on("click",(function(){jm.cookie("_qqLoginKey",r,{expires:1}),localStorage.setItem("qqReturnUrl",s||""),window.location.href="https://graph.qq.com/oauth2.0/authorize?client_id="+t+"&redirect_uri="+e+"/qqLogin.jsp&display=mobile&response_type=token&scope=all"}))},Mobi.qqWinListener=function(optionList,noRemark,remarkMaxLen,q_uid,q_name,q_avator,url){try{"string"==typeof optionList&&(optionList=jm.parseJSON(optionList));var hasMobile=Mobi.checkHasMobileOption(optionList),otherLoginMust=!1;if(optionList)for(var i=0;i<optionList.length;i++)if(optionList[i].otherLoginMust){otherLoginMust=!0;break}var data="loginType=1&openId="+encodeURIComponent(q_uid);otherLoginMust||(data+="&avator="+encodeURIComponent(q_avator)+"&name="+q_name),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/login_h.jsp?cmd=wafNotCk_otherLoginMember&hasMobile="+hasMobile+"&otherLoginMust="+otherLoginMust,data:data,error:function(){Mobi.logErr("Mobi.qqWinListener -> otherLoginMember ajax error"),Mobi.ing(LS.memberLoginError,!0)},success:function(){var _success4=_asyncToGenerator(regeneratorRuntime.mark((function _callee4(result){var loginMethod,regFromFdp,methods,i,patt1,cells;return regeneratorRuntime.wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(result=jm.parseJSON(result),!result.success&&-3==result.rt){_context4.next=6;break}return loginMethod="qq登录",_context4.next=5,bizShared.clueReuqestVm.authRecordLoginOther();case 5:result.isReg?(regFromFdp=sessionStorage.getItem("regFromFdp")||"直接注册",sessionStorage.removeItem("regFromFdp"),Mobi.logMallFdp("mall_mem_reg",{mall_third_login:loginMethod,mall_free_text_1:regFromFdp,mall_free_bool_0:result.success,mall_free_text_2:result.success?"":result.msg||result.rt+"",mall_content_terminal:"mobi"},!0)):Mobi.logMallFdp("mall_mem_log_mall",{mall_free_text_0:loginMethod,mall_free_bool_0:result.success,mall_free_text_2:result.success?"":result.msg||result.rt+"",mall_free_bool_1:Fai.top._showFaiscoSideSupport,mall_free_bool_3:Fai.top._showFaiscoSupport,mall_content_terminal:"mobi"},!0);case 6:if(!result.success){_context4.next=19;break}if(Mobi.logMonitor(6061),Mobi.mallBuyLoginCheck(),jm.cookie("loginMethod",loginMethod),-1!=url.indexOf("javascript")){_context4.next=15;break}return Fai.top.location.href="/login.jsp"==url?"/index.jsp":url,_context4.abrupt("return");case 15:for(methods=url.split(";"),i=0;i<methods.length-1;i++)patt1=new RegExp("[^script:]"),patt1.test(url)&&(cells=methods[i].split(/:(.+)/),eval(cells[1]),-1!=url.indexOf("PhotoDetailSwipeForJumpCtrl")&&(window.klass.returnIndex=function(){Fai.top.location.href="/index.jsp"}));case 17:_context4.next=20;break;case 19:result.active?Mobi.memberActive(result.mail,result.memName):-3==result.rt?Mobi.memberOtherLoginFill(optionList,q_name,q_uid,q_avator,1,result.mobileCtNameList,result.signNeenMobile,url):-303==result.rt?Mobi.ing(LS.memberNoAuth,!0):Mobi.ing(LS.js_argsError,!0);case 20:case"end":return _context4.stop()}}),_callee4)})));function success(t){return _success4.apply(this,arguments)}return success}()})}catch(t){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/login_h.jsp?cmd=wafNotCk_loginLog",data:{type:"qqWinListener",data:t.toString()}})}},Mobi.wxLogin=function(t,e,i,o,n,a,r,s,l,c,d,m,p){jm("#"+t).on("click",(function(){if(jm("#"+t).off("click"),Mobi.logDog(200061,1),c)Mobi.ing("系统维护中",!0);else if("wxb98d3675b04fbc2f"==n&&Mobi.logDog(200314,e),s)Mobi.ing("请在手机预览实际效果",!0);else if(l)Mobi.ing("样板网站无法登录",!0);else{jm.cookie("_wxLoginKey",r,{expires:1});var o="/"+i+"/mobiWxLoginConfirm.jsp?returnUrl="+p+"&_key="+r;window.location.replace(o)}}))},Mobi.wxOpenIdLogin=function(optionList,noRemark,remarkMaxLen,openId,nickName,headImg,url,faiOpenIdGreen,faiOpenId){try{var logAidList=[1591627,24784076,16835847,15546092,14346383,24418638,24434187,20343605,23140239,13940875];logAidList.includes(_aid)&&jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/login_h.jsp?cmd=wafNotCk_loginLog",data:{type:_aid+"-wxWinListener-js-1",data:encodeURIComponent(faiOpenId)+"__"+encodeURIComponent(nickName)+"__"+encodeURIComponent(headImg)}}),"string"==typeof optionList&&(optionList=jm.parseJSON(optionList),logAidList.includes(_aid)&&jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/login_h.jsp?cmd=wafNotCk_loginLog",data:{type:_aid+"-wxWinListener-js-2",data:"optionList"}}));var hasMobile=Mobi.checkHasMobileOption(optionList),otherLoginMust=!1;if(optionList){logAidList.includes(_aid)&&jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/login_h.jsp?cmd=wafNotCk_loginLog",data:{type:_aid+"-wxWinListener-js-5",data:"optionList"}});for(var i=0;i<optionList.length;i++)if(optionList[i].otherLoginMust){otherLoginMust=!0;break}}logAidList.includes(_aid)&&jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/login_h.jsp?cmd=wafNotCk_loginLog",data:{type:_aid+"-wxWinListener-js-6",data:"optionList"}});var unionId="";void 0!==Mobi.w_unionId&&Mobi.w_unionId&&(unionId=Mobi.w_unionId);var data="true"==faiOpenIdGreen?"loginType=5&hasMobile="+hasMobile+"&otherLoginMust="+otherLoginMust+"&faiOpenIdGreen="+faiOpenIdGreen+"&faiOpenId="+encodeURIComponent(faiOpenId):"loginType=4&hasMobile="+hasMobile+"&otherLoginMust="+otherLoginMust+"&openId="+encodeURIComponent(openId)+"&faiOpenId="+encodeURIComponent(faiOpenId)+"&faiOpenIdGreen="+faiOpenIdGreen+"&unionId="+encodeURIComponent(unionId);otherLoginMust||(data+="&avator="+encodeURIComponent(headImg)+"&name="+encodeURIComponent(nickName)),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/login_h.jsp?cmd=wafNotCk_otherLoginMember",data:data,error:function(){Mobi.logErr("Mobi.wxOpenIdLogin -> otherLoginMember ajax error"),Mobi.ing(LS.memberLoginError,!0)},success:function(){var _success5=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(result){var loginMethod,regFromFdp,methods,i,patt1,cells;return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(result=jm.parseJSON(result),(result.success||-3!=result.rt)&&(loginMethod="微信登录",result.isReg?(regFromFdp=sessionStorage.getItem("regFromFdp")||"直接注册",sessionStorage.removeItem("regFromFdp"),Mobi.logMallFdp("mall_mem_reg",{mall_third_login:loginMethod,mall_free_text_1:regFromFdp,mall_free_bool_0:result.success,mall_free_text_2:result.success?"":result.msg||result.rt+"",mall_content_terminal:"mobi"},!0)):Mobi.logMallFdp("mall_mem_log_mall",{mall_free_text_0:loginMethod,mall_free_bool_0:result.success,mall_free_text_2:result.success?"":result.msg||result.rt+"",mall_free_bool_1:Fai.top._showFaiscoSideSupport,mall_free_bool_3:Fai.top._showFaiscoSupport,mall_content_terminal:"mobi"},!0)),!result.success){_context5.next=18;break}return Mobi.logMonitor(6061),jm("head").append("<meta id='_TOKEN' value='"+result._TOKEN+"'>"),_context5.next=7,_jz_biz_shared__WEBPACK_IMPORTED_MODULE_0__.clueReuqestVm.authRecordLoginWeChat();case 7:if(Mobi.mallBuyLoginCheck(),jm.cookie("loginMethod",loginMethod),-1!=url.indexOf("javascript")){_context5.next=14;break}return Fai.top.location.href="/login.jsp"==url?"/index.jsp":url,_context5.abrupt("return");case 14:for(methods=url.split(";"),i=0;i<methods.length-1;i++)patt1=new RegExp("[^script:]"),patt1.test(url)&&(cells=methods[i].split(/:(.+)/),eval(cells[1]),-1!=url.indexOf("PhotoDetailSwipeForJumpCtrl")&&(window.klass.returnIndex=function(){Fai.top.location.href="/index.jsp"}));case 16:_context5.next=19;break;case 18:result.active?Mobi.memberActive(result.mail,result.memName):-3==result.rt?void 0!==faiOpenId&&faiOpenId?Mobi.memberOtherLoginFill(optionList,nickName,openId,headImg,5,result.mobileCtNameList,result.signNeenMobile,url,faiOpenId):Mobi.memberOtherLoginFill(optionList,nickName,openId,headImg,4,result.mobileCtNameList,result.signNeenMobile,url):-303==result.rt?Fai.top.location.href="/login.jsp?errno=-303":-4==result.rt?Mobi.ing(LS.memberSignupRegisterLimit):Mobi.ing(LS.js_argsError,!0);case 19:case"end":return _context5.stop()}}),_callee5)})));function success(t){return _success5.apply(this,arguments)}return success}()})}catch(t){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/login_h.jsp?cmd=wafNotCk_loginLog",data:{type:_aid+"-wxWinListener-js-err",data:t.toString()}})}},Mobi.memberOtherBindOrLogin=function(t,e,i,o,n,a,r,s,l,c){var d=[],m=Fai.top._openThemeV3?" g_main_bgColor_v3 fpw_btn ":"";d.push("<div style='height:7.38rem;'>"),d.push("<div class='avator loginAvatorCircle' style='background-image:url("+a+");'></div>"),d.push("<div class='userName' style='margin-top:0.5rem; text-align: center;'>"+n+"</div>"),d.push("</div>"),d.push("<div class='remarkCon'>"),d.push("<div class='remarkLine'></div>"),d.push("</div>"),d.push("<div class='signupSubmitCtrl g_globalLine' style='margin-top:0.6rem;'>"),d.push("<input type='button'  class='g_button sendIcon signupSubmit submitIcon "+m+"' onclick='Mobi.bindOtherAcctFirst(\""+r+'","'+o+'","'+l+'","'+c+"\");' value='"+LS.memberOtherLgnBindAcct+"'/>"),d.push("</div>"),d.push("<div class='signupSubmitCtrl g_globalLine' style='margin-top:0.78rem;'>"),"other_qq"==r?d.push("<input type='button'  class='g_button sendIcon signupSubmit submitIcon g_mainColor g_main_color_v3' style='background:rgb(240,240,245);border:1px solid;' onclick='Mobi.qqWinListener("+t+", "+e+","+i+',"'+o+'","'+n+'","'+a+'","'+s+"\");' value='"+LS.memberOtherLgnNow+"'/>"):"other_wb"==r?d.push("<input type='button'  class='g_button sendIcon signupSubmit submitIcon g_mainColor g_main_color_v3' style='background:rgb(240,240,245);border:1px solid;' onclick='Mobi.wbWinListener("+t+", "+e+","+i+',"'+o+'","'+n+'","'+a+'","'+s+"\");' value='"+LS.memberOtherLgnNow+"'/>"):"other_wx"==r&&d.push("<input type='button'  class='g_button sendIcon signupSubmit submitIcon g_mainColor g_main_color_v3' style='background:rgb(240,240,245);border:1px solid;' onclick='Mobi.wxOpenIdLogin("+t+", "+e+","+i+',"'+o+'","'+n+'","'+a+'","'+s+'","'+l+'","'+c+"\");' value='"+LS.memberOtherLgnNow+"'/>"),d.push("</div>"),jm("#bindOrLogin").parents(".g_web, .middleCenter").css("background","#f0f0f5"),Fai.top._openThemeV3&&jm("#bindOrLogin").parents(".g_web, .middleCenter").css("background","#ffffff"),jm("#bindOrLogin .loginContent").children().length||jm("#bindOrLogin .loginContent").append(d.join("")),jm("#mLogin").hide(),jm("#bindOrLogin").show(),jm("#bindOrLogin #bindOrLoginBack").click((function(){jm("#bindOrLogin").hide(),jm("#mLogin").show()}))},Mobi.bindOtherAcctFirst=function(t,e,i,o){var n=Fai.top._openThemeV3?LS.memberOtherLgnBindNowV3:LS.memberOtherLgnBindNow;"other_qq"==t?t=1:"other_wb"==t?t=2:"other_wx"==t&&(t=4);var a=Fai.top._openThemeV3?"bindV3":"",r=Fai.top._openThemeV3?" g_main_bgColor_v3 fpw_btn ":"",s="<div class='g_globalLine "+a+"'>";s+="\t<input type='text' maxlength='50'  id='bindUser' class='itemEdit g_input mustItem' placeholder='"+LS.memberSignupRegisterAcctEmpty+"'/><span class='icon-userIcon g_mainColor g_main_color_v3'></span>",s+="</div>",s+="<div class='g_globalLine "+a+"'>",s+="\t<input type='password'maxlength='20' id='bindPassword' class='itemEdit g_input  mustItem' placeholder='"+LS.memberDialogPleaseEnterPwd+"'/><span class='icon-pswIcon g_mainColor g_main_color_v3'></span>",s+="</div>",s+="<div class='g_globalLine "+a+"'>",s+="<input type='button'  class=' g_button "+r+" sendIcon' onclick='Mobi.bindOtherAcctFirstSubmit("+t+',"'+e+'","'+i+'","'+o+"\")' value='"+n+"'/>",s+="</div>",jm("#bindNow .loginContent").children().length||jm("#bindNow .loginContent").append(s),jm("#bindOrLogin").hide(),jm("#bindNow").show(),jm("#bindNow #bindNowBack").click((function(){jm("#bindNow").hide(),jm("#bindOrLogin").show()}))},Mobi.memberOtherLoginFill=function(t,e,i,o,n,a,r,s,l){var c=Fai.top._openThemeV3?"otherLoginFillPicV3":"otherLoginFillPic",d=Fai.top._openThemeV3?"otherLoginFillUserV3":"otherLoginFillUser",m=Fai.top._openThemeV3?LS.mobileArea:LS.mobileAreaCode,p=Fai.top._openThemeV3?" register_line ":" ",u=Fai.top._openThemeV3?" input_tip_v3 ":" ",f=[];f.push("<div class='"+c+"'>"),1==n||4==n?f.push("<div class='avator loginTypeAvator' style='background-image:url("+o+");'></div>"):f.push("<div class='avator otherLoginTypeAvator' style='background-image:url("+o+");'></div>"),f.push("<div class='userName "+d+"'>"+e+"</div>"),f.push("</div>"),f.push("<div class='remarkCon'>"),f.push("<div class='remarkLine'></div>"),f.push("<div class='remarkInfo'>"+LS.memberOtherLgnLastStep+"</div>"),f.push("</div>");var h="";Mobi.checkHasMobileOption(t)&&(h="tagWidth8");var g="";jm.each(t,(function(t,e){var i="";if(e.otherLoginMust){"email"==e.fieldKey?g="icon-emailIcon g_mainColor g_main_color_v3":"name"==e.fieldKey?g="icon-nameIcon g_mainColor g_main_color_v3":(g="icon-customIcon g_mainColor g_main_color_v3",i="customIcon");var o="";if(o=e.placeholder==e.name?LS.memberOtherLgnPleaseInput+e.name:e.placeholder,"mobile"==e.fieldKey){f.push("<div class='g_globalLine "+p+" "+h+"'>"),Fai.top._openThemeV3&&(e.must?f.push("<input type='text' maxlength='50' id='mobile' name='"+m+"' style='width:65%' class='addCtTel itemEdit userAddItem g_input maxlength='11' loginTelInput ' placeholder='"+o+LS.memberOtherLgnMust+"'>"):f.push("<input type='text' maxlength='50' id='mobile' name='"+m+"' style='width:65%' class='addCtTel itemEdit userAddItem g_input maxlength='11' loginTelInput ' placeholder='"+o+"'>")),Fai.top._openThemeV3?(f.push("<div class='mobileCtIcon otherSettingIcon icon-downward'></div>"),f.push("<div class='g_input selectCover selectCoverRight'>+86</div>"),f.push("<select id='mobileCt' name='mobileCt' class='itemEdit userAddItem g_select ' onchange='Mobi.fillPersInfoChangeMobileCt()'>")):f.push("<select id='mobileCt' name='mobileCt' class='itemEdit g_select'>");for(var n=0;n<a.length;n++)f.push("<option value='"+a[n].ctName+"'>"+a[n].ctShowName+a[n].ctCode+"</option>");f.push("</select>"),f.push("<span class='"+i+"'>"+m+"</span>"),f.push("</div>")}if(e.dropDownType){f.push("<div class='g_globalLine "+h+"'>"),Fai.top._openThemeV3&&(f.push("<div class='mobileCtIcon otherSettingIcon icon-downward'></div>"),f.push("<input class='g_input selectCover'>")),e.must?(f.push("<select id='"+e.fieldKey+"' name='"+e.name+"' class='itemEdit userAddItem isCheckUAI g_select' placeholder='"+o+LS.memberOtherLgnMust+"'>"),f.push("<option value=''>"+e.name+LS.memberOtherLgnMust+"</option>")):(f.push("<select id='"+e.fieldKey+"' name='"+e.name+"' class='itemEdit userAddItem g_select' placeholder='"+o+"'>"),f.push("<option value=''>"+e.name+"</option>"));for(var r=e.dropDownContent.split("&"),s=0;s<r.length;s++)f.push("<option value='"+r[s]+"'>"+r[s]+"</option>");f.push("</select><span class='"+g+" "+u+"'></span>"),""!=i&&f.push("<span class='"+i+"'>"+e.name+"</span>"),f.push("</div>")}else(!Fai.top._openThemeV3||Fai.top._openThemeV3&&"mobile"!=e.fieldKey)&&(f.push("<div class='g_globalLine "+h+"'>"),e.must?f.push("<input type='text' maxlength='50' id='"+e.fieldKey+"' name='"+e.name+"' class='mustItem isCheckUAI itemEdit userAddItem  g_input' maxlength='50' placeholder='"+o+LS.memberOtherLgnMust+"'><span class='"+g+" "+u+"'></span>"):f.push("<input type='text' maxlength='50' id='"+e.fieldKey+"' name='"+e.name+"' class='mustItem itemEdit userAddItem  g_input' maxlength='50' placeholder='"+o+"'><span class='"+g+" "+u+"'></span>"),""!=i&&f.push("<span class='"+i+"'>"+e.name+"</span>"),f.push("</div>"))}})),r&&(f.push("<div class='g_globalLine'>"),f.push("<input id='memberSignupCaptcha' type='text' class='captchaText g_input' maxlength='4' placeholder='"+LS.EnterVerificationCode+"'/><img id='signupCaptchaImg'  class='captchaImg' src='validateCode.jsp?"+1e3*Math.random()+"' onclick='Mobi.changeValidateCode(jm(\"#signupCaptchaImg\"))' /><div style='clear:both'></div>"),Fai.top._openThemeV3&&f.push("<span class='fill_input_tip_v3'>"+LS.loginCode+"</span>"),f.push("</div>"),f.push("<div class='g_globalLine'>"),f.push("<input id='messageAuthCode' type='text' class='captchaText g_input' maxlength='6' placeholder='"+LS.inputMobileCode+"' /><div id='messageAuthCodeClick' onclick='Mobi.getSignMobileCodeForFill()' class='fk-sign-getMobileCode' title='"+LS.getMobileCode+"'>"+LS.getMobileCode+"</div><div style='clear:both'></div>"),Fai.top._openThemeV3&&f.push("<span class='fill_input_tip_v3'>"+LS.loginCode+"</span>"),f.push("</div>")),f.push("<div class='signupSubmitCtrl g_globalLine "+h+"' style='margin-top:1rem;'>"),f.push("<input type='button'  class='g_button sendIcon signupSubmit submitIcon fpw_btn g_main_bgColor_v3' onclick='Mobi.memberOtherLoginSubmit(\""+jm.encodeHtml(e)+'", '+n+', "'+i+'", "'+s+'", "'+o+'", "'+l+"\")' value='"+LS.login+"'/>"),f.push("</div>"),jm("#fillAcctInfo").parents(".g_web, .middleCenter").css("background","#f0f0f5"),jm("#fillAcctInfo .loginContent").children().length||jm("#fillAcctInfo .loginContent").append(f.join("")),jm("#mLogin").hide(),jm("#bindOrLogin").hide(),jm("#fillAcctInfo").show(),jm("#fillAcctInfo #fillInfoBack").click((function(){jm("#fillAcctInfo").hide(),jm("#mLogin").show()})),Fai.top._openThemeV3&&(jm(".jz_themeV3.mobiCol10 .g_web").css("background-color","#ffffff"),jm(".jz_themeV3.mobiCol10 .middleCenter").css("background-color","#ffffff"),Mobi.selectValueChange("#fillAcctInfo"))},Mobi.memberOtherLoginAdd=function(t,e,i,o,n,a,r,s,l,c){var d=[],m=Fai.top._openThemeV3?LS.memberOtherLgnBindNowV3:LS.memberOtherLgnBindNow;d.push("<div style='height:5rem;'>"),1==r||4==r?d.push("<div class='avator' style='height:2.5rem;width:2.5rem;margin-top:1rem;margin-left:6.2rem;border-radius:50%;background:url("+i+");background-size:2.5rem;'></div>"):d.push("<div class='avator' style='height:1.2rem;width:1.2rem;margin-top:1rem;margin-left:6.6rem;border-radius:50%;background:url("+i+");background-size:1.2rem;'></div>"),d.push("<div class='userName' style='margin-top:0.5rem;'>"+t+"</div>"),d.push("</div>"),d.push("<div class='desc' style='height:3rem;font-size:0.6rem;color:#666;'>"),1==r?d.push("<div class='firstLine' style='width:4.5rem;'>"+LS.memberOtherLgnQQUser+":</div>"):2==r?d.push("<div class='firstLine' style='width:5.8rem;'>"+LS.memberOtherLgnWBUser+":</div>"):d.push("<div class='firstLine' style='width:5rem;'>"+LS.memberOtherLgnWXUser+":</div>"),d.push("<div class='secondLine' style='width:13rem;margin-top:0.5rem;'>"+LS.memberOtherLgnBindAcctMsg+"</div>"),d.push("</div>"),d.push("<div class='choose' style='font-size:0.6rem;color:#999;height:7rem;'>"),d.push("<div class='haveMember' style='width:3rem;'>"+LS.memberOtherLgnHaveAcct+"</div>"),d.push("<div class='bindNow g_button sendIcon' style='margin-bottom:1rem;' onclick='Mobi.bindNow("+r+', "'+e+'", "'+c+"\");'>"+m+"</div>"),d.push("<div class='noMember' style='width:3rem;'>"+LS.memberOtherLgnNotAcct+"</div>"),d.push("<div class='signUp g_button sendIcon' id='signUp' >"+LS.memberOtherLgnSignUp+"</div>"),d.push("</div>"),jm("#bindAcct .loginContent").children().length||jm("#bindAcct .loginContent").append(d.join("")),jm("#mLogin").hide(),jm("#bindAcct").show(),jm("#bindAcct #bindBack").click((function(){jm("#bindAcct").hide(),jm("#mLogin").show()})),jm("#signUp").click((function(){Mobi.signUp(o,n,a,r,e,i,s,l,c)}))},Mobi.bindOtherAcct=function(t,e,i,o,n,a){var r=Fai.top._openThemeV3?" g_main_bgColor_v3 fpw_btn ":"",s=Fai.top._openThemeV3?LS.memberOtherLgnBindNowV3:LS.memberOtherLgnBindNow,l=Fai.top._openThemeV3?"profile_v3_msg_icon":"",c=jm.cookie("isOtherLogin"),d="<div class='g_globalLine'>";d+="\t<input type='text' maxlength='50'  id='bindUser' class='itemEdit g_input mustItem ' placeholder='"+LS.memberSignupRegisterAcctEmpty+"'/><span class='icon-userIcon g_mainColor g_main_color_v3 "+l+"'></span>",d+="</div>",d+="<div class='g_globalLine'>",d+="\t<input type='password'maxlength='20' id='bindPassword' class='itemEdit g_input  mustItem '  placeholder='"+LS.memberDialogPleaseEnterPwd+"'/><span class='icon-pswIcon g_mainColor g_main_color_v3 "+l+"'></span>",d+="</div>",d+="<div class='g_globalLine'>",d+="<input type='button'  class=' g_button sendIcon "+r+"' onclick='Mobi.bindOtherAcctSubmit("+t+", true, "+c+")' value='"+s+"'/>",d+="</div>",Fai.top._openThemeV3?d+="<div id='signUp' class='g_globalLine' style='text-align:center; margin-top:0.75rem; color:#666666; font-size:0.55rem;'>"+LS.memberSignUpNewAcct+"</div>":d+="<div id='signUp' class='g_globalLine' style='text-align:right; margin-top:0.4rem;'>"+LS.memberSignUpNewAcct+"</div>",jm("#bindOtherAcct .loginContent").children().length||jm("#bindOtherAcct .loginContent").append(d),jm("#signUp").click((function(){Mobi.logDog(200199,6),Mobi.signUp(t,e,i,o,c,n,a)})),jm("#changeOtherLoginAcct").click((function(){Mobi.logDog(200199,4),jm("#profile").hide(),jm("#bindOtherAcct").show(),jm("#bindOtherAcct #bindAcctBack").click((function(){jm("#bindOtherAcct").hide(),jm("#profile").show()}))}))},Mobi.signUp=function(t,e,i,o,n,a,r){var s=[],l="";e=jm.parseJSON(e),a=jm.parseJSON(a);var c=Fai.top._openThemeV3?" input_plceholder_v3 ":" ",d=Fai.top._openThemeV3?" input_tip_v3 ":" ",m=Fai.top._openThemeV3?LS.mobileArea:LS.mobileAreaCode,p=Fai.top._openThemeV3?" register_line ":" ";Mobi.checkHasMobileOption(e)&&(l="tagWidth8");var u="";s.push("<div class='g_globalLine "+l+"'>"),s.push("<input type='text' maxlength='50' id='memberSignupAcct' class='mustItem itemEdit userAddItem g_input "+c+"' placeholder='"+LS.memberSignupRegisterAcctEmpty+LS.memberOtherLgnMust+"'><span class='icon-userIcon g_mainColor g_main_color_v3 input_tip_v3'></span>"),s.push("</div>"),s.push("<div class='g_globalLine "+l+"'>"),s.push("<input type='password'  maxlength='20' id='memberSignupPwd' class='mustItem itemEdit icon-pswIcon userAddItem g_input "+c+"' placeholder='"+LS.memberDialogPleaseEnterPwd+LS.memberOtherLgnMust+"'><span class='icon-pswIcon g_mainColor g_main_color_v3 input_tip_v3'></span>"),s.push("</div>"),s.push("<div class='g_globalLine "+l+"'>"),s.push("<input type='password'  maxlength='20' id='memberSignupRepwd' class='mustItem itemEdit icon-pswIcon userAddItem g_input "+c+"' placeholder='"+LS.memberDialogPleaseEnterPwd2+LS.memberOtherLgnMust+"'><span class='icon-pswIcon g_mainColor g_main_color_v3 input_tip_v3'></span>"),s.push("</div>"),jm.each(e,(function(t,e){var i="";"email"==e.fieldKey?u="icon-emailIcon g_mainColor g_main_color_v3":"name"==e.fieldKey?u="icon-nameIcon g_mainColor g_main_color_v3":(u="icon-customIcon g_mainColor g_main_color_v3",i="customIcon");var o="";if(o=e.placeholder==e.name?LS.memberOtherLgnPleaseInput+e.name:e.placeholder,"mobile"==e.fieldKey){s.push("<div class='g_globalLine "+l+" "+p+"'>"),Fai.top._openThemeV3?(s.push("<input type='text' maxlength='50' id='mobile' name='"+LS.mobileArea+"' style='width:65%' class='addCtTel mustItem itemEdit userAddItem isCheckUAI g_input maxlength='11' loginTelInput ' placeholder='"+LS.memberOtherLgnPleaseInput+LS.mobileArea+LS.memberOtherLgnMust+"'>"),s.push("<div class='mobileCtIcon otherSettingIcon icon-downward'></div>"),s.push("<div class='g_input selectCover selectCoverRight'>+86</div>"),s.push("<select id='mobileCt' name='mobileCt' class='itemEdit g_select' onchange='Mobi.mSignUpPersInfoChangeMobileCt()'>")):s.push("<select id='mobileCt' name='mobileCt' class='itemEdit g_select'>");for(var n=0;n<a.length;n++)s.push("<option value='"+a[n].ctName+"'>"+a[n].ctShowName+a[n].ctCode+"</option>");s.push("</select>"),(!Fai.top._openThemeV3&&2!=Fai.top._other.templateInfo.templateDesignType||Fai.top._openThemeV3)&&s.push("<span class='"+i+"'>"+m+"</span>"),s.push("</div>")}if(!Fai.top._openThemeV3||Fai.top._openThemeV3&&"mobile"!=e.fieldKey){s.push("<div class='g_globalLine "+l+"'>");var r=o,f="";if(e.must&&(f="mustItem isCheckUAI ",r=o+LS.memberOtherLgnMust),0==e.pt)s.push("<input type='text' maxlength='50' id='"+e.fieldKey+"' name='"+e.name+"' class='"+f+" itemEdit userAddItem  g_input "+c+"' maxlength='50' placeholder='"+r+"'>");else{Fai.top._openThemeV3&&(s.push("<div class='mobileCtIcon otherSettingIcon icon-downward'></div>"),s.push("<input class='g_input selectCover'>"));var h=e.name;e.must&&(h=e.name+LS.memberOtherLgnMust),s.push("<select id='"+e.fieldKey+"' name='"+e.name+"' class='"+f+" itemEdit userAddItem g_select' placeholder='"+r+"'>"),s.push("<option value=''>"+h+"</option>");for(var g=0;g<e.pc.length;g++)s.push("<option value='"+e.pc[g]+"'>"+e.pc[g]+"</option>");s.push("</select>")}(!Fai.top._openThemeV3&&2!=Fai.top._other.templateInfo.templateDesignType||Fai.top._openThemeV3)&&s.push("<span class='"+u+" "+d+"'></span>"),(!Fai.top._openThemeV3&&2!=Fai.top._other.templateInfo.templateDesignType||Fai.top._openThemeV3)&&""!=i&&s.push("<span class='"+i+"'>"+e.name+"</span>"),s.push("</div>")}})),i&&(s.push("<div class='g_globalLine "+l+"'>"),s.push("<input type='text' class='itemEdit g_input userAddItem "+c+"' id='memberSignupRemark' maxlength='200' placeholder='"+LS.memberOtherLgnRemark+"'>"),Fai.top._openThemeV3||2==Fai.top._other.templateInfo.templateDesignType?Fai.top._openThemeV3&&s.push("<span class='icon-msgIcon g_mainColor g_main_color_v3 input_tip_v3'>"+LS.msgBoardSaidV3+"</span>"):s.push("<span class='icon-msgIcon g_mainColor g_main_color_v3 input_tip_v3'></span>"),s.push("</div>")),r&&(s.push("<div class='g_globalLine '>"),s.push("<input id='memberSignupCaptcha' type='text' class='captchaText g_input "+c+"' maxlength='4' placeholder='"+LS.EnterVerificationCode+"'/><img id='signupCaptchaImg'  class='captchaImg' src='validateCode.jsp?"+1e3*Math.random()+"' onclick='Mobi.changeValidateCode(jm(\"#signupCaptchaImg\"))' /><span class='icon-signupCaptchaIcon g_mainColor g_main_color_v3 input_tip_v3'></span><div style='clear:both'></div>"),s.push("</div>"),s.push("<div class='g_globalLine '>"),s.push("<input id='messageAuthCode' type='text' class='captchaText g_input "+c+"' maxlength='6' placeholder='"+LS.inputMobileCode+"' /><span class='icon-signupMobileCaptchaIcon g_mainColor g_main_color_v3 input_tip_v3'></span><div id='messageAuthCodeClick' onclick='Mobi.getSignMobileCode()' class='fk-sign-getMobileCode' title='"+LS.getMobileCode+"'>"+LS.getMobileCode+"</div><div style='clear:both'></div>"),s.push("</div>")),1==n?s.push("<div style='margin-top:0.5rem;font-size:0.6rem;color:#999;width:12rem;'>"+LS.signByQQCanLogin+"</div>"):2==n?s.push("<div style='margin-top:0.5rem;font-size:0.6rem;color:#999;width:13.5rem;'>"+LS.signByWbCanLogin+"</div>"):s.push("<div style='margin-top:0.5rem;font-size:0.6rem;color:#999;width:13.5rem;'>"+LS.signByWXCanLogin+"</div>"),s.push("<div class='signupSubmitCtrl g_globalLine "+l+"'>"),s.push("<input type='button'  class='g_button g_main_bgColor_v3  sendIcon signupSubmit submitIcon fpw_btn' onclick='Mobi.bindOtherAcctSubmit("+t+", false, "+n+");' value='"+LS.memberOtherLgnSignUp+"'/>"),s.push("</div>"),jm("#mSignUp .loginContent").children().length||(Fai.top._openThemeV3&&(jm("#mSignUp .loginContent").addClass("bindSignUpV3Line"),jm("#mSignUp .loginContent input").addClass("input_tip_v3, input_plceholder_v3")),jm("#mSignUp .loginContent").append(s.join(""))),jm("#mSignUp").show(),jm("#bindOtherAcct").hide(),jm("#mSignUp #signUpBack").click((function(){jm("#mSignUp").hide(),jm("#bindOtherAcct").show()})),Fai.top._openThemeV3&&Mobi.selectValueChange("#mSignUp")},Mobi.checkHasMobileOption=function(t){var e=!1,i=[1591627,24784076,16835847,15546092,14346383,24418638,24434187,20343605,23140239,13940875];if(t){i.includes(_aid)&&jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/login_h.jsp?cmd=wafNotCk_loginLog",data:{type:_aid+"-wxWinListener-js-3",data:"checkHasMobileOption"+jm.toJSON(t)}});for(var o=0;o<t.length;o++)if("mobile"==t[o].fieldKey&&t[o].otherLoginMust){e=!0;break}}return i.includes(_aid)&&jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/login_h.jsp?cmd=wafNotCk_loginLog",data:{type:_aid+"-wxWinListener-js-4",data:"checkHasMobileOption"+jm.toJSON(t)}}),e},Mobi.bindOtherAcctFirstSubmit=function(t,e,i,o){var n={},a="",r=jm("#bindUser").val(),s=jm("#bindPassword").val();return null==r||""==r?(Mobi.ing(LS.memberSignupRegisterAcctEmpty),void Mobi.getPreviewObject("bindUser").focus()):null==s||""==s?(Mobi.ing(LS.memberSignupRegisterPwdEmpty),void Mobi.getPreviewObject("bindPassword").focus()):(s=jm.md5(s),n.acct=r,n.pwd=s,"true"==o?(a+="&loginType=5&uid="+jm.encodeUrl(e)+"&faiOpenId="+jm.encodeUrl(o),void 0!==Mobi.w_unionId&&Mobi.w_unionId&&""!=Mobi.w_unionId&&(a+="&unionId="+jm.encodeUrl(Mobi.w_unionId))):(a+="&loginType=4&uid="+jm.encodeUrl(e),void 0!==o&&o&&(a+="&faiOpenId="+jm.encodeUrl(o)),void 0!==Mobi.w_unionId&&Mobi.w_unionId&&""!=Mobi.w_unionId&&(a+="&unionId="+jm.encodeUrl(Mobi.w_unionId))),void jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_bindOtherAcctFirst",data:"info="+jm.encodeUrl(jm.toJSON(n))+a,error:function(){Mobi.ing(LS.memberSignupRegisterError)},success:function(t){var e=jm.parseJSON(t);e.success?e.fromBind?Mobi.memberActive(e.mail,e.memName):e.active?Mobi.memberActive(n.email,n.acct):document.location.reload():-401==e.rt?Mobi.ing(LS.memberSignupRegisterCaptchaNotMatch):-601==e.rt?Mobi.ing(LS.reGetMobileCode):-8==e.rt?Mobi.ing(LS.mobileHasSigned):-6==e.rt?Mobi.ing(LS.memberSignupRegisterExisted):-4==e.rt?Mobi.ing(LS.memberSignupRegisterLimit):-3==e.rt?"密码不正确"==e.msg?Mobi.ing(LS.memberPwdError):Mobi.ing(LS.memberDialogNotFound):e.rt==Mobi.otherLoginErrno.acctAlreadyBind?Mobi.ing(LS.memberOtherLgnAcctAlreadyBind):Mobi.ing(LS.memberSignupRegisterError)}}))},Mobi.bindOtherAcctSubmit=function(t,e,i){var o,n,a="",r={};if(e){if(Mobi.logDog(200199,5),a="cmd=setWafCk_bindOtherAcct",o=jm("#bindUser").val(),n=jm("#bindPassword").val(),null==o||""==o)return Mobi.ing(LS.memberSignupRegisterAcctEmpty),void Mobi.getPreviewObject("bindUser").focus();if(null==n||""==n)return Mobi.ing(LS.memberSignupRegisterPwdEmpty),void Mobi.getPreviewObject("bindPassword").focus();n=jm.md5(n),r.acct=o,r.pwd=n}else{if(a="cmd=wafNotCk_signUpAndBind",null==(o=jm("#memberSignupAcct").val())||""==o)return Mobi.ing(LS.memberSignupRegisterAcctEmpty),void Mobi.getPreviewObject("memberSignupAcct").focus();if(null==(n=jm("#memberSignupPwd").val())||""==n)return Mobi.ing(LS.memberSignupRegisterPwdEmpty),void Mobi.getPreviewObject("memberSignupPwd").focus();if(n.length<4)return Mobi.ing(LS.memberSignupRegisterPwdMinLength),void Mobi.getPreviewObject("memberSignupPwd").focus();if(n!=jm("#memberSignupRepwd").val())return Mobi.ing(LS.memberSignupRegisterPwdNotMatch),void Mobi.getPreviewObject("memberSignupRepwd").focus();var s="";if(jm("#memberSignupRemark").length>0){s=jm("#memberSignupRemark").val();var l=jm("#memberSignupRemark").attr("maxlength");if(s.length>l)return Mobi.ing(jm.format(LS.memberSignupRegisterRemarkMaxLength,l)),void Mobi.getPreviewObject("memberSignupRemark").focus()}r.acct=o,r.pwd=jm.md5(n),r.remark=s,r.mobileSign=Fai.top.tmpMobileCodeSgin;var c="",d="",m=0,p="",u=0;if(jm("#mSignUp .userAddItem").each((function(){var t=jm(this).attr("id");if(d=jm(this).val(),c=jm(this).attr("name"),p=jm(this).attr("maxlength"),r[t]=d,void 0!==p&&null!=p&&d.length>p)return Mobi.ing(jm.format(LS.memberSignupUserAddItemMaxLength,c,p)),Mobi.getPreviewObject(t).focus(),m=1,!1;if("email"==t&&d.length>0&&!jm.isEmail(d))return Mobi.ing(jm.format(LS.memberSignupUserAddItemCorrect,c)),Mobi.getPreviewObject(t).focus(),u=1,!1;if("mobile"==t&&d.length>0){if(!jm.isNationMobile(d))return Mobi.ing(LS.mobileNumRegular),Mobi.getPreviewObject(t).focus(),u=1,!1;r.mobileCt=jm("#mobileCt").val()}})),1==u)return;if(1==m)return;if(void 0!==jm("#messageAuthCode").attr("maxlength")&&null!=jm("#messageAuthCode").attr("maxlength")){var f=jm("#memberSignupCaptcha").val();if(void 0===f||null==f||""==f)return Mobi.ing(LS.memberInputCaptcha),!1;var h=jm("#messageAuthCode").val();if(void 0===h||null==h||""==h)return Mobi.ing(LS.inputMobileCode),!1;r.messageAuthCode=h}var g=0;if(jm(".isCheckUAI").each((function(){var t=jm(this).attr("id");return d=jm(this).val(),c=jm(this).attr("name"),null==d||""==d?(jm(this).is("input")?Mobi.ing(jm.format(LS.memberSignupUserAddItemIsEmpty,c)):Mobi.ing(jm.format(LS.memberSignupUserAddItemIsEmpty2,c)),Mobi.getPreviewObject(t).focus(),g=1,!1):"email"==t&&d.length>0&&!jm.isEmail(d)?(Mobi.ing(jm.format(LS.memberSignupUserAddItemCorrect,c)),Mobi.getPreviewObject(t).focus(),g=1,!1):void 0})),1==g)return}jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?"+a,data:"info="+jm.encodeUrl(jm.toJSON(r))+"&mid="+t+"&loginType="+i,error:function(){Mobi.ing(LS.memberSignupRegisterError)},success:function(t){var e=jm.parseJSON(t);e.success?e.fromBind?Mobi.memberActive(e.mail,e.memName):e.active?Mobi.memberActive(r.email,r.acct):document.location.reload():"该帐号已绑定到其他帐号"==e.msg?Mobi.ing(LS.hasBindOtherAcct):-401==e.rt?Mobi.ing(LS.memberSignupRegisterCaptchaNotMatch):-601==e.rt?Mobi.ing(LS.reGetMobileCode):-8==e.rt?Mobi.ing(LS.mobileHasSigned):-6==e.rt?Mobi.ing(LS.memberSignupRegisterExisted):-4==e.rt?Mobi.ing(LS.memberSignupRegisterLimit):-3==e.rt?Mobi.ing(LS.memberDialogNotFound):e.rt==Mobi.otherLoginErrno.acctAlreadyBind?Mobi.ing(LS.memberOtherLgnAcctAlreadyBind):Mobi.ing(LS.memberSignupRegisterError)}})},Mobi.memberOtherLoginSubmit=function(name,loginType,openId,url,avator,faiOpenId){var cmd="cmd=addWafCk_otherAdd",info={};info.mobileSign=Fai.top.tmpMobileCodeSgin,info.headImgUrl=avator,info.name=name;var fillContent={},userAddItemName="",userAddItemValue="",isUserAddItemNameTooLong=0,userAddItemMaxLength="",isUserAddItemPass=0;if(jm("#fillAcctInfo .userAddItem").each((function(){var t=jm(this).attr("id");if(userAddItemValue=jm(this).val(),userAddItemName=jm(this).attr("name"),userAddItemMaxLength=jm(this).attr("maxlength"),info[t]=userAddItemValue,fillContent[userAddItemName]=userAddItemValue,void 0!==userAddItemMaxLength&&null!=userAddItemMaxLength&&userAddItemValue.length>userAddItemMaxLength)return Mobi.ing(jm.format(LS.memberSignupUserAddItemMaxLength,userAddItemName,userAddItemMaxLength)),Mobi.getPreviewObject(t).focus(),isUserAddItemNameTooLong=1,!1;if("email"==t&&userAddItemValue.length>0&&!jm.isEmail(userAddItemValue))return Mobi.ing(jm.format(LS.memberSignupUserAddItemCorrect,userAddItemName)),Mobi.getPreviewObject(t).focus(),isUserAddItemPass=1,!1;if("mobile"==t&&userAddItemValue.length>0){if(!jm.isNationMobile(userAddItemValue))return Mobi.ing(LS.mobileNumRegular),Mobi.getPreviewObject(t).focus(),isUserAddItemPass=1,!1;info.mobileCt=jm("#mobileCt").val()}})),1!=isUserAddItemPass&&1!=isUserAddItemNameTooLong){if(void 0!==jm("#messageAuthCode").attr("maxlength")&&null!=jm("#messageAuthCode").attr("maxlength")){var memberSignupCaptcha=jm("#memberSignupCaptcha").val();if(void 0===memberSignupCaptcha||null==memberSignupCaptcha||""==memberSignupCaptcha)return Mobi.ing(LS.memberInputCaptcha),!1;var messageAuthCode=jm("#messageAuthCode").val();if(void 0===messageAuthCode||null==messageAuthCode||""==messageAuthCode)return Mobi.ing(LS.inputMobileCode),!1;info.messageAuthCode=messageAuthCode}var isCheckUAIStatus=0;if(jm(".isCheckUAI").each((function(){var t=jm(this).attr("id");return userAddItemValue=jm(this).val(),userAddItemName=jm(this).attr("name"),null==userAddItemValue||""==userAddItemValue?(jm(this).is("input")?Mobi.ing(jm.format(LS.memberSignupUserAddItemIsEmpty,userAddItemName)):Mobi.ing(jm.format(LS.memberSignupUserAddItemIsEmpty2,userAddItemName)),Mobi.getPreviewObject(t).focus(),isCheckUAIStatus=1,!1):"email"==t&&userAddItemValue.length>0&&!jm.isEmail(userAddItemValue)?(Mobi.ing(jm.format(LS.memberSignupUserAddItemCorrect,userAddItemName)),Mobi.getPreviewObject(t).focus(),isCheckUAIStatus=1,!1):void 0})),1!=isCheckUAIStatus){var unionId="";void 0!==Mobi.w_unionId&&Mobi.w_unionId&&(unionId=Mobi.w_unionId),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?"+cmd,data:"info="+jm.encodeUrl(jm.toJSON(info))+"&loginType="+loginType+"&faiOpenId="+encodeURIComponent(faiOpenId)+"&openId="+encodeURIComponent(openId)+"&unionId="+encodeURIComponent(unionId),error:function(){Mobi.ing(LS.memberSignupRegisterError)},success:function success(result){var data=jm.parseJSON(result),loginMethod="";1==loginType?loginMethod="qq登录":2==loginType?loginMethod="微博登录":3!=loginType&&4!=loginType&&5!=loginType||(loginMethod="微信登录");var regFromFdp=sessionStorage.getItem("regFromFdp")||"直接注册";if(sessionStorage.removeItem("regFromFdp"),Mobi.logMallFdp("mall_mem_reg",{mall_free_text_0:"账号注册",mall_free_text_1:regFromFdp,mall_free_bool_0:data.success,mall_free_text_2:data.success?"":data.msg||data.rt+"",mall_content_terminal:"mobi"},!0),data.success)if(Mobi.mallBuyLoginCheck(),jm.cookie("loginMethod",loginMethod),0==data.rt)Fai.top.location.href="/login.jsp?errno=-303";else if(data.fromBind)Mobi.memberActive(data.mail,data.memName);else if(data.active)Mobi.memberActive(info.email,data.acct);else{if(-1==url.indexOf("javascript"))return void(Fai.top.location.href=url);for(var methods=url.split(";"),i=0;i<methods.length-1;i++){var patt1=new RegExp("[^script:]");if(patt1.test(url)){var cells=methods[i].split(/:(.+)/);eval(cells[1]),-1!=url.indexOf("PhotoDetailSwipeForJumpCtrl")&&(window.klass.returnIndex=function(){Fai.top.location.href="/index.jsp"})}}}else Mobi.changeValidateCode(jm("#signupCaptchaImg")),jm("#memberSignupCaptcha").val(""),-401==data.rt?Mobi.ing(LS.memberSignupRegisterCaptchaNotMatch):-601==data.rt?Mobi.ing(LS.reGetMobileCode):-8==data.rt?Mobi.ing(LS.mobileHasSigned):-6==data.rt?Mobi.ing(LS.memberSignupRegisterExisted):-4==data.rt?Mobi.ing(LS.memberSignupRegisterLimit):-3==data.rt?Mobi.ing(LS.memberDialogNotFound):-2==data.rt?Mobi.ing(LS.mobileNumRegular):data.rt==Mobi.otherLoginErrno.acctAlreadyBind?Mobi.ing(LS.memberOtherLgnAcctAlreadyBind):Mobi.ing(LS.memberSignupRegisterError)}})}}},Mobi.otherLoginErrno={acctAlreadyBind:1},Mobi.memberSignupSubmit=function(t,e,i){if(!e&&!i){var o=jm("#memberSignupAcct").val().trim();if(null==o||""==o)return Mobi.ing(LS.memberSignupRegisterAcctEmpty),void Mobi.getPreviewObject("memberSignupAcct").focus()}var n=jm("#memberSignupPwd").val();if(null==n||""==n.trim())return Mobi.ing(LS.memberSignupRegisterPwdEmpty),void Mobi.getPreviewObject("memberSignupPwd").focus();if(n.length<4)return Mobi.ing(LS.memberSignupRegisterPwdMinLength),void Mobi.getPreviewObject("memberSignupPwd").focus();var a=jm("#memberSignupRepwd").val();if(n!=a)return Mobi.ing(LS.memberSignupRegisterPwdNotMatch),void Mobi.getPreviewObject("memberSignupRepwd").focus();var r="";if(jm("#memberSignupRemark").length>0){r=jm("#memberSignupRemark").val().trim();var s=jm("#memberSignupRemark").attr("maxlength");if(r.length>s)return Mobi.ing(jm.format(LS.memberSignupRegisterRemarkMaxLength,s)),void Mobi.getPreviewObject("memberSignupRemark").focus()}var l={};if(l.mobileSign=Fai.top.tmpMobileCodeSgin,l.acct=o,l.pwd=jm.md5(n),l.remark=r,l.signUpbyMobile=e,l.signUpbyMail=i,void 0!==jm("#messageAuthCode").attr("maxlength")&&null!=jm("#messageAuthCode").attr("maxlength")){var c=jm("#messageAuthCode").val();if(void 0===c||null==c||""==c)return Mobi.ing(LS.inputMobileCode),void Mobi.getPreviewObject("messageAuthCode").focus();l.messageAuthCode=c}var d="",m="",p="",u=0,f="",h=0;if(jm(".userAddItem").each((function(){return m=jm(this).attr("id"),p=jm(this).val().trim(),d=jm(this).attr("name"),f=jm(this).attr("maxlength"),l[m]=p,void 0!==f&&null!=f&&p.length,"email"==m&&p.length>0&&!jm.isEmail(p)?(Mobi.ing(jm.format(LS.memberSignupUserAddItemCorrect,d)),Mobi.getPreviewObject(m).focus(),h=1,!1):"mobile"==m&&p.length>0&&!jm.isNationMobile(p)?(Mobi.ing(LS.mobileNumRegular),Mobi.getPreviewObject(m).focus(),h=1,!1):void(Fai.top._openThemeV3?"mobileCt"==m&&l.mobile.length<=0&&(l.mobileCt=""):"mobile"==m&&p.length<=0&&(l.mobileCt=""))})),1!=h&&1!=u){var g=0;if(jm(".isCheckUAI").each((function(){return m=jm(this).attr("id"),p=jm(this).val().trim(),d=jm(this).attr("name"),jm(this).hasClass("member_file_input")?(p.length||(Mobi.ing(jm.format(LS.site_memberSignupUserAddItemIsEmpty2,d)),g=1),!1):null==p||""==p.trim()?(jm(this).is("input")?Mobi.ing(jm.format(LS.memberSignupUserAddItemIsEmpty,d)):Mobi.ing(jm.format(LS.memberSignupUserAddItemIsEmpty2,d)),Mobi.getPreviewObject(m).focus(),g=1,!1):"email"==m&&p.length>0&&!jm.isEmail(p)?(Mobi.ing(jm.format(LS.memberSignupUserAddItemCorrect,d)),Mobi.getPreviewObject(m).focus(),g=1,!1):void 0})),1!=g){var v=jm("#memberAgreePro");if(v.length>0&&!v.prop("checked"))Mobi.ing(LS.memberAgreeProtocol);else{var b="APuf2tQECAEQARoDWzNdIgnllJDkuJbmsJE",_=function(o){Mobi.ing(LS.memberSignupRegisterIng,!1,!0),jm(".g_button").removeClass("sendIcon"),o&&(l.checkSign=o,l.bssKey=b),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax/member_h.jsp?cmd=addWafCk_add",oldPath:"ajax/member_h.jsp?cmd=addWafCk_add"}),data:"info="+jm.encodeUrl(jm.toJSON(l)),error:function(){Mobi.ing(LS.memberSignupRegisterError)},success:function(o){var a=jm.parseJSON(o),r=sessionStorage.getItem("regFromFdp")||"直接注册";sessionStorage.removeItem("regFromFdp"),Mobi.logMallFdp("mall_mem_reg",{mall_free_text_0:"帐号注册",mall_free_text_1:r,mall_free_bool_0:a.success,mall_free_text_2:a.success?"":a.msg||a.rt+"",mall_content_terminal:"mobi"},!0),a.success?(MemberFileUtil.saveMemberFile(),Mobi._needSignupFaitest=!1,a.active?Mobi.memberActive(l.email,a.acct,t,(function(){})):(0==a.rt&&(Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?errno=-303"),t?Mobi.autoLogin(a.acct,n,t,"acct"):Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?errno=12")):(jm(".g_button").addClass("sendIcon"),jm(".loginIcon ").hide(),-401==a.rt?a.needCode&&(Mobi._needSignupFaitest=!0,Mobi.memberSignupSubmit(t,e,i)):-601==a.rt?Mobi.ing(LS.reGetMobileCode):-8==a.rt?Mobi.ing(LS.mobileHasSigned):-6==a.rt?Mobi.ing(LS.memberSignupRegisterExisted):-4==a.rt?Mobi.ing(LS.memberSignupRegisterLimit):-10==a.rt?Mobi.ing(LS.invalidChar):-28==a.rt?Mobi.ing(LS.memberRegisterLimit):-20==a.rt||-600==a.rt?Mobi.ing(a.msg):-1001==a.rt?(jm("#mobiIngTigs").remove(),Fai.top._openThemeV3?Mobi.showPluralPopupV3("email",a.headImg,a.name,a.acct,n,l,t):Mobi.showPluralPopup("email",a.headImg,a.name,a.acct,n,l,t)):-1002==a.rt?(jm("#mobiIngTigs").remove(),Fai.top._openThemeV3?Mobi.showPluralPopupV3("mobile",a.headImg,a.name,a.acct,n,l,t):Mobi.showPluralPopup("mobile",a.headImg,a.name,a.acct,n,l,t)):Mobi.ing(LS.memberSignupRegisterError),a.hasFW&&Mobi.ing(a.msg))}})};Mobi._needSignupFaitest?initFaitest({bss:1,bssKey:b},(function(t){_(t)})):_()}}}},Mobi.showPluralPopupV3=function(t,e,i,o,n,a,r){var s="email"==t?LS.emailAlreadyRegister:LS.mobileAlreadyRegister,l="email"==t?a.email:a.mobile,c="email"==t?Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_proceedAfterMail":Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_proceedAfterMobile",d={textClass:"proceed",cancelClass:"loginInstantly",content:s,callback:function(){!function(){var e=[];e.push("<div class='confirmCancelEmail'>"+jm.format(LS.warningBeforeProceedRegistry,l)+"</div>");var i={promptWrap:"confirmCancelEmailWrap",textClass:"confirm",content:e.join(""),callback:function(){jm.ajax({type:"post",url:c,data:"info="+jm.encodeUrl(jm.toJSON(a)),error:function(){Mobi.ing(LS.memberSignupRegisterError)},success:function(e){var i=jm.parseJSON(e),o=sessionStorage.getItem("regFromFdp")||"直接注册";sessionStorage.removeItem("regFromFdp"),Mobi.logMallFdp("mall_mem_reg",{mall_free_text_0:"email"==t?"邮箱注册":"手机注册",mall_free_text_1:o,mall_free_bool_0:i.success,mall_free_text_2:i.success?"":i.msg||i.rt+"",mall_content_terminal:"mobi"},!0),i.success?i.active?Mobi.memberActive(a.email,i.acct,r,(function(){})):(0==i.rt&&(Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?errno=-303"),r?Mobi.autoLogin(i.acct,n,r,t):Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?errno=12"):(jm(".g_button").addClass("sendIcon"),jm(".loginIcon ").hide(),jm("#signupCaptchaImg").attr("src","validateCode.jsp?"+1e3*Math.random()),jm("#memberSignupCaptcha").val(""),-401==i.rt?(Mobi.ing(LS.memberSignupRegisterCaptchaNotMatch),i.needCode&&jm(".J_memberSignupCaptcha").removeClass("memberSignupCaptchaHide")):-601==i.rt?Mobi.ing(LS.reGetMobileCode):-8==i.rt?Mobi.ing(LS.mobileHasSigned):-6==i.rt?Mobi.ing(LS.memberSignupRegisterExisted):-4==i.rt?Mobi.ing(LS.memberSignupRegisterLimit):-10==i.rt?Mobi.ing(LS.invalidChar):-28==i.rt?Mobi.ing(LS.memberRegisterLimit):-20==i.rt?Mobi.ing(i.msg):-1001==i.rt?Fai.top._openThemeV3?Mobi.showPluralPopupV3("email",i.headImg,i.name,i.acct,n,a,r):Mobi.showPluralPopup("email",i.headImg,i.name,i.acct,n,a,r):-1002==i.rt?Fai.top._openThemeV3?Mobi.showPluralPopupV3("mobile",i.headImg,i.name,i.acct,n,a,r):Mobi.showPluralPopup("mobile",i.headImg,i.name,i.acct,n,a,r):-1500==i.rt||Mobi.ing(LS.memberSignupRegisterError),i.hasFW&&Mobi.ing(i.msg))}})}};Mobi.prompt(i)}()},cancelCallback:function(){Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp"}};Mobi.prompt(d)},Mobi.showPluralPopup=function(t,e,i,o,n,a,r){var s="email"==t?LS.emailAcct:LS.mobileNum,l="email"==t?a.email:a.mobile,c="email"==t?Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_proceedAfterMail":Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_proceedAfterMobile",d=Mobi.isNull(i)||""==i||"null"==i?o:i,m=[];m.push("<div style='position: relative; top: -1.094rem; left: -.125rem; display: inline-block; width: 3.875rem; height: 3.875rem;'>"),m.push("\t<img src="+e+" style='height: 3.875rem; width: 3.875rem; border-radius: 100%; border: .125rem #f2f2f2 solid;' />"),m.push("</div>"),m.push("<div style='font-size: .75rem; color: #333; position: relative; top: -.375rem;'>"),m.push("\t<span style='display: block; text-align: center;'>"+d+"</span>"),m.push("\t<span style='display: block; text-align: center; position: relative; top: .4rem'>"+jm.format(LS.alreadyHasAnAcct,s)+"</span>"),m.push("</div>");var p={textClass:"proceed",cancelClass:"loginInstantly",content:m.join(""),callback:function(){!function(){var e=[];e.push("<div style='width: 2.5rem; height: 2.5rem; border-radius:50%; border: .125rem solid gray; position: relative; top: -.625rem; left: 4.0625rem; border-color: #F8BB86;'>"),e.push("<div style='animation: pulseWarningIns 0.75s infinite alternate; -webkit-animation: pulseWarningIns 0.75s infinite alternate;'>"),e.push("<span style='position: absolute; width: 0.15625rem; height: 1.46875rem; left: 50%; top: .3125rem; webkit-border-radius: .0625rem; border-radius: .0625rem; margin-left: -.0625rem; background-color: #F8BB86;'></span>"),e.push("<span style='position: absolute; width: .21875rem; height: .21875rem; -webkit-border-radius: 50%; border-radius: 50%; margin-left: .09375rem; left: 42%; bottom: .3125rem; background-color: #F8BB86;'></span>"),e.push("</div>"),e.push("</div>"),e.push("<div style='color: #333; font-size: .75rem; text-align:center;'>"+jm.format(LS.warningBeforeProceedRegistry,l)+"</div>");var i={textClass:"confirm",content:e.join(""),callback:function(){jm.ajax({type:"post",url:c,data:"info="+jm.encodeUrl(jm.toJSON(a)),error:function(){Mobi.ing(LS.memberSignupRegisterError)},success:function(e){var i=jm.parseJSON(e),o=sessionStorage.getItem("regFromFdp")||"直接注册";sessionStorage.removeItem("regFromFdp"),Mobi.logMallFdp("mall_mem_reg",{mall_free_text_0:"email"==t?"邮箱注册":"手机注册",mall_free_text_1:o,mall_free_bool_0:i.success,mall_free_text_2:i.success?"":i.msg||i.rt+"",mall_content_terminal:"mobi"},!0),i.success?i.active?Mobi.memberActive(a.email,i.acct,r,(function(){})):(0==i.rt&&(Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?errno=-303"),r?Mobi.autoLogin(i.acct,n,r,t):Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?errno=12"):(jm(".g_button").addClass("sendIcon"),jm(".loginIcon ").hide(),jm("#signupCaptchaImg").attr("src","validateCode.jsp?"+1e3*Math.random()),jm("#memberSignupCaptcha").val(""),-401==i.rt?(Mobi.ing(LS.memberSignupRegisterCaptchaNotMatch),i.needCode&&jm(".J_memberSignupCaptcha").removeClass("memberSignupCaptchaHide")):-601==i.rt?Mobi.ing(LS.reGetMobileCode):-8==i.rt?Mobi.ing(LS.mobileHasSigned):-6==i.rt?Mobi.ing(LS.memberSignupRegisterExisted):-4==i.rt?Mobi.ing(LS.memberSignupRegisterLimit):-10==i.rt?Mobi.ing(LS.invalidChar):-28==i.rt?Mobi.ing(LS.memberRegisterLimit):-20==i.rt?Mobi.ing(i.msg):-1001==i.rt?Fai.top._openThemeV3?Mobi.showPluralPopupV3("email",i.headImg,i.name,i.acct,n,a,r):Mobi.showPluralPopup("email",i.headImg,i.name,i.acct,n,a,r):-1002==i.rt?Fai.top._openThemeV3?Mobi.showPluralPopupV3("mobile",i.headImg,i.name,i.acct,n,a,r):Mobi.showPluralPopup("mobile",i.headImg,i.name,i.acct,n,a,r):-1500==i.rt||Mobi.ing(LS.memberSignupRegisterError),i.hasFW&&Mobi.ing(i.msg))}})}};Mobi.prompt(i)}()},cancelCallback:function(){Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp"}};Mobi.prompt(p)},Mobi.getSignMobileCode=function(t){if(Fai.top._manageMode)Mobi.ing("您目前处于网站管理状态，请先点击网站右上方的“退出”后再获取短信验证码。");else{var e=jm("#mobile").val(),i=jm("#mobileCt").val(),o="";if(jm.isNationMobile(e)){if(t&&(Fai._needFaitest=!0),Fai.top._encryptType&&void 0!==e&&Fai.top._faiEncryptKey&&Fai.top._encryptType>0){var n=new JSEncrypt;n.setPublicKey(Fai.top._faiEncryptKey),1==Fai.top._encryptType?n=new JSEncrypt1:2==Fai.top._encryptType?n=new JSEncrypt2:3==Fai.top._encryptType&&(n=new JSEncrypt3),n.setPublicKey(Fai.top._faiEncryptKey),o=n.encrypt(e)}var a="AObmzq0GCAEQARoDWzldIgnllJDkuJbmsJE",r=function(t){var n="mobile="+e+"&mobileCt="+i+"&mCode="+o;t&&(n+="&bssKey=".concat(a,"&checkSign=").concat(t)),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=getWafNotCk_getMobileCode",data:n,error:function(){Mobi.ing(LS.getMobileCodeErrAf)},success:function(t){var e=jm.parseJSON(t);e.success?(Mobi.ing(LS.sendMobileCodeSuc),Mobi.getSignMobileCodeCountDown(),Mobi._needFaitest=!1,Fai.top.tmpMobileCodeSgin=e.mobileCodeSign):(e.needCode&&(Mobi._needFaitest=!0,Mobi.getSignMobileCode()),-401==e.rt?e.needCode||Mobi.ing(LS.memberSignupRegisterCaptchaNotMatch):-2==e.rt?Mobi.ing(LS.js_argsError):2==e.rt?Mobi.ing(LS.memberDialogSendMobileCodeErr):-4==e.rt||8==e.rt?Mobi.ing(LS.getMobileOneMin):-8==e.rt?Mobi.ing(LS.getMobileHalfHour):3==e.rt?Mobi.ing(LS.memberDialogMobileMoneyErr):9==e.rt?Mobi.ing(LS.memberDialogSendMobileCodeLimit):101==e.rt?Mobi.ing(LS.mobileSetErr):-6==e.rt?Mobi.ing(LS.mobileHasSigned):23==e.rt?Mobi.ing(LS.mobileNationTplErr):-301==e.rt?Mobi.ing(LS.smsRanout):-1002==e.rt||Mobi.ing(LS.getMobileRefresh))}})};Mobi._needFaitest?initFaitest({bss:1,bssKey:a},(function(t){r(t)})):r()}else Mobi.ing(LS.mobileNumRegular)}},Mobi.getSignMobileCodeForFill=function(t){if(Fai.top._manageMode)Mobi.ing("您目前处于网站管理状态，请先点击网站右上方的“退出”后再获取短信验证码。");else{var e=jm("#mobile").val(),i=jm("#mobileCt").val(),o=jm("#memberSignupCaptcha").val(),n="";if(jm.isNationMobile(e))if(null!=o&&""!=o){t&&(Fai._needFaitest=!0);var a=!1;if(Fai.top._encryptType&&void 0!==e&&Fai.top._faiEncryptKey&&Fai.top._encryptType>0){var r=new JSEncrypt;r.setPublicKey(Fai.top._faiEncryptKey),o&&(o=r.encrypt(o),a=!0),1==Fai.top._encryptType?r=new JSEncrypt1:2==Fai.top._encryptType?r=new JSEncrypt2:3==Fai.top._encryptType&&(r=new JSEncrypt3),r.setPublicKey(Fai.top._faiEncryptKey),n=r.encrypt(e)}var s="AObmzq0GCAEQARoDWzldIgnllJDkuJbmsJE",l=function(t){var r="mobile="+e+"&mobileCt="+i+"&mCode="+n+"&validateCode="+o+"&isEncryptType="+a;t&&(r+="&bssKey=".concat(s,"&checkSign=").concat(t)),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=getWafNotCk_getMobileCode",data:r,error:function(){Mobi.ing(LS.getMobileCodeErrAf)},success:function(t){var e=jm.parseJSON(t);e.success?(Mobi.ing(LS.sendMobileCodeSuc),Mobi.getSignMobileCodeCountDown(),Mobi._needFaitest=!1,Fai.top.tmpMobileCodeSgin=e.mobileCodeSign):(e.needCode&&(Mobi._needFaitest=!0,Mobi.getSignMobileCode(),jm(".J_memberSignupCaptcha").removeClass("memberSignupCaptchaHide")),Mobi.changeValidateCode(jm("#signupCaptchaImg")),jm("#memberSignupCaptcha").val(""),-401==e.rt?e.needCode||Mobi.ing(LS.memberSignupRegisterCaptchaNotMatch):-2==e.rt?Mobi.ing(LS.js_argsError):2==e.rt?Mobi.ing(LS.memberDialogSendMobileCodeErr):-4==e.rt||8==e.rt?Mobi.ing(LS.getMobileOneMin):-8==e.rt?Mobi.ing(LS.getMobileHalfHour):3==e.rt?Mobi.ing(LS.memberDialogMobileMoneyErr):9==e.rt?Mobi.ing(LS.memberDialogSendMobileCodeLimit):101==e.rt?Mobi.ing(LS.mobileSetErr):-6==e.rt?Mobi.ing(LS.mobileHasSigned):23==e.rt?Mobi.ing(LS.mobileNationTplErr):-301==e.rt?Mobi.ing(LS.smsRanout):-1002==e.rt||Mobi.ing(LS.getMobileRefresh))}})};Mobi._needFaitest?initFaitest({bss:1,bssKey:s},(function(t){l(t)})):l()}else Mobi.ing(LS.memberSignupRegisterCaptchaEmpty);else Mobi.ing(LS.mobileNumRegular)}},Mobi.getSignMobileCodeCountDown=function(t,e){var i=jm("#messageAuthCodeClick"),o=i.attr("cTime"),n=60,a="5.2rem";o&&null!=o?(a="5.6rem",o=parseInt(o),n=1800):o=0,t&&(n=t),e&&(a=e),o++,i.attr("cTime",o),i.attr("s_onclick",i.attr("onclick")),i.removeAttr("onclick"),i.css("width",a),Mobi.mobileCodeCountInterval&&clearInterval(Mobi.mobileCodeCountInterval),Mobi.mobileCodeCountInterval=setInterval((function(){n--,i.html(LS.reGetMsg+"("+n+")"),n<=0&&(i.html(i.attr("title")),i.css("width","4.2rem"),i.attr("onclick",i.attr("s_onclick")),clearInterval(Mobi.mobileCodeCountInterval))}),1e3)},Mobi.mobileEditFuc={},Fuc=Mobi.mobileEditFuc,Fuc.init=function(t,e){if(""!=t&&""!=e){var i=document.createElement("script");i.type="text/javascript",i.src=t;var o=document.createElement("script");o.type="text/javascript",o.src=e;var n=document.documentElement||document.body;n.appendChild(i),n.appendChild(o)}},Fuc.revert=function(){jm("#inputMobile").show(),jm("#mobileValidate").hide()},Fuc.save=function(){if(!jm("#saveMobileBtn").hasClass("un-change"))if("none"==jm("#inputMobile").css("display")){var t=jm("#mobile").val(),e=jm("#mobileCt").val(),i=jm("#validateCodeInput").val();if(!t||""==t)return void Mobi.ing("请输入手机号码");if(!i||""==i)return void Mobi.ing(LS.memberSignupRegisterCaptchaEmpty);var o={countryCode:jm("#mobileCt").find("option").text(),validateCode:jm.encodeUrl(i)};jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp",data:"cmd=setWafCk_setMemberMobile&mobile="+jm.encodeUrl(t)+"&mobileCt="+jm.encodeUrl(e)+"&mobileSign="+jm.encodeUrl(Fai.top.tmpMobileCodeSgin)+"&propVals="+jm.encodeUrl(jm.toJSON(o)),error:function(){Mobi.showMemberLoginMsg(-1,"ajax net error")},success:function(t){var e=jm.parseJSON(t)||{};e.success?(Mobi.ing(e.msg,1),setTimeout((function(){document.location.reload()}),1e3)):Mobi.ing(e.msg)}})}else Fuc.getMobileCode()},Fuc.getMobileCode=function(){if(Fai.top._manageMode)Mobi.ing("您目前处于网站管理状态，请先点击网站右上方的“退出”后再获取短信验证码。");else{var t=jm("#mobile").val(),e=jm("#mobileCt").val(),i="";if("ch"!=e||jm.isMobile(t))if(jm.isNationMobile(t)){if(Fai.top._encryptType&&void 0!==t&&Fai.top._faiEncryptKey&&Fai.top._encryptType>0){var o=new JSEncrypt;o.setPublicKey(Fai.top._faiEncryptKey),1==Fai.top._encryptType?o=new JSEncrypt1:2==Fai.top._encryptType?o=new JSEncrypt2:3==Fai.top._encryptType&&(o=new JSEncrypt3),o.setPublicKey(Fai.top._faiEncryptKey),i=o.encrypt(t)}var n="AObmzq0GCAEQARoDWzldIgnllJDkuJbmsJE",a=function(o){var a="mobile="+t+"&mobileCt="+e+"&mCode="+i;o&&(a+="&bssKey=".concat(n,"&checkSign=").concat(o)),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=getWafNotCk_getMobileCode",data:a,error:function(){Mobi.ing(LS.getMobileCodeErrAf)},success:function(t){var e=jm.parseJSON(t);e.success?(Fuc.needCaptcha=!1,Mobi.ing(LS.sendMobileCodeSuc),Mobi.getSignMobileCodeCountDown(60,"4.37rem"),jm("#inputMobile").hide(),jm("#mobileValidate").show(),Fai.top.tmpMobileCodeSgin=e.mobileCodeSign):(e.needCode&&jm("#showCaptcha").click(),-401==e.rt?Fuc.needCaptcha?Mobi.ing(LS.memberSignupRegisterCaptchaNotMatch):Mobi.ing(LS.memberSignupRegisterCaptchaEmpty):-2==e.rt?e.msg?Mobi.ing(e.msg):Mobi.ing(LS.js_argsError):2==e.rt?Mobi.ing(LS.memberDialogSendMobileCodeErr):-4==e.rt||8==e.rt?Mobi.ing(LS.getMobileOneMin):-8==e.rt?Mobi.ing(LS.getMobileHalfHour):3==e.rt?Mobi.ing(LS.memberDialogMobileMoneyErr):9==e.rt?Mobi.ing(LS.memberDialogSendMobileCodeLimit):101==e.rt?Mobi.ing(LS.mobileSetErr):-6==e.rt?Mobi.ing(LS.mobileHasSigned):23==e.rt?Mobi.ing(LS.mobileNationTplErr):-301==e.rt?Mobi.ing(LS.smsRanout):-1002==e.rt||Mobi.ing(LS.getMobileRefresh),Fuc.needCaptcha=e.needCode||!1,Fuc.needCaptcha&&Fuc.getMobileCode())}})};Fuc.needCaptcha?initFaitest({bss:1,bssKey:n},(function(t){a(t)})):a()}else Mobi.ing(LS.mobileNumRegular);else Mobi.ing("手机号码不正确，请输入11位数字。")}},Fuc.infoInputChange=function(){jm("#saveMobileBtn").removeClass("un-change"),""==jm("#mobile").val()?jm("#cleanBtn").hide():jm("#cleanBtn").show(),""==jm("#validateCodeInput").val()?jm("#cleanValidateCodeInput").hide():jm("#cleanValidateCodeInput").show()},Fuc.cleanMobileInput=function(){jm("#mobile")[0].value="",jm("#cleanBtn").hide()},Fuc.cleanValidateCodeInput=function(){jm("#validateCodeInput")[0].value="",jm("#cleanValidateCodeInput").hide()},Fuc.initCaptchaPanel=function(t){Fuc.needCaptcha=t;var e={triggerId:"showCaptcha",pageBg:!0,pageHtml:"<div class='p_validateCode'><div class='contain'><img id='mobileEditCaptchaImg' class='captcha_img' src='validateCode.jsp?"+parseInt(1e3*Math.random())+"' /><div class='refreshCaptcha' onclick='Mobi.changeValidateCode(jm(\"#mobileEditCaptchaImg\"))'><div class='refreshCaptchaIcon icon-refresh'></div><div class='refreshCaptchaText'>看不清，换一张</div></div><div><input id='memberSignupCaptcha' class='validateCodeInput' maxlength='8' placeholder='请输入验证码' /></div></div><div class='foot'><div class='hiddenCaptcha'>取消</div><div class='checkCaptcha' >确定</div></div></div>",direction:"bottom",callback:function(){jm(".checkCaptcha").unbind("click").click((function(){Fuc.checkCaptcha()}))},closeWebPage:".hiddenCaptcha"};Mobi.initWebPage(e),Mobi.changeValidateCode(jm("#mobileEditCaptchaImg"))},Fuc.checkCaptcha=function(){var t=jm("#memberSignupCaptcha").val()||"";""!=t?jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp",data:"cmd=wafNotCk_checkCaptcha&captchaCode="+jm.encodeUrl(t)+"&needCaptcha="+Fuc.needCaptcha,error:function(){Mobi.showMemberLoginMsg(-1,"ajax net error")},success:function(t){var e=jm.parseJSON(t)||{};if(e.success)Fuc.needCaptcha=!1,jm(".hiddenCaptcha").click(),Fuc.getMobileCode();else switch(e.rt||0){case-2:Mobi.ing(LS.js_argsError);break;case-4:Mobi.ing(LS.smsRanout);break;case-15:Mobi.ing(LS.memberSignupRegisterCaptchaNotMatch);break;default:Mobi.ing(LS.systemError)}}}):Mobi.ing(LS.memberSignupRegisterCaptchaEmpty)},Mobi.mallBuyLoginCheck=function(){var t=localStorage.getItem("mallBuyCallBack");t&&(localStorage.removeItem("mallBuyCallBack"),(t=jm.parseJSON(t)).login=!0,localStorage.setItem("mallBuyCallBack",jm.toJSON(t)))},Mobi.autoLogin=function(t,e,i,o){var n;jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/login_h.jsp",data:"cmd=wafNotCk_loginMember&acct="+jm.encodeUrl(t)+"&pwd="+jm.encodeUrl(jm.md5(e)),error:function(){Mobi.showMemberLoginMsg(-1,"ajax net error")},success:(n=_asyncToGenerator(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=jm.parseJSON(e),n="",n="acct"==o?"帐号密码登录":"email"==o?"邮箱登录":"手机号验证登录",Mobi.logMallFdp("mall_mem_log_mall",{mall_free_text_0:n,mall_free_bool_0:e.success,mall_free_text_2:e.success?"":e.msg||e.rt+"",mall_free_bool_1:Fai.top._showFaiscoSideSupport,mall_free_bool_3:Fai.top._showFaiscoSupport,mall_content_terminal:"mobi"},!0),!e.success){t.next=13;break}return Mobi.mallBuyLoginCheck(),jm.cookie("loginMethod",n),t.next=9,bizShared.clueReuqestVm.authRecordLoginOther();case 9:return Fai.top.location.href=i,t.abrupt("return");case 13:Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?returnUrl="+jm.encodeUrl(i);case 14:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})})},Mobi.memberActive=function(t,e){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mail_h.jsp?cmd=wafNotCk_sendMemberActiveMail",data:"memName="+jm.encodeUrl(e)+"&memEmail="+t,error:function(){Mobi.ing(LS.js_systemError)},success:function(){jm("#profileArea").hide(),jm("#fillAcctInfo").hide(),jm("#mSignUp").show(),jm("#mSignUp .loginContent").hide(),jm(".loginErrorLine").hide();var e=Mobi.getEmailCarriersAddress(t);jm("#checkEmail").html(jm.format(LS.memberSignupMailActivation,t)),-1!=e&&(jm("#emailAddr").attr("href",e.addr),jm("#emailAddr").html(jm.format(LS.memberSignupMailActivationLink,e.name)),jm("#emailAddr").show()),jm("#mobiIngTigs").remove()}})},Mobi.getEmailCarriersAddress=function(t){var e={},i=t.split("@")[1];return"qq.com"===i||"vip.qq.com"===i||"foxmail.com"===i?(e.name="QQ",e.addr="https://w.mail.qq.com",e):"163.com"===i?(e.name="163",e.addr="http://smart.mail.163.com",e):"126.com"===i?(e.name="126",e.addr="http://smart.mail.126.com",e):"sina.com"===i||"vip.sina.com"===i?(e.name="sina",e.addr="http://mail.sina.com.cn",e):-1},Mobi.showErrorMsg=function(t){jm(".loginErrorLine").show(),Mobi.ing(t)},Mobi.readBulletin=function(){var t=jm("#bulletinTitle"),e=jm("#bulletinTitle").attr("sessionMid");jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp",data:"cmd=setWafCk_setBulletinReadTime&id="+e,error:function(){Mobi.ing(LS.js_systemError)},success:function(e){(e=jm.parseJSON(e)).success?(jm("#profile").hide(),jm("#mBulletinConten").show(),jm(t).removeClass("newsReminds"),jm("#mBulletinConten img").each((function(){var t=jm("#mBulletinConten p").width();if(jm(this).attr("width")>=t){var e=jm(this).attr("height")/(jm(this).attr("width")/t);jm(this).css({height:e+"px",width:t+"px"})}}))):Mobi.ing(LS.js_systemError)}})},Mobi.memberAddrInfoOpera=function(t,e,i,o){var n=e,a="",r="",s=n.length,l="",c={};site_cityUtil.initProvinces(i),jm("#editAddrInfo .g_close").click((function(){jm("#editAddrInfo").hide(),jm("#addrInfoList").show()})),jm("#addrInfoList .orderAddAddrInfo").click((function(e,i){s=jm("#addrInfo .addrInfo").length;var o=Fai.top._addrInfoListLimit||30;s<o?(jm("#editAddrInfo").show(),jm("#editAddrInfo").find(".propItemValue").each((function(){if(9==jm(this).attr("proptype")){var t=jm(this).attr("id");if(null!=t&&""!=t){var e=t.replace("input","")+"_endinput";jm("#"+t).val(""),jm("#"+e).val("")}}jm(this).val("")})),a="addAddr",l=Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_set&id="+t,Mobi.cusHistory.add("editAddrInfo",i,2,"#addrInfoList .orderAddAddrInfo")):Mobi.ing(LS.mallAddrInfoAmountLimit,!0)})),jm("#addrInfoList").delegate(".edit, .info_name","click",(function(){jm("#addrInfoList").hide(),jm("#editAddrInfo").show(),r="edit"==jm(this).attr("class")?jm(this).attr("_index"):jm(this).parent().attr("_item"),a="editAddr",l=Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_set&id="+t;var e=n[r];jm("#editAddrInfo").find(".propItemValue").each((function(){var t=jm(this).attr("_field"),i=jm(this).attr("proptype"),o=jm(this).attr("id")||"";if(9==i){var n=e[t];null==n&&(n={});var a=n;null==a.s?jm(this).val(""):jm(this).val(a.s);var r=o.replace("input","")+"_endinput";null!=a.e?jm("#"+r).val(a.e):jm("#"+r).val("")}else jm(this).val(e[t])}));var i=e.addr_info;null!=i&&(i.isCus?(jm("#allArea").val(i.provinceCode),jm("#allArea").change(),jm("#areaBox2 .group_item[cid='"+i.cityCode+"']").click(),jm("#areaBox2 .group_item[cid='"+i.countyCode+"']").click()):(99e4==i.provinceCode?(jm("#areaBoxInput").attr("isOs",1),jm("#allArea").val("os"),jm("#allArea").change()):(jm("#areaBoxInput").attr("isCn",1),jm("#allArea").val("cn"),jm("#allArea").change()),jm("#areaBoxInput").attr("area1",i.provinceCode),jm("#areaBoxInput").attr("area2",i.cityCode),jm("#areaBoxInput").attr("area3",i.countyCode),jm("#areaBoxInput").attr("area4",i.streetCode),jm("#areaBox1 .group_item[pid='"+i.provinceCode+"']").click(),jm("#areaBox1 .group_item[cid='"+i.cityCode+"']").click(),jm("#areaBox1 .group_item[cid='"+i.countyCode+"']").click(),jm("#areaBox1 .group_item[cid='"+i.streetCode+"']").click()),jm("#addrInfo_street").val(i.streetAddr))})),jm("#addrInfoList").delegate(".selectedDiv label","click",(function(){if(a="setDefault",1!=n.length){r=jm(this).parents(".selectedArea").parent().attr("_item");var i={isDefault:1};c.opera=a,c._item=r,c.addrInfo=i,e[r].isDefault=i.isDefault;var o=this;jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_set&id="+t,data:"info="+jm.encodeUrl(jm.toJSON(c)),error:function(){Mobi.ing(LS.memberProfileError)},success:function(t){var e=jm.parseJSON(t);e.success?(jm(".addrInfo").each((function(){jm(this).find(".text").text(LS.mallSetDefault),jm(this).find(".cutOut").css("display","block"),n[jm(this).attr("_item")].isDefault=0})),jm(o).find(".text").text(LS.mallDefault),jm(o).parents(".addrInfo").find(".cutOut").css("display","none"),n[r].isDefault=1):Mobi.ing(e.msg)}})}})),jm("#g_body").append(jm("<div id='temBox' class='g_color g_main_color_v3'></div>"));var d=jm("#temBox").css("color");jm("head").append("<style>.checkbox-comp:checked +.text:before{background-color:"+d+";}</style>"),jm("#g_body").children("#temBox").remove();jm("#editAddrInfo").delegate(".orderSaveAddrInfo","click",(function(){!0;var t=!0,e=0;0==n.length?e=1:n[r]&&(e=n[r].isDefault);var i,o=jm(this),s={},d={},m="",p="",u="";o.parent().find(".propItemValue").each((function(){m=jm(this).attr("_field"),p=jm(this).val(),u=jm(this).attr("_prop");var e=jm(this).attr("proptype"),n=jm(this).attr("_required"),a=jm(this).attr("id");!("1"==n||"true"==n)||null!=p&&""!=p||(Mobi.ing(jm.format(LS.memberSignupUserAddItemCorrect,u)),this.focus(),t=!1),8==e&&p.length>0&&(jm.isNationMobile(p)||(i=LS.mobileNumRegular,Mobi.ing(i),this.focus(),t=!1)),10==e&&p.length>0&&(jm.isNationMobile(p)||(i=u+LS.mobileNumDefRegular,Mobi.ing(i),this.focus(),t=!1)),3!=e&&12!=e||p.length>0&&(jm.isEmail(p)||(i=LS.mallStlSubmitInput2+jm(this).attr("_prop"),Mobi.ing(i),this.focus(),t=!1)),11==e&&p.length>0&&(jm.isCardNo(p)||(i=LS.mallStlSubmitInput2+jm(this).attr("_prop"),Mobi.ing(i),this.focus(),t=!1));var r={};if(9==e){if(p.length>0){r.s=p;var s=a.replace("input","")+"_endinput",l=o.parent().find("#"+s);if(l.length>0){var c=l.val();""==c?(i=LS.mallStlSubmitInput2+jm(this).attr("_prop"),Mobi.ing(i),t=!1):r.e=c}}p=r}d[m]=p}));var f=!("os"==jm("#allArea").val()||"cn"==jm("#allArea").val()),h=jm("#areaBoxInput").attr("area4"),g=jm("#areaBoxInput").attr("area3"),v=jm("#areaBoxInput").attr("area2"),b=jm("#areaBoxInput").attr("area1"),_=jm("#addrInfo_street");if("1"==o.parent().find("#addrInfo_street").attr("_required")){if(null==jm("#allArea").val()||""==jm("#allArea").val())return Mobi.ing("请选择地区",1),void!1;if((null==b||""==b)&&!f)return void Mobi.ing("请选择省份",1);if((null==v||""==v)&&!f)return void Mobi.ing("请选择城市",1)}s.provinceCode=b,s.cityCode=v,s.countyCode=g,s.streetCode=h,s.streetAddr=_.val(),s.isCus=f,d.addr_info=s;var j="";1==jm("#allArea").length&&(2052==Fai.top._lcid||1028==Fai.top.lcid?(j=jm("#areaBoxInput").val().replace(/-/g,"")+jm("#addrInfo_street").val(),99e4==s.provinceCode&&(j=j.replace(jm("div[pid='990000']").text()+jm("div[pid='990000']").text(),jm("div[pid='990000']").text()))):(j=jm("#areaBoxInput").val().replace(/-/g," ")+" "+jm("#addrInfo_street").val(),99e4==s.provinceCode&&(j=j.replace(jm("div[pid='990000']").text()+" "+jm("div[pid='990000']").text(),jm("div[pid='990000']").text())))),d.addr=j,d.isDefault=e,c.opera=a,c._item=r,c.addrInfo=d,t&&jm.ajax({type:"post",url:l,data:"info="+jm.encodeUrl(jm.toJSON(c)),error:function(){Mobi.ing(LS.memberProfileError)},complete:function(){},success:function(t){var i=jm.parseJSON(t);if(i.success){var o=d.name||"",s=d.mobile||"",l=d.addr||"";if(""!=o&&""!=s&&""!=l||jm("#editAddrInfo").find(".propItemValue").each((function(){var t=jm(this).attr("_field");if(null!=t&&"addrDetail"!=t){var e=jm(this).attr("proptype"),i=d[t];if(2!=e&&4!=e&&7!=e&&8!=e){if(9==e){""!=i&&null!=i||(i={});var n=i;null!=n.s?(i=n.s,null!=n.e&&(i+=LS.to+n.e)):i=""}null==o||""==o?o=i:null==s||""==s?s=i:null!=l&&""!=l||(l=i)}}})),"editAddr"==a)e?jm("#addrInfoList").find(".addrInfo").each((function(){"block"!=jm(this).find(".cutOut").attr("display")&&(n[jm(this).attr("_item")].isDefault=0),jm(this).attr("_item")==r&&(jm(this).find(".name").text(o),jm(this).find(".phone").text(s),jm(this).find("#addr").text(l))})):jm("#addrInfoList").find(".addrInfo").each((function(){jm(this).attr("_item")==r&&(jm(this).find(".name").text(o),jm(this).find(".phone").text(s),jm(this).find("#addr").text(l))})),n.splice(r,1,d),jm("#editAddrInfo").hide(),jm("#addrInfoList").show();else if("addAddr"==a){e&&jm("#addrInfoList").find(".addrInfo").each((function(){"block"!=jm(this).find(".cutOut").attr("display")&&(n[jm(this).attr("_item")].isDefault=0)}));var c=n.length,m=[];m.push("<div class='addrInfo' _item="+c+">"),m.push("<div class='"+(e?"":"middle")+" info_name' style='width:100%;'>"),m.push("<div class='nameAndPhone'><span class='name'>"+o+"</span><span class='phone'>"+s+"</span></div><div class='address'><span id='addr'>"+l+"</span></div>"),m.push("</div>"),m.push("<div class='selectedArea'>"),m.push("<div class='left'>"),m.push("<div class='selectedDiv'><label for='input"+c+"'><input type='radio' class='checkbox-comp' id='input"+c+"' name='defaultLogo'><span class='text'>设为默认</span></label></div>"),m.push("</div>"),m.push("<div class='right'>"),m.push("<div class='edit' _index="+c+"><span>编辑</span></div><div class='cutOut'><span>删除</span></div>"),m.push("</div>"),m.push("</div>"),m.push("</div>"),jm("#addrInfo").append(m.join("")),n.push(d),jm("#editAddrInfo").hide(),jm("#addrInfoList").show()}}else Mobi.ing(i.msg)}})})),jm("#addrInfo").delegate(".cutOut","click",(function(){var e=jm(this);r=e.parents(".selectedArea").parent().attr("_item"),c.opera="delAddr",c._item=r;var i={textClass:"confirm",content:"确定要删除该收货人信息吗？",callback:function(){!function(t,e){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_set&id="+t,data:"info="+jm.encodeUrl(jm.toJSON(c)),error:function(){Mobi.ing(LS.js_systemError)},success:function(t){var i=jm.parseJSON(t);if(i.success){jm("#mobiPrompt").remove(),jm("#mobiPrompt_Bg").remove();var o=0;jm("#addrInfoList").find(".addrInfo").each((function(){jm(this).attr("_item")==e?jm(this).remove():(jm(this).attr("_item",o),o++)})),s--,n.splice(e,1)}else Mobi.ing(i.msg)}})}(t,r)}};Mobi.prompt(i)}));var m=Mobi.initWebPage({triggerId:"areaBoxInput",panelId:"areaBox",pageBg:!0,returnSeltFun:!0,direction:"bottom",closeWebPage:"#areaBoxClose"});jm("#areaBox").unbind("click").bind("click",(function(t){var e=t.target.className;e&&jm.inArray("areaBox",e.split(" "))>=0&&(jm("#areaBoxClose").click(),jm("#areaBox1").hide(),jm("#areaBox2").hide())}));var p="";function u(t,e,o,n){jm("#areaBox1 .street_content").remove(),null!=o&&null!=n||(n=jm(t).attr("cname"),o=jm(t).attr("cid"));var a=jm("#areaBoxInput").attr("lastAreaType");jm("#areaBox1 .J_areaHead .street").click(),e?(null==a||"street"!=a&&"county"!=a||jm("#areaBoxInput").val(jm("#areaBoxInput").val().substring(0,jm("#areaBoxInput").val().indexOf("-",jm("#areaBoxInput").val().indexOf("-")+1))),jm("#areaBoxInput").val(jm("#areaBoxInput").val()+"-"+n),jm("#areaBoxInput").attr("lastArea","-"+n),jm("#areaBoxInput").attr("lastAreaType","county"),jm("#areaBoxInput").attr("area3",o),jm("#areaBoxInput").attr("area4","")):(null!=a&&""!=a&&jm("#areaBoxInput").val(jm("#areaBoxInput").val().substring(0,jm("#areaBoxInput").val().indexOf("-"))),jm("#areaBoxInput").val(jm("#areaBoxInput").val()+"-"+n),jm("#areaBoxInput").attr("lastArea","-"+n),jm("#areaBoxInput").attr("lastAreaType","city"),jm("#areaBoxInput").attr("area2",o),jm("#areaBoxInput").attr("area3",""),jm("#areaBoxInput").attr("area4",""));var r="";r=g(2052==i||1028==i?site_cityUtil.getStreet(o):site_cityUtil.getStreetEn(o));var s=jm(r).html();null!=s&&""!==s||(jm("#areaBox1").hide(),jm("#areaBoxClose").click()),jm("#street_box").append(r)}function f(t){var e="";return e+="<div class='city_content'>",jm.each(t,(function(t,o){e+=2052==i||1028==i?"<div class='group_item' cid='"+o.id+"' cname='"+site_cityUtil.getInfo(o.id).name+"'>"+site_cityUtil.simpleCityNameStr(site_cityUtil.getInfo(o.id).name)+"</div>":"<div class='group_item' cid='"+o.id+"' cname='"+site_cityUtil.getInfoEn(o.id).name+"'>"+site_cityUtil.simpleCityNameStrEn(site_cityUtil.getInfoEn(o.id).name)+"</div>"})),e+="</div>"}function h(t){var e="";return e+="<div class='county_content'>",jm.each(t,(function(t,o){e+=2052==i||1028==i?"<div class='group_item' cid='"+o.id+"' cname='"+site_cityUtil.getInfo(o.id).name+"'>"+site_cityUtil.getInfo(o.id).name+"</div>":"<div class='group_item' cid='"+o.id+"' cname='"+site_cityUtil.getInfoEn(o.id).name+"'>"+site_cityUtil.getInfoEn(o.id).name+"</div>"})),e+="</div>"}function g(t){var e="";return e+="<div class='street_content'>",jm.each(t,(function(t,o){e+=2052==i||1028==i?"<div class='group_item' cid='"+o.id+"' cname='"+site_cityUtil.getInfo(o.id).name+"'>"+site_cityUtil.getInfo(o.id).name+"</div>":"<div class='group_item' cid='"+o.id+"' cname='"+site_cityUtil.getInfoEn(o.id).name+"'>"+site_cityUtil.getInfoEn(o.id).name+"</div>"})),e+="</div>"}function v(t){if(isNaN(t))return"";var e=parseInt(t),i="";return jm.each(function(t){var e=[];return jm.each(o,(function(i,o){o.parentId==t&&e.push(o)})),e}(e),(function(t,e){i+="<div class='group_item' cid='"+e.id+"' cname='"+e.name+"'>"+e.name+"</div>"})),i}jm.each(site_cityUtil.getAreaGroupsPinYin(),(function(t,e){p+="<div class='pv_group' style='"+("OS"==e[0]?"display:none;":"")+"'>",p+="<div class='group_head'>"+e[0]+"</div>",p+="<div class='group_content'>",jm.each(e[1],(function(t,e){p+=2052==i||1028==i?"<div class='group_item' pid='"+e+"' pname='"+site_cityUtil.getInfo(e).name+"'>"+site_cityUtil.simpleProvinceNameStr(site_cityUtil.getInfo(e).name)+"</div>":"<div class='group_item' pid='"+e+"' pname='"+site_cityUtil.getInfoEn(e).name+"'>"+site_cityUtil.simpleProvinceNameStrEn(site_cityUtil.getInfoEn(e).name)+"</div>"})),p+="</div>",p+="</div>"})),jm("#areaBox1 .pv_content").html("").append(p),jm("#allArea").change((function(){if(null==jm("#allArea").val()||""==jm("#allArea").val()||"os"==jm("#allArea").val()?(jm("#areaBoxInput").parent(".edit_line").hide(),jm("#areaBox1").hide(),jm("#areaBox2").hide()):jm("#areaBoxInput").parent(".edit_line").show(),jm("#areaBoxInput").attr("isCn",0),jm("#areaBoxInput").attr("isCus",0),jm("#areaBoxInput").attr("isOs",0),jm("#areaBoxInput").attr("area1",""),jm("#areaBoxInput").attr("area2",""),jm("#areaBoxInput").attr("area3",""),jm("#areaBoxInput").attr("area4",""),"cn"==jm("#allArea").val()?(jm("#areaBoxInput").attr("isCn",1),jm("#areaBox1 .pv").click(),jm("#areaBox1 .city_content").remove(),jm("#areaBox1 .county_content").remove(),jm("#areaBox1 .street_content").remove(),jm("#areaBoxInput").val("")):"os"==jm("#allArea").val()?(jm("#areaBoxInput").attr("isOs",1),jm("#areaBoxInput").attr("area1",99e4),jm("#areaBoxInput").attr("area2",990100),jm("#areaBoxInput").val(jm("#areaBox1").find(".group_item[pid='990000']").text())):(jm("#areaBoxInput").attr("isCus",1),jm("#areaBoxInput").attr("area1",jm("#allArea").val()),jm("#areaBox2 .sec_content").html(""),jm("#areaBox2 .thd_content").html(""),jm("#areaBoxInput").val("")),"cn"==jm("#allArea").val()||"os"==jm("#allArea").val())jm(".J_ssq").show(),jm(".J_administrativeRegion").hide();else{var t=v(jm("#allArea").val());jm("#sec_box .sec_content").append(t),jm("#areaBoxInput").val(jm("#areaBoxInput").val()+jm("#allArea option[value='"+jm("#allArea").val()+"']").text()),jm(".J_ssq").hide(),jm(".J_administrativeRegion").show(),null!=t&&""!==t||jm("#areaBoxInput").parents(".edit_line").hide()}})),jm("#areaBoxInput").unbind("click").bind("click",(function(){"cn"==jm("#allArea").val()?(m(),jm("#areaBox1").toggle(),jm("#areaBox2").hide(),jm("#areaBox1 .J_areaHead .pv").click()):null==jm("#allArea").val()||"os"==jm("#allArea").val()||(m(),jm("#areaBox2").toggle(),jm("#areaBox1").hide(),jm("#areaBox2 .J_areaHead2 .sec").click()),document.getElementById("areaBoxInput").blur()})),jm("#areaBox1 .J_areaHead .pv").click((function(){jm("#province_box").show(),jm("#city_box").hide(),jm("#county_box").hide(),jm("#street_box").hide()})),jm("#areaBox1 .J_areaHead .city").click((function(){jm("#province_box").hide(),jm("#city_box").show(),jm("#county_box").hide(),jm("#street_box").hide()})),jm("#areaBox1 .J_areaHead .county").click((function(){jm("#province_box").hide(),jm("#city_box").hide(),jm("#county_box").show(),jm("#street_box").hide()})),jm("#areaBox1 .J_areaHead .street").click((function(){jm("#province_box").hide(),jm("#city_box").hide(),jm("#county_box").hide(),jm("#street_box").show()})),jm("#areaBox2 .J_areaHead2 .sec").click((function(){jm("#sec_box").show(),jm("#thd_box").hide()})),jm("#areaBox2 .J_areaHead2 .thd").click((function(){jm("#sec_box").hide(),jm("#thd_box").show()})),jm("#province_box .group_item").bind("click",(function(){jm("#areaBox1 .city_content").remove(),jm("#areaBox1 .county_content").remove();var t=jm(this).attr("pname"),e=jm(this).attr("pid");jm("#areaBox1 .J_areaHead .city").click(),jm("#areaBoxInput").val(""),jm("#areaBoxInput").val(jm("#areaBoxInput").val()+t),jm("#areaBoxInput").removeAttr("lastArea"),jm("#areaBoxInput").removeAttr("lastAreaType"),jm("#areaBoxInput").attr("area1",e),jm("#areaBoxInput").attr("area2",""),jm("#areaBoxInput").attr("area3",""),jm("#areaBoxInput").attr("area4","");var o="";o=f(2052==i||1028==i?site_cityUtil.getCities(e):site_cityUtil.getCitiesEn(e));var n=jm(o).html();null!=n&&""!==n||(jm("#areaBox1").hide(),jm("#areaBoxClose").click()),jm("#city_box").append(o)})),jm("#city_box").delegate(".group_item","click",(function(){jm("#areaBox1 .county_content").remove();var t=jm(this).attr("cname"),e=jm(this).attr("cid");if(0!=site_cityUtil.getCounty(e).length){jm("#areaBox1 .J_areaHead .county").click();var o=jm("#areaBoxInput").attr("lastAreaType");null!=o&&""!=o&&jm("#areaBoxInput").val(jm("#areaBoxInput").val().substring(0,jm("#areaBoxInput").val().indexOf("-"))),jm("#areaBoxInput").val(jm("#areaBoxInput").val()+"-"+t),jm("#areaBoxInput").attr("lastArea","-"+t),jm("#areaBoxInput").attr("lastAreaType","city"),jm("#areaBoxInput").attr("area2",e),jm("#areaBoxInput").attr("area3",""),jm("#areaBoxInput").attr("area4","");var n="";n=h(2052==i||1028==i?site_cityUtil.getCounty(e):site_cityUtil.getCountyEn(e));var a=jm(n).html();null!=a&&""!==a||(jm("#areaBox1").hide(),jm("#areaBoxClose").click()),jm("#county_box").append(n)}else u(this,!1,e,t)})),jm("#county_box").delegate(".group_item","click",(function(){u(this,!0)})),jm("#street_box").delegate(".group_item","click",(function(){var t=jm(this).attr("cname"),e=jm(this).attr("cid"),i=jm("#areaBoxInput").attr("lastArea"),o=jm("#areaBoxInput").attr("lastAreaType");null!=o&&"street"==o&&jm("#areaBoxInput").val(jm("#areaBoxInput").val().replace(i,"")),jm("#areaBoxInput").val(jm("#areaBoxInput").val()+"-"+t),jm("#areaBoxInput").attr("lastArea","-"+t),jm("#areaBoxInput").attr("lastAreaType","street"),jm("#areaBoxInput").attr("area4",e),jm("#areaBox1").hide(),jm("#areaBoxClose").click()})),jm("#sec_box").delegate(".group_item","click",(function(){jm("#areaBox2 .thd_content").html("");var t=jm(this).attr("cname"),e=jm(this).attr("cid");jm("#areaBox2 .J_areaHead2 .thd").click();var i=jm("#areaBoxInput").attr("lastAreaType");null!=i&&""!=i&&-1!=jm("#areaBoxInput").val().indexOf("-")&&jm("#areaBoxInput").val(jm("#areaBoxInput").val().substring(0,jm("#areaBoxInput").val().indexOf("-"))),jm("#areaBoxInput").val(jm("#areaBoxInput").val()+"-"+t),jm("#areaBoxInput").attr("lastArea","-"+t),jm("#areaBoxInput").attr("lastAreaType","sec"),jm("#areaBoxInput").attr("area2",e),jm("#areaBoxInput").attr("area3","");var o=v(e);null!=o&&""!==o||(jm("#areaBox2").hide(),jm("#areaBoxClose").click()),jm("#thd_box .thd_content").append(o)})),jm("#thd_box").delegate(".group_item","click",(function(){var t=jm(this).attr("cname"),e=jm(this).attr("cid"),i=jm("#areaBoxInput").attr("lastArea"),o=jm("#areaBoxInput").attr("lastAreaType");null!=o&&"thd"==o&&jm("#areaBoxInput").val(jm("#areaBoxInput").val().replace(i,"")),jm("#areaBoxInput").val(jm("#areaBoxInput").val()+"-"+t),jm("#areaBoxInput").attr("lastArea","-"+t),jm("#areaBoxInput").attr("lastAreaType","thd"),jm("#areaBoxInput").attr("area3",e),jm("#areaBox2").hide(),jm("#areaBoxClose").click()}))},Mobi.modifyListener=function(t,e){if(Mobi.logDog(201296,4),!Fai.top._manageMode){jm(".modifyArea li").click((function(t,e){"myForm"==jm(this).attr("id")&&Mobi.logDog(201296,5),document.body.scrollTop=0,document.documentElement.scrollTop=0;var i=jm(this).find(".itemName").html();if("0"!==jm(this).attr("orderlist")){if(Fai.top._templateFrameId>=2e3&&Fai.top._templateFrameId<3e3&&!Fai.top._openThemeV3&&jm(".form .loginHeader").show(),"1"===jm(this).attr("orderlist"))return Mobi.changeBackgroundToWhite(),Mobi.readBulletin(),Fai.top._profile&&jm("#mBulletinConten").find(".title").html(i),void Mobi.cusHistory.add("latestNews",e,1,"#latestNews");if("myForm"===jm(this).attr("id"))return Fai.top._profile||(i=jm(this).find(".itemName span").html()),void Mobi.loadFormList(i);if("password"===jm(this).attr("id"))jm("#profile").hide(),jm("#modifyPsw").show(),Fai.top._profile&&jm("#password").find(".title").html(i),Mobi.changeBackgroundToWhite(),Mobi.cusHistory.add("password",e,1,"#password");else if("consigneeInfo"===jm(this).attr("id"))jm("#addrInfoList").find(".title").html(i),jm("#profile").hide(),jm("#addrInfoList").show(),Mobi.changeBackgroundToWhite(),Mobi.cusHistory.add("consigneeInfo",e,1,"#consigneeInfo");else if("myreward"===jm(this).attr("id")){jm("#viewMyReward .reward-list").empty(),jm("#viewMyReward").find(".title").html(i),jm("#profile").hide(),jm("#viewMyReward").show();var o=jm("#g_web").height()-jm(".profileLoginHeader").height(),n=jm("#viewMyReward")[0];Fai.top.rewardPageNo=1,Fai.top.rewardList=[],jm("#viewMyReward").find(".reward-list").css("min-height",o+"px"),Mobi.handleRewardScroll(n)}else if("personalInfo"===jm(this).attr("id"))jm("#modifyPersInfo").find(".title").html(i),jm("#profile").hide(),jm("#modifyPersInfo").show(),Fai.top._openThemeV3&&(Mobi.initMemberMsgHeadPicV3(Fai.top.msgHeadPic),Mobi.changeSelectDefaultColor("#c4c9ca","#333333",".jz_themeV3 #modifyPersInfo select"),Mobi.changeSelectDefaultColor("#c4c9ca","#333333",".jz_themeV3 #modifyPersInfo .mobileLine"),Mobi.initPersInfo(),Fai.top._profile||Mobi.selectOverflow(Fai.top.selectAry)),Mobi.changeBackgroundToWhite(),Mobi.cusHistory.add("personalInfo",e,1,"#personalInfo"),setTimeout((function(){jm(".memberMsgHeadPicV3").hide(),jm(".memberMsgHeadPicV3").show()}),0);else if("cutPrice"===jm(this).attr("id"))jm("#modifyCutPrice").find(".title").html(i),jm("#profile").hide(),jm("#modifyCutPrice").show(),Mobi.changeBackgroundToWhite(),Mobi.cusHistory.add("cutPrice",e,1,"#cutPrice");else if("groupBuy"===jm(this).attr("id"))Mobi.logDog(200891,1),jm("#modifyGroupBuy").find(".title").html(i),jm("#profile").hide(),jm("#modifyGroupBuy").show(),Mobi.changeBackgroundToWhite(),Mobi.cusHistory.add("groupBuy",e,1,"#groupBuy"),Mobi.logDog(200891,2);else{if("promoter"===jm(this).attr("id"))return Mobi.changeBackgroundToWhite(),void Mobi.cusHistory.add("promoter",e,1,"#promoter");if("dist"===jm(this).attr("id"))return Mobi.changeBackgroundToWhite(),void Mobi.cusHistory.add("dist",e,1,"#dist");if("integral"===jm(this).attr("id"))jm("#modifyIntegral").find(".title").html(i),jm("#profile").hide(),jm("#modifyIntegral").show(),Mobi.changeBackgroundToWhite(),Mobi.cusHistory.add("integral",e,1,"#integral"),Mobi.logDog(200751,8);else if("collection"===jm(this).attr("id"))jm("#modifyCollection").find(".title").html(i),jm("#profile").hide(),jm("#modifyCollection").show(),Mobi.changeBackgroundToWhite(),Mobi.cusHistory.add("collection",e,1,"#collection");else if("coupon"===jm(this).attr("id")){if(jm("#modifyCoupon").find(".title").html(i),jm("#profile").hide(),jm("#modifyCoupon").show(),Mobi.cusHistory.add("coupon",e,1,"#coupon"),Mobi.isGiveCoupon){Mobi.logDog(201475,3),Mobi.isGiveCoupon=!1,jm("#coupon").find(".couponTips").hide();var a=jm("#memberPropertyArea");a.length>0&&a.find(".memberCouponTips").hide(),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_lookCoupon",data:"",error:function(){},success:function(){}})}}else{if("changeOtherLoginAcct"===jm(this).attr("id"))return Mobi.changeBackgroundToWhite(),void(Fai.top._profile&&jm("#bindOtherAcct").find(".title").html(i));if("knowPayment"===jm(this).attr("id"))i=jm(this).find(".itemName span").html(),jm("#knowPayList").find(".title").html(i),jm("#profile").hide(),jm("#knowPayList").show(),Mobi.changeBackgroundToWhite(),Mobi.loadKnowPayList();else{var r=jm(this).attr("id"),s=!["memberShipcard"].includes(r),l=jm(this).find(".itemText").html();(!!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)||s)&&jm("#profile").hide(),jm("#modifyProfile").show(),jm("#modifyProfile").find(".title").html(i),jm("#profileValue").val(jm.decodeHtml(l)),jm("#profileValue").attr("name",r),jm("#profileValue").attr("ismust",jm(this).attr("ismust")),Mobi.revertBackground()}}}}})),jm(".J_memberJumpToMsg").click((function(t,e){jm("#modifyPersInfo").find(".title").html("个人资料"),jm("#profile").hide(),jm("#modifyPersInfo").show(),Fai.top._openThemeV3&&(Mobi.initMemberMsgHeadPicV3(Fai.top.msgHeadPic),Mobi.changeSelectDefaultColor("#c4c9ca","#333333",".jz_themeV3 #modifyPersInfo select"),Mobi.changeSelectDefaultColor("#c4c9ca","#333333",".jz_themeV3 #modifyPersInfo .mobileLine"),Mobi.initPersInfo(),Fai.top._profile||Mobi.selectOverflow(Fai.top.selectAry)),Mobi.changeBackgroundToWhite(),Mobi.cusHistory.add("memberHeadPicV3",e,1,"#memberHeadPicV3"),setTimeout((function(){jm(".memberMsgHeadPicV3").hide(),jm(".memberMsgHeadPicV3").show()}),0)})),new Mobi.memberHeadPic(t,e).init(),Mobi.cusHistory.init(),"true"==jm.getCookie("showIntegral")&&(jm("#integral").click(),jm.setCookie("showIntegral",""));var i=jm("#coupon");if(i.length>0&&Mobi.isGiveCoupon)i.find(".itemName").append("<span class='couponTips'></span>");var o=jm("#memberPropertyArea");if(o.length>0&&Mobi.isGiveCoupon)o.find(".memberPropertyItem").each((function(){"我的优惠券"==jm(this).find(".memberPropertyItemName").text()&&jm(this).append("<span class='memberCouponTips'></span>")}))}},Mobi.handleRewardScroll=function(t){Fai.top.nowTime=Date.now(),Mobi.loadMyRewardList(),jm(window).on("scroll",(function(){var e=jm(window)[0];if(e.scrollY+e.innerHeight>=t.offsetHeight&&Fai.top.rewardPageNo<=jm("#viewMyReward")[0].totalPage){if(Date.now()-Fai.top.nowTime<800)return;Fai.top.nowTime=Date.now(),Fai.top.rewardPageNo++,Mobi.loadMyRewardList(Fai.top.rewardPageNo)}}))},Mobi.persInfoChangeMobileCt=function(){var t=jm("#modifyPersInfo #mobileCt").val(),e=jm("#modifyPersInfo #mobileCt").find("option[value='"+t+"']").html();t&&jm("#modifyPersInfo .mobileCtVal").html(e.substring(e.indexOf("+")))},Mobi.persInfoChangeMobileCtForMallThemeV3=function(){var t=jm("#memberInfoItemEdit #mobileCt").val(),e=jm("#memberInfoItemEdit #mobileCt").find("option[value='"+t+"']").html();t&&jm("#memberInfoItemEdit .mobileCtVal").html(e.substring(e.indexOf("+")))},Mobi.signUpPersInfoChangeMobileCt=function(t){var e=jm("#signupPage #mobileCt").val(),i=jm("#signupPage #mobileCt").find("option[value='"+e+"']").html();return jm("#signupPage .selectCover").html(i.substring(i.indexOf("+"))),jm(t).siblings(".mobileCtIcon").hasClass("selectAnimationRemove")?(jm(t).siblings(".mobileCtIcon").addClass("selectAnimation"),jm(t).siblings(".mobileCtIcon").addClass("hadChangeClass"),jm(t).siblings(".mobileCtIcon").removeClass("selectAnimationRemove"),jm(t).siblings(".mobileCtIcon").find(".icon-downward").css({transform:"rotate(-180deg)","-webkit-transform":"rotate(-180deg)","-ms-transform":"rotate(-180deg)","-moz-transform":"rotate(-180deg)","-o-transform":"rotate(-180deg)"})):jm(t).siblings(".mobileCtIcon").hasClass("selectAnimation")&&(jm(t).siblings(".mobileCtIcon").addClass("selectAnimationRemove"),jm(t).siblings(".mobileCtIcon").addClass("hadChangeClass"),jm(t).siblings(".mobileCtIcon").removeClass("selectAnimation"),jm(t).siblings(".mobileCtIcon").find(".icon-downward").css({transform:"rotate(0deg)","-webkit-transform":"rotate(0deg)","-ms-transform":"rotate(0deg)","-moz-transform":"rotate(0deg","-o-transform":"rotate(0deg)"})),!1},Mobi.clickEditMobile=function(t,e){e?(jm("#modifyPersInfo").hide(),jm("#editMobilePanel").show()):(jm("#editMobile").show(),jm(jm(t).parents(".g_globalLine_wrap")[0]).hide())},Mobi.fillPersInfoChangeMobileCt=function(){var t=jm("#fillAcctInfo #mobileCt").val(),e=jm("#fillAcctInfo #mobileCt").find("option[value='"+t+"']").html();jm("#fillAcctInfo .selectCover").html(e.substring(e.indexOf("+")))},Mobi.mSignUpPersInfoChangeMobileCt=function(){var t=jm("#mSignUp #mobileCt").val(),e=jm("#mSignUp #mobileCt").find("option[value='"+t+"']").html();jm("#mSignUp .selectCover").html(e.substring(e.indexOf("+")))},Mobi.profileLogout=function(t,e){e||(e=t);var i=Mobi.preprocessUrl({path:"",oldPath:""}),o={textClass:"confirm",content:LS.onLogout,callback:function(){Mobi.onLogout(i+"login.jsp?returnUrl="+jm.encodeUrl(e))}};Mobi.prompt(o)},Mobi.profileLogoutV3=function(t,e){e||(e=t);var i=Mobi.preprocessUrl({path:"",oldPath:""}),o={textClass:"confirm",content:LS.onLogoutV3,callback:function(){Mobi.onLogout(i+"login.jsp?returnUrl="+jm.encodeUrl(e))}};Mobi.prompt(o)},Mobi.loadPdCollectionList=function(t,e){this.pIdList=e,this.mid=t,this.panel=jm("#modifyCollection")},function(t,e){var i,o,n,a,r=Mobi.loadPdCollectionList.prototype,s=[];function l(){0==o.length&&n.find(".profileContent").html("<div class='noCollIcon'></div><div class='noCollTip'>"+LS.notCollect+"</div>")}function c(e){t.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/product_h.jsp",data:{cmd:"getWafNotCk_batchGetPd",ids:t.toJSON(e)},async:!1,type:"POST",dataType:"json",success:function(e){var i,o;e.success&&(i=e.list,o=[],t.each(i,(function(e,i){var n,a,r,l=(n=i.lid,r=!1,t.each(s,(function(t,e){n==e.lid&&(r=!0,a=e)})),r||(a=function(e){var i={lid:e};return t.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/productProp_h.jsp?cmd=getWafNotCk_list&lid="+e,async:!1,type:"POST",dataType:"json",success:function(e){if(e.success){var o=!1;t.each(e.list,(function(t,e){"mallPrice"==e.fieldKey&&(o=!0)})),i.showPrice=o,s.push(i)}}}),i}(n)),a),c=Mobi.preprocessUrl({path:"",oldPath:""});o.push("<li>"),o.push('  <div class="pdImg">'),i.isShowKnowPayLabelText&&o.push('<span class="quality_content_label">'.concat(i.knowPayLabelText,"</span>")),o.push('      <a href="javascript:;" _href="'+c+"pd.jsp?pid="+i.id+"&returnUrl="+c+'profile.jsp" >'),o.push('          <img src="'+i.picPath+'" />'),o.push("      </a>"),o.push("  </div>  "),o.push('  <div class="pdName">'+i.name+"</div>"),-1!=i.mallPrice&&l.showPrice&&o.push('  <div class="pdPrice"><div class="mallPrice">'+Fai.top.choiceCurrencyVal+" "+i.mallPrice+"</div></div>"),o.push('  <div class="cancelCollection" data-id="'+i.id+'">'+LS.cancelCollect+"</div>"),o.push("</li>")})),n.find(".collectionList").append(o.join("")))}})}r.init=function(){if(o=this.pIdList,n=this.panel,i=this.mid,0!=o.length){t.post(Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/product_h.jsp",{mid:i,cmd:"setWafCk_updateCollections",ids:t.toJSON(o)},(function(t){t.success&&(o=t.list)}),"json");var e=o.slice(0,10);a=e.length,c(e),function(){if(Mobi.onTouchAndClickEvent(".cancelCollection",(function(){var e=t(this),r={textClass:"confirm",content:LS.sureCancelCollect,callback:function(){var r=e.attr("data-id"),s=o.indexOf(Number(r));if(s>-1&&o.splice(s,1),function(e){var o=!1;return t.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_setMemberCollection",data:"mid="+i+"&pid="+e+"&collection=false",type:"POST",async:!1,dataType:"json",success:function(t){t.success&&(o=!0)}}),o}(r)&&(a--,e.parents("li").remove()),n.find(".collectionList li").length<6&&o.length>a){var d=o.slice(a,a+10);a+=d.length,d.length>0&&c(d)}l(),t("#mobiPrompt").remove(),t("#mobiPrompt_Bg").remove()}};Mobi.prompt(r)})),t(".pdName,.pdPrice,.pdImg").click((function(){var e=t(this).parent().find("a").attr("_href");location.href=e,t.setCookie("_fromCollect",!0)})),t(window).on("scroll",(function(){if(o.length>a){var e=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight);if(t(window)[0].scrollY+t(window).height()+100>=e){var i=o.slice(a,a+10);a+=i.length,i.length>0&&c(i)}}})),t.getCookie("_openCollect")){var e=t("#collection").find(".itemName").html();t("#modifyCollection").find(".title").html(e),t("#profile").hide(),t("#modifyCollection").show(),t.setCookie("_openCollect","",-1)}}()}else l()}}(jm),Mobi.loadItg=function(t,e,i,o){t<=0&&(location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?errno=11");var n=jm(".itgPanel"),a="<div class='whole_top'><div class='top_container webHeaderBg'><img style='position:absolute;top:0;' src='"+Fai.top._resImageRoot+"/image/v2/integralHead.png'></img><div class='credit_points'></div><div class='widget'>"+e+"</div>";o&&(a+="<div id='itgRuleForward' class='itgRuleForward'>"+jm.encodeHtml(i)+"</div>"),a+="</div><div class='nav_container'><div class='nav'><div class='all item'>"+LS.productScreenAll+"</div><div class='income item'>"+LS.itg_income+"</div><div class='spend item'>"+LS.itg_spend+"</div></div><div class='underline g_bgColor'></div></div></div><div class='no_itg'><div class='img'></div><div class='txt'>"+LS.itg_notYet+" "+e+"~</div></div><div class='list'></div>",n.append(a),jm(".item").on("click",(function(){var t=0==jm(".item.checked").length;jm(this).hasClass("checked")||(jm(".item").removeClass("checked"),jm(this).addClass("checked"),jm(this).hasClass("all")?(r=0,jm(".nav_container .underline").css("left","2.2rem"),t||Mobi.logDog(200751,4)):jm(this).hasClass("income")?(r=1,jm(".nav_container .underline").css("left","7.57rem"),Mobi.logDog(200751,5)):(r=2,jm(".nav_container .underline").css("left","12.9rem"),Mobi.logDog(200751,6)),jm(".list").empty(),l(0,r))}));var r=0,s=0;function l(t,e){t<=s&&jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=getWafNotCk_getIntegralInfo",data:"page="+t+"&type="+e,success:function(i){if(e==r){var o=(i=jm.parseJSON(i)).rtData;jm(".credit_points").text(o.currentItg),s=o.maxPage;var n="";0==t&&0==o.itgList.length?jm(".no_itg").css("display","flex"):jm(".no_itg").hide(),jm(o.itgList).each((function(t,e){var i=Mobi.preprocessUrl({path:"",oldPath:""})+"mdetail.jsp?id="+e.orderId;n+="<div class='itg_container'>",1==e.type?(n+="<div class='a_itg a_itg_order' onclick='window.location.href="+i+"'>",n+="<div class='left'>",n+="<div class='top'>"+e.detail+"</div>",n+="<div class='middle'>"+e.orderCode+"</div>",n+="<div class='bottom'>"+e.createTime+"</div>",n+="</div>",0==e.operate||2==e.operate?n+="<div class='right income'>"+e.alterNum+"</div>":n+="<div class='right expenses'>"+e.alterNum+"</div>",n+="</div>"):(n+="<div class='a_itg'>",n+="<div class='left'>",n+="<div class='top'>"+e.detail+"</div>",n+="<div class='bottom'>"+e.createTime+"</div>",n+="</div>",0==e.operate||2==e.operate?n+="<div class='right income'>"+e.alterNum+"</div>":n+="<div class='right expenses'>"+e.alterNum+"</div>",n+="</div>"),n+="</div>"})),t<s&&1!=s&&(n+="<div class='loadMore'>点击加载更多</div>"),jm(".list").append(n),jm(".loadMore").on("click",(function(){t<=s&&l(t+=1,e),jm(this).remove()}))}}})}jm(".all").click(),jm("#itgRuleForward").click((function(t,e){jm("#modifyIntegralRule").find(".title").html(jm.encodeHtml(i)),jm("#modifyIntegral").hide(),jm("#modifyIntegralRule").show(),Mobi.changeBackgroundToWhite(),Mobi.cusHistory.add("itgRuleForward",e,1,"#itgRuleForward"),Mobi.logDog(201094,14)})),Mobi.logDog(200751,10)},Mobi.loadCutPriceList=function(t){t<=0&&(location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?errno=11"),jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/cutPrice_h.jsp?cmd=getWafNotCk_getCutPriceByMid",data:"mid="+t,success:function(t){t=jm.parseJSON(t),function(t,o,n){var a="<div class='cpPanelHeader'>";a+="    <div class='cpPanelText'>",a+="        <div class='cpPanelChoose' id='cpAllHeader'>全部</div>",a+="        <div class='cpPanelChoose' id='cpOngoingHeader'>进行中</div>",a+="        <div class='cpPanelChoose' id='cpEndedHeader'>已结束</div>",a+="    </div>",a+="    <div class='cpUnderline g_bgColor g_main_bgColor_v3'></div>",a+="</div>",e.append(a),function(t,o,n){var a="<div class='cpListContent'>";if(a+="    <div class='cpList' id='cpAll' style='display: block;'><div class='cpEmpty'><div class='cpEmptyIcon'></div><div class='cpEmptyText'>你还没有砍价记录哦~</div></div></div>",a+="    <div class='cpList' id='cpOngoing' style='display: none;'><div class='cpEmpty'><div class='cpEmptyIcon'></div><div class='cpEmptyText'>你还没有砍价记录哦~</div></div></div>",a+="    <div class='cpList' id='cpEnded' style='display: none;'><div class='cpEmpty'><div class='cpEmptyIcon'></div><div class='cpEmptyText'>你还没有砍价记录哦~</div></div></div>",a+="</div>",e.append(a),0!=t.length){jm("#cpAll").empty();a="";jm(t).each((function(){var t=i(this);a+=t})),jm("#cpAll").append(a)}if(0!=o.length){jm("#cpOngoing").empty();a="";jm(o).each((function(){var t=i(this);a+=t})),jm("#cpOngoing").append(a)}if(0!=n.length){jm("#cpEnded").empty();a="";jm(n).each((function(){var t=i(this);a+=t})),jm("#cpEnded").append(a)}}(t,o,n),jm("#cpAllHeader").click((function(){jm(".cpUnderline").css("left","1.55rem"),jm(".cpList").hide(),jm("#cpAll").show()})),jm("#cpOngoingHeader").click((function(){jm(".cpUnderline").css("left","6.8rem"),jm(".cpList").hide(),jm("#cpOngoing").show()})),jm("#cpEndedHeader").click((function(){jm(".cpUnderline").css("left","12.2rem"),jm(".cpList").hide(),jm("#cpEnded").show()}))}(jm.parseJSON(t.all),jm.parseJSON(t.ongoing),jm.parseJSON(t.ended))}});var e=jm(".cutPriceListPanel");function i(t){var e="<div class='cpRecord' onclick='Mobi.jumpToCutPriceDetail("+t.cutPriceId+", "+t.id+", "+t.pdChoice.pid+")'>";1==t.status?e+="   <div class='cpStatusIcon cpSucc'></div>":2==t.status&&(e+="   <div class='cpStatusIcon cpFail'></div>"),e+="    <div class='cpPdImg' style='background-image: url("+t.productInfo.picPath+"); background-size: cover; background-repeat: no-repeat;'></div>",e+="    <div class='cpDetail'>",e+="        <div class='cpPdName'>"+jm.encodeHtml(t.productInfo.name)+"</div>";var i=t.cutPriceInfo.pdList,o=0;jm(i).each((function(){this.i==t.pdChoice.pid&&(o=this.p)}));var n=356*((o-t.currentPrice)/(o-t.cutPriceInfo.minPrice))/40;return e+="        <div class='cpPro'>",2==t.status?(e+="        <div class='cpRecProBar' style='background-color: #f2f2f2; opacity: 1;'></div>",e+="        <div class='cpActualRecProBar' style='width: "+n+"rem; background-color: #ddd; opacity: 1;'></div>"):(e+="        <div class='cpRecProBar g_bgColor g_main_bgColor_v3'></div>",e+="        <div class='cpActualRecProBar g_bgColor g_main_bgColor_v3' style='width: "+n+"rem;'></div>"),e+="        </div>",e+="        <div class='cpCurPrice'>已砍至"+Fai.top.choiceCurrencyVal+t.currentPrice.toFixed(2)+"</div>",e+="        <div class='cpPrice'>",e+="            <div class='cpMinPriceTxt'>底价：</div>",e+="            <div class='cpMinPriceVal g_mainColor g_main_color_v3'>"+Fai.top.choiceCurrencyVal+t.cutPriceInfo.minPrice.toFixed(2)+"</div>",e+="        </div>",e+="    </div>",e+="</div>"}},Mobi.loadGroupBuyListV3=function(t){if(!(t<=0)){jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mall_h.jsp?cmd=getWafNotCk_getGroupBuyByMid",data:"mid="+t,success:function(t){if((t=jm.parseJSON(t)).success){var o=t.orderList;!function(t,o,n){var a="<div class='gbPanelHeader'>";a+="    <div class='gbPanelText'>",a+="        <div class='gbPanelChoose' id='gbAllHeader'>全部</div>",a+="        <div class='gbPanelChoose' id='gbOngoingHeader'>进行中</div>",a+="        <div class='gbPanelChoose' id='gbEndedHeader'>已结束</div>",a+="    </div>",a+="    <div class='gbUnderline g_bgColor g_main_bgColor_v3'></div>",a+="</div>",e.append(a),function(t,o,n){var a="<div class='gbListContent'>";if(a+="    <div class='gbList' id='gbAll' style='display: block;'><div class='gbEmpty'><div class='gbEmptyIcon'></div><div class='gbEmptyText'>暂无拼团记录</div></div></div>",a+="    <div class='gbList' id='gbOngoing' style='display: none;'><div class='gbEmpty'><div class='gbEmptyIcon'></div><div class='gbEmptyText'>暂无拼团记录</div></div></div>",a+="    <div class='gbList' id='gbEnded' style='display: none;'><div class='gbEmpty'><div class='gbEmptyIcon'></div><div class='gbEmptyText'>暂无拼团记录</div></div></div>",a+="</div>",e.append(a),0!=t.length){jm("#gbAll").empty();a="";jm(t).each((function(){var t=i(this);a+=t})),jm("#gbAll").append(a)}if(0!=o.length){jm("#gbOngoing").empty();a="";jm(o).each((function(){var t=i(this);a+=t})),jm("#gbOngoing").append(a)}if(0!=n.length){jm("#gbEnded").empty();a="";jm(n).each((function(){var t=i(this);a+=t})),jm("#gbEnded").append(a)}}(t,o,n),jm("#gbAllHeader").click((function(){jm(".gbUnderline").css("left","1.55rem"),jm(".gbList").hide(),jm("#gbAll").show()})),jm("#gbOngoingHeader").click((function(){jm(".gbUnderline").css("left","6.8rem"),jm(".gbList").hide(),jm("#gbOngoing").show()})),jm("#gbEndedHeader").click((function(){jm(".gbUnderline").css("left","12.2rem"),jm(".gbList").hide(),jm("#gbEnded").show()}))}(o,o.filter((function(t){return 0==t.groupBuyDetail.status})),o.filter((function(t){return 5==t.groupBuyDetail.status||6==t.groupBuyDetail.status})))}}});var e=jm(".groupBuyListPanel")}function i(t){var e="<div class='gbRecord' onclick='Mobi.jumpToGroupBuyDetail("+t.groupBuyId+", "+t.groupBuyDetailId+")'>";return 5==t.groupBuyDetail.status?e+="<div class='gbStatusIcon gbSucc'></div>":6==t.groupBuyDetail.status&&(e+="<div class='gbStatusIcon gbFail'></div>"),e+="<div class='gbPdInfo'>",e+="<div class='upper'>",e+="<div class='gbPdImg' style='background-image: url("+t.productInfo.picPath+"); background-size: cover; background-repeat: no-repeat;'></div>",e+="<div class='gbDetail'>",e+="<div class='gbPdName'>"+jm.encodeHtml(t.productInfo.name)+"</div>",e+="<div class='gbPdPrice g_main_color_v3'>",e+="<div class='plaque g_main_bgColor_v3'>"+t.groupBuyDetail.groupNum+"人团</div>",e+=Fai.top.choiceCurrencyVal+t.price,e+="</div>",e+="</div>",e+="</div>",e+="<div class='under'>",0==t.groupBuyDetail.status?e+="<div class='indicator g_main_color_v3'>拼团中</div>":e+="<div class='indicator'></div>",e+="<div class='btnPanel'>",e+="<div class='orderBtn btn' onclick='Mobi.logDog(200891, 3);event.stopPropagation(); window.location.href="+(Mobi.preprocessUrl({path:"",oldPath:""})+"mdetail.jsp?id="+t.id)+"'>订单详情</div>",e+="<div class='gbBtn btn'>拼团详情</div>",e+="</div>",e+="</div>",e+="</div>",e+="</div>"}},Mobi.loadGroupBuyList=function(t){t<=0&&(location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?errno=11"),jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mall_h.jsp?cmd=getWafNotCk_getGroupBuyByMid",data:"mid="+t,success:function(t){var o=(t=jm.parseJSON(t)).orderList;!function(t,o,n){var a="<div class='gbPanelHeader'>";a+="    <div class='gbPanelText'>",a+="        <div class='gbPanelChoose' id='gbAllHeader'>全部</div>",a+="        <div class='gbPanelChoose' id='gbOngoingHeader'>进行中</div>",a+="        <div class='gbPanelChoose' id='gbEndedHeader'>已结束</div>",a+="    </div>",a+="    <div class='gbUnderline g_bgColor g_main_bgColor_v3'></div>",a+="</div>",e.append(a),function(t,o,n){var a="<div class='gbListContent'>";if(a+="    <div class='gbList' id='gbAll' style='display: block;'><div class='gbEmpty'><div class='gbEmptyIcon'></div><div class='gbEmptyText'>暂无拼团记录</div></div></div>",a+="    <div class='gbList' id='gbOngoing' style='display: none;'><div class='gbEmpty'><div class='gbEmptyIcon'></div><div class='gbEmptyText'>暂无拼团记录</div></div></div>",a+="    <div class='gbList' id='gbEnded' style='display: none;'><div class='gbEmpty'><div class='gbEmptyIcon'></div><div class='gbEmptyText'>暂无拼团记录</div></div></div>",a+="</div>",e.append(a),0!=t.length){jm("#gbAll").empty();a="";jm(t).each((function(){var t=i(this);a+=t})),jm("#gbAll").append(a)}if(0!=o.length){jm("#gbOngoing").empty();a="";jm(o).each((function(){var t=i(this);a+=t})),jm("#gbOngoing").append(a)}if(0!=n.length){jm("#gbEnded").empty();a="";jm(n).each((function(){var t=i(this);a+=t})),jm("#gbEnded").append(a)}}(t,o,n),jm("#gbAllHeader").click((function(){jm(".gbUnderline").css("left","1.55rem"),jm(".gbList").hide(),jm("#gbAll").show()})),jm("#gbOngoingHeader").click((function(){jm(".gbUnderline").css("left","6.8rem"),jm(".gbList").hide(),jm("#gbOngoing").show()})),jm("#gbEndedHeader").click((function(){jm(".gbUnderline").css("left","12.2rem"),jm(".gbList").hide(),jm("#gbEnded").show()}))}(o,o.filter((function(t){return 0==t.groupBuyDetail.status})),o.filter((function(t){return 5==t.groupBuyDetail.status||6==t.groupBuyDetail.status})))}});var e=jm(".groupBuyListPanel");function i(t){var e="<div class='gbRecord' onclick='Mobi.jumpToGroupBuyDetail("+t.groupBuyId+", "+t.groupBuyDetailId+")'>";return 5==t.groupBuyDetail.status?e+="<div class='gbStatusIcon gbSucc'></div>":6==t.groupBuyDetail.status&&(e+="<div class='gbStatusIcon gbFail'></div>"),e+="<div class='gbPdInfo'>",e+="<div class='upper'>",e+="<div class='gbPdImg' style='background-image: url("+t.productInfo.picPath+"); background-size: cover; background-repeat: no-repeat;'></div>",e+="<div class='gbDetail'>",e+="<div class='gbPdName'>"+jm.encodeHtml(t.productInfo.name)+"</div>",e+="<div class='gbPdPrice g_mainColor'>",e+="<div class='plaque g_bgColor'>"+t.groupBuyDetail.groupNum+"人团</div>",e+=Fai.top.choiceCurrencyVal+t.price,e+="</div>",e+="</div>",e+="</div>",e+="<div class='under'>",0==t.groupBuyDetail.status?e+="<div class='indicator g_mainColor'>拼团中</div>":e+="<div class='indicator'></div>",e+="<div class='btnPanel'>",e+="<div class='orderBtn btn' onclick='Mobi.logDog(200891, 3);event.stopPropagation(); window.location.href="+(Mobi.preprocessUrl({path:"",oldPath:""})+"mdetail.jsp?id="+t.id)+"'>订单详情</div>",e+="<div class='gbBtn btn'>拼团详情</div>",e+="</div>",e+="</div>",e+="</div>",e+="</div>"}},Mobi.loadItgV3=function(t,e,i,o){if(!(t<=0)){var n=jm(".itgPanel"),a="<div class='whole_top'><div class='top_container'><div class='widget'>"+e+"</div><div class='top_bar g_bgColor g_main_bgColor_v3'><div class='credit_points'></div></div>";o&&(a+="<div id='itgRuleForward' class='itgRuleForward'>"+jm.encodeHtml(i)+"</div>"),a+="</div><div class='nav_container'><div class='nav'><div class='all item'>"+LS.productScreenAll+"</div><div class='income item'>"+LS.itg_income+"</div><div class='spend item'>"+LS.itg_spend+"</div></div><div class='underline g_bgColor g_main_bgColor_v3'></div></div></div><div class='no_itg'><div class='img'></div><div class='txt'>"+LS.itg_notYet+" "+e+"~</div></div><div class='list'></div>",n.append(a),jm(".item").on("click",(function(t){t=0==jm(".item.checked").length,jm(this).hasClass("checked")||(jm(".item").removeClass("checked"),jm(this).addClass("checked"),jm(this).hasClass("all")?(r=0,jm(".nav_container .underline").css("left","2.1rem"),t||Mobi.logDog(200751,4)):jm(this).hasClass("income")?(r=1,jm(".nav_container .underline").css("left","7.47rem"),Mobi.logDog(200751,5)):(r=2,jm(".nav_container .underline").css("left","12.8rem"),Mobi.logDog(200751,6)),jm(".list").empty(),l(0,r))}));var r=0,s=0;jm(".all").click(),jm("#itgRuleForward").click((function(t,e){jm("#modifyIntegralRule").find(".title").html(jm.encodeHtml(i)),jm("#modifyIntegral").hide(),jm("#modifyIntegralRule").show(),Mobi.changeBackgroundToWhite(),Mobi.cusHistory.add("itgRuleForward",e,1,"#itgRuleForward")})),Mobi.logDog(200751,10)}function l(t,e){t<=s&&jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=getWafNotCk_getIntegralInfo",data:"page="+t+"&type="+e,success:function(i){if(e==r){var o=(i=jm.parseJSON(i)).rtData;jm(".credit_points").text(o.currentItg),s=o.maxPage;var n="";0==t&&0==o.itgList.length?jm(".no_itg").css("display","flex"):jm(".no_itg").hide(),jm(o.itgList).each((function(t,e){var i=Mobi.preprocessUrl({path:"",oldPath:""})+"mdetail.jsp?id="+e.orderId;n+="<div class='itg_container'>",1==e.type?(n+="<div class='a_itg a_itg_order' onclick='window.location.href="+i+"'>",n+="<div class='left'>",n+="<div class='top'>"+e.detail+"</div>",n+="<div class='middle'>"+e.orderCode+"</div>",n+="<div class='bottom'>"+e.createTime+"</div>",n+="</div>",0==e.operate||2==e.operate?n+="<div class='right income'>"+e.alterNum+"</div>":n+="<div class='right expenses'>"+e.alterNum+"</div>",n+="</div>"):(n+="<div class='a_itg'>",n+="<div class='left'>",n+="<div class='top'>"+e.detail+"</div>",n+="<div class='bottom'>"+e.createTime+"</div>",n+="</div>",0==e.operate||2==e.operate?n+="<div class='right income'>"+e.alterNum+"</div>":n+="<div class='right expenses'>"+e.alterNum+"</div>",n+="</div>"),n+="</div>"})),t<s&&1!=s&&(n+="<div class='loadMore'>点击加载更多</div>"),jm(".list").append(n),jm(".loadMore").on("click",(function(){t<=s&&l(t+=1,e),jm(this).remove()}))}}})}},Mobi.loadCutPriceListV3=function(t){if(!(t<=0)){jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/cutPrice_h.jsp?cmd=getWafNotCk_getCutPriceByMid",data:"mid="+t,success:function(t){t=jm.parseJSON(t),function(t,o,n){var a="<div class='cpPanelHeader'>";a+="    <div class='cpPanelText'>",a+="        <div class='cpPanelChoose' id='cpAllHeader'>全部</div>",a+="        <div class='cpPanelChoose' id='cpOngoingHeader'>进行中</div>",a+="        <div class='cpPanelChoose' id='cpEndedHeader'>已结束</div>",a+="    </div>",a+="    <div class='cpUnderline g_bgColor g_main_bgColor_v3 '></div>",a+="</div>",e.append(a),function(t,o,n){var a="<div class='cpListContent'>";if(a+="    <div class='cpList' id='cpAll' style='display: block;'><div class='cpEmpty'><div class='cpEmptyIcon'></div><div class='cpEmptyText'>你还没有砍价记录哦~</div></div></div>",a+="    <div class='cpList' id='cpOngoing' style='display: none;'><div class='cpEmpty'><div class='cpEmptyIcon'></div><div class='cpEmptyText'>你还没有砍价记录哦~</div></div></div>",a+="    <div class='cpList' id='cpEnded' style='display: none;'><div class='cpEmpty'><div class='cpEmptyIcon'></div><div class='cpEmptyText'>你还没有砍价记录哦~</div></div></div>",a+="</div>",e.append(a),0!=t.length){jm("#cpAll").empty();a="";jm(t).each((function(){var t=i(this);a+=t})),jm("#cpAll").append(a)}if(0!=o.length){jm("#cpOngoing").empty();a="";jm(o).each((function(){var t=i(this);a+=t})),jm("#cpOngoing").append(a)}if(0!=n.length){jm("#cpEnded").empty();a="";jm(n).each((function(){var t=i(this);a+=t})),jm("#cpEnded").append(a)}}(t,o,n),jm("#cpAllHeader").click((function(){jm(".cpUnderline").css("left","1.55rem"),jm(".cpList").hide(),jm("#cpAll").show()})),jm("#cpOngoingHeader").click((function(){jm(".cpUnderline").css("left","6.8rem"),jm(".cpList").hide(),jm("#cpOngoing").show()})),jm("#cpEndedHeader").click((function(){jm(".cpUnderline").css("left","12.2rem"),jm(".cpList").hide(),jm("#cpEnded").show()}))}(jm.parseJSON(t.all),jm.parseJSON(t.ongoing),jm.parseJSON(t.ended))}});var e=jm(".cutPriceListPanel")}function i(t){var e="<div class='cpRecord' onclick='Mobi.jumpToCutPriceDetail("+t.cutPriceId+", "+t.id+", "+t.pdChoice.pid+")'>";1==t.status?e+="   <div class='cpStatusIcon cpSucc'></div>":2==t.status&&(e+="   <div class='cpStatusIcon cpFail'></div>"),e+="    <div class='cpPdImg' style='background-image: url("+t.productInfo.picPath+"); background-size: cover; background-repeat: no-repeat;'></div>",e+="    <div class='cpDetail'>",e+="        <div class='cpPdName'>"+jm.encodeHtml(t.productInfo.name)+"</div>";var i=t.cutPriceInfo.pdList,o=0;jm(i).each((function(){this.i==t.pdChoice.pid&&(o=this.p)}));var n=356*((o-t.currentPrice)/(o-t.cutPriceInfo.minPrice))/40;return e+="        <div class='cpPro'>",2==t.status?(e+="        <div class='cpRecProBar' style='background-color: #f2f2f2; opacity: 1;'></div>",e+="        <div class='cpActualRecProBar' style='width: "+n+"rem; background-color: #ddd; opacity: 1;'></div>"):(e+="        <div class='cpRecProBar g_bgColor g_main_bgColor_v3'></div>",e+="        <div class='cpActualRecProBar g_bgColor g_main_bgColor_v3' style='width: "+n+"rem;'></div>"),e+="        </div>",e+="        <div class='cpCurPrice'>已砍至"+Fai.top.choiceCurrencyVal+t.currentPrice.toFixed(2)+"</div>",e+="        <div class='cpPrice'>",e+="            <div class='cpMinPriceTxt'>底价：</div>",e+="            <div class='cpMinPriceVal g_mainColor g_main_color_v3'>"+Fai.top.choiceCurrencyVal+t.cutPriceInfo.minPrice.toFixed(2)+"</div>",e+="        </div>",e+="    </div>",e+="</div>"}},Mobi.jumpToCutPriceDetail=function(t,e,i){var o=Mobi.preprocessUrl({path:"",oldPath:""})+"cpDetail.jsp?cpId="+t+"&cpDetailId="+e+"&pdId="+i+"&isInit=true";location.href=o},Mobi.jumpToGroupBuyDetail=function(t,e){Mobi.logDog(200891,4);var i=Mobi.preprocessUrl({path:"",oldPath:""})+"gbDetail.jsp?gbId="+t+"&gbDetailId="+e;location.href=i},Mobi.initWithDrawBorder=function(){var t=jm(".withdrawPanel .withdrawBtn").css("color");Fai.top._openThemeV3?jm(".withdrawPanel .withdrawBtn").css("border-width","1px").css("border-style","solid").addClass("g_main_bdColor_v3"):jm(".withdrawPanel .withdrawBtn").css("border","1px solid "+t)},Mobi.bindPromoterAndInvite=function(){var t=window.location.href,e=Mobi.getUrlParam(t,"promoteMemberId"),i=0,o=0,n=!1;0!=(e=parseInt(e)||0)&&e!=Fai.top.sessionMemberId?(jm.cookie("promoteMemberId",e,{path:"/"}),jm.cookie("invitePromoterId",e,{path:"/"})):0==e&&(e=jm.getCookie("promoteMemberId")||0,i=1);var a=Mobi.getUrlParam(t,"invitePromoterId");0!=(a=parseInt(a)||0)?(jm.cookie("promoteMemberId",a,{path:"/"}),jm.cookie("invitePromoterId",a,{path:"/"})):(a=jm.getCookie("invitePromoterId")||0,o=1),0!=e?Mobi.bindPromoterWhenEnter(e,i,o,n):0!=a&&(n=!0,Mobi.bindPromoterWhenEnter(a,i,o,n))},Mobi.initPromoterWelcome=function(t){if(4==t&&!localStorage.getItem("isFirstEnterPromoter"))return t=0,void(location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"promoterIndex.jsp");localStorage.removeItem("isFirstEnterPromoter"),1==t?Mobi.logDog(200808,7):2==t?Mobi.logDog(200808,8):3==t&&Mobi.logDog(200808,9),jm("#J_statusType"+t).show(),jm(".J_applyPromoter").bind("click",(function(){jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/promoter_h.jsp?cmd=wafNotCk_applyToPromoter",success:function(t){if((t=jm.parseJSON(t)).success)localStorage.setItem("isFirstEnterPromoter",!0),jm(".J_statusTypeAll").hide(),jm("#J_statusType2").show();else{if(-23==t.rt)return void(location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?returnUrl="+jm.encodeUrl(location.href));jm(".J_statusTypeAll").hide(),jm("#J_statusType3").show()}},fail:function(){jm(".J_statusTypeAll").hide(),jm("#J_statusType3").show()}})})),Fai.top._manageMode||jm(".J_goToPromoterIndex").bind("click",(function(){var t=this;jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/promoter_h.jsp?cmd=wafNotCk_applyToPromoter",success:function(e){if((e=jm.parseJSON(e)).success){var i=jm(t).attr("ivmid")||0;location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"promoterIndex.jsp?invitePromoterId="+i,Mobi.logDog(200578,0)}else if(-23==e.rt)return void(location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?returnUrl="+jm.encodeUrl(location.href))}})}))},Mobi.bindPromoterWhenEnter=function(t,e,i,o){jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/promoter_h.jsp?cmd=wafNotCk_bindPromoteMember",data:"promoteMemberId="+t+"&pmSource="+e+"&ivSource="+i+"&isInvite="+o,async:!1,success:function(){}})},Mobi.loadPromoterForInvite=function(t,e){var i=jm(".webContainerBox");(i=jm(".webContainerBox")).css("top","0"),i.empty(),jm("#g_web").css("background","#f7f7f7"),jm("#webBannerBox").remove(),jm("#webFooterBox").remove(),jm("#fixedAreaBox").remove(),jm("#mallThemeHeader").remove();var o="";o+="<div class='promPoster'></div>",o+="<div class='promWelcomeTxt'>",o+="    <span class='promHeader'>推广规则</span>",o+="    <span class='promDivider g_bgColor g_main_bgColor_v3'></span>",o+="    <span class='promgibberish'>"+t+"</span>",o+="</div>",o+="<div class='promBtnWrapper'><div class='promInterBtn g_bgColor g_main_bgColor_v3' onclick='Mobi.enterPromoterCenter(-1);'>进入"+e+"中心</div></div>",i.append(o)},Mobi.jumptoCusDetail=function(t){window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"promoterCustomerDetail.jsp?memberInfo="+t},Mobi.loadPromoterCus=function(){var t=document.body.offsetHeight,e=jm(".customerPanel"),i=0,o=0,n=0,a=[];function r(t,i){jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/promoter_h.jsp?cmd=getWafNotCk_getCustomerDataByPage",data:{pageNo:t,memberInPmterStatus:i},success:function(t){if((t=jm.parseJSON(t)).success){var i=t.customerList||[];a=a.concat(i),o=t.totalPage,jm(".aCus").remove();var n=function(t){var e="";if(!t||0==t.length)return e+="<div class='promoEmpty promoCustomerEmpty'>",e+="   <div class='promoEmptyIcon'></div>",e+="   <div class='promoEmptyTxt'>暂无客户</div>",e+="   <div class='promoEmptyTxt'>赶快邀请好友成为你的客户吧~</div>",e+="</div>";return jm.each(t,(function(t,i){i.expired?e+="<div class='aCus expired' onclick='Mobi.jumptoCusDetail(\""+encodeURIComponent(JSON.stringify(i))+"\")'>":e+="<div class='aCus' onclick='Mobi.jumptoCusDetail(\""+encodeURIComponent(JSON.stringify(i))+"\")'>",e+="\t\t<div class='imgWrapper'>",e+="\t\t\t<img src='"+i.headPicUrl+"'/>",e+="\t\t</div>",e+="\t\t<div class='name'>"+i.name+"</div>",i.expired&&(e+="<div class='expiredBadge' style='color: #fff !important;'>已失效</div>"),e+="\t\t<div class='trophy'>",e+="\t\t\t<div class='orderSum'>订单数量：<div class='num'>"+i.totalOrders+"</div></div>",e+="\t\t\t<div class='moneySum'>成交金额：<div class='num'>￥"+i.totalRevenue.toFixed(2)+"</div></div>",Fai.top._isMall&&(e+="\t\t\t<div class='shipSum'>(含运费：<div class='num'>￥"+i.totalShippingFee.toFixed(2)+"</div>)</div>"),e+="\t\t</div>",e+="\t</div>"})),e}(a);e.append(n)}},error:function(){Mobi.logMonitor(6292,!0)}})}r(i,n),document.body.onscroll=function(){0!=document.body.scrollTop||0!=document.documentElement.scrollTop?jm(".promoteCusSelect").css("top",0):jm(".promoteCusSelect").css("top","2.25rem"),(document.body.scrollTop+t>=document.body.scrollHeight||document.documentElement.scrollTop+t>=document.body.scrollHeight)&&i<o&&r(i+=1,n)},jm(".promoteCusSwitch .switches .allCus").off().on("click",(function(){jm(this).addClass("highlight"),jm(this).siblings().removeClass("highlight"),jm(".promoteCusSwitch .switchUnderline").css("left","1.4rem"),n=0,i=0,a=[],e.empty(),r(0,n)})),jm(".promoteCusSwitch .switches .effectCus").off().on("click",(function(){jm(this).addClass("highlight"),jm(this).siblings().removeClass("highlight"),jm(".promoteCusSwitch .switchUnderline").css("left","6.48rem"),n=2,i=0,a=[],e.empty(),r(0,n)})),jm(".promoteCusSwitch .switches .invalidCus").off().on("click",(function(){jm(this).addClass("highlight"),jm(this).siblings().removeClass("highlight"),jm(".promoteCusSwitch .switchUnderline").css("left","11.53rem"),n=1,i=0,a=[],e.empty(),r(0,n)}))},Mobi.loadPromoOrders=function(t){if(t.isNotLogin){var e="/login.jsp?returnUrl="+encodeURIComponent(document.location.href);return null!=Fai.top._curLanCode&&-1!==window.location.pathname.indexOf("/"+Fai.top._curLanCode+"/")&&(e="/"+Fai.top._curLanCode+e),void(window.location.href=e)}Mobi.logDog(200578,4);jm(".promoteOrdersLocater").append('\n\t\t<div class="promoteContainer jz-bg-grey\'">\n\t\t\t<div class="promoteTabList">\n\t\t\t \t<div class="promoteTab" :style="tapIndex==0?\'color:#353535\':\'color:#999999\'" @click="selectTap(0)">\n\t\t\t\t \t<div>自助推广</div>\n\t\t\t\t  \t<div :class="tapIndex==0?\'promoteSelected\':\'\'"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="promoteTab" :style="tapIndex==1?\'color:#353535\':\'color:#999999\'" @click="selectTap(1)">\n\t\t\t\t\t <div>好友推广</div>\n\t\t\t\t\t <div :class="tapIndex==1?\'promoteSelected\':\'\'"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div v-if="tapIndex == 0 ?(otherData.promoteOrderList.length > 0):(otherData.inviteOrderList.length > 0)">\n\t\t\t\t<div class="promoteOrderList">\n\t\t\t\t\t<div class="promoteOrderList_line" v-for="(order, oindex) in tapIndex==0?otherData.promoteOrderList:otherData.inviteOrderList" :key="oindex"  @click.stop="gotoDetail(order)">\n\t\t\t\t\t\t<div class="promoteLine_title">\n\t\t\t\t\t\t\t<div class="promoteLine_left_block">\n\t\t\t\t\t\t\t\t<img class="promoteHeadPic" :src="order.memberInfo.headPath">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div class="promoteNickname">\n\t\t\t\t\t\t\t\t\t{{sliceVal(order.memberInfo.name,15) || sliceVal(order.memberInfo.acct,15) || \'--\'}}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="promoteOrderTime">\n\t\t\t\t\t\t\t\t\t下单时间：{{order.orderTime}}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="promoteDone promoteStatusRight" v-if="order.status === 20" style="overflow: hidden;white-space: nowrap;width: 4rem;text-overflow: ellipsis;text-align: end;">{{order.orderStatusName || order.orderStausName}}</div>\n\t\t\t\t\t\t\t<div class="promoteClose promoteStatusRight" v-else-if="order.status === 25" style="overflow: hidden;white-space: nowrap;width: 4rem;text-overflow: ellipsis;text-align: end;">{{order.orderStatusName || order.orderStausName}}</div>\n\t\t\t\t\t\t\t<div class="promoteOrderStatus promoteStatusRight" v-else style="overflow: hidden;white-space: nowrap;width: 4rem;text-overflow: ellipsis;text-align: end;">{{order.orderStatusName || order.orderStausName}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="promoteItem_scroll">\n\t\t\t\t\t\t\t<div :id="order.pdCId" class="promoteProduct_container" :style="isPc ? \'overflow-y:hidden;padding-bottom:0.2rem;\':\'overflow-y:hidden;\'">\n\t\t\t\t\t\t\t\t\x3c!-- 单个产品 --\x3e\n\t\t\t\t\t\t\t\t<div v-if="order.itemList.length === 1" class="promotePd_no_scroll">\n\t\t\t\t\t\t\t\t<div class="promoteLine_items_no_scroll" v-for="(product, pindex) in order.itemList" :key="pindex" >\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<img class="promoteProduct_pic" :src="product.img"></img>\n\t\t\t\t\t\t\t\t\t<div v-if="product.notAdded">\n\t\t\t\t\t\t\t\t\t<div class="notAdded">已下架</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="promoteProduct_name" :class="(order.status === 25 ? \'promoteClose\' : \'\')">{{sliceVal(product.tmpProductName,26)}}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\x3c!-- 多个产品 --\x3e\n\t\t\t\t\t\t\t\t<div v-else class="promotePd_scroll" :id="order.pdCId1" :style="order.itemList.length > 3?(isIphone?\'overflow-x:scroll;padding-bottom: 0.2rem;\':(isAndroid ? \'overflow-x:scroll;\':\'\')):\'\'">\n\t\t\t\t\t\t\t\t\t<div class="promoteLine_items" v-for="(product, pindex) in order.itemList" :key="pindex" >\n\t\t\t\t\t\t\t\t\t<img class="promoteProduct_pic" :src="product.img" draggable="false" />\n\t\t\t\t\t\t\t\t\t\t<div v-if="product.notAdded">\n\t\t\t\t\t\t\t\t\t\t\t<div class="notAdded">已下架</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="promoteItem_scroll_right">\n\t\t\t\t\t\t\t\t\t<div class="promoteItem_scroll_right_text" :class="(order.status === 25 ? \'promoteClose\' : \'\')">共{{order.allCount}}件</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-if="order.itemList.length > 3" class="hiddenScrollBar" :style="isIphone?\'margin-top: -0.2rem;\':\'\'"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div :class="order.showFlowBtn ? \'promoteLine_item2_flow\' : \'line_item2\'">\n\t\t\t\t\t\t\t<div class="promoteOrderFigure">\n\t\t\t\t\t\t\t\t<div class="promoteFigure-item ">\n\t\t\t\t\t\t\t\t\t<div class="promoteFigure-text promoteReal_pay_text" :class="(order.status === 25 ? \'promoteClose\' : \'\')">实付金额：</div>\n\t\t\t\t\t\t\t\t\t<div class="promoteFigure-num promoteReal_pay_num" :class="(order.status === 25 ? \'promoteClose\' : \'\')">\n\t\t\t\t\t\t\t\t\t\t<div class="promoteMoney_num_small">{{choiceCurrencyVal}}</div>\n\t\t\t\t\t\t\t\t\t\t<div>{{order.priceFirstNum}}.</div>\n\t\t\t\t\t\t\t\t\t\t<div class="promoteMoney_num_small">{{order.priceLastNum}}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div v-if="order.status != 25" class="promoteFigure-text">成交预估收入：</div>\n\t\t\t\t\t\t\t\t\t<div v-if="order.status != 25" class="promoteFigure-num">\n\t\t\t\t\t\t\t\t\t\t<div class="promoteMoney_num_small">{{choiceCurrencyVal}}</div>\n\t\t\t\t\t\t\t\t\t\t<div>{{order.commissionFirstNum}}.</div>\n\t\t\t\t\t\t\t\t\t\t<div class="promoteMoney_num_small">{{order.commissionLastNum}}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div v-else style="height: 45rpx;">\n\t\t\t\t\t\t\t\t\t\t<div class="promoteClose_reason" v-if="order.allPdRefund">产品完成退款，订单自动关闭</div>\n\t\t\t\t\t\t\t\t\t\t<div class="promoteClose_reason" v-else>商家手动关闭订单</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="promoteFlow_btn"  @click.stop="toFlowPage(order)" v-if="order.showFlowBtn">\n\t\t\t\t\t\t\t\t\t<div class="promoteSee_flow">查看物流</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div v-if="tapIndex==0?(otherData.promoteOrderList.length <= 0):(otherData.inviteOrderList.length <= 0)">\n\t\t\t\t<img class="promoteEmptyListImg" src="http://ma.faisys.com/image/promoter/orderEmptyList.png"/>\n\t\t\t\t<div class="promoteEmptyListTxt">暂无{{tapIndex==0?"自助推广":"好友推广"}}订单</div>\n\t\t\t</div>\n\t\t</div>'),new Vue({el:"#promoteOrdersId",data:{otherData:{promoteOrderList:[],inviteOrderList:[]},tapIndex:0,showViewOrderDetail:!1,choiceCurrencyVal:Fai.top.choiceCurrencyVal,themeColor:Fai.top._themeColor},computed:{isIphone:function(){return!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},isAndroid:function(){var t=navigator.userAgent,e=t.indexOf("Android")>-1||t.indexOf("Adr")>-1;return e},isPc:function(){var t=navigator.userAgent,e=/(?:Windows Phone)/.test(t),i=/(?:SymbianOS)/.test(t)||e,o=/(?:Android)/.test(t),n=/(?:Firefox)/.test(t),a=/(?:iPad|PlayBook)/.test(t)||o&&!/(?:Mobile)/.test(t)||n&&/(?:Tablet)/.test(t);return!(/(?:iPhone)/.test(t)&&!a)&&!o&&!i}},watch:{otherData:{deep:!0,immdiate:!0,handler:function(){}}},mounted:function(){this.getList(this.tapIndex)},methods:{move:function(t){var e=document.querySelector("#pdCId"+t),i=document.querySelector("#pdCId_1"+t);null!=i&&null!=i&&(i.onmousedown=function(t){var o=(t||event).screenX;i.onmousemove=function(t){var i=(t||event).clientX,n=o-i,a=e.scrollLeft;a+=n,e.scrollLeft=a},i.onmouseup=function(){i.onmousemove=null,i.onmouseup=null}})},sliceVal:function(t,e){return null!=t&&"string"==typeof t&&t.length>e?t.slice(0,e-1)+"...":t},getList:function(){var t=this,e=this;jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/promoter_h.jsp?cmd=getWafNotCk_getPromoteOrder",data:{isInvite:1==this.tapIndex},async:!1,success:function(i){if((i=jm.parseJSON(i)).success){for(var o=i.rtData||{},n=o.orderList||[],a=t.otherData||{},r=o.showViewOrderDetail||!1,s=0;s<n.length;s++){n[s].pdCId="pdCId"+s,n[s].pdCId1="pdCId_1"+s;var l=(n[s].price||0).toString().split(".");null!=l&&(1==l.length?(n[s].priceFirstNum=l[0],n[s].priceLastNum="00"):2==l.length&&(n[s].priceFirstNum=l[0],l[1]&&1==l[1].length&&(l[1]+="0"),n[s].priceLastNum=l[1]));var c=(n[s].commission||0).toString().split(".");null!=c&&(1==c.length?(n[s].commissionFirstNum=c[0],n[s].commissionLastNum="00"):2==c.length&&(n[s].commissionFirstNum=c[0],c[1]&&1==c[1].length&&(c[1]+="0"),n[s].commissionLastNum=c[1]));for(var d=0,m=n[s].itemList||[],p=!0,u=0;u<m.length;u++){d+=m[u].amount||0,"退货完成"!=m[u].refundStatusName&&"退款完成"!=m[u].refundStatusName&&(p=!1)}n[s].allPdRefund=p,n[s].allCount=d}0==e.tapIndex?a.promoteOrderList=n:a.inviteOrderList=n,e.otherData=a,e.showViewOrderDetail=r;for(var f=function(t){setTimeout((function(){e.move(t)}),3e3)},h=0;h<n.length;h++)f(h)}}})},selectTap:function(t){this.tapIndex!=t&&(this.tapIndex=t,this.getList(t))},gotoDetail:function(t){var e=this.showViewOrderDetail||!1;if(t&&t.id>0&&e){var i="/promoterOrderDetail.jsp?orderId="+t.id+"&isFromSelfOrder="+(0==this.tapIndex)+"&commission="+this.choiceCurrencyVal+t.commission;window.location.href=i}},toFlowPage:function(t){t.flowInfo&&t.flowInfo.isCus||t.id&&t.id>0&&(window.location.href="/promoterOrderFlow.jsp?orderId="+t.id)}}})},Mobi.loadPromoteOrderDetail=function(t){if(t.isNotLogin){var e="/login.jsp?returnUrl="+encodeURIComponent(document.location.href);return null!=Fai.top._curLanCode&&-1!==window.location.pathname.indexOf("/"+Fai.top._curLanCode+"/")&&(e="/"+Fai.top._curLanCode+e),void(window.location.href=e)}jm("#webLoading").show();jm("#promoteOrderDetailId").append('\n\t\t<div id="orderDetailContainer">\n\t\t\t<div class="promoteOrderDetailContainer">\n\t\t\t\t<div class="orderDetail" v-if="!orderNull">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class="promoteHeader" :class="openThemeV3?\'headerBackground5\':\'webHeaderBg\'" v-if="orderInfo.status==6">\n\t\t\t\t\t\t\t<div class="orderIcon icon-finGroup headerIconShadow5"></div>\n\t\t\t\t\t\t\t<div class="txtBox2">\n\t\t\t\t\t\t\t\t<div class="txt headerTextShadow5">待成团</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="bgImg"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="promoteHeader" :class="openThemeV3?\'headerBackground2\':\'webHeaderBg\'" v-if="orderInfo.status==10">\n\t\t\t\t\t\t\t<div class="txtBox2">\n\t\t\t\t\t\t\t\t<span><svg class="orderIcon headerIconShadow2"><use xlink:href="#jzm-vicon_pending_receipt1"></use></svg></span>\n\t\t\t\t\t\t\t\t<div class="txt headerTextShadow2">{{orderInfo.orderStatusName || "待发货"}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="bgImg"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="promoteHeader" :class="openThemeV3?\'headerBackground2\':\'webHeaderBg\'" v-if="orderInfo.status==11">\n\t\t\t\t\t\t\t<div class="txtBox2">\n\t\t\t\t\t\t\t\t<span><svg class="orderIcon headerIconShadow2"><use xlink:href="#jzm-vicon_self-raising"></use></svg></span>\n\t\t\t\t\t\t\t\t<div class="txt headerTextShadow2">{{orderInfo.orderStatusName || "待自提"}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="bgImg"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="promoteHeader" :class="openThemeV3?\'headerBackground2\':\'webHeaderBg\'" v-if="orderInfo.status==15">\n\t\t\t\t\t\t\t<div class="txtBox2">\n\t\t\t\t\t\t\t\t<span><svg class="orderIcon headerIconShadow2"><use xlink:href="#jzm-vicon_pending_receipt1"></use></svg></span>\n\t\t\t\t\t\t\t\t<div class="txt headerTextShadow2">{{orderInfo.orderStatusName || "已发货"}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="bgImg"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="promoteHeader" :class="openThemeV3?\'headerBackground2\':\'webHeaderBg\'" v-if="orderInfo.status==17">\n\t\t\t\t\t\t\t<div class="txtBox2">\n\t\t\t\t\t\t\t\t<span><svg class="orderIcon headerIconShadow2"><use xlink:href="#jzm-vicon_pending_delivery1"></use></svg></span>\n\t\t\t\t\t\t\t\t<div class="txt headerTextShadow2">{{orderInfo.orderStatusName || "配送中"}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="bgImg"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="promoteHeader" :class="openThemeV3?\'headerBackground2\':\'webHeaderBg\'" v-if="orderInfo.status==12">\n\t\t\t\t\t\t\t<div class="txtBox2">\n\t\t\t\t\t\t\t\t<span><svg class="orderIcon headerIconShadow2"><use xlink:href="#jzm-vicon_pending_delivery1"></use></svg></span>\n\t\t\t\t\t\t\t\t<div class="txt headerTextShadow2">{{orderInfo.orderStatusName || "待配送"}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="bgImg"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="promoteHeader" :class="openThemeV3?\'headerBackground4\':\'webHeaderBg\'" v-if="orderInfo.status==16">\n\t\t\t\t\t\t\t<div class="txtBox2">\n\t\t\t\t\t\t\t\t<span><svg class="orderIcon headerIconShadow4"><use xlink:href="#jzm-vicon_self-raising"></use></svg></span>\n\t\t\t\t\t\t\t\t<div class="txt headerTextShadow4">{{orderInfo.orderStatusName || "已提货"}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="bgImg"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="promoteHeader" :class="openThemeV3?\'headerBackground4\':\'webHeaderBg\'" v-if="orderInfo.status==20">\n\t\t\t\t\t\t\t<div class="txtBox2">\n\t\t\t\t\t\t\t\t<span><svg class="orderIcon headerIconShadow4"><use xlink:href="#jzm-vicon_right"></use></svg></span>\n\t\t\t\t\t\t\t\t<div class="txt done headerTextShadow4">{{orderInfo.orderStatusName || "交易完成"}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="bgImg"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="promoteHeader" :class="openThemeV3?\'headerBackground3\':\'webHeaderBg\'" v-if="orderInfo.status==25">\n\t\t\t\t\t\t\t<div class="txtBox2">\n\t\t\t\t\t\t\t\t<span><svg class="orderIcon headerIconShadow3"><use xlink:href="#jzm-vicon_fail1"></use></svg></span>\n\t\t\t\t\t\t\t\t<div class="txt done headerTextShadow3">{{orderInfo.orderStatusName || "交易关闭"}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="bgImg"></div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="fk_orderDetail_box_wrap">\n\t\t\t\t\t\t<div class="orderFlowBox" :class="(isOrderFlowBoxNoFlow ? \'orderFlowBoxNoFlow\' : \'\')">\n\t\t\t\t\t\t\t<div v-if="!orderInfo.isVpdOrder">\n\t\t\t\t\t\t\t\t<div v-if="orderInfo.addrInfo" class="flowAndAddr">\n\t\t\t\t\t\t\t\t\t<div class="selfTaking" v-if="orderInfo.isTakingPoint">\n\t\t\t\t\t\t\t\t\t\t<div class="selfTakingLine">\n\t\t\t\t\t\t\t\t\t\t\t<svg class="selfTaking-icon"><use xlink:href="#jzm-v39"></use></svg>\n\t\t\t\t\t\t\t\t\t\t\t<div class="selfTakingTitle">{{parseJsonToObj(orderInfo.addrInfo.srp).name || ""}}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="selfTakingLine">\n\t\t\t\t\t\t\t\t\t\t\t<div class="selfTakingTitle selfTakingTitle1">{{parseJsonToObj(orderInfo.addrInfo.srp).ais || ""}}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div v-else class="flowBox jz-cut-border-color" v-if="orderInfo.flowInfo.isCus!=null && !orderInfo.isIntraCityShip">\n\t\t\t\t\t\t\t\t\t\t<svg class="iconCar icon-car"><use xlink:href="#jzm-v36"></use></svg>\n\t\t\t\t\t\t\t\t\t\t<div v-if="!orderInfo.flowInfo.isCus || false">\n\t\t\t\t\t\t\t\t\t\t\t<div class="line1">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="flowName">{{orderInfo.flowInfo.flowName || ""}}：</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="flowCode">{{orderInfo.flowInfo.wayBillNum || ""}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="copyCode" @click="copyTxt(orderInfo.flowInfo.wayBillNum)">复制</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="lastFlow" @click="toFlowPage(orderInfo)">{{lastFlowMsg || "暂无物流信息"}}</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="icon-arrowPromote" style="transform: rotate(180deg);"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="flowTime">{{lastFlowTime || ""}}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div v-if="orderInfo.flowInfo?orderInfo.flowInfo.isCus:false">\n\t\t\t\t\t\t\t\t\t\t\t<div class="line1"><span>{{orderInfo.flowInfo.cusFlowMsg || ""}}</span></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="productBox">\n\t\t\t\t\t\t\t<div class="orderDetailPdListInfo">\n\t\t\t\t\t\t\t\t<div class="orderDetailPdListInfo_header" v-if="orderInfo.memberInfo">\n\t\t\t\t\t\t\t\t\t<div class="orderDetailPdListInfo_header_icon">\n\t\t\t\t\t\t\t\t\t\t<img :src="orderInfo.memberInfo.headPic" style="width:100%;height:100%;border-radius:50%;"/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="orderDetailPdListInfo_header_text">{{sliceVal(orderInfo.memberInfo.name,16) || sliceVal(orderInfo.memberInfo.acct,16) || \'--\'}}</div>\n\x3c!--\t\t\t\t\t\t\t\t\t<div class="icon-arrowPromote" style="transform: rotate(180deg);margin-right: 0.4em;"></div>--\x3e\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="orderDetailPdListInfo_header" v-else>\n\t\t\t\t\t\t\t\t\t<div class="orderDetailPdListInfo_header_icon">\n\t\t\t\t\t\t\t\t\t\t<img :src="orderInfo.defaultHeadPicUrl" alt="" style="width:100%;height:100%;border-radius:50%;"/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="orderDetailPdListInfo_header_text">{{\'--\'}}</div>\n\x3c!--\t\t\t\t\t\t\t\t\t<div class="icon-arrowPromote" style="transform: rotate(180deg);margin-right: 0.4em;"></div>--\x3e\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div v-for="(item, index) in orderInfo.combineItemList || []" :key="index" class="pdItem jz-cut-border-color" v-if="isShowAllPd || index <= 2">\n\t\t\t\t\t\t\t\t\t\t<div class="pdcon">\n\t\t\t\t\t\t\t\t\t\t\t<div style="display:flex">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="left">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img class="pdImg" :src="item.picPath" mode="aspectFit"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div v-if="item.notAdded" class="notAdded">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="notAddedTip">已下架</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="right">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="pdProp">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="name" :class="(pageData.isEarnestSale ? \'earnestSaleOptions\':\'\')">{{sliceVal(item.productName,40)}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="options" :class="(pageData.isEarnestSale?\'earnestSaleOptions\':\'\')">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{sliceVal(item.optionsStr,24)}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div v-if="!orderInfo.isTakingPoint && pageData.earnestSaleInfo && (pageData.earnestSaleInfo.shipDays || pageData.earnestSaleInfo.shipDate)" class="earnestSaleshipDays">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{pageData.earnestSaleInfo.isEnterShipDay ? \'付尾款后\'+pageData.earnestSaleInfo.shipDays+\'天发货\':pageData.earnestSaleInfo.shipDate+\'开始发货\'}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="linebox">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div v-if="item.refundStatusName == \'退货中\' || item.refundStatusName == \'退款中\'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="price">退款金额：{{item.refundPrice}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="price jz-color">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="money_num_small">{{choiceCurrencyVal}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="money_num_big">{{item.cPriceFirstNum}}.</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="money_num_small">{{item.cPriceLastNum}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div v-if="orderInfo.mkType == 1 && orderInfo.groupBuyDetailId > 0">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="groupNum">{{orderInfo.groupNum}}人团</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="amount">x{{orderInfo.isDeliveryApart?item.isDaAmount:item.amount}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="refundBlock" v-show="!notPay" v-if="item.refundStatusName == \'退货中\' || item.refundStatusName == \'退款中\' || item.refundStatusName == \'退货完成\' || item.refundStatusName == \'退款完成\'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="refundStatus jz-color">{{item.refundStatusName}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="refundBlock" v-if="item.refundStatusName == \'退款关闭\' || item.refundStatusName == \'退货关闭\'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="refundStatus closeRefund">{{item.refundStatusName}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div v-for="(vpdDrInfo, index) in item.itemVpdDrList" :key="index" v-if="item.pdType == 1">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="vpdDrInfo">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{{vpdDrInfo.deliveryContent}}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="vpdDrInfoBtnContain" :style="item.itemVpdDrList && index == item.itemVpdDrList.length - 1 ?\'border-bottom:none;\':\'\'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="vpdDrInfoBtn jz-border-and-color" @click="copyTxt(vpdDrInfo.deliveryContent)"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t :style="item.itemVpdDrList && index == item.itemVpdDrList.length - 1 ?\'margin-bottom:0;\':\'\'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>复制</span></div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\x3c!-- 抽屉控件 --\x3e\n\t\t\t\t\t\t\t\t\t<div class="more" v-if="!isShowAllPd && orderInfo.itemList && orderInfo.itemList.length > 3" @click="showAllPd(0)">\n\t\t\t\t\t\t\t\t\t\t<div class="txt">还有{{orderInfo.itemList.length - 3}}件</div>\n\t\t\t\t\t\t\t\t\t\t<div class="icon-arrowPromote ic" style="transform: rotate(-90deg);"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="more" v-if="isShowAllPd && orderInfo.itemList && orderInfo.itemList.length > 3" @click="hidePd(0)">\n\t\t\t\t\t\t\t\t\t\t<div class="txt">收起</div>\n\t\t\t\t\t\t\t\t\t\t<div class="icon-arrowPromote ic" style="transform: rotate(90deg);"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class="orderDetailPdListInfo" v-if="orderInfo.vpdUnDeliveryCombineItemList && orderInfo.vpdUnDeliveryCombineItemList.length > 0">\n\t\t\t\t\t\t\t\t<div  v-for="(item, index) in orderInfo.vpdUnDeliveryCombineItemList || []" :key="index" class="pdItem jz-cut-border-color" v-if="isShowAllPd || index <= 2">\n\t\t\t\t\t\t\t\t\t<div class="pdcon">\n\t\t\t\t\t\t\t\t\t\t<div style="display:flex">\n\t\t\t\t\t\t\t\t\t\t\t<div class="left">\n\t\t\t\t\t\t\t\t\t\t\t\t<img class="pdImg" :src="item.picPath" mode="aspectFit"/>\n\t\t\t\t\t\t\t\t\t\t\t\t<div v-if="item.notAdded" class="notAdded">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="notAddedTip">已下架</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="right">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="pdProp">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="name" :class="(pageData.isEarnestSale ? \'earnestSaleOptions\':\'\')">{{sliceVal(item.productName,40)}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="options" :class="(pageData.isEarnestSale?\'earnestSaleOptions\':\'\')">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div v-for="(option, index) in item.choiceOption" :key="index" :index="index">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{option.c}}({{option.n}});\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div v-if="!orderInfo.isTakingPoint && pageData.earnestSaleInfo && (pageData.earnestSaleInfo.shipDays || pageData.earnestSaleInfo.shipDate)" class="earnestSaleshipDays">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{pageData.earnestSaleInfo.isEnterShipDay ? \'付尾款后\'+pageData.earnestSaleInfo.shipDays+\'天发货\':pageData.earnestSaleInfo.shipDate+\'开始发货\'}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="linebox">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div v-if="item.refundStatusName == \'退货中\' || item.refundStatusName == \'退款中\'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="price">退款金额：{{item.refundPrice}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="price jz-color">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{{choiceCurrencyVal+ formatDouble(item.cPrice)}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div v-if="orderInfo.mkType == 1 && orderInfo.groupBuyDetailId > 0">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="groupNum">{{orderInfo.groupNum}}人团</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="amount">x{{orderInfo.isDeliveryApart?item.isDaAmount:item.amount}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="refundBlock" v-show="!notPay" v-if="item.refundStatusName == \'退货中\' || item.refundStatusName == \'退款中\' || item.refundStatusName == \'退货完成\' || item.refundStatusName == \'退款完成\'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="refundStatus jz-color">{{item.refundStatusName}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="refundBlock" v-if="item.refundStatusName == \'退款关闭\' || item.refundStatusName == \'退货关闭\'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="refundStatus closeRefund">{{item.refundStatusName}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div v-for="(vpdDrInfo, index) in item.itemVpdDrList" :key="index" v-if="item.pdType == 1">\n\t\t\t\t\t\t\t\t\t\t\t<div class="vpdDrInfo">\n\t\t\t\t\t\t\t\t\t\t\t\t{{vpdDrInfo.deliveryContent}}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="vpdDrInfoBtnContain" :style="item.itemVpdDrList && index == item.itemVpdDrList.length - 1 ?\'border-bottom:none;\':\'\'">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="vpdDrInfoBtn jz-border-and-color" @click="copyTxt(vpdDrInfo.deliveryContent)" :style="item.itemVpdDrList && index == item.itemVpdDrList.length - 1 ?\'margin-bottom:0;\':\'\'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>复制</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\x3c!-- 抽屉控件 --\x3e\n\t\t\t\t\t\t\t\t<div class="more" v-if="!isShowAllPd && orderInfo.vpdUnDeliveryCombineItemList && orderInfo.vpdUnDeliveryCombineItemList.length > 3" @click="showAllPd(1)">\n\t\t\t\t\t\t\t\t\t<div class="txt">还有{{orderInfo.vpdUnDeliveryCombineItemList.length - 3}}件</div>\n\t\t\t\t\t\t\t\t\t<div class="icon-arrowPromote ic" style="transform: rotate(-90deg);"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="more" v-if="isShowAllPd && orderInfo.vpdUnDeliveryCombineItemList && orderInfo.vpdUnDeliveryCombineItemList.length > 3" @click="hidePd(1)">\n\t\t\t\t\t\t\t\t\t<div class="txt">收起</div>\n\t\t\t\t\t\t\t\t\t<div class="icon-arrowPromote ic" style="transform: rotate(90deg);"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="moneyBox" :class="((orderInfo.itemList && orderInfo.itemList.length>3) ? \'moreThan3Pd\':\'\')" :style="(orderInfo.itemList && orderInfo.itemList.length > 3 ? \'padding-top:100rpx\':\'padding-top:30rpx\')">\n\t\t\t\t\t\t\t<div class="single jz-cut-border-color">\n\t\t\t\t\t\t\t\t<div class="promoteLine">\n\t\t\t\t\t\t\t\t\t<div class="key">商品总额</div>\n\t\t\t\t\t\t\t\t\t<div class="val">{{choiceCurrencyVal+(pageData.isEarnestSale?formatDouble(orderInfo.expandPrice+orderInfo.balancePrice):formatDouble(orderInfo.tempTotalPrice))}}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="promoteLine" v-if="orderInfo.itgOffsetMoney > 0 && integralData">\n\t\t\t\t\t\t\t\t\t<div class="key">{{integralData.itgName}}抵消</div>\n\t\t\t\t\t\t\t\t\t<div class="val">-{{choiceCurrencyVal+formatDouble(orderInfo.itgOffsetMoney)}}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="promoteLine" v-if="orderInfo.cop > 0">\n\t\t\t\t\t\t\t\t\t<div class="key">优惠券抵消</div>\n\t\t\t\t\t\t\t\t\t<div class="val">-{{choiceCurrencyVal+formatDouble(orderInfo.cop)}}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="promoteLine" v-if="pageData.isIntegralMall && integralData">\n\t\t\t\t\t\t\t\t\t<div class="key">{{integralData.itgName}}{{pageData.integralMallInfo.type == 0 ? \'抵扣\' : \'兑换\'}}</div>\n\t\t\t\t\t\t\t\t\t<div class="val">{{pageData.additionalIm.useItg * orderInfo.combineItemList[0].amount}}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="promoteLine" v-if="pageData.isEarnestSale && (orderInfo.expandPrice-orderInfo.earnestPrice) != 0">\n\t\t\t\t\t\t\t\t\t<div class="key">定金膨胀抵消</div>\n\t\t\t\t\t\t\t\t\t<div class="val">-{{choiceCurrencyVal+formatDouble(orderInfo.expandPrice-orderInfo.earnestPrice)}}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="promoteLine" v-if="pageData.isCombinedPurchase">\n\t\t\t\t\t\t\t\t\t<div class="key">套餐优惠</div>\n\t\t\t\t\t\t\t\t\t<div class="val">\n\t\t\t\t\t\t\t\t\t\t-{{choiceCurrencyVal}}{{showPrice(orderInfo.savePrice || 0)}}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="promoteLine">\n\t\t\t\t\t\t\t\t\t<div class="key">优惠金额</div>\n\t\t\t\t\t\t\t\t\t<div class="val" v-if="formatDouble( orderInfo.savePrice + orderInfo.cop + orderInfo.itgOffsetMoney ) == 0">{{choiceCurrencyVal}}0.00</div>\n\t\t\t\t\t\t\t\t\t<div class="val" v-else>{{choiceCurrencyVal + formatDouble( orderInfo.savePrice + orderInfo.cop + orderInfo.itgOffsetMoney ) }}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="promoteLine" v-if="!orderInfo.isTakingPoint && orderInfo.shipSort >= 0 && orderInfo.shipSort != 6">\n\t\t\t\t\t\t\t\t\t<div class="key">运费</div>\n\t\t\t\t\t\t\t\t\t<div class="val">{{choiceCurrencyVal+formatDouble(orderInfo.shipPrice)}}</div>\n\t\t\t\t\t\t\t\t\t<div class="lineShipPrice" v-if="orderInfo.isFreeShip && orderInfo.other.osp">{{choiceCurrencyVal+formatDouble(orderInfo.other.osp)}}</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-if="orderInfo.status != 25">\n\t\t\t\t\t\t\t\t<div class="total">\n\t\t\t\t\t\t\t\t\t<div class="key">{{(pageData.isEarnestSale && pageData.earnestSaleInfo.payStatus != 4) ?\'合计\':\'实付款\'}}</div>\n\t\t\t\t\t\t\t\t\t<div class="val" :style="orderInfo.savePrice==0?\'margin-top:33rpx;\':\'\'">\n\t\t\t\t\t\t\t\t\t\t<div v-if="pageData.isEarnestSale && pageData.earnestSaleInfo.payStatus != 4" class="val1 jz-color">\n\t\t\t\t\t\t\t\t\t\t\t<div v-if="pageData.earnestSaleInfo.payStatus == 1">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="cyVal">{{choiceCurrencyVal}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="firstNum">{{orderInfo.earnestPriceFirstNum}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="cyVal">.{{orderInfo.earnestPriceLastNum}}</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="cyVal">{{choiceCurrencyVal}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="firstNum">{{orderInfo.balancePriceFirstNum}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="cyVal">.{{orderInfo.balancePriceLastNum}}</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div v-else class="val1 jz-color">\n\t\t\t\t\t\t\t\t\t\t\t<div class="cyVal">{{choiceCurrencyVal}}</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="firstNum">{{orderInfo.priceFirstNum}}</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="cyVal">.{{orderInfo.priceLastNum}}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="total single1 eiget">\n\t\t\t\t\t\t\t\t\t<div class="key">成交预估收入</div>\n\t\t\t\t\t\t\t\t\t<div class="val">\n\t\t\t\t\t\t\t\t\t\t<div class="val1 jz-color">\n\t\t\t\t\t\t\t\t\t\t\t<div class="cyVal">{{choiceCurrencyVal}}</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="firstNum">{{orderInfo.commissionFirstNum}}</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="cyVal">.{{orderInfo.commissionLastNum}}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t\t\t<div class="total noHeight"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div v-if="pageData.isEarnestSale && pageData.earnestSaleInfo" class="f_earnestSale">\n\t\t\t\t\t\t\t<div class="jz-cut-border-color earnestSale-payItem">\n\t\t\t\t\t\t\t\t<div class="topContain">\n\t\t\t\t\t\t\t\t\t<div class="tip">\n\t\t\t\t\t\t\t\t\t\t<div class="topCircle "></div>\n\t\t\t\t\t\t\t\t\t\t<div class="topLine " :style="earnestSaleUseInfo.themeBgcolor50"></div>\n\t\t\t\t\t\t\t\t\t\t<div class="bottomLine" :style="pageData.earnestSaleInfo.payStatus >= 3?earnestSaleUseInfo.themeBgcolor50:\'\'"></div>\n\t\t\t\t\t\t\t\t\t\t<div class="bottomCircle" :style="pageData.earnestSaleInfo.payStatus >= 3?earnestSaleUseInfo.themeBgcolor:\'\'"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="info">\n\t\t\t\t\t\t\t\t\t\t<div class="innerTopContain" :style="pageData.earnestSaleInfo.outTimeStatus==1?\'color: red;\':\'\'">\n\t\t\t\t\t\t\t\t\t\t\t<div class="esleft jz-color">定金（{{pageData.earnestSaleInfo.earnestPriceMessage}}）</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="esright">\n\t\t\t\t\t\t\t\t\t\t\t\t<div v-if="(orderInfo.expandPrice-orderInfo.earnestPrice) != 0" class="first jz-color jz-border-color">可抵 {{choiceCurrencyVal+showPrice(orderInfo.expandPrice)}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="second jz-color">{{choiceCurrencyVal}}{{showPrice(orderInfo.earnestPrice)}}</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="innerBottomContain" :style="pageData.earnestSaleInfo.outTimeStatus>0?\'color: red;\':\'\'">\n\t\t\t\t\t\t\t\t\t\t\t<div class="first" :class="pageData.earnestSaleInfo.payStatus >= 3?\'jz-color\':\'\'">尾款（{{pageData.earnestSaleInfo.balancePriceMessage}}）</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="second" :class="pageData.earnestSaleInfo.payStatus >= 3?\'jz-color\':\'\'">{{choiceCurrencyVal+showPrice(orderInfo.balancePrice+orderInfo.shipPrice)}}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="bottomContain">{{pageData.earnestSaleInfo.balancePriceStartTimeStr}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="msgAndPay">\n\t\t\t\t\t\t\t\x3c!-- 只有混合订单才需要分开展示留言 --\x3e\n\t\t\t\t\t\t\t<div v-if="orderInfo.msg && !pageData.isMulMctSettle">\n\t\t\t\t\t\t\t\t<div class="promoteLine">\n\t\t\t\t\t\t\t\t\t<div class="key">买家留言</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="msgBox">{{orderInfo.msg}}</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div class="promoteLine single1" v-if="orderInfo.status != 25">\n\t\t\t\t\t\t\t\t\t<div class="key">支付方式</div>\n\t\t\t\t\t\t\t\t\t<div class="val">\n\t\t\t\t\t\t\t\t\t\t<svg v-if="orderInfo.payKey === \'depositpay\'" class="iconPayDeposit"><use xlink:href="#jzm-v4"></use></svg>\n\t\t\t\t\t\t\t\t\t\t<div v-else class="iconPay" :class="\'icon-\'+orderInfo.payKey"></div>\n\t\t\t\t\t\t\t\t\t\t<div class="payName">{{orderInfo.payName}}</div>\n\t\t\t\t\t\t\t\t\t\t<div v-if="pageData.earnestSaleInfo && pageData.earnestSaleInfo.payStatus == 3" class="iconRight icon-arrowPromote" style="transform: rotate(-90deg);"></div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t\t\t\t<div class="promoteLine single1 payClose" v-if="allPdRefund">\n\t\t\t\t\t\t\t\t\t\t产品完成退款，订单自动关闭\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="promoteLine single1 payClose" v-else>\n\t\t\t\t\t\t\t\t\t\t商家手动关闭订单\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="promoteLine" v-if="!orderInfo.isVpdOrder && !pageData.isAllShipClose">\n\t\t\t\t\t\t\t\t<div class="key">配送方式</div>\n\t\t\t\t\t\t\t\t<div class="val">\n\t\t\t\t\t\t\t\t\t<div class="shipType">{{orderInfo.shipType}}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div v-if="orderInfo.status != 25">\n\t\t\t\t\t\t\t<div v-if="orderInfo.payMode == 2">\n\t\t\t\t\t\t\t\t<div v-for="(item, index) in orderInfo.bankList" :key="index" class="bankBox" :class="orderInfo.bankList&&index==orderInfo.bankList.length-1?\'\':\'noBottom\'">\n\t\t\t\t\t\t\t\t\t<div class="line1">开户银行：{{item.bank}}</div>\n\t\t\t\t\t\t\t\t\t<div class="line1">开户名：{{item.name}}</div>\n\t\t\t\t\t\t\t\t\t<div class="line1">帐号：{{item.acct}}</div>\n\t\t\t\t\t\t\t\t\t<div class="line2">{{item.leaveMsg}}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="itgCodeTime">\n\t\t\t\t\t\t\t\t<div class="line1" v-if="integralData && integralData.isPresentItg && !isCommunityGroup">\n\t\t\t\t\t\t\t\t\t<div class="itg1 jz-border-and-color">{{integralData.itgName}}</div>\n\t\t\t\t\t\t\t\t\t<div class="itg2">赠送<span class="jz-color">{{integralData.integralInfo.presentItg}}</span>{{integralData.itgName}}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="line2 order_num" style="margin-top:0.2rem;">\n\t\t\t\t\t\t\t\t\t<div>订单编号：</div>\n\t\t\t\t\t\t\t\t\t<div class="order_item_val">\n\t\t\t\t\t\t\t\t\t\t<div>{{orderInfo.code}}</div>\n\t\t\t\t\t\t\t\t\t\t<div class="line3">|</div>\n\t\t\t\t\t\t\t\t\t\t<div class="copyTxt" @click="copyTxt(orderInfo.code)">复制</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div v-if="orderInfo.mkType == 1 && orderInfo.groupBuyDetailId > 0">\n\t\t\t\t\t\t\t\t\t<div class="line2">\n\t\t\t\t\t\t\t\t\t\t<div>拼团编号：</div>\n\t\t\t\t\t\t\t\t\t\t<div class="order_item_val">{{orderInfo.groupBuyDetailCode}}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="line2">\n\t\t\t\t\t\t\t\t\t<div>交易时间：</div>\n\t\t\t\t\t\t\t\t\t<div class="order_item_val">{{orderInfo.settleTimeForDistPromote}}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="line2" v-if="!isFromSelfOrder">\n\t\t\t\t\t\t\t\t\t<div>订单来源：</div>\n\t\t\t\t\t\t\t\t\t<div class="order_item_val">{{sliceVal(orderInfo.orderOrigin,20)}}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div v-else style="text-align: center;padding-top: 1rem;padding-left: 0.5rem;background: #F4F4F4;">\n\t\t\t\t\t获取订单失败！\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t'),new Vue({el:"#orderDetailContainer",data:function(){return{openThemeV3:t.openThemeV3,orderNull:t.orderId<=0,choiceCurrencyVal:t.choiceCurrencyVal||"",themeId:1,orderInfo:{tempTotalPrice:0,savePrice:0,price:0,shipPrice:0,msg:"",payName:"",code:"",settleTimeFormat:"",combineItemList:[],_currencyVal:"",memberInfo:{headPic:""}},pageData:{},integralData:{},isShowAllPd:!1,lastFlowMsg:"",notPay:!1,earnestSaleUseInfo:{},orderShipTimeStr:"",isCommunityGroup:!1,isOrderFlowBoxNoFlow:!1,commission:t.commission||0,isFromPromote:!1,isFromSelfOrder:t.isFromSelfOrder||!1,allPdRefund:!0,lastFlowTime:"",backUrl:"",themeColor:""}},mounted:function(){this.getOrderDetail()},methods:{goBack:function(){window.history.back()},sliceVal:function(t,e){return null!=t&&"string"==typeof t&&t.length>e?t.slice(0,e-1)+"...":t},getOrderDetail:function(){var e=this;jm.ajax({url:"/ajax/promoter_h.jsp?cmd=getWafNotCk_getPromoteOrderDetail",data:{orderId:t.orderId},success:function(t){var i=jm.parseJSON(t)||{};if(jm("#webLoading").hide(),i.success){this.isFromPromote=i.isFromPromote||!1;var o=i.order||{},n=o.isVpdOrder||!1,a=o.status||0,r=o.shipSort||0,s=o.flowInfo||{},l=o.isTakingPoint||!1;(!n&&15!=a&&16!=a&&11!=a&&20!=a&&25!=a||5==r||null==o.shipSort&&""==o.shipType||n||"{}"==JSON.stringify(s))&&(e.isOrderFlowBoxNoFlow=!0),l&&(e.isOrderFlowBoxNoFlow=!1);var c=(o.price||0).toString().split(".");null!=c&&(1==c.length?(o.priceFirstNum=c[0],o.priceLastNum="00"):2==c.length&&(o.priceFirstNum=c[0],c[1]&&1==c[1].length&&(c[1]+="0"),o.priceLastNum=c[1]));var d=e.commission,m=(d=d.slice(1,d.length)||0).split(".");null!=m&&(1==m.length?(o.commissionFirstNum=m[0],o.commissionLastNum="00"):2==m.length&&(o.commissionFirstNum=m[0],m[1]&&1==m[1].length&&(m[1]+="0"),o.commissionLastNum=m[1]));var p=i.pageData||{};if(p.isEarnestSale&&4!=p.earnestSaleInfo.payStatus)if(1==p.earnestSaleInfo.payStatus){var u=(o.earnestPrice||0).toString().split(".");null!=u&&(1==u.length?(o.earnestPriceFirstNum=u[0],o.earnestPriceLastNum="00"):2==u.length&&(o.earnestPriceFirstNum=u[0],u[1]&&1==u[1].length&&(u[1]+="0"),o.earnestPriceLastNum=u[1]))}else{var f=(o.balancePrice||0).toString().split(".");null!=f&&(1==f.length?(o.balancePriceFirstNum=f[0],o.balancePriceLastNum="00"):2==f.length&&(o.balancePriceFirstNum=f[0],f[1]&&1==f[1].length&&(f[1]+="0"),o.balancePriceLastNum=f[1]))}var h=o.shipType||"";if(null==h||""==h||"0"==h)switch(r){case 0:h="";break;case 1:h="快递发货";break;case 2:h="EMS";break;case 3:h="平邮";break;case 4:h="快递发货";break;case 5:h="同城配送";break;case 6:h="无需配送";break;case 7:h=""}"自提"==h&&(h="到店自提"),o.shipType=h;for(var g=o.itemList||[],v=0;v<g.length;v++){if("退货完成"!=g[v].refundStatusName&&"退款完成"!=g[v].refundStatusName){e.allPdRefund=!1;break}var b=(g[v].cPrice||0).toString().split(".");null!=b&&(1==b.length?(g[v].cPriceFirstNum=b[0],g[v].cPriceLastNum="00"):2==b.length&&(g[v].cPriceFirstNum=b[0],b[1]&&1==b[1].length&&(b[1]+="0"),g[v].cPriceLastNum=b[1]));for(var _="",j=g[v].choiceOption||[],M=0;M<j.length;M++)_+=j[M].c,_+="("+j[M].n+") ";g[v].optionsStr=_}o.itemList=g;for(var y=o.combineItemList||[],w=0;w<y.length;w++){var S=(y[w].cPrice||0).toString().split(".");null!=S&&(1==S.length?(y[w].cPriceFirstNum=S[0],y[w].cPriceLastNum="00"):2==S.length&&(y[w].cPriceFirstNum=S[0],S[1]&&1==S[1].length&&(S[1]+="0"),y[w].cPriceLastNum=S[1]));for(var I="",C=y[w].choiceOption||[],P=0;P<C.length;P++)I+=C[P].c,I+="("+C[P].n+") ";y[w].optionsStr=I}o.combineItemList=y;for(var x=o.vpdUnDeliveryCombineItemList||[],k=0;k<x.length;k++){var L=(y[k].cPrice||0).toString().split(".");null!=L&&(1==L.length?(x[k].cPriceFirstNum=L[0],x[k].cPriceLastNum="00"):2==L.length&&(x[k].cPriceFirstNum=L[0],L[1]&&1==L[1].length&&(L[1]+="0"),x[k].cPriceLastNum=L[1]));for(var F="",T=x[k].choiceOption||[],A=0;A<T.length;A++)F+=T[A].c,F+="("+T[A].n+") ";x[k].optionsStr=F}o.vpdUnDeliveryCombineItemList=x,25==o.status&&0==o.itemList[0].rStatus&&(e.notPay=!0),5!=o.status&&6!=o.status&&35!=o.status&&36!=o.status&&20!=o.status||(e.notPay=!0),o.status>=15&&25!=o.status&&!o.flowInfo.isCus&&jm.ajax({url:"/ajax/order_h.jsp?cmd=getWafNotCk_flowMsg",data:{id:o.id},success:function(t){var i=jm.parseJSON(t)||{};if(i.success){var o=i.msgList[0]||{};e.lastFlowMsg=o.context||"",e.lastFlowTime=o.time||""}}});var B={};if(p.isEarnestSale)B={themeColor:"color: rgb("+this.hexToRgb(this.getThemeColor(this.themeId))+");",themeColor30:"color: rgba("+this.hexToRgb(this.getThemeColor(this.themeId))+", 0.3);",themeColor50:"color: rgba("+this.hexToRgb(this.getThemeColor(this.themeId))+", 0.5);",themeBgcolor:"background: rgb("+this.hexToRgb(this.getThemeColor(this.themeId))+");",themeBgcolor50:"background: rgba("+this.hexToRgb(this.getThemeColor(this.themeId))+", 0.5);",themeBordercolor:"border-color: rgb("+this.hexToRgb(this.getThemeColor(this.themeId))+");",themeBordercolor30:"border-color: rgba("+this.hexToRgb(this.getThemeColor(this.themeId))+", 0.3);"};e.orderInfo=o,e.pageData=p,e.integralData=p.integralData,e.earnestSaleUseInfo=B}else e.orderNull=!0}})},getThemeColor:function(t){var e="";switch(t){case 1:e="#ff7214";break;case 2:e="#f23030";break;case 3:e="#3285ff";break;case 4:e="#ffc001";break;case 5:e="#06c1ae";break;case 6:e="#56bb37";break;case 7:e="#333333"}return e},showPrice:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(void 0===t||""===t)return"";var i=t+"";return i.indexOf("~")>=0?e+i:"***"==t?e+"***":e+this.formatDouble(t)},formatDouble:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3?arguments[3]:void 0;t=parseFloat(t),isNaN(t)&&(t=0);var n=t;return""===i?n=t.toFixed(e):"ceil"===i?n=Math.ceil(t):"floor"===i&&(n=Math.floor(t)),o&&n<0&&(n=0),n},hexToRgb:function(t){var e,i="#",o=[];if((t=t.toLowerCase())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(4===t.length){for(e=1;e<4;e+=1)i+=t.slice(e,e+1).concat(t.slice(e,e+1));t=i}for(e=1;e<7;e+=2)o.push(parseInt("0x"+t.slice(e,e+2)));return o.join(",")}return t},toFlowPage:function(t){t.flowInfo&&t.flowInfo.isCus||t.id&&t.id>0&&(window.location.href="/promoterOrderFlow.jsp?orderId="+t.id)},showAllPd:function(t){1!=t&&(this.isShowAllPd=!0)},hidePd:function(t){1!=t&&(this.isShowAllPd=!1)},copyTxt:function(t){if(window.clipboardData)window.clipboardData.setData("text",t),Mobi.ing("复制成功",1);else{var e=document.createElement("input");e.setAttribute("value",t),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),Mobi.ing("复制成功",1)}},parseJsonToObj:function(t){return JSON.parse(t)}}})},Mobi.loadPromoOrderFlow=function(t){if(t.isNotLogin){var e="/login.jsp?returnUrl="+encodeURIComponent(document.location.href);return null!=Fai.top._curLanCode&&-1!==window.location.pathname.indexOf("/"+Fai.top._curLanCode+"/")&&(e="/"+Fai.top._curLanCode+e),void(window.location.href=e)}jm("#webLoading").show();jm("#promoteOrderFlowId").append('\n\t\t<div id="flowContainer" class="flowContainer">\n\t\t\t<div class="flowPage" >\n\t\t\t\t<div class="header1 jz-background-color">\n\t\t\t\t\t<div class="promoteLine line1">物流公司：{{flowInfo.flowName}}</div>\n\t\t\t\t\t<div class="promoteLine line2">物流单号：{{flowInfo.wayBillNum}}<span class="copyIcon1 copyIcon" @click="copyBillNum(flowInfo.wayBillNum)">复制</span></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="flowBox flowBox1">\n\t\t\t\t\t<div v-for="(item, index) in flowList" :key="index" class="item jz-cut-border-color" :class="(index==flowList.length-1?\'item-last\':\'\')">\n\t\t\t\t\t\t<div class="context" :class="(index==0?\'green\':\'\')">{{item.context}}</div>\n\t\t\t\t\t\t<div class="time" :class="(index==0?\'green\':\'\')">{{item.time}}</div>\n\t\t\t\t\t\t<div class="circle-green1" v-if="index==0"><div class="circle-green2"></div></div>\n\t\t\t\t\t\t<div class="circle" v-else></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="emptyTips" v-if="!flowList || flowList.length==0">暂无物流信息</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>'),new Vue({el:"#flowContainer",data:{pageData:t,flowInfo:{},flowList:[]},mounted:function(){var e=this;jm("#flowGoBack").on("click",(function(){e.goBack()})),-1!=t.orderId&&jm.ajax({url:"/ajax/order_h.jsp?cmd=getWafNotCk_flowMsg",data:{id:t.orderId},success:function(t){jm("#webLoading").hide(),(t=jm.parseJSON(t)).success&&(e.flowList=t.msgList||[],e.flowInfo=t.flowInfo||{})}})},methods:{copyBillNum:function(t){if(window.clipboardData)window.clipboardData.setData("text",t),Mobi.ing("复制成功",1);else{var e=document.createElement("input");e.setAttribute("value",t),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),Mobi.ing("复制成功",1)}},goBack:function(){window.history.back()}}})},Mobi.modifyPageHeader=function(t,e,i,o){null==o&&(o=1);var n=jm("#modifyPromoter .loginHeader .g_close"),a=jm("<span class='g_close icon-gClose newPromoJumpBack"+o+"'></span>"),r=jm("#modifyPromoter .loginHeader .pageTitle"),s=r.text();o>1&&(n=jm(".newPromoJumpBack"+(o-1))),r.text(t),jm(a).insertAfter(n),jm(n).hide(),jm(a).click((function(){r.text(s),jm(e).hide(),jm(i).show(),jm(a).remove(),jm(n).show()}))},Mobi.createPromoOrderList=function(t,e){var i="";return null!=t&&t.length>0?(i+=e?"<div class='promoOrderListWrapper isMine'>":"<div class='promoOrderListWrapper isOthers'>",jm.each(t,(function(t,e){i+="<div class='aPromoOrder' id='"+e.orderCode+"'>",i+="    <div class='promoOrderHeader'>",i+="        <div>",i+="        <span class='orderCode'>订单编号："+e.orderCode+"</span>",e.isOwnOrder&&(i+="    <div class='ownOrderIcon'>自购</div>"),i+="        </div>",20==e.status?i+="    <span class='orderStatus finished'>"+e.orderStatus+"</span>":i+="    <span class='orderStatus'>"+e.orderStatus+"</span>",i+="    </div>",i+="    <div class='promoOrderBody'>",e.itemList.length>3?jm.each(e.itemList,(function(t,e){i+=t>2?"<div class='aItem toHidden'>":2==t?"<div class='aItem anchor'>":"<div class='aItem'>",i+="        <div class='itemWrapper'>",i+="            <div class='itemImg'><img src='"+e.img+"' /></div>",i+="            <div class='itemInfo'>",i+="                <div class='itemNameAndOptions'>",i+="                    <div class='itemName'>"+jm.encodeHtml(e.tmpProductName)+"</div>",i+="                    <div class='itemOptions'>"+e.chooseOption+"</div>",i+="                </div>",i+="                <div class='itemPriceAndAmount'>",i+="                    <div class='itemPrice'>"+Fai.top.choiceCurrencyVal+e.price.toFixed(2)+"</div>",i+="                    <div class='itemAmount'>x"+e.amount+"</div>",i+="                </div>",i+="            </div>",i+="        </div>",i+="    </div>",i+="    <div class='itemSeparateLine'></div>"})):jm.each(e.itemList,(function(t,e){i+="<div class='aItem'>",i+="    <div class='itemWrapper'>",i+="        <div class='itemImg'><img src='"+e.img+"' /></div>",i+="        <div class='itemInfo'>",i+="            <div class='itemName'>"+jm.encodeHtml(e.tmpProductName)+"</div>",i+="            <div class='itemPriceAndAmount'>",i+="                <div class='itemPrice'>"+Fai.top.choiceCurrencyVal+e.price.toFixed(2)+"</div>",i+="                <div class='itemAmount'>x"+e.amount+"</div>",i+="            </div>",i+="        </div>",i+="    </div>",i+="</div>",i+="<div class='itemSeparateLine'></div>"})),i+="    </div>",i+="    <div class='promoOrderFooter'>",i+="        <div class='promoOrderTotalPrice'>",20==e.status?(i+="    <div class='totalPriceNum finished'>"+Fai.top.choiceCurrencyVal+e.price.toFixed(2),void 0!==e.shipPrice&&e.shipPrice>0&&(i+="    <span class='promoShipPrice'>（含运费"+Fai.top.choiceCurrencyVal+e.shipPrice+"）</span>"),i+="    </div>"):(i+="    <div class='totalPriceNum'>"+e.price.toFixed(2),void 0!==e.shipPrice&&e.shipPrice>0&&(i+="    <span class='promoShipPrice'>（含运费"+Fai.top.choiceCurrencyVal+e.shipPrice+"）</span>"),i+="    </div>"),i+="            <div class='totalPriceTxt'>实付金额</div>",i+="        </div>",i+="        <div class='promoOrderCommission'>",20==e.status?i+="            <div class='commissionNum finished'>"+Fai.top.choiceCurrencyVal+e.commission.toFixed(2)+"</div>":i+="            <div class='commissionNum'>"+e.commission.toFixed(2)+"</div>",i+="            <div class='commissionTxt'>成交预估收入</div>",i+="        </div>",i+="    </div>",i+="</div>"})),i+="</div>"):(i+=e?"<div class='promoOrderListWrapper isMine'>":"<div class='promoOrderListWrapper isOthers'>",i+="<div class='promoEmpty promoOrderListEmpty'>",i+="    <div class='promoEmptyIcon'></div>",i+="    <div class='promoEmptyTxt'>暂无推广订单</div>",i+="</div>",i+="</div>"),i},Mobi.expandPromoOrderList=function(t){jm.each(t,(function(t,e){if(e.itemList.length>3){jm("#"+e.orderCode).find(".toHidden").hide(),jm("#"+e.orderCode).find(".toHidden ~ .itemSeparateLine").hide();var i="<div class='expandWrapper'><div class='expandPanel' onclick='Mobi.expandPromoItems("+e.orderCode+")'>还有"+(e.itemList.length-3)+"件<span class='expandArrow faisco-icons-S000112'></span></div></div>";jm("#"+e.orderCode).find(".anchor").append(i)}}))},Mobi.expandPromoItems=function(t){jm("#"+t).find(".toHidden").show(),jm("#"+t).find(".toHidden ~ .itemSeparateLine").show(),jm("#"+t).find(".expandWrapper").remove()},Mobi.getSettleWithDrawName=function(t){var e="-";return 1==t?e="支付宝":2==t?e="微信零钱":3==t?e="其他":4==t&&(e="会员余额"),e},Mobi.promoWithdraw=function(){Mobi.logDog(200578,3);var t=jm(".promoteWithdrawLocater"),e=null,i="";if(0!==jm(".withdraw").length&&jm(".withdraw").remove(),jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/promoter_h.jsp?cmd=getWafNotCk_getPromoteWithdraw",async:!1,success:function(t){t=jm.parseJSON(t),e=t.rtData}}),null!==e){var o=e.settleData.t||0,n=e.modeParamList||[],a=e.showMemberName||"-",r=e.balance.toFixed(2),s=e.isOpenMemberDeposit,l=0,c=!1;withDrawName="支付宝",i+="<div class='withdraw' id='withdraw'>",i+="<div class='withdrawForm'>",i+="    <div class='withdrawFormCtrl' id='acctChange' >",i+="       <div class='ctrlBadge'>提现至</div>",1==o&&(l=parseInt(jm.getCookie("promoteWithDrawSelectedMode"))||1,withDrawName=Mobi.getSettleWithDrawName(l)),i+="       <div class='ctrlVal drawToOnlineAcct'>"+withDrawName,(0==o||n.length>1)&&(i+="\t       <span class='drawToAcctSwitch faisco-icons-S000106'></span>",c=!0),i+="\t    </div>",i+="    </div>",i+="    <div class='alipayPanel'>",i+="   \t<div class='withdrawFormCtrl'>",i+="       \t<div class='ctrlBadge'>提现账户</div>",i+="       \t<div class='ctrlVal'><input placeholder='请输入提现账户' type='text' class='acctField'></div>",i+="   \t</div>",i+="   \t<div class='withdrawFormCtrl'>",i+="       \t<div class='ctrlBadge'>真实姓名</div>",i+="       \t<div class='ctrlVal'><input class='nameField' type='text'  placeholder='请输入真实姓名'></div>",i+="   \t</div>",i+="    </div>",i+="    <div class='wechatPanel'>",i+="   \t<div class='withdrawFormCtrl'>",i+="       \t<div class='ctrlBadge'>提现账户</div>",i+=0==o?"       \t<div class='ctrlVal'><input placeholder='请输入微信号' type='text' class='acctField'></div>":"       \t<div class='ctrlVal'>微信</div>",i+="   \t</div>",i+="       <input id='wechatWdOpenId' style='display: none;'>",i+="    </div>",i+="    <div class='memberDepositPanel'>",i+="   \t<div class='withdrawFormCtrl'>",i+="       \t<div class='ctrlBadge'>会员余额</div>",i+="       \t<div class='ctrlVal'>"+a+"</div>",i+="   \t</div>",i+="    </div>",i+="   <div class='cashContent'>",i+="   \t<div class='withdrawFormCtrl cashTitle'>",i+="   \t\t<div class='ctrlBadge'>提现金额</div>",i+="   \t</div>",i+="   \t<div class='withdrawFormCtrl'>",i+="   \t\t<div class='ctrlVal'><span class='cashRmb'>￥</span><input placeholder='可提现金额"+r+"元' type='text' class='amountField'></div>",i+="   \t</div>",i+="   </div>",i+="   <div class='withdrawFormCtrl remarkContent'>",i+="   \t<div class='ctrlVal'><input placeholder='添加备注(50字以内)' maxlength='50' type='text' class='remarkInput'><div class='icon-clearRemark clearRemark'></div></div>",i+="   </div>",i+="</div>",i+="<div class='withdrawBtn g_bgColor g_main_bgColor_v3' id='promoWithdrawBtn'>确认提现</div>",i+="<div class='withdrawFormFooter'>交易成功后即获得奖励，可发起提现申请</div>",i+="</div>",t.append(i),jm("#promoWithdrawBtn").css("opacity","0.5"),jm("#promoWithdrawBtn").off("click");var d=!1,m=!1,p=!1,u=0,f=[];if(0==o)d=!0,m=!0,u=1;else{var h,g=_createForOfIteratorHelper(n);try{for(g.s();!(h=g.n()).done;){var v=h.value.mode;0===v&&(d=!0,f.push(1)),1===v&&(m=!0,f.push(2)),2===v&&(p=s,f.push(4))}}catch(t){g.e(t)}finally{g.f()}}if(1==o){u=l;var b,_=!1,j=_createForOfIteratorHelper(f);try{for(j.s();!(b=j.n()).done;){b.value==l&&(_=!0)}}catch(t){j.e(t)}finally{j.f()}_||(l=f[0],u=f[0],withDrawName=Mobi.getSettleWithDrawName(l))}if(Mobi.changePromoWithdrawMode(u,c),c){var M={triggerId:"acctChange",panelId:"pgListDiv",pageHtml:Mobi.printPromoWithdrawMode(o,d,m,p,c,l),callback:function(){!function(t,e){"editCusInfo"!=t&&"editAddrInfo"!=t||/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)&&(jm("#"+t).find("input,select,textarea").bind("blur",(function(){document.querySelector("body").scrollTop=0})),jm("#"+t).find("input,select,textarea").bind("focus",(function(){jm("#"+t).attr("ontouchmove","return false;")})).bind("blur",(function(){jm("#"+t).parent().css("position","fixed"),jm("#"+t).css("position",""),jm("#"+t).removeAttr("ontouchmove")})),jm("#areaBox").bind("touchmove",(function(t){t.preventDefault()})),jm("#areaBox .J_areaHead").bind("touchmove",(function(t){t.preventDefault()})),jm("#areaBox1").bind("touchmove",(function(t){t.stopPropagation()})),jm("#areaBox2").bind("touchmove",(function(t){t.stopPropagation()})));var i=Fai.top.document.querySelector("#"+t),o=Fai.top.document.querySelector("#webPagePanel"+e);window.ontouchmove=function(t){if(i.scrollHeight==i.offsetHeight&&"none"!=jm(o).css("display")){var e=t.target;jm(e).parents(".areaBox").length>0||jm(e).parents(".areaBox2").length>0||t.preventDefault()}};var n=1;requestAnimationFrame((function e(){var o=0,a=(i=Fai.top.document.querySelector("#"+t)).scrollHeight-i.clientHeight;a-o==n&&(n=.5);var r=i.scrollTop;r===o?i.scrollTop+=n:r===a&&(i.scrollTop-=n),requestAnimationFrame(e)}))}("pgListDiv","acctChange")},closeWebPage:"#pgListDiv .g_close",direction:"bottom",pageBg:!0};Mobi.initWebPage(M)}}},Mobi.printPromoWithdrawMode=function(t,e,i,o,n,a){var r="";return r+="<div class='pgListDiv' id='pgListDiv' style='background-color: inherit;'>",r+="    <div class='g_close' style='width: 100%;height: 100%;'></div>",r+="    <div id='onlinePayType' class='pgDetail onlinePayType'>",r+="        <div id='pgBox' class='pgBox' style='position: fixed;bottom: 0;z-index: 100;'>",r+="\t        <div class='line'>",o&&(r+="\t            <div class='pgBoxItem' onclick='Mobi.changePromoWithdrawMode(4,"+n+")'>",r+="\t                <span class='icon-payMode'><svg style='width: 0.95rem;height: 1rem; position: relative; fill:#FEA240'><use xlink:href=\"#jzm-v4\" /></svg></span>",r+="\t                <a class='pgName payMode' _paymode='4'>会员余额</a>",r+=4==a?"\t            \t<i class='faisco-icons-right g_color g_main_color_v3 J_selectPay' style='height: 2.5rem;line-height: 2.5rem;margin-left: 0.1rem;'></i>":"\t            \t<i class='faisco-icons-shape11' style='font-size: 1rem;height: 2.5rem;line-height: 2.5rem;'></i>",r+="\t            </div>"),e&&(r+="\t            <div class='pgBoxItem' onclick='Mobi.changePromoWithdrawMode(1,"+n+")'>",r+="\t            <span class='icon-payMode payMode4'></span>",r+="\t                <a class='pgName payMode' _paymode='1'>支付宝</a>",r+=1==a?"\t            \t<i class='faisco-icons-right g_color g_main_color_v3 J_selectPay' style='height: 2.5rem;line-height: 2.5rem;margin-left: 0.1rem;'></i>":"\t            \t<i class='faisco-icons-shape11' style='font-size: 1rem;height: 2.5rem;line-height: 2.5rem;'></i>",r+="\t            </div>"),i&&(r+="\t            <div class='pgBoxItem' onclick='Mobi.changePromoWithdrawMode(2,"+n+")''>",r+="\t            <span class='icon-payMode wxPayIcon'></span>",r+="\t                <a class='pgName payMode' _paymode='2'>微信</a>",r+=2==a?"\t            \t<i class='faisco-icons-right g_color g_main_color_v3 J_selectPay' style='height: 2.5rem;line-height: 2.5rem;margin-left: 0.1rem;'></i>":"\t            \t<i class='faisco-icons-shape11' style='font-size: 1rem;height: 2.5rem;line-height: 2.5rem;'></i>",r+="\t            </div>"),0==t&&(r+="\t            <div class='pgBoxItem' onclick='Mobi.changePromoWithdrawMode(3,"+n+")''>",r+="\t            <span class='icon-payMode otherPayIcon'></span>",r+="\t                <a class='pgName payMode' _paymode='3'>其它</a>",r+=3==a?"\t            \t<i class='faisco-icons-right g_color g_main_color_v3 J_selectPay' style='height: 2.5rem;line-height: 2.5rem;margin-left: 0.1rem;'></i>":"\t            \t<i class='faisco-icons-shape11' style='font-size: 1rem;height: 2.5rem;line-height: 2.5rem;'></i>",r+="\t            </div>"),r+=" \t       </div>",r+="        </div>",r+="    </div>",r+="</div>"},Mobi.getPromoWechatOpenId=function(){-1!=navigator.userAgent.toLowerCase().indexOf("micromessenger")?jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/promoter_h.jsp?cmd=getWafNotCk_getWechatConfig",async:!1,success:function(){}}):Mobi.ing("需在微信端打开网站才可提现")},Mobi.wechatWithdrawSubmit=function(t){var e=-1!=navigator.userAgent.toLowerCase().indexOf("micromessenger"),i=null;if(e){jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/promoter_h.jsp?cmd=getWafNotCk_getWechatConfig",async:!1,success:function(t){t=jm.parseJSON(t),i=t.rtData.appId}});var o=location.href;-1!=o.indexOf("?")?o+="&jumpToPromoWxWithdraw=true&withdrawAmount="+t:o+="?jumpToPromoWxWithdraw=true&withdrawAmount="+t,o=encodeURIComponent(o),window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+i+"&redirect_uri="+o+"&response_type=code&scope=snsapi_base&state=1#wechat_redirect"}else Mobi.ing("需在微信端打开网站才可提现")},Mobi.actualWechatWithdraw=function(t,e,i){t&&null!=e&&""!==e&&i>0?jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/promoter_h.jsp?cmd=addWafCk_submitWithdraw",data:"amount="+i+"&wxOpenId="+e+"&settleType=1&selectedMode=2",success:function(t){(t=jm.parseJSON(t)).success?(Mobi.logDog(200579,1),Mobi.showWithdrawSuccPage(!0)):Mobi.showWithdrawSuccPage(!1)}}):Mobi.showWithdrawSuccPage(!1)},Mobi.changePromoWithdrawMode=function(t,e){var i="";e&&(i="<span class='drawToAcctSwitch faisco-icons-S000106'></span>"),1===t?(jm(".withdraw .wechatPanel").hide(),jm(".withdraw .memberDepositPanel").hide(),jm(".withdraw .alipayPanel").show(),jm(".withdraw .drawToOnlineAcct").html("支付宝"+i)):2===t?(jm(".withdraw .alipayPanel").hide(),jm(".withdraw .memberDepositPanel").hide(),jm(".withdraw .wechatPanel").show(),jm(".withdraw .drawToOnlineAcct").html("微信零钱"+i)):3===t?(jm(".withdraw .alipayPanel").hide(),jm(".withdraw .wechatPanel").hide(),jm(".withdraw .memberDepositPanel").hide(),jm(".withdraw .drawToOnlineAcct").html("其它"+i)):4===t&&(jm(".withdraw .alipayPanel").hide(),jm(".withdraw .wechatPanel").hide(),jm(".withdraw .memberDepositPanel").show(),jm(".withdraw .drawToOnlineAcct").html("会员余额"+i)),jm("#pgListDiv .J_selectPay").removeAttr("style").attr("style","font-size:1rem;height:2.5rem;line-height:2.5rem;").removeAttr("class").attr("class","faisco-icons-shape11"),jm("#pgListDiv .payMode").each((function(){jm(this).attr("_paymode")==t&&jm(this).parent().find(".faisco-icons-shape11").removeAttr("style").attr("style","margin-left:0.1rem;height:2.5rem;line-height:2.5rem;").removeAttr("class").attr("class","faisco-icons-right g_color g_main_color_v3 J_selectPay")})),jm("#pgListDiv .g_close").click(),Mobi.bindWithdrawFormCtl(t)},Mobi.bindWithdrawFormCtl=function(t){var e,i=null;if(jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/promoter_h.jsp?cmd=getWafNotCk_getPromoteWithdraw",async:!1,success:function(t){t=jm.parseJSON(t),i=t.rtData}}),null!=i){e=i.settleData.t||0;var o=i.settleData.lma,n=i.balance.toFixed(2),a="请输入正确的提现信息";Mobi.checkWithDrawDataValid(t,e,o,n,!1),jm("#withdraw .acctField,#withdraw .nameField,#withdraw .amountField,#withdraw .remarkInput").off().on("input",(function(){Mobi.checkWithDrawDataValid(t,e,o,n,!0),""==jm(".remarkInput").val()?jm(".clearRemark").hide():jm(".clearRemark").show()})),jm("#withdraw .amountField").on("keydown",(function(t){var e=t.code;if(e.startsWith("Digit")||e.startsWith("Key")||e.startsWith("Numpad")){var i=this.value+t.key;return Mobi.matchDecimalPoint(i,2)}})),jm(".clearRemark").off().on("click",(function(){jm(".remarkInput").val(""),jm(this).hide()})),jm("#promoWithdrawBtn").off().on("click",(function(){var i=Mobi.checkWithDrawDataValid(t,e,o,n,!1);if(i.canWithdraw){var a=i.acctVal||"",r=i.nameVal||"",s=i.amountVal||"",l=i.remarkVal||"";1==e&&2==t?Mobi.wechatWithdrawSubmit(s):jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/promoter_h.jsp?cmd=addWafCk_submitWithdraw",data:"acct="+a+"&name="+r+"&amount="+s+"&remark="+l+"&selectedMode="+t+"&settleType="+e,success:function(e){(e=jm.parseJSON(e)).success?(Mobi.logDog(200579,2),Mobi.showWithdrawSuccPage(!0),jm.setCookie("promoteWithDrawSelectedMode",t)):Mobi.ing(e.msg)}})}else Mobi.ing(i.errMsg)})),jm("#withdraw .amountField").on("blur",(function(){var t=!1,e=jm("#withdraw .amountField").val()||"";n=parseFloat(n)||0,e<o?(a="单笔提现金额须不少于"+o+"元",t=!0):e>n&&(a="提现金额不得大于余额",t=!0),t&&Mobi.ing(a)}))}},Mobi.checkWithDrawDataValid=function(t,e,i,o){var n=!1,a=jm("#withdraw "+(1==t?".alipayPanel":".wechatPanel")+" .acctField"),r=jm("#withdraw .nameField"),s=jm("#withdraw .amountField"),l=jm("#withdraw .remarkInput"),c=a.val()||"",d=r.val()||"",m=s.val()||"",p=l.val()||"",u="请输入正确的提现信息";1==t?c&&""!=c?d&&""!=d?m&&""!=m?n=!0:u="提现金额不能为空":u="真实姓名不能为空":u="提现账户不能为空":2==t&&0==e?c&&""!=c?m&&""!=m?n=!0:u="提现金额不能为空":u="微信号不能为空":n=!0,n&&(m=parseFloat(m)||0,o=parseFloat(o)||0,m<i?(u="单笔提现金额须不少于"+i+"元",n=!1):m>o&&(u="提现金额不得大于余额",n=!1)),3==t&&(n&&(p&&""!=p||(u="请补充备注信息，以保证商家能够提现到正确的账户中",n=!1)),""!=p&&(n=!0)),n?jm("#promoWithdrawBtn").css("opacity",1):jm("#promoWithdrawBtn").css("opacity",.5);var f={};return f.acctVal=c,f.nameVal=d,f.amountVal=m,f.remarkVal=p,f.canWithdraw=n,f.errMsg=u,f},Mobi.matchDecimalPoint=function(t,e){"."==t.substring(t.length-1)&&(t+="0");var i=new RegExp("^\\s*-?(\\d+(\\.\\d{1,"+e+"})?|\\.\\d{1,"+e+"})\\s*$","g");return-1==e&&(i=new RegExp("^\\s*-?(\\d+(\\.\\d{1,25})?|\\.\\d{1,25})\\s*$","g")),i.test(t)},Mobi.showWithdrawSuccPage=function(t){var e=jm(".promoteWithdrawLocater"),i="",o="提现申请已提交，等待商家审核";t||(o="提现申请提交失败，请稍后重试"),e.empty(),0===jm(".withdrawSubmitSucc").length?(i+="<div class='withdrawSubmitSucc'>",i+="    <div class='withdrawSubMain'>",i+="        <div class='withdrawSubIcon'></div>",i+="        <div class='withdrawSubTxt'>"+o+"</div>",i+="    </div>",i+="    <div class='withdrawSubComplete g_bgColor g_main_bgColor_v3'>完成</div>",i+="</div>",e.append(i),jm("#webModuleContainer").find(".loginHeader").find(".g_close").off().on("click",(function(){location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"promoterIndex.jsp"})),jm(".withdrawSubmitSucc .withdrawSubComplete").off().on("click",(function(){location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"promoterIndex.jsp"}))):jm(".withdrawSubmitSucc").show()},Mobi.loadPromoInvites=function(){Mobi.logDog(200578,5);var t=jm(".promoterPanel"),e=null,i="";if(t.find(".promoPageBg").hide(),0!==jm(".invitationWrapper").length)return jm(".invitationWrapper").show(),void Mobi.modifyPageHeader("我的邀请",".invitationWrapper",".promoPageBg");jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/promoter_h.jsp?cmd=getWafNotCk_getPromoteInvite",async:!1,success:function(t){t=jm.parseJSON(t),e=t.promoterList}}),i+="<div class='invitationWrapper'>",null!=e&&e.length>0?jm.each(e,(function(t,e){i+="<div class='aInvitee'>",i+="    <div class='leftPart'>",i+="        <span class='inviteeAvator'><img src='"+e.headPicUrl+"' /></span>",i+="        <span class='inviteeName'>"+e.memberName+"</span>",i+="    </div>",i+="    <div class='rightPart'>",i+="        <span class='inviteeJoinedDate'>加入时间："+e.createTimeStr.split(" ")[0]+"</span>",i+="    </div>",i+="</div>"})):(i+="<div class='promoEmpty promoInviteEmpty'>",i+="    <div class='promoEmptyIcon'></div>",i+="    <div class='promoEmptyTxt'>暂无邀请小伙伴</div>",i+="</div>"),i+="</div>",t.append(i),Mobi.modifyPageHeader("我的邀请",".invitationWrapper",".promoPageBg")},Mobi.loadPromoBalance=function(){Mobi.logDog(200578,6);var t=jm(".promoterPanel"),e=null,i="";if(t.find(".promoPageBg").hide(),0!==jm(".balanceDetailWrapper").length)return jm(".balanceDetailWrapper").show(),void Mobi.modifyPageHeader("收支明细",".balanceDetailWrapper",".promoPageBg");jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/promoter_h.jsp?cmd=getWafNotCk_getPromoteFlow",async:!1,success:function(t){t=jm.parseJSON(t),e=t.flowList}}),i+="<div class='balanceDetailWrapper'>",null!=e&&e.length>0?jm.each(e,(function(t,e){i+="<div class='aFlow'>",i+="    <div class='leftPart'>",i+="        <div class='flowTitle'>"+e.showName+"</div>",i+="        <div class='flowDate'>"+e.settleTimeStr.split(" ")[0]+"</div>",i+="    </div>",i+="    <div class='rightPart'>",2===e.type?i+="    <div class='flowAmount minus'>"+e.sign+e.amount.toFixed(2)+"</div>":i+="    <div class='flowAmount plus'>"+e.sign+e.amount.toFixed(2)+"</div>",i+="    </div>",i+="</div>"})):(i+="<div class='promoEmpty promoBalanceEmpty'>",i+="    <div class='promoEmptyIcon'></div>",i+="    <div class='promoEmptyTxt'>暂无收支明细</div>",i+="</div>"),i+="</div>",t.append(i),Mobi.modifyPageHeader("收支明细",".balanceDetailWrapper",".promoPageBg")},Mobi.createPromoPoster=function(){Mobi.logDog(200578,1);var t,e=jm(".webModuleContainer"),i=null;if(e.find(".promoPageBg").hide(),0!==jm(".promoPosterWrapper").length)return jm(".promoPosterWrapper").show(),void Mobi.modifyPageHeader("推广二维码",".promoPosterWrapper",".promoPageBg");jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/promoter_h.jsp?cmd=getWafNotCk_getPromoQRCode",async:!1,success:function(t){t=jm.parseJSON(t),i=t.rtData}});var o=Fai.top._openThemeV3,n=jm(".webHeaderBg").css("background-color").replace(")",", 0.2)").replace("rgb","rgba"),a=jm("html").css("font-size"),r=13*(a=Number(a.substring(0,a.indexOf("p")))),s=23.12*a;t="<div class='promoPosterWrapper'>\n                <div class='posterHeader'>\n                    <div class='iconPart'>\n                        <div class='iconIndicator g_mainColor g_main_color_v3 ".concat(o?" g_main_bdColor_v3_a20":"' style='border-color: "+n,"'>1</div>\n                        <div class='iconSeparate'></div>\n                        <div class='iconIndicator g_mainColor g_main_color_v3 ").concat(o?" g_main_bdColor_v3_a20":"' style='border-color: "+n,"'>2</div>\n                        <div class='iconSeparate'></div>\n                        <div class='iconIndicator g_mainColor g_main_color_v3 ").concat(o?" g_main_bdColor_v3_a20":"' style='border-color: "+n,"'>3</div>\n                    </div>\n                    <div class='txtPart'>\n                        <div class='aPosterTxt'>").concat(Fai.top._isMall?"分享商城给好友":"分享店铺给好友","</div>\n                        <div class='aPosterTxt'>好友下单</div>\n                        <div class='aPosterTxt'>获得推广奖励</div>\n                    </div>\n               </div>\n                <div class='posterBody'>\n                   <canvas class='actualPoster promoPoster' id='promoPoster' width='").concat(r,"px' height='").concat(s,"px'>\n                    </canvas>\n                  <div class='posterBodyBtn'>长按保存图片</div>\n                </div>\n            </div>"),e.append(t);var l=document.getElementById("promoPoster"),c=l.getContext("2d");Mobi.drawPromoteAndInviteCanvas(l,c,i,!1),jm("#webModuleContainer").find(".loginHeader").find(".g_close").off().on("click",(function(){setTimeout((function(){location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"promoterIndex.jsp"}),0)}))},Mobi.promoterPdSearch=function(t){var e=JSON.parse(localStorage.getItem("promoterPdSearcHistory")),i=[];i.push('<div  class="promoterSearchInputCon">'),i.push('\t\t<div class="searchInputBox">'),i.push('\t\t\t<svg class="searchSvg" id="icon-searchSubmit">'),i.push('\t\t\t\t<use xlink:href="#jzm-v19" :fill="#868686" style="fill:#868686"></use>'),i.push("\t\t\t</svg>"),i.push('\t\t\t<input id="proPdSearchInput" class="searchInput">'),i.push('\t\t\t<svg class="icon-delete" id="promoterIconDelete">'),i.push('\t\t\t\t<use xlink:href="#jzm-vicon_delete01" :fill="#aaa" style="color:#cccccc; fill:#aaa;"></use>'),i.push("\t\t\t</svg>"),i.push('\t\t\t<div  class="pdSearchBtn g_mainColor  g_main_color_v3" id="pdSearchBtn">'+LS.searchGo+"</div>"),i.push("\t\t</div>"),i.push("</div>");var o=[];if(e){if(o.push('<div class="historyTopicWrap">'),o.push('\t<div class="pdHeader">'),o.push('\t\t\t<svg class="deleteSvg" id="clearHistoryBtn">'),o.push('\t\t\t\t<use xlink:href="#jzm-vicon_delete02" :fill="#ccc" style="fill:#ccc"></use>'),o.push("\t\t\t</svg>"),o.push("\t\t<div>最近搜索</div>"),o.push("\t</div>"),e){o.push('<div class="historyLabel">');for(var n=0,a=e.length;n<a;n++)o.push('<div class="topicItem">'+Mobi.encodeHtml(e[n])+"</div>");o.push("</div>")}o.push("</div>")}var r=jm(o.join("")),s=jm(i.join(""));jm(".historyTopicWrap").remove(),jm(".promoterSearchInputCon").append(r),t||jm(".g_web").append(s)},Mobi.loadPromoterPdList=function(){var t=document.body.offsetHeight,e=jm(".promoterPdList"),i=0,o="commission",n=!1,a=0,r=[],s={triggerId:"showPromoterPdSharePanel",pageBg:!0,pageHtml:"<div></div>",direction:"bottom",callback:function(){var t={triggerId:"graphicPosterItem",pageBg:!0,pageHtml:Mobi.createGraphicPosterPage(),direction:"bottom",closeWebPage:"#graphicPosterPanelBg",callback:function(){JSON.parse(Fai.top._shareDataProdectDetail.jsShareInfo).isEarnestSale?(Mobi.drawEarnestSaleCanvasSharePic(),Mobi.logDog(201083,2)):Mobi.drawCanvasSharePic()}};Mobi.initWebPage(t),jm("#graphicPosterItem").bind("click",(function(){jm("#webPagePanelshowPromoterPdSharePanel").hide()}))},closeWebPage:"#shareListPanelBg"};jm(".promoterPdFilter .filterItem").click((function(){var t=jm(this).attr("sort");o=jm(this).attr("sortKey"),t="true"==t,n=jm(this).find(".descSelect").length>0,jm(".promoterPdFilter .filterItem").removeClass("g_mainColor g_main_color_v3"),jm(".promoterPdFilter .filterItemAsce").removeClass("asceSelect g_mainColor g_bdColor g_main_color_v3 g_main_bdColor_v3"),jm(".promoterPdFilter .filterItemDesc").removeClass("descSelect g_mainColor g_bdColor g_main_color_v3 g_main_bdColor_v3"),jm(this).addClass("g_mainColor g_main_color_v3"),t&&(n?jm(this).find(".filterItemAsce").addClass("asceSelect g_mainColor g_bdColor g_main_color_v3 g_main_bdColor_v3"):jm(this).find(".filterItemDesc").addClass("descSelect g_mainColor g_bdColor g_main_color_v3 g_main_bdColor_v3")),i=0,u(0,!1,o,!n,!0),document.body.scrollTop=0,document.documentElement.scrollTop=0,"commission"==o?Mobi.logDog(200578,21):"addedTime"==o?Mobi.logDog(200578,22):"mallPrice"==o?Mobi.logDog(200578,24):Mobi.logDog(200578,23)})),Mobi.initWebPage(s),u(0,!0,o,!n,!0);var l=!1,c=document.getElementsByClassName("promoterPdFilterContain");function d(){jm(".promotePdItem").remove();var t=function(t){var e="";if(!t||0==t.length)return e;return jm.each(t,(function(t,i){var o=(i.realPrice||"0.00").split("."),n=(i.commission||"0.00").split("."),a="";a=i.promoteAwardRange?i.promoteAwardChangeVarMin+"% ~"+i.promoteAwardChangeVar+"%":i.promoteAwardChangeVar+"%";var r="";if(i.priceRange){var s=(i.realMinPrice.toFixed(2)||"0.00").split("."),l=(i.realMaxPrice.toFixed(2)||"0.00").split(".");r='<span class="smallPrice">￥</span>'+s[0]+'<span class="smallPrice">.'+s[1]+'</span> ~ <span class="smallPrice">￥</span>'+l[0]+'<span class="smallPrice">.'+l[1]+"</span>"}else r='<span class="smallPrice">￥</span>'+o[0]+'<span class="smallPrice">.'+o[1]+"</span>";e+="\n                <div class='promotePdItem' pid='".concat(i.pdId,"'>\n                    <div class='left'>\n                        <img src='").concat(i.picPath,"' class='promotePdPic'></img>\n                        ").concat(i.knowPayProductLabel?"<span class='quality_content_label'>".concat(i.knowPayProductLabel,"</span>"):"","\n                    </div>\n                    <div class='right'>\n                    \t<div>\n\t                        <div class='pdName'>").concat(jm.encodeHtml(i.pdName),"</div>\n\t                        <div class='commissionTip g_mainColor g_main_color_v3'> <div class='commissionTipBg g_mainColor g_bgColor g_main_bgColor_v3 g_main_color_v3'>返利").concat(a,"</div>返利").concat(a,"</div>\n                        </div>\n                        <div class='mallPrice'>\n                        \t <div>").concat(r,'</div>\n                        \t <div class="shareCon g_bgColor g_main_bgColor_v3" pid=\'').concat(i.pdId,"'>\n\t                        \t<svg class='shareSvg'><use xlink:href='#jzm-vicon_share2'/></svg>\n\t                       \t\t预计赚<span class='smallPrice'>￥</span>").concat(n[0],"<span class='smallPrice'>.").concat(n[1],"</span>\n\t                        </div>\n                        </div>\n                    </div>\n                </div>\n                ")})),e}(r);e.append(t),jm(".shareCon").click((function(t){for(var e=parseInt(jm(this).attr("pid")||0),i=0;i<r.length;i++){var o=r[i];if(e==o.pdId){Fai.top._shareDataProdectDetail=o.shareDataProduct||{},s.pageHtml=Mobi.sharePage({shareLinkList:o.shareDataProduct.shareLinkList,productId:e});var n={triggerId:"graphicPosterItem",pageBg:!0,pageHtml:Mobi.createGraphicPosterPage(),direction:"bottom",closeWebPage:"#graphicPosterPanelBg",callback:function(){JSON.parse(Fai.top._shareDataProdectDetail.jsShareInfo).isEarnestSale?(Mobi.drawEarnestSaleCanvasSharePic(),Mobi.logDog(201083,2)):Mobi.drawCanvasSharePic()}};Mobi.initWebPage(s),Mobi.initWebPage(n)}}jm("#showPromoterPdSharePanel").click(),t.stopPropagation(),Mobi.logDog(200578,20)})),jm(".promotePdItem").click((function(){Mobi.logDog(200578,47);var t=parseInt(jm(this).attr("pid")||0);window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"pd.jsp?pid="+t}))}document.body.onscroll=function(){0!=document.body.scrollTop||0!=document.documentElement.scrollTop?(jm(".promoterSearchInputCon").css("top",0),jm(".promoterPdFilterContain").css("top","2.325rem"),jm(".promoterPdEmpty").hide(),jm(".promoterPdEmptyTip").hide(),l||(jm(".g_web").append(c[0]),jm(".promoterPdPage .promoterPdFilterContain").css("opacity",0),l=!0,jm(".promoterPdFilter .filterItem").click((function(){var t=jm(this).attr("sort");o=jm(this).attr("sortKey"),t="true"==t,n=jm(this).find(".descSelect").length>0,jm(".promoterPdFilter .filterItem").removeClass("g_mainColor g_main_color_v3"),jm(".promoterPdFilter .filterItemAsce").removeClass("asceSelect g_mainColor g_bdColor g_main_color_v3 g_main_bdColor_v3"),jm(".promoterPdFilter .filterItemDesc").removeClass("descSelect g_mainColor g_bdColor g_main_color_v3 g_main_bdColor_v3"),jm(this).addClass("g_mainColor g_main_color_v3"),t&&(n?jm(this).find(".filterItemAsce").addClass("asceSelect g_mainColor g_bdColor g_main_color_v3 g_main_bdColor_v3"):jm(this).find(".filterItemDesc").addClass("descSelect g_mainColor g_bdColor g_main_color_v3 g_main_bdColor_v3")),i=0,u(0,!1,o,!n,!0),document.body.scrollTop=0,document.documentElement.scrollTop=0,"commission"==o?Mobi.logDog(200578,21):"addedTime"==o?Mobi.logDog(200578,22):"mallPrice"==o?Mobi.logDog(200578,24):Mobi.logDog(200578,23)})))):(jm(".promoterSearchInputCon").css("top","2.325rem"),jm(".promoterPdFilterContain").css("top","5.164rem"),jm(".promoterPdPage .promoterPdFilterContain").css("opacity",1)),(document.body.scrollTop+t>=document.body.scrollHeight||document.documentElement.scrollTop+t>=document.body.scrollHeight)&&i<a&&u(i+=1,!0,o,n,!1)};var m=jm("#proPdSearchInput").val()||"",p=JSON.parse(localStorage.getItem("promoterPdSearcHistory"))||[];function u(t,e,i,o,n){jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/promoter_h.jsp?cmd=getWafNotCk_getPromotePdList",data:{pageNo:t,isFirstLoad:e,selectid:i,sortDesc:o,sortKeyWord:m||""},async:!1,success:function(i){if((i=jm.parseJSON(i)).success){var o=i.resultPromotePdList||[];r=n?o:r.concat(o),e&&(jm(".promoterPdLoading").remove(),jm(".promoterPdPage").css("background","white"),0==r.length&&(jm(".promoterPdEmpty").show(),jm(".promoterPdEmptyTip").show()));var s=jm(".promoterPdFilter .select").attr("sortKey");if("commission"!=s&&"mallPrice"!=s||jm(".promoterPdFilter .select").find(".descSelect").length>0,d(),o.length>0?Mobi.logDog(200578,44):Mobi.logDog(200578,45),a=i.totalPage,Fai.top._isPromoterPd=!0,e=!1,jm(".searchEmpty").remove(),0==o.length&&n){jm(".promoterPdEmpty").hide(),jm(".promoterPdEmptyTip").hide();var l=[];l.push('<div class="searchEmpty">'),l.push('\t<div class="searchImg"></div>'),l.push('\t<div class="searchTip">未搜索到相关内容</div>'),l.push('\t<div class="searchBtn g_bgColor g_main_bgColor_v3" id="promoPdSearch">查看其它商品</div>'),l.push("</div>");var c=jm(l.join(""));jm("#promoterPdList").append(c),jm(".searchEmpty").on("click",".searchBtn",(function(){Mobi.logDog(200578,46),jm("#proPdSearchInput").val(""),m="",u(t=0,!0,s="commission",!0,!0)}))}else jm(".searchEmpty").remove()}}})}jm("#promoterIconDelete").on("click",(function(){jm("#proPdSearchInput").val(""),jm("#promoterIconDelete").hide()})),jm("#proPdSearchInput").on("focus",(function(){Mobi.logDog(200578,40),jm(".promoterPdFilterContain").hide(),jm(".promoterPdList").css("opacity",0),Mobi.promoterPdSearch(!0),jm(".historyTopicWrap").show(),jm(".historyTopicWrap").on("click",".topicItem",(function(){Mobi.logDog(200578,41),m=jm(this).text(),i=0,jm("#proPdSearchInput").val(m),u(i,!0,o,n,!0),jm(".historyTopicWrap").hide(),jm(".promoterPdFilterContain").show(),jm(".promoterPdList").css("opacity",1),jm(".topicItem").off("click")})),jm("#clearHistoryBtn").on("click",(function(){Mobi.logDog(200578,42),localStorage.removeItem("promoterPdSearcHistory"),p=[],Mobi.promoterPdSearch(!0)})),jm("#proPdSearchInput").on("input",(function(){""!=jm("#proPdSearchInput").val()?jm("#promoterIconDelete").show():jm("#promoterIconDelete").hide()}))})),jm("#pdSearchBtn").on("click",(function(){Mobi.logDog(200578,43),i=0,""!=(m=jm("#proPdSearchInput").val()||"")&&(p.unshift(m),p=_toConsumableArray(new Set(p)),localStorage.setItem("promoterPdSearcHistory",JSON.stringify(p))),jm(".promoterPdFilterContain").show(),jm(".promoterPdList").css("opacity",1),Mobi.promoterPdSearch(!0),u(i,!0,o,n=!0,!0),jm(".historyTopicWrap").hide()}))},Mobi.memDeposit=function(){},function(t,e){function i(){t("body").css("background-color","#fff"),t(".g_web").css("background-color","#fff")}var o="";e.initIndex=function(e){i(),t(".deposit_index .deposit").text(e.toFixed(2))},e.initPwd=function(){i();var e=t(".deposit_pwd .pwd_wrapper .pwd_input"),o=t(".deposit_pwd .pwd_wrapper .pwd_input_lurker"),n=t(".deposit_pwd .re_pwd_wrapper .pwd_input"),a=t(".deposit_pwd .re_pwd_wrapper .pwd_input_lurker"),r=t(".deposit_pwd .btn"),s=[],l=[];e.on("click",(function(){o[0].focus()})),o.on("input",(function(){this.value.length>this.maxLength&&(this.value=this.value.slice(0,this.maxLength));var i=this.value;s=i.split("");for(var o=0;o<6;o++){var n=e[o];null!=s[o]&&void 0!==s[o]?t(n).find(".psuedo_input").show():t(n).find(".psuedo_input").hide()}6==s.length?r.removeClass("btn_disabled"):r.addClass("btn_disabled")})),r.on("click",(function(){Mobi.logDog(200983,19),r.hasClass("btn_disabled")||(6==s.length?(t(".re_pwd_panal").show(),t(".pwd_panal").hide()):Mobi.ing("请输入有效的6位密码"))})),n.on("click",(function(){a[0].focus()})),a.on("input",(function(){this.value.length>this.maxLength&&(this.value=this.value.slice(0,this.maxLength));var e=this.value;l=e.split("");for(var i=0;i<6;i++){var r=n[i];null!=l[i]&&void 0!==l[i]?t(r).find(".psuedo_input").show():t(r).find(".psuedo_input").hide()}if(6==l.length){if(o.val()!==a.val())return t(".J_confirm_pwd_error").show(),l=[],a.val(""),void t(".psuedo_input").hide();t.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/memDeposit_h.jsp?cmd=setWafCk_setDepositPwd",data:"pwd="+t.md5(o.val()),success:function(e){(e=t.parseJSON(e)).success?(Mobi.ing("密码设置成功",1),"交易密码"===t(".pageTitle")[0].innerText?Mobi.logDog(200983,33):"重置密码"===t(".pageTitle")[0].innerText&&Mobi.logDog(200983,34),setTimeout((function(){window.location.href=document.referrer}),2e3)):Mobi.ing(e.msg)}})}}))};e.initTopup=function(n){Mobi.logDog(200983,16),i(),function(){t("body").append('\n\t\t\t<div class="couponBoxMask" v-if="showCouponBox">\n\t\t\t\t<div class="couponBox">\n\t\t\t\t\t<div class="boxHeader">\n\t\t\t\t\t\t<div class="boxTitle">优惠券</div>\n\t\t\t\t\t\t<div class="boxMsg">充值立即赠送{{totalCouponCount}}张优惠券</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="boxContent">\n\t\t\t\t\t\t<div class="couponWrap" v-for="coupon in couponList" :key="coupon.id">\n\t\t\t\t\t\t\t<div class="couponLeft">\n\t\t\t\t\t\t\t\t<div class="moneyWrap">\n\t\t\t\t\t\t\t\t\t<div class="currency">￥</div>\n\t\t\t\t\t\t\t\t\t<div class="price">{{coupon.savePrice}}</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="condition">{{coupon.useCondition}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="couponRight">\n\t\t\t\t\t\t\t\t<div class="couponName">{{coupon.couponName}}</div>\n\t\t\t\t\t\t\t\t<div class="validity">{{coupon.validity}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="boxCorner" v-if="coupon.couponCount > 1"><div class="couponCount">{{coupon.couponCount}}张</div></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="closeIcon" @click="closeBox"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t');var i=new Fai.top.Vue({el:t(".couponBoxMask")[0],data:function(){return{couponList:[],showCouponBox:!1}},computed:{totalCouponCount:function(){var t,e=0,i=_createForOfIteratorHelper(this.couponList);try{for(i.s();!(t=i.n()).done;)e+=t.value.couponCount}catch(t){i.e(t)}finally{i.f()}return e}},methods:{closeBox:function(){this.showCouponBox=!1}}});e.$couponBox=i}(),1==(n=t.parseJSON(n)).length&&(o=n[0],t(".deposit_topup .confirm").removeClass("disabled")),e.rules=n},e.ruleSelect=function(i,n){t(".rule").removeClass("selected"),t(n).addClass("selected"),t(".deposit_topup .arrowIcon2").removeClass("selectedBg"),t(n).find(".arrowIcon2").addClass("selectedBg");var a,r=_createForOfIteratorHelper(e.rules);try{for(r.s();!(a=r.n()).done;){var s=a.value;if(s.dm==i){o=s;break}}}catch(t){r.e(t)}finally{r.f()}t(".deposit_topup .confirm").removeClass("disabled")},e.showCouponBox=function(t){var i,o=_createForOfIteratorHelper(e.rules);try{for(o.s();!(i=o.n()).done;){var n=i.value;if(n.dm==t){e.$couponBox.couponList=n.couponList||[],e.$couponBox.showCouponBox=!0;break}}}catch(t){o.e(t)}finally{o.f()}},e.topup=function(){Mobi.logDog(200983,17),t(".deposit_topup .confirm").hasClass("disabled")||(""!==o?location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"depositPayment.jsp?deposit=true&price="+t.encodeUrl(o.dm)+"&returnUrl="+t.encodeUrl(location.href):Mobi.ing("请先选择充值项"))},e.topupV2=function(){Mobi.logDog(200983,17),t(".deposit_topup .confirm").hasClass("disabled")||(""!==o?t.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/memDeposit_h.jsp?cmd=addWafCk_addDepositFlow",data:"v2=true&depositMoney="+o.dm,error:function(){Fai.ing("系统错误。"),Mobi.logMonitor(6124,!0)},success:function(e){var i=t.parseJSON(e)||{};if(i.success){var o=(i.rtData||{}).flowId;location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"mallPayment.jsp?bssId="+o+"&bssType=2&returnUrl="+t.encodeUrl(location.href)}else Mobi.logMonitor(6124,!0),Mobi.ing(i.msg||"系统错误。")}}):Mobi.ing("请先选择充值项"))},e.checkDepositStatue=function(e){t.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/memDeposit_h.jsp?cmd=getWafNotCk_checkDepositStatue",data:"flowId="+e,error:function(){Fai.ing("系统错误。")},success:function(i){t.parseJSON(i).success&&(Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"depositTopup.jsp?flowId="+e+"&suc=true")}})},e.showPopup=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0;Mobi.logDog(200983,18);var r=0,s=!1,l=!1,c=!1;t>0&&(r++,s=!0),e>0&&o&&(r++,l=!0),i>0&&n&&(r++,c=!0);var d="";d+="<div class='deposit_popup deposit_popup"+r+"'>",d+="<img class='deposit_img deposit_img"+r+"' src='"+Fai.top._resImageRoot+"/image/memDeposit/"+r+".png'>",s&&(d+="<div class='money_title'>赠送金额</div>",d+="<div class='money_txt'><div class='money_num'>"+t+"<span class='unit'>元</span></div></div>"),l&&(!s&&c?(d+="<div class='integral_title integral_title"+r+"' style='top: 7.7rem;left: 3.2rem;'>赠送"+a+"</div>",d+="<div class='integral_txt integral_txt"+r+"' style='top: 7.3rem;left: 7.7rem;'><div class='integral_num integral_num"+r+"'>"+e+"<span class='unit' style='top: -.07rem;'></span></div></div>"):(d+="<div class='integral_title integral_title"+r+"'>赠送"+a+"</div>",d+="<div class='integral_txt integral_txt"+r+"'><div class='integral_num integral_num"+r+"'>"+e+"<span class='unit'></span></div></div>")),c&&(d+="<div class='coupon_title coupon_title"+r+"'>赠送优惠券</div>",d+="<div class='coupon_txt coupon_txt"+r+"'><div class='coupon_num coupon_num"+r+"'>"+i+"<span class='unit'>元</span></div></div>"),d+="</div>",d+="<div class='deposit_verbose deposit_verbose"+r+"'>已放至你的会员帐户</div>",d+="<div class='deposit_popup_close J-prompt-cancel'>",d+="<img src='"+Fai.top._resImageRoot+"/image/hdCouponClose.png'>",d+="</div>",Mobi.customPopup({content:d})},e.initTopupList=function(){Mobi.logDog(200983,14),i()},e.topupItemClick=function(e,i){var o=(e=t.parseJSON(e)).depositGiftFlow,n="";n+="<div style='display: flex;width: 13.8rem;height: auto;top: -8rem;left: 0rem;z-index: 9999;background: #fff;border-radius: .2rem;flex-direction: column;'>",n+="<div>",e.type==e.deductionType?n+="<div style='font-size: .75rem;color: rgba(53,53,53,1);font-weight: bold;margin-top: 1rem;height: 1.8rem;border-bottom: 1px solid rgba(238,238,238,1);'>调整详情</div>":n+="<div style='font-size: .75rem;color: rgba(53,53,53,1);font-weight: bold;margin-top: 1rem;height: 1.8rem;border-bottom: 1px solid rgba(238,238,238,1);'>充值详情</div>",n+="<div style='display: flex;width: 100%;align-items: center;justify-content: center;flex-direction: column;margin-top: .7rem;'>",e.type==e.deductionType?(n+="<div style='display: flex;width: 75%; line-height: 1.5rem;'><div style='font-size: .6rem;color: rgba(53,53,53,1); width: 4rem;flex-grow: 0; flex-shrink: 0; text-align: left;'>扣减金额:</div><div style='font-size: .6rem;color: rgba(53,53,53,1);flex-grow: 1;margin-left: -1rem;text-align: justify;'>￥"+e.price.toFixed(2)+"</div></div>",n+="<div style='display: flex;width: 75%; line-height: 1.5rem;'><div style='font-size: .6rem;color: rgba(53,53,53,1); width: 4rem;flex-grow: 0; flex-shrink: 0; text-align: left;'>扣减方式:</div><div style='font-size: .6rem;color: rgba(53,53,53,1);flex-grow: 1;margin-left: -1rem;text-align: justify;'>"+e.payModeName+"</div></div>",n+="<div style='display: flex;width: 75%; line-height: 1.5rem;'><div style='font-size: .6rem;color: rgba(53,53,53,1); width: 4rem;flex-grow: 0; flex-shrink: 0; text-align: left;'>备&emsp;&emsp;注:</div><div style='font-size: .6rem;color: rgba(53,53,53,1);flex-grow: 1;margin-left: -1rem;text-align: justify;justify;word-break:break-all;'>"+t.encodeHtml(e.comments)+"</div></div>"):(n+="<div style='display: flex;width: 75%; line-height: 1.5rem;'><div style='font-size: .6rem;color: rgba(53,53,53,1); width: 4rem;flex-grow: 0; flex-shrink: 0; text-align: left;'>充值金额:</div><div style='font-size: .6rem;color: rgba(53,53,53,1);flex-grow: 1;margin-left: -1rem;text-align: justify;'>￥"+e.price.toFixed(2)+"</div></div>",n+="<div style='display: flex;width: 75%; line-height: 1.5rem;'><div style='font-size: .6rem;color: rgba(53,53,53,1); width: 4rem;flex-grow: 0; flex-shrink: 0; text-align: left;'>充值方式:</div><div style='font-size: .6rem;color: rgba(53,53,53,1);flex-grow: 1;margin-left: -1rem;text-align: justify;'>"+e.payModeName+"</div></div>",o&&o.price>0&&(n+="<div style='display: flex;width: 75%; line-height: 1.5rem;'><div style='font-size: .6rem;color: rgba(53,53,53,1); width: 4rem;flex-grow: 0; flex-shrink: 0; text-align: left;'>赠送金额:</div><div style='font-size: .6rem;color: rgba(53,53,53,1);flex-grow: 1;margin-left: -1rem;text-align: justify;'>￥"+o.price+"</div></div>"),e.integral>0&&(n+="<div style='display: flex;width: 75%; line-height: 1rem;margin-top: 0.2rem'><div style='font-size: .6rem;color: rgba(53,53,53,1); width: 2.5rem;flex-grow: 0; flex-shrink: 0; text-align: justify;margin-right: 1.4rem;'>赠送"+t.encodeHtml(i)+":</div><div style='font-size: .6rem;color: rgba(53,53,53,1);flex-grow: 1;margin-left: -1rem;text-align: justify;'>"+e.integral+"</div></div>"),e.couponNames&&(n+="<div style='display: flex;width: 75%; line-height: 1rem;margin-top: 0.2rem'><div style='font-size: .6rem;color: rgba(53,53,53,1); width: 2.5rem;flex-grow: 0; flex-shrink: 0; text-align: justify;margin-right: 1.4rem;'>赠送优惠券:</div><div style='font-size: .6rem;color: rgba(53,53,53,1);flex-grow: 1;margin-left: -1rem;text-align: justify;'>"+e.couponNames+"</div></div>")),n+="</div>",n+="</div>",n+="<div class='J-prompt-cancel' style='width: 6.5rem;height: 1.8rem;background: rgba(60,123,239,1);border-radius: 0.075rem;font-size: .7rem;color: #fff;display: flex;justify-content: center;align-items: center;bottom: 1rem;left: 3.6rem;margin: 0 auto;margin-top: 1.5rem;margin-bottom: 1rem;'>我知道了</div>",n+="</div>",Mobi.customPopup({content:n})},e.initConsumeList=function(){Mobi.logDog(200983,15),i()},e.initDepositInfo=function(){i()},e.consumeItemClick=function(t){0!=t&&(document.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"mdetail.jsp?id="+t)}}(jm,Mobi.memDeposit),Mobi.initPromoterIndexPage=function(){jm("#promo").on("click",(function(t,e){Mobi.cusHistory.add("promo",e,1,"#promo")})),jm("#invite").on("click",(function(t,e){Mobi.cusHistory.add("invite",e,1,"#invite")})),jm("#promoOnly").on("click",(function(t,e){Mobi.cusHistory.add("promoOnly",e,1,"#promoOnly")})),Mobi.cusHistory.init()},Mobi.createInvitePoster=function(){Mobi.logDog(200578,2);var t=jm(".webModuleContainer"),e=null,i="";if(t.find(".promoPageBg").hide(),0!==jm(".invitePosterWrapper").length)return jm(".invitePosterWrapper").show(),void Mobi.modifyPageHeader("邀请二维码",".invitePosterWrapper",".promoPageBg");jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/promoter_h.jsp?cmd=getWafNotCk_getInviteQRCode",async:!1,success:function(t){t=jm.parseJSON(t),e=t.rtData}});var o=Fai.top._openThemeV3,n=jm(".webHeaderBg").css("background-color").replace(")",", 0.2)").replace("rgb","rgba"),a=jm("html").css("font-size"),r=13*(a=Number(a.substring(0,a.indexOf("p")))),s=23.12*a;i+="<div class='invitePosterWrapper'>",i+="    <div class='posterHeader'>",i+="        <div class='iconPart'>",i+="            <div class='iconIndicator g_mainColor g_main_color_v3"+(o?" g_main_bdColor_v3_a20":"' style='border-color: "+n)+"'>1</div>",i+="            <div class='iconSeparate'></div>",i+="            <div class='iconIndicator g_mainColor g_main_color_v3"+(o?" g_main_bdColor_v3_a20":"' style='border-color: "+n)+"'>2</div>",i+="            <div class='iconSeparate'></div>",i+="            <div class='iconIndicator g_mainColor g_main_color_v3"+(o?" g_main_bdColor_v3_a20":"' style='border-color: "+n)+"'>3</div>",i+="        </div>",i+="        <div class='txtPart'>",i+="            <div class='aPosterTxt'>分享邀请码给好友</div>",i+="            <div class='aPosterTxt'>好友成为"+e.proSetName+"并带来订单</div>",i+="            <div class='aPosterTxt'>获得邀请奖励</div>",i+="        </div>",i+="    </div>",i+="    <div class='posterBody'>",i+="        <canvas class='actualPoster invitePoster' id='invitePoster' width='"+r+"px' height='"+s+"px'>",i+="        </canvas>",i+="        <div class='posterBodyBtn'>长按保存图片</div>",i+="    </div>",i+="</div>",t.append(i);var l=document.getElementById("invitePoster"),c=l.getContext("2d");Mobi.drawPromoteAndInviteCanvas(l,c,e,!0),jm("#webModuleContainer").find(".loginHeader").find(".g_close").off().on("click",(function(){setTimeout((function(){location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"promoterIndex.jsp"}),0)}))},Mobi.promoterIndexjumpBack=function(t){jm(".invitePosterWrapper").length<1&&jm(".promoPosterWrapper").length<1&&(location.href=t)},Mobi.drawPromoteAndInviteCanvas=function(t,e,i,o){var n=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1);t.width=t.width*n,t.height=t.height*n;var a=i.posterData,r=i.isFirst||!1,s=a.mt,l=r||0==a.bgit,c=r||0==a.pmt,d=(r||0==a.am)&&!(o&&r),m=r,p=13,u=jm("html").css("font-size"),f=(u=Number(u.substring(0,u.indexOf("p")))*n)*p,h=23.12*u,g=0,v=0,b=0,_=0,j=!1,M=!1,y=!1,w=!1,S=!1,I=!1,C="";"undefined"!=typeof Fai&&void 0!==Fai.top._resRoot&&(C=Fai.top._resRoot);var P={},x={},k={},L={},F={},T="",A="";!function(t,e,i,n,a){if(o){if(t.posterImgSrc_bg1=C+"/image/promoter/poster/invitePoster1_bg1.jpg",t.posterImgSrc_bg2=C+"/image/promoter/poster/invitePoster1_bg2.png",t.bg2Width=11.26*u,t.bg2Height=18.19*u,t.bg2Left=.88*u,t.bg2Top=2.5*u,e.avatarLeftFactor=4.75,e.avatarTopFactor=4.5,e.avatarWidthFactor=1.9,e.avatarHeightFactor=1.9,e.imgWidthFactor=1.73,e.imgHeightFactor=1.73,e.borderWidthFactor=.0866,e.avatarRadiusFactor=.173,e.imgRadiusFactor=.15,e.avatarStyle="#eee",n.textXFactor=1.837,n.textYFactor=9.1,n.text="和我一起，轻松推广赢奖励",n.color="#353535",n.size=.554*u,n.font="arial",n.isBole=!1,n.isItalic=!1,n.isUnderLine=!1,a.codeLeftFactor=3.36,a.codeTopFactor=11.96,a.codeWidthFactor=6.34,a.codeHeightFactor=6.34,T=C+"/image/promoter/poster/invitePoster1_codeBg.png",a.codeInnerLeftFactor=.658,a.codeInnerTopFactor=.658,a.codeInnerWidthFactor=5.026,a.codeInnerHeightFactor=5.026,null!=s&&1!=s)switch(s){case 2:t.posterImgSrc_bg1=C+"/image/promoter/poster/invitePoster2_bg1.jpg",t.posterImgSrc_bg2=C+"/image/promoter/poster/invitePoster2_bg2.png",t.bg2Width=11.96*u,t.bg2Height=16.813*u,t.bg2Left=.52*u,t.bg2Top=3.95*u,i.avatarRadiusFactor=1.265,i.imgRadiusFactor=1.178,i.avatarStyle="#fff",i.avatarCentreXFactor=6.465,i.avatarCentreYFactor=4.385,n.textXFactor=1.837,n.textYFactor=9.1,n.text="和我一起，轻松推广赢奖励",n.color="#353535",n.size=.69*u,n.font="arial",n.isBole=!1,n.isItalic=!1,n.isUnderLine=!1,a.codeLeftFactor=3.36,a.codeTopFactor=11.09,a.codeWidthFactor=6.06,a.codeHeightFactor=6.06;break;case 3:t.posterImgSrc_bg1=C+"/image/promoter/poster/invitePoster3_bg1.jpg",t.posterImgSrc_bg2=C+"/image/promoter/poster/invitePoster3_bg2.png",t.bg2Width=11.09*u,t.bg2Height=15.6*u,t.bg2Left=.984*u,t.bg2Top=3.56*u,e.avatarLeftFactor=3.57,e.avatarTopFactor=4.61,e.avatarWidthFactor=1.9,e.avatarHeightFactor=1.9,e.imgWidthFactor=1.7,e.imgHeightFactor=1.7,e.borderWidthFactor=.104,e.avatarRadiusFactor=.416,e.imgRadiusFactor=.416,e.avatarStyle="#ffefe4",n.textXFactor=1.837,n.textYFactor=8.23,n.text="和我一起，轻松推广赢奖励",n.color="#ff6732",n.size=.59*u,n.font="arial",n.isBole=!1,n.isItalic=!1,n.isUnderLine=!1,a.codeLeftFactor=4.19,a.codeTopFactor=9.91,a.codeWidthFactor=4.732,a.codeHeightFactor=4.732,T=C+"/image/promoter/poster/invitePoster3_codeBg.png",a.codeInnerLeftFactor=.38,a.codeInnerTopFactor=.38,a.codeInnerWidthFactor=3.986,a.codeInnerHeightFactor=3.986;break;case 4:t.posterImgSrc_bg1=C+"/image/promoter/poster/invitePoster4_bg1.jpg",t.posterImgSrc_bg2=C+"/image/promoter/poster/invitePoster4_bg2.png",t.bg2Width=13*u,t.bg2Height=12.13*u,t.bg2Left=0*u,t.bg2Top=8.78*u,i.avatarRadiusFactor=1.265,i.imgRadiusFactor=1.213,i.avatarStyle="#fff",i.avatarCentreXFactor=6.5,i.avatarCentreYFactor=3.165,i.nameStyle="#fff",A=C+"/image/promoter/poster/invitePoster4_nameBg.png",i.nameTopWitchAvatarFactor=.95,i.nameBgImgHalfWidthFactor=2,i.nameBgImgHalfHeightFactor=1.386,n.textXFactor=1.837,n.textYFactor=7.124,n.text="和我一起，轻松推广赢奖励",n.color="#fff",n.size=.76*u,n.font="arial",n.isBole=!1,n.isItalic=!1,n.isUnderLine=!1,a.codeLeftFactor=3.29,a.codeTopFactor=11.44,a.codeWidthFactor=6.586,a.codeHeightFactor=6.586}}else if(t.posterImgSrc_bg1=C+"/image/promoter/poster/promotionPoster1_bg1.jpg",t.posterImgSrc_bg2=C+"/image/promoter/poster/promotionPoster1_bg2.png",t.bg2Width=11.26*u,t.bg2Height=18.19*u,t.bg2Left=.88*u,t.bg2Top=2.5*u,e.avatarLeftFactor=2.496,e.avatarTopFactor=3.744,e.avatarWidthFactor=1.9,e.avatarHeightFactor=1.9,e.imgWidthFactor=1.73,e.imgHeightFactor=1.73,e.borderWidthFactor=.0866,e.avatarRadiusFactor=.173,e.imgRadiusFactor=.15,e.avatarStyle="#eee",n.textXFactor=1.84,n.textYFactor=8.58,n.text="惊喜好物，等你来发现",n.color="#ff5a34",n.size=.73*u,n.font="arial",n.isBole=!1,n.isItalic=!1,n.isUnderLine=!1,a.codeLeftFactor=3.016,a.codeTopFactor=10.57,a.codeWidthFactor=6.93,a.codeHeightFactor=6.93,null!=s&&1!=s)switch(s){case 2:t.posterImgSrc_bg1=C+"/image/promoter/poster/promotionPoster2_bg1.jpg",t.posterImgSrc_bg2=C+"/image/promoter/poster/promotionPoster2_bg2.png",t.bg2Width=11.78*u,t.bg2Height=16.98*u,t.bg2Left=.6*u,t.bg2Top=3.11*u,i.avatarRadiusFactor=1.3,i.imgRadiusFactor=1.196,i.avatarStyle="#fff",i.avatarCentreXFactor=6.5,i.avatarCentreYFactor=3.41,n.textXFactor=1.82,n.textYFactor=8.58,n.text="惊喜好物，等你来发现",n.color="#ff5e87",n.size=.73*u,n.font="arial",n.isBole=!1,n.isItalic=!1,n.isUnderLine=!1,a.codeLeftFactor=3.64,a.codeTopFactor=10.7,a.codeWidthFactor=6.93,a.codeHeightFactor=6.93;break;case 3:t.posterImgSrc_bg1=C+"/image/promoter/poster/promotionPoster3_bg1.jpg",t.posterImgSrc_bg2=C+"/image/promoter/poster/promotionPoster3_bg2.png",t.bg2Width=10.4*u,t.bg2Height=15.738*u,t.bg2Left=1.314*u,t.bg2Top=4.16*u,i.avatarRadiusFactor=1.075,i.imgRadiusFactor=1,i.avatarStyle="#fcdcc0",i.avatarCentreXFactor=6.375,i.avatarCentreYFactor=12.335,i.nameStyle="#993927",A=C+"/image/promoter/poster/promotionPoster3_nameBg.png",i.nameTopWitchAvatarFactor=.23,i.nameBgImgHalfWidthFactor=2,i.nameBgImgHalfHeightFactor=1.074,i.nameHeightOffsetFactor=.1,n.textXFactor=1.837,n.textYFactor=15.75,n.text="惊喜好物，等你来发现",n.color="#fff0de",n.size=.73*u,n.font="arial",n.isBole=!1,n.isItalic=!1,n.isUnderLine=!1,a.codeLeftFactor=4.09,a.codeTopFactor=5.37,a.codeWidthFactor=5.38,a.codeHeightFactor=5.38,T=C+"/image/promoter/poster/promotionPoster3_codeBg.png",a.codeInnerLeftFactor=.693,a.codeInnerTopFactor=.693,a.codeInnerWidthFactor=3.98,a.codeInnerHeightFactor=3.98;break;case 4:t.posterImgSrc_bg1=C+"/image/promoter/poster/promotionPoster4_bg1.jpg",t.posterImgSrc_bg2=C+"/image/promoter/poster/promotionPoster4_bg2.png",t.bg2Width=13*u,t.bg2Height=13.346*u,t.bg2Left=0*u,t.bg2Top=7.58*u,i.avatarRadiusFactor=1.42,i.imgRadiusFactor=1.247,i.avatarStyle="#fff",i.globalAlpha=.5,i.avatarCentreXFactor=6.498,i.avatarCentreYFactor=3.518,i.nameStyle="#fff",A=C+"/image/promoter/poster/promotionPoster4_nameBg.png",i.nameTopWitchAvatarFactor=.95,i.nameBgImgHalfWidthFactor=2,i.nameBgImgHalfHeightFactor=1.386,n.textXFactor=1.837,n.textYFactor=10.74,n.text="惊喜好物，等你来发现",n.color="#fff0de",n.size=.73*u,n.font="arial",n.isBole=!1,n.isItalic=!1,n.isUnderLine=!1,a.codeLeftFactor=3.57,a.codeTopFactor=12.826,a.codeWidthFactor=5.72,a.codeHeightFactor=5.72}}(P,x,k,L,F);var B,D,O=jm("#_TOKEN").attr("value"),N=new Image,E=new Image;g=P.bg2Width,v=P.bg2Height,b=P.bg2Left,_=P.bg2Top,B=P.posterImgSrc_bg1,D=P.posterImgSrc_bg2,l||""==a.ppFileIdUrl||(B=a.ppFileIdUrl),N.src=document.location.protocol+"//"+document.location.host+"/ajax/mobiImgTransfer_h.jsp?_TOKEN="+O+"&cmd=wafNotCk_&imgUrl="+jm.encodeUrl(B),E.src=document.location.protocol+"//"+document.location.host+"/ajax/mobiImgTransfer_h.jsp?_TOKEN="+O+"&cmd=wafNotCk_&imgUrl="+jm.encodeUrl(D),N.onload=function(){j=!0,V()&&q()},E.onload=function(){M=!0,V()&&q()};var R=new Image,U=i.headPic.headPicUrl;R.src=document.location.protocol+"//"+document.location.host+"/ajax/mobiImgTransfer_h.jsp?_TOKEN="+O+"&cmd=wafNotCk_&imgUrl="+jm.encodeUrl(U),R.onload=function(){y=!0,V()&&q()};var J=new Image;J.src=document.location.protocol+"//"+document.location.host+"/ajax/mobiImgTransfer_h.jsp?_TOKEN="+O+"&cmd=wafNotCk_&imgUrl="+jm.encodeUrl(i.qrCodeUrl),J.onload=function(){w=!0,V()&&q()};var H=new Image;""!=T?(H.src=document.location.protocol+"//"+document.location.host+"/ajax/mobiImgTransfer_h.jsp?_TOKEN="+O+"&cmd=wafNotCk_&imgUrl="+jm.encodeUrl(T),H.onload=function(){S=!0,V()&&q()}):(S=!0,V()&&q());var W=new Image;function V(){return j&&M&&y&&w&&S&&I}function q(){if(e.drawImage(N,0,0,f,h),e.drawImage(E,b,_,g,v),function(){var t=0,n=0,l=3.53,c={};if(r||!o&&1==s||o&&(1==s||3==s)){c=x;var p=x.avatarLeftFactor,f=x.avatarTopFactor,h=x.avatarWidthFactor,g=x.avatarHeightFactor,v=x.imgWidthFactor,b=x.imgHeightFactor,_=x.borderWidthFactor,j=x.avatarRadiusFactor,M=x.imgRadiusFactor,y=x.avatarStyle;m||(p=.034666666666666665*a.pp.al,f=.034666666666666665*a.pp.at),!d&&l>h&&(p+=(l-h)/2);var w=p*u,S=f*u,I=g*u,C=v*u,P=b*u,L=w+_*u,F=S+_*u;d?(n=p+h+.59,t=S+I/2):(n=p+h/2,t=S+I+.53*u);var T=z(w,S,h*u,I),B=z(L,F,C,P);if($(T,j*u,y,!1),$(B,M*u,"#fff",!0),null==i.headPic.width||0==i.headPic.width)e.drawImage(R,L,F,C,P);else{var D=(Q=R.naturalWidth*i.headPic.width/i.headPic.imgW)/i.headPic.width,O=i.headPic.left*D,N=i.headPic.top*D;e.drawImage(R,O,N,Q,Q,L,F,C,P)}e.closePath(),e.restore()}else{c=k;var E=k.avatarCentreXFactor,U=k.avatarCentreYFactor,J=(j=k.avatarRadiusFactor,M=k.imgRadiusFactor,y=k.avatarStyle,k.globalAlpha||1);m||(E=.034666666666666665*a.pp.al+j,U=.034666666666666665*a.pp.at+j),!d&&l>2*j&&(E+=(l-2*j)/2);var H=u*E,V=u*U,q=u*j,G=u*M;if(d)n=E+j+.59,t=V;else n=E,t=V+q+(k.nameTopWitchAvatarFactor||.53)*u;var X=Y(H,V,q),Z=Y(H,V,G);if(K(X,y,J,!1),K(Z,"#fff",1,!0),null==i.headPic.width||0==i.headPic.width)e.drawImage(R,H-G,V-G,2*G,2*G);else{var Q;D=(Q=R.naturalWidth*i.headPic.width/i.headPic.imgW)/i.headPic.width,O=i.headPic.left*D,N=i.headPic.top*D;e.drawImage(R,O,N,Q,Q,H-G,V-G,2*G,2*G)}e.closePath(),e.restore()}!function(t,o,n){var a=n.nameStyle||"#666",r=u*o,s=t,l=.486*u;e.font=l+"px arial",e.fillStyle=a,e.textAlign="left",e.textBaseline="middle";var c=i.memberName;c.length>12&&(c=i.memberName.substring(0,12)+"...");d||(e.textAlign="center");if(""!=A&&!d){var m=n.nameBgImgHalfWidthFactor*u||0,p=n.nameBgImgHalfHeightFactor*u||0,f=n.nameHeightOffsetFactor*u||0,h=e.measureText(c).width+2*m;e.drawImage(W,r-m-e.measureText(c).width/2,s-p/2+f,h,p)}e.fillText(c,r,s)}(t,n,c)}(),function(){if(2==a.pmt)return;var t=(L.textXFactor||0)*u,i=(L.textYFactor||0)*u,o=L.text||"",n=L.color||"",r=L.size||"",s=L.font||"arial",l=L.isBole?"bold ":"",d=L.isItalic?"italic ":"",m=L.isUnderLine||!1;c||(t=.034666666666666665*u*a.pp.pml,i=.034666666666666665*u*a.pp.pmt,o=a.pm.t||"",n=a.pm.c||"",r=.034666666666666665*u*parseInt(a.pm.s.split("px")[0])||"",s=a.pm.f||"arial",l=a.pm.ib?"bold ":"",d=a.pm.ii?"italic ":"",m=a.pm.iu||!1);e.font=d+l+r+"px "+s,e.fillStyle=n,e.textAlign="center",e.textBaseline="top";var p=10.2*u,f=0;t=t+p/2-.45*u;var h=0,g=!1,v=0,b=0;m&&(v=r/10,b=r/10);for(var _=0;_<o.length;_++)(f+=e.measureText(o[_]).width)>p&&(e.fillText(o.substring(h,_-1),t,i),m&&X(t,i+v,f-2*e.measureText(o[_]).width,r,n,b),i+=1.3*r+v/2,f=_!=o.length-1?0:e.measureText(o[_]).width,h=_-1,_--,g=!0),_==o.length-1&&(g?(e.fillText(o.substring(h,_+1),t,i),m&&X(t,i+v,f+e.measureText(o[_]).width,r,n,b)):(e.fillText(o.substring(h,_+1),t,i),m&&X(t,i+v,f,r,n,b)))}(),function(){var t=F.codeLeftFactor,i=F.codeTopFactor,n=F.codeWidthFactor,r=F.codeHeightFactor;m||(t=.034666666666666665*a.pp.qcl,i=.034666666666666665*a.pp.qct);var l=u*t,c=u*i,d=u*n,p=u*r;if(e.save(),!o&&3==s||o&&(1==s||3==s)){var f=u*F.codeInnerLeftFactor+l,h=u*F.codeInnerTopFactor+c,g=u*F.codeInnerWidthFactor,v=u*F.codeInnerHeightFactor;e.drawImage(H,l,c,d,p),e.drawImage(J,f,h,g,v)}else e.drawImage(J,l,c,d,p);e.restore()}(),o){var t=document.getElementById("invitePoster").toDataURL("image/png"),n=new Image;n.src=t,n.setAttribute("class","actualPoster invitePoster"),n.setAttribute("style","width:13rem;"),jm(".invitePosterWrapper .posterBody").empty().append(n).append("<div class='posterBodyBtn'>长按保存图片</div>")}else{var l=document.getElementById("promoPoster").toDataURL("image/png"),p=new Image;p.src=l,p.setAttribute("class","actualPoster promoPoster"),p.setAttribute("style","width:13rem;"),jm(".promoPosterWrapper .posterBody").empty().append(p).append("<div class='posterBodyBtn'>长按保存图片</div>")}}function z(t,e,i,o){return{x:t,y:e,width:i,height:o}}function G(t,e){return{x:t,y:e}}function $(t,i,o,n){var a=G(t.x+i,t.y),r=G(t.x+t.width,t.y),s=G(t.x+t.width,t.y+t.height),l=G(t.x,t.y+t.height),c=G(t.x,t.y);e.save(),e.beginPath(),e.fillStyle=o,e.strokeStyle=o,e.moveTo(a.x,a.y),e.arcTo(r.x,r.y,s.x,s.y,i),e.arcTo(s.x,s.y,l.x,l.y,i),e.arcTo(l.x,l.y,c.x,c.y,i),e.arcTo(c.x,c.y,a.x,a.y,i),e.stroke(),e.fill(),n?e.clip():(e.closePath(),e.restore())}function Y(t,e,i){return{x:t,y:e,radius:i}}function K(t,i,o,n){var a=t.x,r=t.y,s=t.radius;e.save(),e.beginPath(),e.moveTo(a,r),e.fillStyle=i,e.globalAlpha=o,e.arc(a,r,s,0,2*Math.PI,!0),e.fill(),n?e.clip():(e.closePath(),e.restore())}function X(t,i,o,n,a,r){t-=o/2,i+=n+r,e.beginPath(),e.strokeStyle=a,e.lineWidth=r,e.moveTo(t,i),e.lineTo(t+o,i),e.stroke()}""!=A?(W.src=document.location.protocol+"//"+document.location.host+"/ajax/mobiImgTransfer_h.jsp?_TOKEN="+O+"&cmd=wafNotCk_&imgUrl="+jm.encodeUrl(A),W.onload=function(){I=!0,V()&&q()}):(I=!0,V()&&q())},Mobi.loadPromoNotify=function(){Mobi.logDog(200578,7);var t=jm(".promoterPanel"),e=null,i="";if(t.find(".promoPageBg").hide(),0!==jm(".promoNotifyWrapper").length)return jm(".promoNotifyWrapper").show(),void Mobi.modifyPageHeader("提现通知",".promoNotifyWrapper",".promoPageBg");jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/promoter_h.jsp?cmd=getWafNotCk_getPromoteFlow",data:"isWithdraw=true",async:!1,success:function(t){t=jm.parseJSON(t),e=t.flowList}}),i+="<div class='promoNotifyWrapper'>",null!=e&&e.length>0?jm.each(e,(function(t,e){i+="<div class='aWithdraw' onclick='Mobi.loadWithdrawDetail("+JSON.stringify(e)+")'>",i+="    <div class='leftPart'>",i+="        <div class='withdrawTitle'>"+e.showName+"</div>",e.iur&&(i+="        <div class='unreadSymbol'></div>"),i+="        <div class='withdrawDate'>"+e.settleTimeStr+"</div>",i+="    </div>",i+="    <div class='rightPart'>",101===e.status||103===e.status?i+="    <div class='withdrawAmount succ'>"+Fai.top.choiceCurrencyVal+e.amount.toFixed(2)+"</div>":102!==e.status&&104!==e.status||(i+="    <div class='withdrawAmount fail'>"+Fai.top.choiceCurrencyVal+e.amount.toFixed(2)+"</div>"),i+="    </div>",i+="</div>"})):(i+="<div class='promoEmpty promoWithdrawEmpty'>",i+="    <div class='promoEmptyIcon'></div>",i+="    <div class='promoEmptyTxt'>暂无提现信息</div>",i+="</div>"),i+="</div>",t.append(i),Mobi.modifyPageHeader("提现通知",".promoNotifyWrapper",".promoPageBg")},Mobi.promoShareIconClick=function(){Mobi.logDog(20578,8);var t=jm("#productDetailShare");Fai.top._openThemeV3&&jm("#webHeader_v3").hasClass("innerHeadStyle")&&(t=jm("#productDetailShare2"));var e=jm("#mallThemeProductDetailShare");t.click(),e.click()},Mobi.loadWithdrawDetail=function(t){jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/promoter_h.jsp?cmd=setWafCk_setPromoteWithdrawAlreadyRead",data:"id="+t.id,success:function(){}});var e=jm(".promoterPanel"),i="";if(e.find(".promoNotifyWrapper").hide(),0!==jm("#withdrawDetail"+t.id).length)return jm("#withdrawDetail"+t.id).show(),void Mobi.modifyPageHeader("通知详情","#withdrawDetail"+t.id,".promoNotifyWrapper",2);var o="";101===t.status||103===t.status?o="商家已经通过你的提现申请，请查看你的提现账户是否到账。":102===t.status?o="商家拒绝了你的提现申请，拒绝原因："+jm.encodeHtml(t.other.rm)+"。":104===t.status&&(o="打款失败，请联系商家");var n=t.other.ac,a=t.other.wt;10==a||11==a||14==a?n+="（微信零钱）":12!=a&&13!=a||(n+="（支付宝）"),i+="<div class='withdrawDetail' id='withdrawDetail"+t.id+"'>",i+="    <div class='withdrawBg g_bgColor g_main_bgColor_v3'>",i+="        <div class='withdrawTitleWrapper'>",101===t.status||103===t.status?(i+="        <div class='withdrawIcon succ'></div>",i+="        <div class='withdrawTxt'>提现申请成功</div>"):102!==t.status&&104!==t.status||(i+="        <div class='withdrawIcon fail'></div>",i+="        <div class='withdrawTxt'>提现申请失败</div>"),i+="        </div>",i+="    </div>",i+="    <div class='withdrawInfo'>",i+="        <div class='withdrawInfoTitle'>"+o+"</div>",i+="        <div class='withdrawInfoBody'>",i+="            <div class='applyDate'>申请时间："+t.settleTimeStr+"</div>",i+="            <div class='applyAmount'>申请金额：",101===t.status||103===t.status?i+="            <span class='succ'>"+Fai.top.choiceCurrencyVal+t.amount.toFixed(2)+"</span>":102!==t.status&&104!==t.status||(i+="            <span class='fail'>"+Fai.top.choiceCurrencyVal+t.amount.toFixed(2)+"</span>"),i+="            </div>",i+="            <div class='withdrawAcct'>提现账户：",i+="                <span>"+jm.encodeHtml(n)+"</span>",i+="            </div>",i+="        </div>",i+="    </div>",i+="</div>",e.append(i),Mobi.modifyPageHeader("通知详情","#withdrawDetail"+t.id,".promoNotifyWrapper",2)},Mobi.loadCouponList=function(){function t(t,e){this.mid=t,this.flag=e}var e,i=t.prototype,o=0,n=[1,1,1],a=[[],[],[]],r=!1;function s(t){var e="fk-coupon-tab-active",i=jm(".coupon-tab");i.attr("style",""),i.find("em").attr("style",""),i.removeClass(e);var o=Fai.top._openThemeV3?"openThemeV3Tab ":"";i.addClass(o);var n=jm(".coupon-tab").eq(t),a=jm(".g_button").css("background-color");Fai.top._openThemeV3?(jm(".unusedTab").click((function(){jm(".cpUnderline").css("left","1.8rem")})),jm(".usedTab").click((function(){jm(".cpUnderline").css("left","7.4rem")})),jm(".uselessTab").click((function(){jm(".cpUnderline").css("left","12.8rem")}))):n.css({background:a,color:"#fff",borderColor:a}),n.find("em").css({borderColor:a+" transparent transparent transparent"}),n.addClass(e)}function l(t){jm(".coupon-tab").eq(t).addClass("coupon-tab-selected").siblings(".coupon-tab").removeClass("coupon-tab-selected")}function c(){jm(".webHeaderBg").height()<=jm("body")[0].scrollTop&&(Fai.top._templateFrameId<2e3||Fai.top._templateFrameId>=3e3)&&!Fai.top._openThemeV3?(jm(".tabList").css({position:"fixed",width:jm(".couponListPanel").width()+"px"}),jm("#showCouponList").css("margin-top","1.7rem")):(jm(".tabList").css({position:"",width:""}),jm("#showCouponList").css("margin-top",""))}function d(){var t;t=a[o];var e=[];if(0==t.length){e.push("<div class='coupon-empty'>"),Fai.top._openThemeV3?e.push("<div class='hasNoCoupons'></div>"):e.push("<div class='icon-coupons1'></div>");var i="";0==o?i=jm.format(LS.notHasCoupon,LS.notUse):1==o?i=jm.format(LS.notHasCoupon,LS.used):2==o&&(i=jm.format(LS.notHasCoupon,LS.js_expired)),e.push("<div class='showMsg'>"+i+"</div>"),e.push("</div>")}else e.push("<div class='show-coupon-list'>"),jm.each(t,(function(t,i){var n="g_mainColor g_main_color_v3",a="couponItemLeftConditBlack",r="couponDetailValidColor",s="",l="",c="";0!=o&&(n="",a="",s="coupon-words-invalid",r="couponDetailInvalidColor"),i.comments||(l="couponNameNoComm",c="couponValidityNoComm");var d="";0==t&&(d="margin-top:0.43rem;"),e.push("<div class ='couponItem' couponId='"+i.couponId+"' data_id='"+i.cdId+"' style='"+d+"'>"),e.push("<div class='circleLeft'></div>"),e.push("<div class='coupon_item_wrap'>"),e.push("<div class='couponItem-left "+n+"'>"),7==i.type&&1==i.saveType?e.push("<div class='couponItemLeftData'><span class='priceVal'>"+i.saveDiscount+"</span><span class='choice_currency_val'>折</span></div>"):e.push("<div class='couponItemLeftData'><span class='choice_currency_val'>"+Fai.top.choiceCurrencyVal+"</span><span class='priceVal'>"+i.savePrice+"</span></div>"),e.push("<div class='couponItemLeftCondit "+a+"'>"+i.useCondition+"</div>"),e.push("</div>"),e.push("<div class='couponItem-right'>"),2052==Fai.top._lcid||1028==Fai.top._lcid?1==o?e.push("<div class='couponState couponStateUsed'></div>"):2==o&&e.push("<div class='couponState couponStateExpired'></div>"):1==o?e.push("<div class='couponState couponStateUsedEn'></div>"):2==o&&e.push("<div class='couponState couponStateExpiredEn'></div>"),e.push("<div class='couponItemRightName "+l+" "+s+"'>"+jm.encodeHtml(i.couponName)+"</div>"),e.push("<div class='couponItemRightValidity "+c+"'>"+i.validityStr+"</div>"),7==i.type&&e.push("<div class='couponItemRightValidity coupon_redeem_code'>兑换码："+i.redeemCode+"</div>"),null!=i.comments&&""!=i.comments&&(e.push("<div class='couponItemRightDetail'>展开详情"),e.push("<svg class='detailIcon'><use xlink:href='#jzm-vicon_arrow7' /></svg>"),e.push("</div>")),0==o&&e.push("<div class='toUseCoupon g_mainColor g_main_color_v3'>"+LS.toUseCoupon+"</div>"),e.push("</div>"),e.push("<div class='circleRight'></div>"),e.push("</div>"),null!=i.comments&&""!=i.comments&&(e.push("<div class='couponItem-bottom'>"),e.push("<div class='detailLine'></div>"),e.push("<div class='couponItemBottomContent "+r+"'>"+jm.encodeHtml(i.comments)+"</div>"),e.push("</div>")),e.push("</div>")})),e.push("</div>");return e.join("")}return i.init=function(){var t;t=e=this,jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mallCoupon_h.jsp?cmd=setWafCk_getCouponByMid",data:"mid="+t.mid,dataType:"json",success:function(t){t.success&&(t.receiveList&&(a[0]=t.receiveList),t.usedList&&(a[1]=t.usedList),t.expireList&&(a[2]=t.expireList),r=t.couponCodeOpen||!1,function(){var t,i=e,n=jm(".couponListPanel"),c=[];if(c.push('<div class="tabList">'),c.push('<div class="unusedTab coupon-tab"><span><span class="">'+LS.notUse+'(</span><span class="coupon-amount">'+a[0].length+"</span><span>)</span></span><em></em></div>"),c.push('<div class="usedTab coupon-tab"><span><span>'+LS.used+'(</span><span class="coupon-amount">'+a[1].length+"</span><span>)</span></span><em></em></div>"),c.push('<div class="uselessTab coupon-tab"><span><span>'+LS.js_expired+'(</span><span class="coupon-amount">'+a[2].length+"</span><span>)</span></span><em></em></div>"),c.push("</div>"),c.push('    <div class="cpUnderline g_bgColor g_main_bgColor_v3"></div>'),c.push("<div id='showCouponList'>"),c.push(d()),c.push("</div>"),r){var m='<div class="coupon_toolbar_wrap show_coupon_code"><div class="coupon_toolbar_placeholder"></div><div class="coupon_toolbar_fixed"><div class="coupon_toolbar"><input class="coupon_code_input J_coupon_code_input" id="J_coupon_code_input" placeholder="请输入优惠码" maxlength="15"></input><button class="coupon_code_btn g_bgColor  g_main_bgColor_v3 J_coupon_code_btn" disabled>兑换</button></div></div></div>';c.push(m)}n.append(c.join("")),i.flag?l(o):s(o),t=jm(".J_coupon_code_btn"),jm("#J_coupon_code_input").on("keyup",(function(){var e=jm(this).val().length;e>=6&&e<=15?t.removeAttr("disabled"):t.attr("disabled","disabled")})),Mobi.onTouchAndClickEvent(".J_coupon_code_btn",(function(){var t=jm(this).attr("disabled"),e=jm("#J_coupon_code_input").val()||"";if(!t&&e){var i=!1,o=!1,n="",a="优惠券中心";jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/couponCode_h.jsp?cmd=setWafCk_checkAndSetCode",data:"code="+e+"&checkType=0",error:function(){Mobi.ing("兑换失败！")},success:function(t){var e=jm.parseJSON(t);e.success&&!e.isAvailable?(i=!0,Mobi.ing(e.msg),document.location.reload()):e.success&&e.isAvailable?(i=!0,o=!0,Mobi.ing(e.msg),document.location.reload()):(n=e.msg||"",Mobi.ing(e.msg)),Mobi.logMallFdp("mall_discode_consumer",{mall_free_bool_0:i,mall_free_bool_1:o,mall_free_text_0:n,mall_free_text_1:a},!0)}})}}))}())},error:function(){}}),function(){var t=e;Mobi.onTouchAndClickEvent(".coupon-tab",(function(){jm(this).index()!=o&&(o=jm(this).index(),t.flag?l(o):s(o),jm(".show-coupon-list").remove(),jm(".coupon-empty").remove(),jm("#showCouponList").append(d()))})),document.addEventListener("touchstart",(function(){c()}),!1),document.addEventListener("touchmove",(function(){c()}),!1),document.addEventListener("touchend",(function(){c()}),!1),document.addEventListener("scroll",(function(){c()}),!1),Mobi.onTouchAndClickEvent(".icon-delIcon",(function(){var e=jm(this).parents(".coupon-warp"),i=e.attr("data_id"),r=LS.delCouponWillUnavail;0!=o&&(r=LS.confirmDelCoupon);var s={textClass:"confirm",content:r,callback:function(){a[o].splice(10*(n[o]-1),1),jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=delWafCk_delCoupon",data:"mid="+t.mid+"&cdid="+i,dataType:"json",success:function(t){t.success&&(e.remove(),jm(".coupon-tab").eq(o).find(".coupon-amount").text(a[o].length))},error:function(){}}),jm("#mobiPrompt").remove(),jm("#mobiPrompt_Bg").remove()}};Mobi.prompt(s)})),Mobi.onTouchAndClickEvent(".toUseCoupon",(function(){var t=jm(this).parents(".couponItem").attr("couponid");Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"pr.jsp?couponId="+t})),Mobi.onTouchAndClickEvent(".couponItemRightDetail",(function(){jm(this).parents(".couponItem").find(".couponItem-bottom").toggle(),"none"!=jm(this).parents(".couponItem").find(".couponItem-bottom").css("display")?jm(this).find(".detailIcon").css("transform","rotate(0deg)"):jm(this).find(".detailIcon").css("transform","rotate(180deg)")}))}()},t}(jm),Mobi.memberHeadPic=function(t,e){this.sessionMid=t,this.headPicJson=e},function(t,e){var i,o,n,a,r,s,l,c=Mobi.memberHeadPic.prototype,d=t(".picArea .coverImg"),m=t(".picArea"),p=t("#headPic");function u(){t(".coverImg").css({width:l+"px",height:l+"px",top:r+"px",left:s+"px"}),t(".picArea .coverRing").css({width:l-2+"px",height:l-2+"px",top:r+"px",left:s+"px"}),t(".picArea .coverBox").css({width:l+"px",height:l+"px",top:r-1+"px",left:s-1+"px"}),t(".picArea .cover1").css({width:"100%",height:n+"px",top:0,left:0}),t(".picArea .cover2").css({width:s+"px",height:l+"px",top:r+"px",left:0}),t(".picArea .cover4").css({width:o-l-s+"px",height:l+"px",top:r+"px",left:l+s+"px"}),t(".picArea .cover5").css({width:"100%",height:i-l-r+"px",top:l+r+"px",left:0})}function f(){l<100?l=100:l>Math.min(p[0].height,p[0].width)&&(l=Math.min(p[0].height,p[0].width)),n<r?n=r:n>r+p[0].height-l&&(n=r+p[0].height-l),a<s?a=s:a>s+p[0].width-l&&(a=s+p[0].width-l),n>=r&&n<=r+p[0].height-l&&a>=s&&a<=s+p[0].width-l&&(d.css({width:l+"px",height:l+"px",top:n+"px",left:a+"px"}),t(".picArea .coverRing").css({width:l-2+"px",height:l-2+"px",top:n+"px",left:a+"px"}),t(".picArea .coverBox").css({width:l+"px",height:l+"px",top:n-1+"px",left:a-1+"px"}),t(".picArea .cover1").css({width:"100%",height:n+"px",top:0,left:0}),t(".picArea .cover2").css({width:a+"px",height:l+"px",top:n+"px",left:0}),t(".picArea .cover4").css({width:o-l-a+"px",height:l+"px",top:n+"px",left:l+a+"px"}),t(".picArea .cover5").css({width:"100%",height:i-l-n+"px",top:l+n+"px",left:0}))}function h(t){var e,i,o,n,a=0,r=0;if(e=t.touches[0].pageX,o=t.touches[1].pageX,i=t.touches[0].pageY-document.body.scrollTop,n=t.touches[1].pageY-document.body.scrollTop,e&&o)return a=e<=o?(o-e)/2+e:(e-o)/2+o,r=i<=n?(n-i)/2+i:(i-n)/2+n,{dist:Math.round(Math.sqrt(Math.pow(e-o,2)+Math.pow(i-n,2))),x:Math.round(a),y:Math.round(r)}}c.init=function(){this.initBind()},c.initBind=function(){var e,c,g,v,b,_,j,M,y=this;d=t(".picArea .coverImg"),m=t(".picArea"),(p=t("#headPic")).on({load:function(){r=t(this)[0].offsetTop,s=t(this)[0].offsetLeft,l=Math.min(t(this)[0].height,t(this)[0].width),n=r+t(this)[0].height/2-l/2,a=s+t(this)[0].width/2-l/2,p.css({top:r+"px",left:s+"px"}),f()}}),t("#memberHeadPic").click((function(e,c){var d=setInterval((function(){if(t("#headPic")[0].complete){if(t("#profile").hide(),t(".middleCenter").css("padding-bottom","0"),t("#editMemberHeadPic").css("height",t(window).height()+"px"),t("#editMemberHeadPic").show(),Mobi.deviceTypeIsMobi()||t("#coverBox").remove(),m.css("height",t(window).height()-Math.floor(t(".loginHeader").height())-Math.floor(t(".editHeadPicFooter").height())+"px"),i=Number(m.height()),o=Number(m.width()),r=(i-p.height())/2,s=(o-p.width())/2,"{}"==t.toJSON(y.headPicJson)||""==y.headPicJson.thumbId)n=r,a=s,l=Number(p.width());else{var e=y.headPicJson.imgW/p.width();n=r+y.headPicJson.top/e,a=s+y.headPicJson.left/e,l=y.headPicJson.width/e}p.css({top:r+"px",left:s+"px"}),u(),f(),clearInterval(d),Mobi.cusHistory.add("memberHeadPic",c,1,"#memberHeadPic")}}),50)})),t(".J_memberHeadPicV3").click((function(e){var c=setInterval((function(){if(t("#headPic")[0].complete){if(t("#profile").hide(),t("#modifyPersInfo").hide(),t(".middleCenter").css("padding-bottom","0"),t("#editMemberHeadPic").css("height",t(window).height()+"px"),t("#editMemberHeadPic").show(),Mobi.deviceTypeIsMobi()||t("#coverBox").remove(),m.css("height",t(window).height()-Math.floor(t(".loginHeader").height())-Math.floor(t(".editHeadPicFooter").height())+"px"),i=Number(m.height()),o=Number(m.width()),r=(i-p.height())/2,s=(o-p.width())/2,"{}"==t.toJSON(y.headPicJson)||""==y.headPicJson.thumbId)n=r,a=s,l=Number(p.width());else{var d=y.headPicJson.imgW/p.width();n=r+y.headPicJson.top/d,a=s+y.headPicJson.left/d,l=y.headPicJson.width/d}p.css({top:r+"px",left:s+"px"}),u(),f(),clearInterval(c),Mobi.cusHistory.add("memberHeadPicV3",e,2,".J_memberHeadPicV3")}}),50)})),t(".editHeadPicFooter .saveBtn").click((function(){var e=t(this).attr("mid"),i=t(this).attr("newimg"),o=t(this).attr("oldimgid"),c={};if(!Fai.top._openThemeV3){if(!i&&!o)return t("#editMemberHeadPic").hide(),void t("#profile").show();y.headPicJson.width=Math.round(l),y.headPicJson.top=Math.round(n-r),y.headPicJson.left=Math.round(a-s),y.headPicJson.imgH=Math.round(p[0].height),y.headPicJson.imgW=Math.round(p[0].width),null!=i?t.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_cimg",data:"oldImgId="+o+"&mid="+e+"&newImg="+t.encodeUrl(i),async:!1,error:function(){Mobi.ing(LS.memberPvrofileError)},success:function(t){(t=JSON.parse(t)).success&&(y.headPicJson.thumbId=t.fileId)}}):y.headPicJson.thumbId=o,c.headPic=y.headPicJson,t.ajax({type:"post",async:!1,url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_set",data:"id="+e+"&info="+t.encodeUrl(t.toJSON(c)),error:function(){Mobi.ing(LS.memberProfileError)},success:function(e){var i=t.parseJSON(e);i.success?(y.headPicJson.path=p.attr("src"),Mobi.initMemberHeadPic(y.headPicJson),t("#editMemberHeadPic").hide(),t("#profile").show(),Mobi.ing(LS.saveMemHeadImgSuc,1)):Mobi.ing(i.msg?i.msg:LS.memberProfileError)}})}})),t(".editHeadPicFooterV3 .saveBtn").click((function(){var e=t(this).attr("mid"),i=t(this).attr("newimg"),o=t(this).attr("oldimgid"),c={};if(!i&&!o)return t("#editMemberHeadPic").hide(),void(Fai.top._openThemeV3?Fai.top._openThemeV3&&(t("#profile").hide(),t("#modifyPersInfo").show()):t("#profile").show());y.headPicJson.width=Math.round(l),y.headPicJson.top=Math.round(n-r),y.headPicJson.left=Math.round(a-s),y.headPicJson.imgH=Math.round(p[0].height),y.headPicJson.imgW=Math.round(p[0].width),!Fai.top._openThemeV3||Fai.top._profile?(null!=i?t.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_cimg",data:"oldImgId="+o+"&mid="+e+"&newImg="+t.encodeUrl(i),async:!1,error:function(){Mobi.ing(LS.memberProfileError)},success:function(t){(t=JSON.parse(t)).success&&(y.headPicJson.thumbId=t.fileId)}}):y.headPicJson.thumbId=o,c.headPic=y.headPicJson,t.ajax({type:"post",async:!1,url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_set",data:"id="+e+"&info="+t.encodeUrl(t.toJSON(c)),error:function(){Mobi.ing(LS.memberProfileError)},success:function(e){var i=t.parseJSON(e);i.success?(y.headPicJson.path=p.attr("src"),Fai.top._profile?t("#modifyPersInfo").show():t("#profile").show(),Mobi.initMemberHeadPicV3(y.headPicJson),t("#editMemberHeadPic").hide(),Mobi.ing(LS.saveMemHeadImgSuc,1)):Mobi.ing(i.msg?i.msg:LS.memberProfileError)}}),Fai.top.msgHeadPic=y.headPicJson):(t("#profile").hide(),t("#editMemberHeadPic").hide(),t("#modifyPersInfo").show(),y.headPicJson.path=p.attr("src"),Mobi.initMemberMsgHeadPicV3(y.headPicJson),Fai.top.msgHeadPic=y.headPicJson)})),t(".picArea").on({touchstart:function(t){var i=t.touches.length;if(e=d[0].offsetTop,c=d[0].offsetLeft,l=d[0].width,1==i){t.preventDefault();var o=t.touches[0];b={x:o.pageX,y:o.pageY}}else g=h(t).dist,v=l},touchmove:function(t){if(1==t.touches.length){t.preventDefault();var i=t.touches[0];_={x:i.pageX,y:i.pageY},j=_.x-b.x,M=_.y-b.y,n=e+M,a=c+j,f()}else{var o=h(t).dist/g;l=Math.round(v*o),n=e+(v-l)/2,a=c+(v-l)/2,f()}}});var w=!1;function S(t){document.ontouchmove=function(i){if(w){var o=i.touches[0];switch(_={x:o.pageX,y:o.pageY},j=_.x-b.x,M=_.y-b.y,t){case 0:l=v,n=e+M,a=c+j;break;case 1:l=v+Math.max(j,M),n=e,a=c;break;case 2:l=v-j,n=e,a=c+j;break;case 3:l=v+j,n=e-j,a=c;break;case 4:l=v-j,n=e+j,a=c+j}f()}}}t("body").on("mouseup",(function(){w=!1})),t(".picArea").on({touchstart:function(t){e=d[0].offsetTop,c=d[0].offsetLeft,v=d[0].width;var i=t.touches[0];b={x:i.pageX,y:i.pageY},w=!0;var o=t.target.id;"coverBox"==o||"coverImg"==o?S(0):"dragBotCenter"==o||"dragRightCenter"==o||"dragRightBot"==o?S(1):"dragLeftCenter"==o||"dragLeftBot"==o?S(2):"dragTopCenter"==o||"dragRightTop"==o?S(3):"dragLeftTop"==o&&S(4)},touchend:function(){w=!1}},"#coverBox,#coverImg")}}(jm),Mobi.deviceTypeIsMobi=function(){var t=navigator.userAgent.toLowerCase(),e="ipad"==t.match(/ipad/i),i="iphone os"==t.match(/iphone os/i),o="midp"==t.match(/midp/i),n="rv:1.2.3.4"==t.match(/rv:1.2.3.4/i),a="ucweb"==t.match(/ucweb/i),r="android"==t.match(/android/i),s="windows ce"==t.match(/windows ce/i),l="windows mobile"==t.match(/windows mobile/i);return!!(e||i||o||n||a||r||s||l)},Mobi.reloadMemberImg=function(t,e){var i=jm("#headPic"),o=jm(".picArea"),n=Number(o.height()),a=Number(o.width());if("new"==t){var r=new Image;r.src=e.smallPath,r.onload=function(){i.attr("src",e.smallPath);var t=(n-i.height())/2,o=(a-i.width())/2;i.css({top:t+"px",left:o+"px"}),jm(".editHeadPicFooter .saveBtn").attr("newimg",jm.toJSON(e))}}},Mobi.initMemberUploadImg=function(t,e,i,o,n,a,r,s){var l=document.createElement("script");l.type="text/javascript",l.src=o,l.onload=function(){var i=document.createElement("script");i.src="true"==s?r:n,i.type="text/javascript",c.appendChild(i),i.onload=function(){"true"==s?Mobi.mobiMemberUploadImgSWF("file_upload",t,e,1,a):Mobi.mobiMemberUploadImgHtml("file_upload",t,e,a)}};var c=document.documentElement||document.body;c.appendChild(l);var d=jm("#headPic").attr("_src");(new Image).src=d,jm("#headPic").attr("src",d)},Mobi.mobiMemberUploadImgSWF=function(t,e,i){var o=i.split(","),n={file_post_name:"Filedata",upload_url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/memberHeadImgUp_h.jsp",button_placeholder_id:t,file_size_limit:e+"MB",button_image_type:3,file_queue_limit:1,button_cursor:SWFUpload.CURSOR.HAND,requeue_on_error:!1,post_params:{ctrl:"Filedata",app:21,type:0,fileUploadLimit:e},file_types:o.join(";"),file_dialog_complete_handler:function(){this._allSuccess=!1,this.startUpload()},file_queue_error_handler:function(t,e){switch(e){case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:Mobi.ing(LS.mobiFormSubmitCheckFileSizeErr,!0);break;case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:Mobi.ing(LS.mobiFormSubmitFileUploadNotAllow,!0);break;case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadOneTimeNum,"1"),!0);break;default:Mobi.ing(LS.mobiFormSubmitFileUploadReSelect,!0)}},upload_success_handler:function(t,e){var i=jm.parseJSON(e);this._allSuccess=i.success,this._sysResult=i.msg,i.success?(setTimeout((function(){Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadSucess,jm.encodeHtml(t.name)),!0)}),1800),Mobi.reloadMemberImg("new",i)):Mobi.ing(LS.mobiFormSubmitFileUploadFile+t.name+"   "+i.msg)},upload_error_handler:function(t,e){-280==e?Mobi.ing(LS.mobiFormSubmitFileUploadFileCancle,!1):-270==e?Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadFileExist,jm.encodeHtml(t.name)),!0):Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadSvrBusy,jm.encodeHtml(t.name)))},upload_complete_handler:function(t){t.filestatus==SWFUpload.FILE_STATUS.COMPLETE?setTimeout((function(){swfObj.startUpload()}),swfObj.upload_delay):t.filestatus==SWFUpload.FILE_STATUS.ERROR&&Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadSvrBusy,jm.encodeHtml(t.name)))},upload_start_handler:function(){Mobi.ing(LS.mobiFormSubmitFileUploadPrepare,!1)},view_progress:function(t,e,i,o){o=Math.ceil(e/i*100),isNaN(o)||(100==o?Mobi.ing(LS.mobiFormSubmitFileUploadIng+o+"%",!0):Mobi.ing(LS.mobiFormSubmitFileUploadIng+o+"%",!1))}};swfObj=SWFUploadCreator.create(n)},Mobi.mobiMemberUploadImgHtml=function(t,e,i){var o=i.split(","),n=jm("#_TOKEN").attr("value"),a={siteFree:!1,updateUrlViewRes:"",auto:!0,fileTypeExts:o.join(";"),multi:!1,fileSizeLimit:1024*e*1024,breakPoints:!0,saveInfoLocal:!1,showUploadedPercent:!0,removeTimeout:9999999,isDefinedButton:!0,getFileSizeUrlFlag:!0,post_params:{app:21,type:0,fileUploadLimit:e,isSiteForm:!0},isOrnotButton:!0,buttonText:"",uploader:"../ajax/memberHeadImgUp_h.jsp?cmd=wafNotCk_mobiupload&_TOKEN="+n,onUploadStart:function(t){jm("#progressBody_ "+t.id).remove(),jm("#progressWrap_"+t.id).remove()},onUploadSuccess:function(t,e){var i=jm.parseJSON(e);i.success?(setTimeout((function(){Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadSucess,jm.encodeHtml(t.name)),!0)}),1800),Mobi.reloadMemberImg("new",i)):Mobi.ing(LS.mobiFormSubmitFileUploadFile+t.name+"   "+i.msg)},onUploadError:function(t){jm("#progressWrap_"+t.id).remove(),Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadSvrBusy,jm.encodeHtml(t.name)))},view_progress:function(t){t=Math.ceil(t),isNaN(t)||(100==t?Mobi.ing(LS.mobiFormSubmitFileUploadIng+t+"%",!0):Mobi.ing(LS.mobiFormSubmitFileUploadIng+t+"%",!1))}};window.upload=jm("#"+t).uploadify(a),jm("#"+t).parent(".modifyBtn").on("click",(function(){jm(this).find(".selectbtn")[0].click()}));jm("#file_upload_1-button").attr("id","file_upload_pt_1"),jm("#select_btn_1").attr("id","select_btn_pt_1"),Fai.top._manageMode&&jm("#file_upload_pt_1").attr("disabled","true")},Mobi.hideHeader=function(){},Mobi.changeBackgroundToWhite=function(){jm(".jz_themeV3.mobiCol12 #g_web").css("background-color","#ffffff"),jm(".jz_themeV3.mobiCol12 .middleCenter").css("padding-bottom","0"),jm(".jz_themeV3.mobiCol12 .formMiddleContent").css("background-color","#ffffff")},Mobi.revertBackground=function(){jm(".jz_themeV3.mobiCol12 #g_web").css("background-color","#f7f7f7"),jm(".jz_themeV3.mobiCol12 .middleCenter").css("padding-bottom","0")},Mobi.initMemberHeadPic=function(t){var e=jm("#memberHeadPic"),i=jm(".icon-pnameIcon");if(void 0!==t.path&&e.attr("src",t.path),0!=t.width){var o=t.width/i.width(),n=-t.top/o+"px",a=-t.left/o+"px";e.css({width:t.imgW/o+"px",height:t.imgH/o+"px",marginTop:n,marginLeft:a}),t.imgW/o!=0&&t.imgH/o!=0||e.removeAttr("style")}},Mobi.initMemberHeadPicV3=function(t){var e=jm("#memberHeadPicV3,.memberMsgHeadPicV3"),i=jm(".icon-pnameIcon");if(void 0!==t.path&&e.attr("src",t.path),0!=t.width&&t.imgW>0&&t.imgH>0){var o=t.width/i.width(),n=-t.top/o+"px",a=-t.left/o+"px";e.css({width:t.imgW/o+"px",height:t.imgH/o+"px",marginTop:n,marginLeft:a}),t.imgW/o!=0&&t.imgH/o!=0||e.removeAttr("style")}},Mobi.initMemberMsgHeadPicV3=function(t){var e=jm(".memberMsgHeadPicV3"),i=jm(".icon-pnameIcon");if(void 0!==t.path&&e.attr("src",t.path),0!=t.width&&t.imgW>0&&t.imgH>0){var o=t.width/i.width(),n=-t.top/o+"px",a=-t.left/o+"px";e.css({width:t.imgW/o+"px",height:t.imgH/o+"px",marginTop:n,marginLeft:a}),t.imgW/o!=0&&t.imgH/o!=0||e.removeAttr("style")}},Mobi.memberProfileSubmit=function(t,e,i){var o={};if(e){if(i){var n=jm("#oldPsw").val();if(null==n||""==n)return Mobi.ing(LS.memberProfileOldPwdEmpty),void Mobi.getPreviewObject("oldPsw").focus();o.oldPwd=jm.md5(n)}var a=jm("#newPsw").val();if(null==a||""==a)return Mobi.ing(LS.memberProfilePwdEmpty),void Mobi.getPreviewObject("newPsw").focus();if(a.length<4)return Mobi.ing(LS.memberProfilePwdMinLength),void Mobi.getPreviewObject("newPsw").focus();if(a!=jm("#confirmPsw").val())return Mobi.ing(LS.memberProfilePwdNotMatch),void Mobi.getPreviewObject("confirmPsw").focus();o.pwd=jm.md5(a)}else{var r=jm("#profileValue").attr("maxlength"),s=jm("#profileValue").attr("name"),l=jm("#profileValue").val();if(o[s]=l,l.length>r)return Mobi.ing(jm.format(LS.memberProfileUserEditItemMaxLength,s,r)),Mobi.getPreviewObject("profileValue").focus(),!1;if("true"===jm("#profileValue").attr("ismust")){if(null==l||""==l)return jm(this).is("input")?Mobi.ing(jm.format(LS.memberSignupUserAddItemIsEmpty,jm("#modifyProfile").find(".title").html())):Mobi.ing(jm.format(LS.memberSignupUserAddItemIsEmpty2,jm("#modifyProfile").find(".title").html())),Mobi.getPreviewObject("profileValue").focus(),!1;if("email"===s&&l.length>0&&!jm.isEmail(l))return Mobi.ing(jm.format(LS.memberProfileItemCorrect,s)),Mobi.getPreviewObject("profileValue").focus(),!1}}Mobi.ing(LS.memberProfileSubmitting,-1),jm(".g_button").removeClass("sendIcon"),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_set",data:"id="+t+"&info="+jm.encodeUrl(jm.toJSON(o)),error:function(){Mobi.ing(LS.memberProfileError)},success:function(t){var e=jm.parseJSON(t);e.success?(Mobi.ing(LS.memberProfileOK,1),document.location.reload()):(jm(".g_button").addClass("sendIcon"),jm(".loginIcon ").hide(),-3==e.rt?Mobi.ing(LS.memberProfileOldPwdIncorrectError):Mobi.ing(e.msg?e.msg:LS.memberProfileError))}})},Mobi.getMProtocol=function(t){jm("#mProPage .loginHeader").show(),jm("#webHeaderBox").hide(),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=getWafNotCk_getProContent",error:function(){Mobi.ing(LS.memberProfileError)},success:function(e){var i=jm.parseJSON(e);i.success?(jm("#mProPage").find(".title").html(i.proName),jm("#mProPage").find(".set-line").html(i.msg),window.scrollTo(0,0),jm("#signupPage").hide(),jm("#mProPage").show(),Mobi.cusHistory.add("signUpMProtocol",t,1,"#signUpMProtocol")):alert("服务器连接错误!")}})},Mobi.initSignUpPage=function(){jm("#signUpMProtocol").on("click",(function(t,e){Mobi.getMProtocol(e)})),Mobi.cusHistory.init()},Mobi.selectAnimation=function(t){jm(t).siblings(".mobileCtIcon").hasClass("hadChangeClass")?jm(t).siblings(".mobileCtIcon").removeClass("hadChangeClass"):jm(t).siblings(".mobileCtIcon").hasClass("selectAnimationRemove")?(jm(t).siblings(".mobileCtIcon").addClass("selectAnimation"),jm(t).siblings(".mobileCtIcon").removeClass("selectAnimationRemove"),jm(t).siblings(".mobileCtIcon").find(".icon-downward").css({"-webkit-transform":"rotate(-180deg)","-ms-transform":"rotate(-180deg)","-moz-transform":"rotate(-180deg)","-o-transform":"rotate(-180deg)",transform:"rotate(-180deg)"})):jm(t).siblings(".mobileCtIcon").hasClass("selectAnimation")&&(jm(t).siblings(".mobileCtIcon").addClass("selectAnimationRemove"),jm(t).siblings(".mobileCtIcon").removeClass("selectAnimation"),jm(t).siblings(".mobileCtIcon").find(".icon-downward").css({"-webkit-transform":"rotate(0deg)","-ms-transform":"rotate(0deg)","-moz-transform":"rotate(0deg)","-o-transform":"rotate(0deg)",transform:"rotate(0deg)"}))},Mobi.selectAnimationCtrl=function(t){jm(t).hasClass("selectOpen")?jm(t).blur():jm(t).addClass("selectOpen"),Mobi.selectAnimation(t),jm(t).removeClass("selectOpen")},Mobi.checkMustItem=function(t){jm(t).find(".mustItem").on("keyup focusout",(function(){var e=!0;jm(t).find(".mustItem").each((function(){""!==jm(this).val().trim()||(e=!1)})),!0===e&&jm(".sendIcon").removeAttr("disabled")}))},Mobi.checkLoginMustItem=function(t){jm(t).find(".loginMustItem").on("keyup focusout",(function(){var e=!0;jm(t).find(".loginMustItem").each((function(){""!==jm(this).val().trim()||(e=!1)})),!0===e&&jm(".sendIcon").removeAttr("disabled")}))},Mobi.checkAddDisabledInit=function(t){var e=!1;jm(t).find(".mustItem").each((function(){""!==jm(this).val().trim()||(e=!0)})),jm(t).find(".loginMustItem").bind("input propertychange",(function(){jm(t).find(".loginMustItem").each((function(){""===jm(this).val().trim()&&(e=!0)})),!0===e?jm(".sendIcon").attr("disabled","disabled"):jm(".sendIcon").removeAttr("disabled")})),!0===e&&jm(".sendIcon").attr("disabled","disabled")},Mobi.setPersonalInfo=function(t){var e={},i="",o="",n="",a=0,r=!1,s=jm(".editHeadPicFooterV3 .saveBtn").attr("newimg"),l=jm(".editHeadPicFooterV3 .saveBtn").attr("oldimgid");jm(".infoItem").each((function(){if(i=jm(this).attr("name"),o=jm(this).val(),n=jm(this).attr("proptip"),r=!(jm(this).attr("class").indexOf("mustItem")<0),a||!r||null!=o&&""!=o||(jm(this).hasClass("member_file_input")?Mobi.ing(jm.format(LS.site_memberSignupUserAddItemIsEmpty2,n)):Mobi.ing(jm.format(LS.memberSignupUserAddItemCorrect,n)),this.focus(),a=1),!a&&"email"==i&&o.length>0&&(jm.isEmail(o)||(Mobi.ing(jm.format(LS.memberSignupUserAddItemCorrect,n)),this.focus(),a=1)),!a&&"mobile"==i&&jm(this).parents("#editMobile").length>0&&o.length>0&&("disabled"!=jm(this).attr("disabled")&&"block"==jm("#editMobile").css("display")?jm.isNationMobile(o)||(Mobi.ing(LS.mobileNumRegular),this.focus(),a=1):o=""),"mobile"==i&&jm(this).parents("#editMobile").length<=0)return!1;e[i]=o,"mobile"==i&&o.length<=0&&(e.mobileCt="")})),""!=jm("#modifyPersInfo .acct").attr("disabled")&&(""==jm("#modifyPersInfo .acct").val()?a=1:e.acct=jm("#modifyPersInfo .acct").val()),Fai.top._openThemeV3&&(null!=s?jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_cimg",data:"oldImgId="+l+"&mid="+t+"&newImg="+jm.encodeUrl(s),async:!1,error:function(){Mobi.ing(LS.memberProfileError)},success:function(t){(t=JSON.parse(t)).success&&(Fai.top.msgHeadPic.thumbId=t.fileId)}}):Fai.top.msgHeadPic.thumbId=l,e.headPic=Fai.top.msgHeadPic),0===a&&jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_set",data:"id="+t+"&info="+jm.encodeUrl(jm.toJSON(e)),error:function(){Mobi.ing(LS.memberProfileError)},success:function(t){var e=jm.parseJSON(t);e.success?(MemberFileUtil.saveMemberFile(),Mobi.ing(LS.memberProfileOK,1),document.location.reload()):-3==e.rt?Mobi.ing(LS.memberProfileOldPwdIncorrectError):-6==e.rt?Mobi.ing(LS.memberAcctExist):-8==e.rt?Mobi.ing(LS.emailPlural):-9==e.rt?Mobi.ing(LS.mobilePlural):e.mobileErr?Mobi.ing(LS.mobileNumRegular):Mobi.ing(e.msg?e.msg:LS.memberProfileError)}})},Mobi.setPersonalInfoForMallThemeV3=function(t,e,i){var o={},n=t.fieldKey,a=t.value,r=t.name||t.value,s=t.must,l=!1;"email"==n&&a.length>0?jm.isEmail(a)||(Mobi.ing(jm.format(LS.memberSignupUserAddItemCorrect,r)),l=!0):s&&!a&&(Mobi.ing(jm.format(LS.memberSignupUserAddItemCorrect,r)),l=!0),"mobile"==n&&a.length>0&&(jm.isNationMobile(a)||(Mobi.ing(LS.mobileNumRegular),l=1)),l||(o[n]=a,jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_set",data:"id="+e+"&info="+jm.encodeUrl(jm.toJSON(o)),error:function(){Mobi.ing(LS.memberProfileError)},success:function(e){var o=jm.parseJSON(e);o.success?(Mobi.ing(LS.memberProfileOK,1),i(t),Mobi.cusHistory.goBack()):-3==o.rt?Mobi.ing(LS.memberProfileOldPwdIncorrectError):-6==o.rt?Mobi.ing(LS.memberAcctExist):-8==o.rt?Mobi.ing(LS.emailPlural):-9==o.rt?Mobi.ing(LS.mobilePlural):o.mobileErr?Mobi.ing(LS.mobileNumRegular):Mobi.ing(o.msg?o.msg:LS.memberProfileError)}}))},Mobi.manageLogin=function(){var t=jm(".qqLgnPanel"),e=jm(".sinaLgnPanel"),i=jm(".wxLgnPanel");if(window.parent!=window){jm(".wxLgnPanel").show();var o=!1;2001!=Fai.top._templateFrameId&&2003!=Fai.top._templateFrameId&&2004!=Fai.top._templateFrameId||(o=!0),t.length>0&&e.length>0&&i.length>0?o?t.css("margin-left","0.5rem"):t.css("margin-left","1.8rem"):t.length>0&&0==e.length&&i.length>0?o?t.css("margin-left","2.4rem"):t.css("margin-left","3.6rem"):0==t.length&&e.length>0&&i.length>0?o?e.css("margin-left","2.4rem"):e.css("margin-left","3.6rem"):0==t.length&&e.length>0&&0==i.length?o?e.css("margin-left","4.7rem"):e.css("margin-left","6rem"):t.length>0&&0==e.length&&0==i.length?o?t.css("margin-left","4.7rem"):t.css("margin-left","6rem"):0==t.length&&0==e.length&&i.length>0?o?i.css("margin-left","4.7rem"):i.css("margin-left","6rem"):0==t.length&&e.length>0&&0==i.length?o?e.css("margin-left","4.7rem"):e.css("margin-left","6rem"):t.length>0&&0==e.length&&0==i.length&&(o?t.css("margin-left","4.7rem"):t.css("margin-left","6rem")),jm(".loginContent").find(".notice").length>0||(t.length>0&&t.find("#qqLgn").unbind().click((function(){Mobi.ing("第三方登录需要在手机上使用。请用手机扫一扫，再尝试该功能。",!0)})),e.length>0&&e.find("#sinaLgn").unbind().click((function(){Mobi.ing("第三方登录需要在手机上使用。请用手机扫一扫，再尝试该功能。",!0)})),i.length>0&&i.find("#wxLgn").unbind().click((function(){Mobi.ing("第三方登录需要在手机上使用。请用手机扫一扫，再尝试该功能。",!0)})))}else 2001!=Fai.top._templateFrameId&&2003!=Fai.top._templateFrameId&&2004!=Fai.top._templateFrameId||("none"==i.css("display")?0==t.length&&e.length>0&&0==i.length?e.css("margin-left","4.7rem"):t.length>0&&0==e.length&&0==i.length?t.css("margin-left","4.7rem"):0==t.length&&0==e.length&&i.length>0?i.css("margin-left","4.7rem"):0==t.length&&e.length>0&&i.length>0?e.css("margin-left","4.7rem"):t.length>0&&0==e.length&&i.length>0&&t.css("margin-left","4.7rem"):t.length>0&&e.length>0&&i.length>0?t.css("margin-left","0.5rem"):t.length>0&&0==e.length&&i.length>0?t.css("margin-left","2.4rem"):0==t.length&&e.length>0&&i.length>0?e.css("margin-left","2.4rem"):0==t.length&&0==e.length&&i.length>0&&i.css("margin-left","4.7rem"))},Mobi.manageLoginV3=function(){var t=jm(".qqLgnPanel"),e=jm(".sinaLgnPanel"),i=jm(".wxLgnPanel");window.parent!=window?(jm(".wxLgnPanel").css("display","flex"),t.length>0&&e.length>0&&i.length>0||t.length>0&&0==e.length&&i.length>0?t.css("margin-left","0rem"):0==t.length&&e.length>0&&i.length>0||0==t.length&&e.length>0&&0==i.length?e.css("margin-left","0rem"):t.length>0&&0==e.length&&0==i.length?t.css("margin-left","0rem"):0==t.length&&0==e.length&&i.length>0?i.css("margin-left","0rem"):0==t.length&&e.length>0&&0==i.length?e.css("margin-left","0rem"):t.length>0&&0==e.length&&0==i.length&&t.css("margin-left","0rem"),jm(".loginContent").find(".notice").length>0||(t.length>0&&t.find("#qqLgn").unbind().click((function(){Mobi.ing("第三方登录需要在手机上使用。请用手机扫一扫，再尝试该功能。",!0)})),e.length>0&&e.find("#sinaLgn").unbind().click((function(){Mobi.ing("第三方登录需要在手机上使用。请用手机扫一扫，再尝试该功能。",!0)})),i.length>0&&i.find("#wxLgn").unbind().click((function(){Mobi.ing("第三方登录需要在手机上使用。请用手机扫一扫，再尝试该功能。",!0)})))):"none"==i.css("display")?0==t.length&&e.length>0&&0==i.length?e.css("margin-left","0"):t.length>0&&0==e.length&&0==i.length?t.css("margin-left","0"):0==t.length&&0==e.length&&i.length>0?i.css("margin-left","0"):0==t.length&&e.length>0&&i.length>0?e.css("margin-left","0"):t.length>0&&0==e.length&&i.length>0&&t.css("margin-left","0"):t.length>0&&e.length>0&&i.length>0||t.length>0&&0==e.length&&i.length>0?t.css("margin-left","0"):0==t.length&&e.length>0&&i.length>0?e.css("margin-left","0"):0==t.length&&0==e.length&&i.length>0&&i.css("margin-left","0")},Mobi.hidePlaceholder=function(){Fai.top._openThemeV3&&(jm("#signupPage").parents(".g_web, .middleCenter").css("background","#ffffff"),jm("#mLogin").parents(".g_web, .middleCenter").css("background","#ffffff"));for(var t=document.querySelectorAll(".g_input"),e=document.querySelectorAll(".g_textArea"),i="",o=0;o<t.length;o++)t[o].onfocus=function(){i=this.placeholder,this.placeholder="",jm(this).removeClass("fk-inputFontColor")},t[o].onblur=function(){this.placeholder=i,jm(this).addClass("fk-inputFontColor")};for(var n=0;n<e.length;n++)e[n].onfocus=function(){i=this.placeholder,this.placeholder=""},e[n].onblur=function(){this.placeholder=i}},Mobi.changeSelectDefaultColor=function(t,e,i){jm(i).css("color",t),jm(i).find("option").css("color",e),jm(i).change((function(){jm(this).val()==jm(this).find("option:first").val()?jm(this).css("color",t):jm(this).css("color",e)}))},Mobi.initPersInfo=function(){jm("#modifyPersInfo .member_msg_head_pic_v3").css("border","none")},Mobi.checkLabel=function(t){var e=jm(t).find("span").attr("class");"icon-checkIcon g_mainColor"===e?(e="icon-uncheckIcon g_mainColor",jm(t).parent().find("input").attr("checked",""),jm(t).find("span").attr("class",e)):"icon-uncheckIcon g_mainColor"===e?(e="icon-checkIcon g_mainColor",jm(t).parent().find("input").removeAttr("checked"),jm(t).find("span").attr("class",e)):"icon-checkIcon g_main_color_v3"===e?(e="icon-uncheckIcon",jm(t).parent().find("input").attr("checked",""),jm(t).find("span").attr("class",e)):"icon-uncheckIcon"===e&&(jm(t).parent().find("input").removeAttr("checked"),e="icon-checkIcon g_main_color_v3",jm(t).find("span").attr("class",e))},Mobi.selectOverflow=function(t){t=JSON.parse(t);for(var e="",i="",o=0;o<t.length;o++)if(e=t[o].id,i=t[o].value,jm("#"+e).siblings(".selectCover").val(i),null==i||""==i){var n=jm("#"+e).siblings(".customIcon").text().trim();jm("#"+e).siblings(".selectCover").attr("placeholder",LS.memberOtherLgnPleaseInput+n)}jm(".profile_content_v3 select").each((function(){"mobileCt"!=jm(this).attr("name")&&jm(".selectCover + select").change((function(){var t=jm(this)[0].value;if(jm(this).siblings(".selectCover").val(t),null==t||""==t){var e=jm(this).siblings(".customIcon").text().trim();jm(this).siblings(".selectCover").attr("placeholder",LS.memberOtherLgnPleaseInput+e)}}))}))},Mobi.selectValueChange=function(t){jm(t+" select").each((function(){if("mobileCt"!=jm(this).attr("name")){var t=jm(this).siblings(".customIcon").text().trim();jm(this).siblings(".selectCover").attr("placeholder",LS.memberOtherLgnPleaseInput+t),jm(".selectCover + select").change((function(){var t=jm(this)[0].value;if(jm(this).siblings(".selectCover").val(t),null==t||""==t){var e=jm(this).siblings(".customIcon").text().trim();jm(this).siblings(".selectCover").attr("placeholder",LS.memberOtherLgnPleaseInput+e)}}))}}))},Mobi.isEmail=function(t){return/^[a-zA-Z0-9][a-zA-Z0-9_=&\-.+]*[a-zA-Z0-9]*@[a-zA-Z0-9][a-zA-Z0-9_\-.]+[a-zA-Z0-9]$/.test(t)},Mobi.isNull=function(t){return void 0===t||null==t||!t},Mobi.acquireCode=function(t,e){var i=jm("#acquirerInput").val();if(Mobi.isNull(i)||!i)return Fai.top._openThemeV3&&Mobi.ing("输入的邮箱或手机不能为空！"),!1;e&&Mobi.isEmail(i)?jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mail_h.jsp?cmd=wafNotCk_sendMemberPwdEmail",data:"memName="+jm.encodeUrl(i)+"&new=true",error:function(){Mobi.ing(LS.js_systemError)},success:function(i){(i=jm.parseJSON(i)).success?(jm("#memCodeSign").val(i.emailCodeSign),Mobi.acquireCodeCountdown(60,t,e)):i.notFound?Mobi.ing(LS.memberDialogNotFound,!0):Mobi.ing(LS.js_argsError,!0)}}):t&&jm.isMobile(i)?jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=wafNotCk_sendMemberPwdMobileCode",data:"memName="+jm.encodeUrl(i)+"&new=true",error:function(){Mobi.ing(LS.js_systemError)},success:function(i){(i=jm.parseJSON(i)).success?(jm("#memCodeSign").val(i.mobileCodeSign),Fai.top.tmpMobileCodeSgin=i.mobileCodeSign,Mobi.acquireCodeCountdown(60,t,e)):i.argErr?Mobi.ing(LS.memberDialogSendMobileClose):i.apiKeyNotFound?Mobi.ing(LS.memberDialogYunPianErr):i.tplNotFound?Mobi.ing(LS.memberDialogMobileTplErr):i.notFound?Mobi.ing(LS.memberDialogNotFound):i.limitOne?Mobi.ing(LS.getMobileOneMin):i.limitTwo?Mobi.ing(LS.getMobileHalfHour):i.noMoney?Mobi.ing(LS.memberDialogMobileMoneyErr):i.mobileErr?Mobi.ing(LS.memberDialogSendMobileCodeErr):i.sendLimit?Mobi.ing(LS.memberDialogSendMobileCodeLimit):i.mobileSysErr?Mobi.ing(LS.memberDialogSendMobileSysErr):i.tplNationErr?Mobi.ing(LS.mobileNationTplErr):i.systemErr?Mobi.ing(LS.js_systemError):-301==i.rt?Mobi.ing(LS.smsRanout):Mobi.ing(LS.js_argsError)}}):jm.isMobile(i)?Mobi.ing(LS.memberDialogPlzEnterMail):Mobi.isEmail(i)?Mobi.ing(LS.memberDialogPlzEnterMobile):Mobi.ing(LS.memberDialogPlzEnterBoth)},Mobi.acquireCodeCountdown=function(t,e,i){jm(".acquireCode").attr("onclick","");var o=setInterval((function(){jm(".acquireCode").attr("onclick",""),jm(".acquireCode").text(t+"秒后重发"),t<0&&(clearInterval(o),jm(".acquireCode").text(LS.memberDialogAcquireCode),jm(".acquireCode").attr("onclick","Mobi.acquireCode("+e+", "+i+");return false;")),t--}),1e3)},Mobi.memberNewFdPwdStepTwo=function(){var t=jm("#memCodeSign").val();if(!Mobi.isNull(t)&&t){var e=jm("#memCodeInput").val();if(!Mobi.isNull(e)&&e){var i="",o=jm("#acquirerInput").val();if(Mobi.isNull(o)||!o)return!1;if(Mobi.isEmail(o))i="mail";else{if(!jm.isMobile(o))return!1;i="mobile"}var n="memCode="+jm.encodeUrl(e)+"&memCodeSign="+jm.encodeUrl(t)+"&acquirer="+jm.encodeUrl(o)+"&mode="+jm.encodeUrl(i),a=Fai.top._openThemeV3?LS.memberOtherLgnSureV3:LS.memberOtherLgnSure;jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=wafNotCk_checkMobileCodeGeneral",data:n,error:function(){Mobi.ing(LS.js_systemError)},success:function(t){if((t=jm.parseJSON(t)).success){jm(".loginContent").html("");var e=["<div>","<input type='password' class='findpswInput itemEdit g_input mustItem' style='padding-left: 0rem; margin-bottom: 0.025rem;' id='newPwInput' placeholder='"+LS.memberDialogNewPwd+"' style='margin-left: 0;'>","<input type='password' class='findpswInput itemEdit g_input mustItem' style='padding-left: 0rem;' id='assureNewPwInput' placeholder='"+LS.memberDialogAssurePwd+"' style='margin-left: 0;'>","<div class='g_globalLine J_memberFdPwdBtn  '>","<input type='button' class='g_button sendIcon fpw_btn g_main_bgColor_v3 ' value='"+a+"' onclick='Mobi.memberNewFdPwdLastStep("+t.memId+")'/>","</div>","</div>"],i=["<div>","<div class='g_globalLine'>","<input type='password' class='findpswInput itemEdit g_input mustItem' style='margin-bottom: 0.025rem;' id='newPwInput' placeholder='"+LS.memberDialogNewPwd+"' style='margin-left: 0;'>","<span class='input_pre_text'>"+LS.memberDialogNewPwd+"</span>","</div>","<div class='g_globalLine'>","<input type='password' class='findpswInput itemEdit g_input mustItem' id='assureNewPwInput' placeholder='"+LS.memberDialogAssurePwd+"' style='margin-left: 0;'>","<span class='input_pre_text'>"+LS.memberDialogNewPwd+"</span>","</div>","<div class='g_globalLine J_memberFdPwdBtn  '>","<input type='button' class='g_button sendIcon fpw_btn g_main_bgColor_v3 ' value='"+a+"' onclick='Mobi.memberNewFdPwdLastStep("+t.memId+")'/>","</div>","</div>"];Fai.top._openThemeV3?(i=i.join(""),jm(".loginContent").html(i)):(e=e.join(""),jm(".loginContent").html(e))}else t.notFound?Mobi.ing(LS.memberDialogNotFound,!0):1==t.rt&&Mobi.ing(LS.memberSignupRegisterCaptchaNotMatch)}})}else Mobi.ing(LS.memberInputCaptcha)}else Mobi.ing(LS.memberDialogGetCodeFirst)},Mobi.memberNewFdPwdLastStep=function(t){var e=jm("#newPwInput").val();if(!Mobi.isNull(e)&&e){var i=jm("#assureNewPwInput").val();if(!Mobi.isNull(i)&&i)if(e===i)if(e.length<4||e.length>20)Mobi.ing(jm.format(LS.memberDialogPwdLimit,4,20));else{var o="newPw="+jm.md5(e)+"&memId="+jm.encodeUrl(t);jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_setMemberPwdGeneral",data:o,error:function(){Mobi.ing(LS.js_systemError)},success:function(t){if((t=jm.parseJSON(t)).success){jm(".loginContent").html("");var e=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp",i=['<div class="formMiddleContent moduleContent" id="memberFdPwdStepLast">','<div class="loginContent">','<div class="g_globalLine" style="text-align: center;">','<div class="g_circle" style="margin: 1rem auto 1.5rem">','<span class="icon-lockstarIcon g_mainColor "></span>',"</div>",'<span class="title">',LS.memberDialogPwdforced,"</span>","</div>",'<div class="g_globalLine" style="margin-top:1.5rem;">','<input type="button" class="g_button sendIcon" onclick="document.location.href=\''+e+'\'" value="',LS.memberDialogLoginInstantly,'"/>',"</div> ","</div>","</div>"],o=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp",n=['<div class="formMiddleContent moduleContent" id="memberFdPwdStepLast">','<div class="loginContent">','<div class="g_globalLine" style="text-align: center;">','<div class="g_circle " style="margin: 1rem auto 1.5rem">','<span class="icon-lockstarIcon g_mainColor  g_main_color_v3 "></span>',"</div>",'<span class="title">',LS.memberDialogPwdforcedV3,"</span>","</div>",'<div class="g_globalLine" style="margin-top:1.5rem;">','<input type="button" class="g_button sendIcon g_main_bgColor_v3  fpw_btn " onclick="document.location.href=\''+o+'\'" value="',LS.memberDialogLoginInstantly,'"/>',"</div> ","</div>","</div>"];i=Fai.top._openThemeV3?n.join(""):i.join(""),jm(".loginContent").html(i)}else t.notFound?Mobi.ing(LS.memberDialogNotFound,!0):Mobi.ing(LS.js_argsError,!0)}})}else Mobi.ing(LS.memberDialogPwdDifToPwd2);else Mobi.ing(LS.memberDialogPleaseEnterPwd2)}else Mobi.ing(LS.memberDialogPleaseEnterPwd)},Mobi.memberFdPwd=function(t,e){jm(".J_showFindPwWay").html("");var i=jm.trim(jm("#macct").val());if(""==i)return Mobi.ing(LS.memberInputAcct,!0),void Mobi.getPreviewObject("macct").focus();function o(t,e,i){var o,n=Fai.top.jm;if("array"!==n.type(e)||"string"!==n.type(t))return"";for(o=e.length;o;)o--,"string"===n.type(e[o])&&(e[o]=[i,e[o],i].join(""));return t+"("+e.join(",")+")"}jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=getWafNotCk_getMAcctMail",data:"mAcct="+jm.encodeUrl(i),error:function(){Mobi.ing(LS.js_systemError,!1)},success:function(n){if((n=jm.parseJSON(n)).success){if(!n.findPwByMobileOpen&&n.noMail)return void Mobi.ing(LS.memberDialogNoEmailMsg);if(!n.findPwByMailOpen&&(null==n.mobile||"null"==n.mobile||""==n.mobile))return void Mobi.ing(LS.memberDialogNoMobile);if(n.noMail&&("null"==n.mobile||""==n.mobile))return void Mobi.ing(LS.memberDialogNoMailMobile);Fai.top._openThemeV3&&jm(".two_way_change_wrap").hide(),jm(".J_memberFdPwdBtn").remove();var a=[];a.push('<div class="fk-mem-findPwStepOneFindWay"style="">'),a.push(LS.memberFdPwdWay+":"),a.push("</div>"),n.findPwByMailOpen&&(n.noMail?a.push('<div class="fk-mem-findPwStepOne" onclick="Mobi.findPwByMailShowNoMail()">'):a.push('<div class="fk-mem-findPwStepOne stepOneByEmail" onclick="'+o("Mobi.findPwByMailStepTwo",[i,t,e,n.mail],"'")+'">'),a.push('<span class="content">'),a.push(LS.memberFdPwdWayByMail),a.push("</span>"),Fai.top._openThemeV3||(a.push('<span class="icon-gGoforward">'),a.push("</span>")),a.push("</div>")),n.findPwByMobileOpen&&("null"==n.mobile||""==n.mobile?a.push('<div class="fk-mem-findPwStepOne" onclick="Mobi.findPwByMobileShowNoMb()">'):a.push('<div class="fk-mem-findPwStepOne" onclick="'+o("Mobi.sendFindPwMobileCode",[i,!0,t,e,n.mobile],"'")+'">'),a.push('<span class="content">'),a.push(LS.memberFdPwdWayByMobile),a.push("</span>"),Fai.top._openThemeV3||(a.push('<span class="icon-gGoforward">'),a.push("</span>")),a.push("</div>")),a=a.join(""),jm(".J_showFindPwWay").append(a)}else n.notFound?Mobi.ing(LS.memberDialogNotFound,!0):Mobi.ing(LS.js_argsError,!0)}})},Mobi.findPwByMailShowNoMail=function(){Mobi.ing(LS.memberShowNoMail)},Mobi.findPwByMobileShowNoMb=function(){Mobi.ing(LS.memberShowNoMobile)},Mobi.findPwByMailStepTwo=function(t,e,i,o){var n=Fai.top._openThemeV3?"profileLoginHeader":"",a=Fai.top._openThemeV3?"emailFindTipHide":"";jm("#memberFdPwdStepOne").parent(".moduleContent").hide();var r=['<div class="formMiddleContent moduleContent" id="memberFdPwdStepTwo">','<div class="loginHeader webHeaderBg J_cusBack '+n+'">','<a onclick="history.go(0);" class="g_close icon-gClose"></a>','<span class="title pageTitle">',LS.memberDialogFwdStepOneTitle,"</span>","</div>",'<div class="g_globalLine fk-mem-findPw-showMsg"><div class="showMsg">',"",LS.memberDialogSendedMsg,"&nbsp",o,"&nbsp",LS.memberDialogViewMail,"","</div></div>",'<div class="loginContent findEmailContent">','<div class="g_globalLine">','<input type="text" maxlength="4"  id="memEmailCode" class="emailStepTwoCode itemEdit g_input mustItem " placeholder="',LS.memberDialogPleaseEnterCode,'"/>','<input style="display:none;" type="text" id="memMailCodeSign" disabled/>','<span class="icon-pswIcon icon-codeIcon g_mainColor g_main_color_v3 '+a+'"></span>',"</div>",'<div class="g_globalLine">','<input type="button" id="sendEmailCode" style="width:49%;float:left;" class="g_button sendIcon" onclick="Mobi.sendMemberEmailPwdCode(\''+t+'\');" value="',LS.memberDialogReSendMsg,'(60)" disabled/>','<input type="button" style="width:49%;float:left;margin-left:2%;" class="g_button sendIcon " onclick="Mobi.memberFdPwdStepThree(\''+t+"','"+e+"','"+i+'\');" value="',LS.memberDialogNextStep,'"/>',"</div>","</div>","</div>"],s=['<div class="formMiddleContent moduleContent" id="memberFdPwdStepTwo">','<div class="J_cusBack loginHeader webHeaderBg '+n+'">','<a onclick="history.go(0);" class="g_close icon-gClose"></a>','<span class="title pageTitle">',LS.memberDialogFwdStepOneTitle,"</span>","</div>",'<div class="g_globalLine fk-mem-findPw-showMsg"><div class="showMsg">',"",LS.memberDialogSendedMsg,"&nbsp",o,"&nbsp",LS.memberDialogViewMail,"","</div></div>",'<div class="loginContent findEmailContent">','<div class="g_globalLine" style="position: relative;">','<input type="text" maxlength="4"  id="memEmailCode" class="emailStepTwoCode itemEdit g_input mustItem " placeholder="',LS.memberDialogPleaseEnterCode,'"/>','<input style="display:none;" type="text" id="memMailCodeSign" disabled/>','<span class="icon-pswIcon icon-codeIcon g_mainColor g_main_color_v3 '+a+'"></span>','<input type="button" id="sendEmailCode" class="g_button sendIcon emailStepTwoSendCode" onclick="Mobi.sendMemberEmailPwdCode(\''+t+'\');" value="',LS.memberDialogReSendMsg,'(60)" disabled/>',"</div>",'<div class="g_globalLine">','<input type="button" class="g_button sendIcon g_main_bgColor_v3 fpw_btn " onclick="Mobi.memberFdPwdStepThree(\''+t+"','"+e+"','"+i+'\');" value="',LS.memberDialogNextStep,'"/>',"</div>","</div>","</div>"];r=Fai.top._openThemeV3?s.join(""):r.join(""),jm(".middleCenter").append(r),Mobi.sendMemberEmailCodeImgFix("#memEmailCode",e),Mobi.sendMemberEmailPwdCode(t)},Mobi.findPwByMobileStepTwo=function(t,e,i,o,n){if(Fai.top._openThemeV3)Mobi.findPwByMobileStepTwoV3(t,e,i,o,n);else{jm("#memberFdPwdStepOne").hide(),jm("#memberFdPwdStepTwo").remove();var a=['<div class="formMiddleContent moduleContent" id="memberFdPwdStepTwo">','<div class="J_cusBack loginHeader webHeaderBg">','<a onclick="history.go(0);" class="g_close icon-gClose"></a>','<span class="title pageTitle">',LS.memberDialogFwdStepOneTitle,"</span>","</div>",'<div class="g_globalLine fk-mem-findPw-showMsg"><div class="showMsg">',"",LS.fdPwdHasSendMobileCode,"&nbsp",o,"&nbsp",LS.pleaseCheckMobileCode,"","</div></div>",'<div class="loginContent">','<div class="g_globalLine fk-findPwByMobile">','<input type="text" maxlength="6"  id="memEmailCode" class="itemEdit g_input mustItem" placeholder="',LS.inputMobileCode,'"/>','<input style="display:none;" type="text" id="memMailCodeSign" value="'+n+'" disabled/>','<span class="icon-pswIcon icon-codeIcon g_mainColor g_main_color_v3 456"></span>',"</div>",'<div class="g_globalLine">','<input type="button" id="sendEmailCode" style="width:49%;float:left;" class="g_button sendIcon" onclick="Mobi.sendFindPwMobileCode(\''+t+"','"+!0+"','"+e+"','"+i+"','"+o+'\')" value="',LS.memberDialogReSendMsg,'(60)" disabled/>','<input type="button" style="width:49%;float:left;margin-left:2%;" class="g_button sendIcon" onclick="Mobi.memberFdPwdByMobileStepThree(\''+t+"','"+e+"','"+i+'\')" value="',LS.memberDialogNextStep,'"/>',"</div>","</div>","</div>"];a=a.join(""),jm(".middleCenter").append(a),Mobi.sendMemberEmailCodeImgFix("#memEmailCode",e);var r=jm("#sendEmailCode");Mobi.codeTimeCountDown(r)}},Mobi.findPwByMobileStepTwoV3=function(t,e,i,o,n){jm("#memberFdPwdStepOne").parent(".moduleContent").hide(),jm("#memberFdPwdStepTwo").remove();var a=['<div class="formMiddleContent moduleContent" id="memberFdPwdStepTwo">','<div class="J_cusBack loginHeader webHeaderBg profileLoginHeader">','<a onclick="history.go(0);" class="g_close icon-gClose"></a>','<span class="title pageTitle">',LS.memberDialogFwdStepOneTitle,"</span>","</div>",'<div class="g_globalLine fk-mem-findPw-showMsg"><div class="showMsg">',"",LS.fdPwdHasSendMobileCode,"&nbsp",o,"&nbsp",LS.pleaseCheckMobileCode,"","</div></div>",'<div class="loginContent findEmailContent">','<div class="g_globalLine fk-findPwByMobile">','<input type="text" maxlength="6"  id="memEmailCode" class="itemEdit g_input mustItem emailStepTwoCode" placeholder="',LS.inputMobileCode,'"/>','<input style="display:none;" type="text" id="memMailCodeSign" value="'+n+'" disabled/>','<input type="button" id="sendEmailCode" class="g_button sendIcon emailStepTwoSendCode" onclick="Mobi.sendFindPwMobileCode(\''+t+"','"+!0+"','"+e+"','"+i+"','"+o+'\')" value="',LS.memberDialogReSendMsg,'(60)" disabled/>',"</div>",'<div class="g_globalLine">','<input type="button" class="g_button sendIcon fpw_btn g_main_bgColor_v3" onclick="Mobi.memberFdPwdByMobileStepThree(\''+t+"','"+e+"','"+i+'\')" value="',LS.memberDialogNextStep,'"/>',"</div>","</div>","</div>"];a=a.join(""),jm(".middleCenter").append(a),Mobi.sendMemberEmailCodeImgFix("#memEmailCode",e);var r=jm("#sendEmailCode");Mobi.codeTimeCountDown(r)},Mobi.sendFindPwMobileCode=function(t,e,i,o,n){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=wafNotCk_sendMemberPwdMobileCode",data:"memName="+jm.encodeUrl(t),error:function(){Mobi.ing(LS.js_systemError,!1)},success:function(a){(a=jm.parseJSON(a)).success?(Fai.top.tmpMobileCodeSgin=a.mobileCodeSign,e&&Mobi.findPwByMobileStepTwo(t,i,o,n,a.mobileCodeSign)):a.argErr?Mobi.ing(LS.memberDialogSendMobileClose):a.apiKeyNotFound?Mobi.ing(LS.memberDialogYunPianErr):a.tplNotFound?Mobi.ing(LS.memberDialogMobileTplErr):a.notFound?Mobi.ing(LS.memberDialogNotFound):a.limitOne?Mobi.ing(LS.getMobileOneMin):a.limitTwo?Mobi.ing(LS.getMobileHalfHour):a.noMoney?Mobi.ing(LS.memberDialogMobileMoneyErr):a.mobileErr?Mobi.ing(LS.memberDialogSendMobileCodeErr):a.sendLimit?Mobi.ing(LS.memberDialogSendMobileCodeLimit):a.mobileSysErr?Mobi.ing(LS.memberDialogSendMobileSysErr):a.systemErr?Mobi.ing(LS.js_systemError):a.tplNationErr?Mobi.ing(LS.mobileNationTplErr):-301==a.rt?Mobi.ing(LS.smsRanout):Mobi.ing(LS.js_argsError)}})},Mobi.sendMemberEmailCodeImgFix=function(t,e){Fai.top._openThemeV3||(2052==e?jm(t).css("padding-left","3.5rem"):jm(t).css("padding-left","2rem"))},Mobi.sendMemberEmailPwdCode=function(t){var e=jm("#sendEmailCode");Mobi.codeTimeCountDown(e),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mail_h.jsp?cmd=wafNotCk_sendMemberPwdEmail",data:"memName="+jm.encodeUrl(t),error:function(){Mobi.ing(LS.js_systemError,!1)},success:function(t){(t=jm.parseJSON(t)).success?jm("#memMailCodeSign").val(t.emailCodeSign):t.notFound?Mobi.ing(LS.memberDialogNotFound,!0):(Mobi.ing(LS.js_argsError,!0),e.val(LS.memberDialogReSendMsg))}})},Mobi.codeTimeCountDown=function(t){var e=60;!function t(i){if(0==e)return i.removeAttr("disabled"),void i.val(LS.memberDialogReSendMsg);i.attr("disabled",!0),Fai.top._openThemeV3?i.val(""+e+LS.memberDialogReSendMsgV3):i.val(LS.memberDialogReSendMsg+"("+e+")"),e--;setTimeout((function(){t(i)}),1e3)}(t)},Mobi.memberFdPwdByMobileStepThree=function(t,e,i){var o=jm("#memEmailCode").val();if(!o||o.length<0)Mobi.ing(LS.inputMobileCode);else{var n=jm("#memMailCodeSign").val(),a="memMobileCode="+jm.encodeUrl(o)+"&memMobileCodeSign="+jm.encodeUrl(n)+"&memName="+jm.encodeUrl(t);jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=wafNotCk_checkFindPwdByMobileCode",data:a,error:function(){Mobi.ing(LS.js_systemError,!1)},success:function(o){(o=jm.parseJSON(o)).success?Mobi.memberFdPwdStepThreeSd(t,e,i):o.argErr?Mobi.ing(LS.js_argsError,!0):o.notFound?Mobi.ing(LS.memberDialogNotFound,!0):Mobi.ing(LS.reGetMobileCode,!0)}})}},Mobi.memberFdPwdStepThree=function(t,e,i){var o=jm("#memEmailCode").val();if(!o||o.length<0)Mobi.ing(LS.memberDialogPleaseEnterCode);else{var n=jm("#memMailCodeSign").val(),a="memEmailCode="+jm.encodeUrl(o)+"&memMailCodeSign="+jm.encodeUrl(n)+"&memName="+jm.encodeUrl(t);jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mail_h.jsp?cmd=wafNotCk_checkPwdEmailCode",data:a,error:function(){Mobi.ing(LS.js_systemError,!1)},success:function(o){(o=jm.parseJSON(o)).success?Mobi.memberFdPwdStepThreeSd(t,e,i):Mobi.ing(LS.memberDialogCodeMailFailure,!0)}})}},Mobi.memberFdPwdStepThreeSd=function(t,e,i){var o=Fai.top._openThemeV3?"profileLoginHeader":"",n=Fai.top._openThemeV3?"inputV3":"",a=Fai.top._openThemeV3?"globalLineRelative":"",r=Fai.top._openThemeV3?" g_main_bgColor_v3 fpw_btn ":"",s=Fai.top._openThemeV3?" resetpswV3 ":"";jm("#memberFdPwdStepTwo").hide();var l=['<div class="formMiddleContent moduleContent" id="memberFdPwdStepThree">','<div class="J_cusBack loginHeader webHeaderBg '+o+'">','<a onclick="history.go(0);" class="g_close icon-gClose"></a>','<span class="title  pageTitle">',LS.memberDialogResetPwd,"</span>","</div>",'<div class="loginContent '+s+'">','<div class="g_globalLine '+a+'">','<input type="password" id="memPwd" class="itemEdit g_input mustItem '+n+'" placeholder="',LS.memberDialogPleaseEnterPwd,'"/>','<span class="icon-pswIcon icon-npwdIcon g_mainColor g_main_color_v3"></span>',"</div>",'<div class="g_globalLine">','<input type="password" id="memPwd2" class="itemEdit g_input mustItem '+n+'" placeholder="',LS.memberDialogPleaseEnterPwd2,'"/>','<span class="icon-pswIcon icon-npwdIcon g_mainColor g_main_color_v3"></span>',"</div>",'<div class="g_globalLine '+a+'">','<input type="button" class="g_button sendIcon '+r+'" onclick="Mobi.memberFdPwdStepLast(\''+t+"','"+i+'\');" value="',LS.memberDialogConfirm,'"/>',"</div> ","</div>","</div>"],c=['<div class="formMiddleContent moduleContent" id="memberFdPwdStepThree">','<div class="J_cusBack loginHeader webHeaderBg '+o+'">','<a onclick="history.go(0);" class="g_close icon-gClose"></a>','<span class="title  pageTitle">',LS.memberDialogFwdStepOneTitle,"</span>","</div>",'<div class="loginContent '+s+'">','<div class="g_globalLine '+a+'">','<input type="password" id="memPwd" class="itemEdit g_input mustItem '+n+'" placeholder="',LS.memberDialogPleaseEnterPwd,'"/>','<span class="icon-pswIcon icon-npwdIcon g_mainColor g_main_color_v3"></span>',"</div>",'<div class="g_globalLine">','<input type="password" id="memPwd2" class="itemEdit g_input mustItem '+n+'" placeholder="',LS.memberDialogPleaseEnterPwd2,'"/>','<span class="icon-pswIcon icon-npwdIcon g_mainColor g_main_color_v3"></span>',"</div>",'<div class="g_globalLine '+a+'">','<input type="button" class="g_button sendIcon '+r+'" onclick="Mobi.memberFdPwdStepLast(\''+t+"','"+i+'\');" value="',LS.memberDialogConfirm,'"/>',"</div> ","</div>","</div>"];l=Fai.top._openThemeV3?c.join(""):l.join(""),jm(".middleCenter").append(l),Mobi.sendMemberEmailCodeImgFix("#memPwd",e),Mobi.sendMemberEmailCodeImgFix("#memPwd2",e)},Mobi.memberFdPwdStepLast=function(t,e){var i=Fai.top._openThemeV3?"profileLoginHeader":"",o=jm("#memPwd").val(),n=jm("#memPwd2").val();if(o)if(n)if(o==n)if(o.length<4||o.length>20)Mobi.ing(jm.format(LS.memberDialogPwdLimit,4,20));else{var a="&memPwd="+jm.md5(o)+"&memName="+jm.encodeUrl(t);jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mail_h.jsp?cmd=setWafCk_setMemberPwd",data:a,error:function(){Mobi.ing(LS.js_systemError,!1)},success:function(t){t=jm.parseJSON(t);var o=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp";if(t.success){jm("#memberFdPwdStepThree").hide();var n=['<div class="formMiddleContent moduleContent" id="memberFdPwdStepLast">','<div class="loginContent">','<div class="g_globalLine" style="text-align: center;">','<div class="g_circle">','<span class="icon-lockstarIcon g_mainColor "></span>',"</div>",'<span class="title">',LS.memberDialogPwdforced,"</span>","</div>",'<div class="g_globalLine" style="margin-top:1.5rem;">','<input type="button" class="g_button sendIcon" onclick="document.location.href=\''+e+'\'" value="',LS.memberDialogHome,'"/>',"</div> ","</div>","</div>"],a=['<div class="formMiddleContent moduleContent" id="memberFdPwdStepLast">','<div class="J_cusBack loginHeader webHeaderBg '+i+'">','<a onclick="history.go(0);" class="g_close icon-gClose"></a>','<span class="title pageTitle">',LS.memberDialogFwdStepOneTitle,"</span>","</div>",'<div class="loginContent">','<div class="g_globalLine" style="text-align: center;">','<div class="g_circle g_main_bdColor_v3">','<span class="icon-lockstarIcon g_mainColor g_main_color_v3"></span>',"</div>",'<span class="title">',LS.memberDialogPwdforcedV3,"</span>","</div>",'<div class="g_globalLine" style="margin-top:1.5rem;">','<input type="button" class="g_button sendIcon  g_main_bgColor_v3 fpw_btn" onclick="document.location.href=\''+o+'\'" value="',LS.memberDialogLoginInstantly,'"/>',"</div> ","</div>","</div>"];n=Fai.top._openThemeV3?a.join(""):n.join(""),jm(".middleCenter").append(n)}else t.notFound?Mobi.ing(LS.memberDialogNotFound,!0):Mobi.ing(LS.js_argsError,!0)}})}else Mobi.ing(LS.memberDialogPwdDifToPwd2,!0);else Mobi.ing(LS.memberDialogPleaseEnterPwd2,!0);else Mobi.ing(LS.memberDialogPleaseEnterPwd,!0)},Mobi.memberModuleReturnUrlInit=function(t,e){e||(e=t),jm("#profile").find(".loginHeader .g_close").attr("href",e)},Mobi.fixMyMallOrderDiviceLine=function(){jm(".mallDiviceLine20 .mallOrderDiviceItem").css("width","16%"),Fai.top._openThemeV3||jm(".mallDiviceLine20 .diviceOrderNum").css("right","0.32rem")},function(){var t={level:0},e=!1;function i(){var t;return jm(".J_cusBack").each((function(){if("block"===jm(this).css("display"))return t=this,!1})),t}Mobi.cusHistory={init:function(){jm(window).off("popstate.h").on("popstate.h",(function(i){if(12==Fai.top._pageId||34==Fai.top._pageId||11==Fai.top._pageId){if(e)return e=!1,void(t=history.state||{});i.state&&i.state.level>t.level?Mobi.cusHistory.goForward(i):Mobi.cusHistory.goBack(i),t=i.state||{level:0}}}))},add:function(o,n,a,r){if(window.history&&window.history.pushState&&"false"!==n){var s=i(),l={pageId:o,level:a,selector:r};window.history.pushState(l,null,location.href),t=l,s&&jm(s).find(".g_close").off("click.h").on("click.h",(function(t,i){"true"!==i&&(history.back(),e=!0)}))}},goForward:function(t){jm(t.state.selector).each((function(t,e){jm(e).trigger("click","false")}))},goBack:function(){var t=i();t&&jm(t).find(".g_close").trigger("click","true")}}}(),Mobi.addRefreshListen=function(){Fai.top._isPageHide=!1,window.addEventListener("pageshow",(function(){Fai.top._isPageHide&&window.location.reload()})),window.addEventListener("pagehide",(function(){Fai.top._isPageHide=!0}))},Mobi.loadFormList=function(t){var e,i=jm("#formList"),o=i.find(".area"),n=Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=getWafNotCk_getSubmitList";jm.ajax({type:"post",url:n,error:function(){Mobi.ing(LS.js_systemError)},success:function(n){var a=jm.parseJSON(n),r=Fai.top._openThemeV3?"g_main_color_v3":" g_mainColor";if(a.success){e=a.pageParam.siteFormSubmitList;var s="",l="",c=a.pageParam.statusUpId;if(jm("#formList").attr("_statusUpId",c),e.forEach((function(t){var e=t.name,i=t.createTime,o=t.id,n=t.haveRead,a=t.showRemark,c=t.formStatusName,d=t.showFormStatus;d=d,i=timestamp2FormatDate(i),l='\n\t\t\t\t\t\t\t\t<li class="item" _id = '.concat(o," _showRemark = ").concat(a,'>\n\t\t\t\t\t\t\t\t\t<div class="form_name">\n                                    ')+jm.encodeHtml(e)+"\n\t\t\t\t\t\t\t\t\t\t".concat(a&&!n?"<div class='remind'></div>":"",'\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="form_date">').concat(i," ").concat(d?"<sapn class='".concat(r,"'>").concat(c,"</span>"):"","</div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t"),s+=l})),0===e.length){var d=jm("#myForm").attr("_noFormRecord");s='\n\t\t\t\t\t<div class="empty_tips">\n\t\t\t\t\t\t<div class="img"></div>\n\t\t\t\t\t\t<div class="text">'.concat(d,"</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t")}o.empty(),o.append(s),jm("#formList").find(".title").html(t),jm("#profile").hide(),Mobi.changeBackgroundToWhite(),i.show()}}})},Mobi.initFormItemEvent=function(t,e,i){var o={17:{payType:"微信支付",payIcon:"#jzm-vicon_wechat_pay",payClass:"wxpay_icon"},19:{payType:"支付宝",payIcon:"#jzm-vicon_alipay",payClass:"alipay_icon"},20:{payType:"支付宝",payIcon:"#jzm-vicon_alipay",payClass:"alipay_icon"}};jm("#formList .area").on("click",".item",(function(){Mobi.logDog(201296,6);var n=Fai.top._openThemeV3?"g_main_color_v3":" g_mainColor",a="true"===jm(this).attr("_showRemark"),r=Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_changeReadStatus",s=jm(this),l="id="+s.attr("_id")+"&callBackData=true";a&&(l+="&haveRead=true"),jm.ajax({type:"post",url:r,data:l,error:function(){Mobi.ing(LS.js_systemError)},success:function(r){var l=jm.parseJSON(r),c=jm("#formDetail"),d=c.find(".profileContent");if(l.success){var m=function(t){if("number"!=typeof t)throw new Error("请传入数字类型参数");for(var e=_slicedToArray(t.toString().split("."),2),i=e[0],o=e[1],n=void 0===o?"":o,a=2-n.length;a--;)n+="0";return[i,n]},p=l.siteFormInfo.contentList,u=l.submitInfo.submitContentList,f="",h=l.siteFormInfo.showFormStatus,g=l.submitInfo.formStatusName;if(h){var v="".concat(i,"："),b='\n\t\t\t\t\t\t\t\t\t\t<div class="item  curStatus">\n\t\t\t\t\t\t\t\t\t\t\t<div >\n\t\t\t\t\t\t\t\t\t\t\t\t'.concat(v,"\n\t\t\t\t\t\t\t\t\t\t\t\t<span class='").concat(n,"'>").concat(g,"</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t");f+=b}if(a){var _=l.submitInfo.remark,j=""===_;j&&(_=e);var M=j?"empty_remark_tips":"",y='\n\t\t\t\t\t\t\t<div class="item">\n\t\t\t\t\t\t\t\t<div class="name">\n\t\t\t\t\t\t\t\t\t'+jm.encodeHtml(t)+':\n\t\t\t\t\t\t\t\t\t<div class="remind"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="data '.concat(M,'">')+jm.encodeHtml(_)+"</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t";f+=y}var w="",S=l.siteFormInfo.other.rules,I=[],C={},P=[];S.forEach((function(t){-1==P.indexOf(t.contentId)&&P.push(t.contentId),t.showList.forEach((function(t){-1==I.indexOf(t.key)&&I.push(t.key)}))})),p.forEach((function(t){-1==I.indexOf(t.id)?C[t.id]=!0:C[t.id]=!1})),u.forEach((function(t){var e=p.find((function(e){return e.id==t.id}))||{};if((2==e.type||3==e.type||4==e.type)&&-1!=P.indexOf(e.id)){var i=e.input.split("\n").indexOf(t.val),o=e.id,n=S.find((function(t){return t.contentId==o&&t.selected==i}));null!=n&&n.showList.forEach((function(t){C[t.key]=!0}))}}));for(var x=function(t){var e=p[t],i=e.name,o=e.type,n=e.id,a=void 0;if(!C[e.id])return"continue";5===o?(i=e.headline,a=e.input):a=void 0===(a=u.find((function(t){return t.id===n})))?"":a.val,w='\n\t\t\t\t\t\t\t<div class="item">\n\t\t\t\t\t\t\t\t<div class="name">\n\t\t\t\t\t\t\t\t\t'+jm.encodeHtml(i)+'\n\t\t\t\t\t\t\t\t\t<div class="remind"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="data">'+jm.encodeHtml(a)+"</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t",f+=w},k=0;k<p.length;k++)x(k);var L=l.payInfo,F=L.payDescText,T=L.payMoney,A=L.isPay,B=L.openOnlinePay,D=l.submitInfo.payMode,O=o[D]||o[17],N=A?"已支付":"未支付";if(!Fai.top._isMall&&B){var E='\n\t\t\t\t\t\t<div class="pay_wrap" >\n\t\t\t\t\t\t\t<span style="font-size: 0.6rem;margin-right: 0.24rem;white-space: nowrap;text-overflow: ellipsis;overflow: hidden;display: inline-block;">'.concat(F,':</span>\n\t\t\t\t\t\t\t<div style="flex-shrink: 0;font-size: 0;">\n\t\t\t\t\t\t\t\t<span class="').concat(n,'" style="font-size: 0.5rem;font-weight: bold;">￥</span>\n\t\t\t\t\t\t\t\t<span class="').concat(n,'" style="font-size: 0.65rem;font-weight: bold;">').concat(m(T)[0],'.</span>\n\t\t\t\t\t\t\t\t<span class="').concat(n,'" style="font-size: 0.5rem;font-weight: bold;">').concat(m(T)[1],'</span>\n\t\t\t\t\t\t\t\t<span style="margin-right: 0.24rem;font-size: 0.65rem;">(').concat(N,')</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="pay_type_wrap">\n\t\t\t\t\t\t\t\t<svg class=').concat(O.payClass,">\n\t\t\t\t\t\t\t\t\t<use xlink:href=").concat(O.payIcon,' />\n\t\t\t\t\t\t\t\t</svg class="wx_pay_text">\n\t\t\t\t\t\t\t\t<span style="font-size: 0.6rem;">').concat(O.payType,"</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t");f+=E}var R=s.find(".remind");R&&R.remove();var U=l.siteFormInfo.name;jm("#formDetail").find(".title").text(U),jm("#formList").hide(),d.empty(),d.append(f),c.show()}}}),Mobi.changeBackgroundToWhite()}))},Mobi.setMyFormTipState=function(t,e){var i=jm("#formList").find(".area li .remind"),o=jm("#myForm .itemName .remind"),n=jm("#myForm .clickIcon .update_tips"),a=t;0===i.length?(o.hide(),n.hide()):(o.css("display","inline-block"),n.text(a),n.show())},Mobi.showItgRewardPop=function(t,e,i,o){var n="注册成功";1==e?n="登录成功":2==e?n="评价成功":3==e&&(n="已确认收货"),0==e?Mobi.logDog(201094,5):1==e?Mobi.logDog(201094,7):2==e?Mobi.logDog(201094,9):3==e&&Mobi.logDog(201094,15);var a=[];a.push("<div class='itgRewardPopContain'>"),a.push("\t<div class='popTop'>"),a.push("\t\t<img class='itgRewardPopTitleBg' src='"+Fai.top._resImageRoot+"/image/v2/getItgHead.png'>"),a.push("\t\t<div class='topTitle'>"+n+"</div>"),a.push("\t</div>"),a.push("\t<div class='popMiddle'>"),a.push("\t\t<div class='middleRewardTip'>恭喜获得"+jm.encodeHtml(t)+"</div>"),a.push("\t\t<div class='middleRewardNum'>+"+i+"</div>"),a.push("\t</div>"),a.push("\t<div class='popBottom'>"),a.push("\t\t<div class='forwardContain'>查看我的"+jm.encodeHtml(t)+"<span class='icon-itgForward'></span></div>"),a.push("\t</div>"),a.push("  <div class='itgRewardPopClose J-prompt-cancel'>"),a.push("  \t<img style='width:1.5rem;' src='"+Fai.top._resImageRoot+"/image/hdCouponClose.png'>"),a.push("  </div>"),a.push("</div>");var r={content:a.join(""),cancelCallback:function(){0==e&&jm.ajax({type:"post",url:"/ajax/member_h.jsp?cmd=closeRegistMemberItg",error:function(){Mobi.ing(LS.js_systemError)},success:function(){}}),o&&"function"==typeof o&&o()}};Mobi.customPopup(r),jm(".forwardContain").click((function(){jm.setCookie("showIntegral",!0),window.location.href="/profile.jsp"}))},Mobi.memberShipCard={},function(t){function e(t,e){var i=Mobi.preprocessUrl({path:"",oldPath:""});e||(e=i+"memberShipCardList"),window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"memberShipCardDetail.jsp?id="+t+"&returnUrl="+e}function i(t){var e=jm("#buyRecordBtn"+t),i="";return i+="<div id='recordBoxPanel"+t+"'><div class='p_recordBox'><div class='title'>购卡记录</div><div class='content'><div class='line'><div class='left'>购卡时间：</div><div class='right'>"+e.attr("createTime")+"</div></div><div class='line'><div class='left'>实付金额：</div><div class='right'>"+e.attr("price")+"</div></div><div class='line'><div class='left'>有效期：</div><div class='right'>"+e.attr("validity")+"</div></div><div class='btn J_closeRecordBtn"+t+"'>我知道了</div></div></div></div>"}function o(t,e){var i="";return i+="<div id='couponTipsBox"+e+"' class='p_couponTipsBox'><div class='tips1'>开卡后,</div><div class='tips2'>即可领取优惠券！</div><div class='btn J_buyCardTap"+e+"'>立即开卡</div><div class='close icon-closeCircle J_closeCouponBtn"+e+"'></div></div>"}function n(t,e){var i;1==e?Mobi.logDog(201154,8):2==e&&Mobi.logDog(201154,9),jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/memberShipCard_h.jsp?cmd=addWafCk_addRecordBeforePay&cardId="+t+"&isWeixin="+(i=navigator.userAgent.toLowerCase(),"micromessenger"==i.match(/MicroMessenger/i)),type:"get",error:function(){Mobi.ing("服务繁忙，请稍候重试",!1),Mobi.logMonitor(6132,!0)},success:function(e){if((e=JSON.parse(e)).success){var i=e.recordId;if(e.noNeedPay||!1)window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"memberShipCardDetail.jsp?id="+t+"&returnPay=true&returnUrl=memberShipCardList";else{var o=jm.encodeUrl(window.location.hostname+"/memberShipCardDetail.jsp?id="+t+"&returnUrl=memberShipCardList");window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"mallPayment.jsp?bssId="+i+"&bssType=3&returnUrl="+o}}else Mobi.logMonitor(6132,!0),Mobi.ing(e.msg,!1)}})}t.initCardList=function(t){for(var e=t.length-1;e>=0;e--){var o=t[e],n={triggerId:"buyRecordBtn"+o,pageBg:!0,pageHtml:i(o),direction:"bottom",callbackAlways:!0,callback:function(){this.event.stopImmediatePropagation()},closeWebPage:".J_closeRecordBtn"+o};Mobi.initWebPage(n)}},t.initCardDetail=function(t,e,a){a&&(Mobi.logDog(201154,10),jm(".J_memberShipCardDetail").hide(),jm(".J_paySucPage").show());var r={triggerId:"buyRecordBtn"+t,pageBg:!0,pageHtml:i(t),direction:"bottom",callbackAlways:!0,callback:function(){this.event.stopImmediatePropagation()},closeWebPage:".J_closeRecordBtn"+t};Mobi.initWebPage(r);for(var s=e.length-1;s>=0;s--){var l=e[s],c={triggerId:"getCouponBox"+l,pageBg:!0,pageHtml:o(t,l),direction:"bottom",callbackAlways:!0,callback:function(){this.event.stopImmediatePropagation();var e=this.event.target.getAttribute("couponId");jm(".J_buyCardTap"+e).unbind("click").click((function(){jm(".J_closeCouponBtn"+e).click(),n(t)}))},closeWebPage:".J_closeCouponBtn"+l};Mobi.initWebPage(c)}},t.toMemberShipCardList=function(){window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"memberShipCardList.jsp"},t.toMemberShipCardDetail=e,t.toExplanation=function(t){window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"richPage.jsp?type=memberShipCardExplanation&title=权益说明&id="+t+"&returnStr=memberShipCardDetail"},t.toUseCoupon=function(t){window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"pr.jsp?couponId="+t},t.buyCardTap=n,t.showCardDetail=function(t){e(t)}}(Mobi.memberShipCard),Mobi.loadMyRewardList=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;jm("#webLoading").show();var i="/ajax/lottery_h.jsp",o=jm("#viewMyReward .reward-list"),n=[];function a(t){var e=new Date(t),i=e.getFullYear()+"-",o=e.getMonth(),n=(o+1<10?"0"+o+1:o+1)+"-",a=e.getDate()+" ",r=e.getHours(),s=e.getMinutes(),l=e.getSeconds();return i+n+a+((r<10?"0"+r:r)+":")+((s<10?"0"+s:s)+":")+(l<10?"0"+l:l)}function r(t,e,i){var o="";return null==t&&(t=[]),t.length>0?t.forEach((function(t,n){var r=n+1+(e-1)*i-1,s="\n                    <li data-index=".concat(r," class='reward-item'>\n                        <div data-index=").concat(r," class='reward-title'>").concat(2==t.prize.type?jm.encodeHtml(t.prize.pInfo.name):jm.encodeHtml(t.prize.name),"</div>\n                        <div data-index=").concat(r," class='reward-date'>").concat(a(t.createTime),"</div>\n                    </li>\n                ");o+=s})):e<=1?o="\n                <div class='empty-wrap'>\n                    <div class='empty-list'></div>\n                    <div class='empty-text'>无中奖的奖品</div>\n                </div>\n            ":e--,o}n.push("cmd=getWafNotCk_getParticipantLotteryListForMember"),n.push("&pageNo=".concat(t)),n.push("&pageSize=".concat(e)),jm.ajax({type:"get",url:i,data:n.join(""),success:function(i){jm("#webLoading").hide();var n=jm.parseJSON(i),a=n.list,s=r(a,t,e),l=Math.ceil(n.totalSize/e);Fai.top.rewardList=Fai.top.rewardList.length>0?Fai.top.rewardList.concat(a):a,jm("#viewMyReward").length>0&&(jm("#viewMyReward")[0].totalPage=l),o.append(s),1==Fai.top.rewardPageNo&&o.on("click",".reward-item",(function(t){var e=t.target.dataset.index,i=Fai.top.rewardList[e].prize;Mobi.ResultPopup.vm||Mobi.ResultPopup.render(i,i)}))},error:function(t){console.log(t)}})},Mobi.loadKnowPayList=function(){var t=jm("#knowPayList .profileContent"),e=[];e.push("cmd=getWafNotCk_getKnowProductOrderList4member"),e.push("&pageNo=1"),e.push("&pageSize=30"),t.empty(),jm.ajax({type:"post",url:"/ajax/product_h.jsp",data:e.join(""),success:function(e){var i=function(t){var e="";null==t&&(t=[]);var i=t.length;if(i>0)e+='<ul class="productList">',t.forEach((function(t,o){var n=o==i-1?"rightContent":"rightContent sliderLine",a=function(t,e){var i,o={"Y+":e.getFullYear().toString(),"m+":(e.getMonth()+1).toString(),"d+":e.getDate().toString(),"H+":e.getHours().toString(),"M+":e.getMinutes().toString(),"S+":e.getSeconds().toString()};for(var n in o)Object.hasOwnProperty.call(o,n)&&(i=new RegExp("("+n+")").exec(t))&&(t=t.replace(i[1],1==i[1].length?o[n]:o[n].padStart(i[1].length,"0")));return t}("YYYY-mm-dd HH:MM",new Date(t.createTime)),r=Fai.top.JZ.createUrlArgsOnclickStr(t.pdReqArgs||""),s='\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href="'.concat(t.jumpUrl,'" ').concat(r,'>\n\t\t\t\t\t\t\t<div style="position: relative;border: solid 1px #eee;">\n\t\t\t\t\t\t\t\t<div class="leftContent" style="background-image: url(').concat(t.picPath,')"></div>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\tfont-size: 0.4rem;\n\t\t\t\t\t\t\t\t\tcolor: #fff;\n\t\t\t\t\t\t\t\t\tbackground-color:rgba(0,0,0,0.5);\n\t\t\t\t\t\t\t\t\tborder-radius: 0.1rem;\n\t\t\t\t\t\t\t\t\tpadding: 0.1rem 0.2rem;\n\t\t\t\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\t\t\t\tbottom: 0.2rem;\n\t\t\t\t\t\t\t\t\tright: 0.2rem;"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t').concat(t.labelText,'\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="').concat(n,'">\n\t\t\t\t\t\t\t\t<div class="knowPaytitle">').concat(t.productName,'</div>\n\t\t\t\t\t\t\t\t<div class="knowPayTime">购买时间：<span>').concat(a,"</span></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t");e+=s})),e+="</ul>";else{e+='\n\t\t\t\t<div class="empty_tips">\n\t\t\t\t\t<div class="img"></div>\n\t\t\t\t\t<div class="text">无购买记录</div>\n\t\t\t\t</div>\n\t\t\t'}return e}(jm.parseJSON(e).list);t.append(i)},error:function(t){console.log(t)}})},Mobi.activateProfilePanel=function(){Fai.top.Designer.profilePanel||Vue.set(Fai.top.Designer,"profilePanel",{collapsePanelActivate:""})},Mobi.editHandlerFactory=function(t,e,i,o){var n=Mobi.getPreviewDocument().getElementById(t);$(n).click((function(){Fai.top.Mobi.openDesigner(e),Fai.top.Designer.profilePanel.collapsePanelActivate=i})),$(n).mousemove((function(){Mobi.addModuleLayer(t,o)})).mouseleave((function(){Mobi.removeModuleLayer(t)}))},Mobi.isRetreatPromoter=function(){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/promoter_h.jsp?cmd=getWafNotCk_getRetreatPromoter",success:function(t){var e=!1;if((t=jm.parseJSON(t)).success&&(e=t.isRetreat),e){var i={textClass:"promRetreat",content:"当前帐号已被清退",callback:function(){window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"promoterWelcome.jsp"}};Mobi.prompt(i)}else window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"promoterWelcome.jsp"}})},Mobi.editMemberInfo=function(t){var e=Mobi.getPreviewDocument().getElementById("modifyPersInfo");$(e).click((function(){Fai.top.Mobi.openDesigner("memberInfo")})),$(e).mousemove((function(){Mobi.addModuleLayer("modifyPersInfo",t)})).mouseleave((function(){Mobi.removeModuleLayer("modifyPersInfo")}))},Mobi.getUrlKey=function(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.href)||[,""])[1].replace(/\+/g,"%20"))||null},Mobi.promoteCusDetail=function(){new Vue({el:"#promoteCusDetail",data:{themeId:1,memberId:0,headPicUrl:"",name:"",mobile:"",vipPic:"",totalOrders:0,totalShopNum:0,totalRevenueNoShipping:0,cusUntilPrice:0,lastCreatOrderTime:"-",lastLoginTime:"",expired:!1,relVal1:"",relVal2:"",relVal3:"",setGray:!1,mobileCtCode:"",memberLevelIconCusType:0,memberLevel:"",memberLevelPath:"",memberLevelName:"",showExpTip:!1,isMall:Fai.top._isMall},computed:{iconMemberLev:function(){return"icon-memberLev"+this.memberLevel},callMobileHref:function(){return"tel:"+this.mobile}},created:function(){var t=jm.parseJSON(Mobi.getUrlKey("memberInfo"))||{};this.memberId=t.id,this.headPicUrl=t.headPicUrl,this.name=t.name,this.mobile=t.mobile,this.totalOrders=t.totalOrders,this.totalRevenueNoShipping=t.totalRevenueNoShipping,this.cusUntilPrice=t.cusUntilPrice,this.lastLoginTime=t.lastLoginTime,this.relVal1=t.remainTime,this.relVal2=t.bindTime,this.mobileCtCode=t.mobileCtCode,t.expired&&(this.setGray=!0,this.expired=t.expired,this.relVal1=t.invalidReason,this.relVal2=t.invalidTime,this.relVal3=t.oldbindTime),this.getOtherData()},methods:{outbtn:function(){this.showExpTip=!1},showExpireTip:function(){this.showExpTip?this.showExpTip=!1:this.showExpTip=!0},getOtherData:function(){var t=this;jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/promoter_h.jsp?cmd=getWafNotCk_getCustomerDetail",data:"memberId="+t.memberId,success:function(e){var i=jm.parseJSON(e);i.success&&(t.totalShopNum=i.totalShopNum,t.lastCreatOrderTime=i.lastCreatOrderTime,t.memberLevelIconCusType=i.iconCusType,t.memberLevel=i.memberLevel,t.memberLevelName=i.memberLevelName,t.memberLevelPath=i.imagePath)}})},callPoup:function(){Mobi.logDog(200578,31);var t=this.mobileCtCode+""+this.mobile,e={textClass:"confirm",content:"确定要拨打电话"+this.mobileCtCode+" "+this.mobile,callback:function(){window.location.href="tel://"+t}};Mobi.prompt(e)}},template:'<div class=\'promoteCusDetail\' id=\'promoteCusDetail\'><div class="container" @click="outbtn">\n\t\t\t\t\t  <div class="g_main_bgColor_v3 g_bgColor gradualBg"  ></div>\n\t\t\t\t\t  <div class="memberMsg">\n\t\t\t\t\t\t<div class="headPic">\n\t\t\t\t\t\t  <img class="himg" :src="headPicUrl"></img>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="msg" v-bind:class="{\'expSty\' : expired }">\n\t\t\t\t\t\t  <div class="name">\n\t\t\t\t\t\t  \t<span class="nameVal">{{name}}</span>\n\t\t\t\t\t\t  \t<span class="memberLv">[{{memberLevelName}}]</span>\n\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t  <div class="mobile" v-if="!expired">\n\t\t\t\t\t\t\t<span>手机号：{{mobile!=\'-\' ? mobileCtCode : \'\'}} {{mobile}}</span>\n\t\t\t\t\t\t\t<a @click="callPoup"><svg v-if="mobile!=\'-\'" class="selfTaking-icon"><use xlink:href="#jzm-vicon_phone"></use></svg></a>\n\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div class="infoBox">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t  <div class="littleBox borRig borBot">\n\t\t\t\t\t\t\t  <div class="innerBox">\n\t\t\t\t\t\t\t\t<div class="detailFont">订单数量</div>\n\t\t\t\t\t\t\t\t<div class="detailVal1">{{totalOrders}}</div>\n\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t  <div class="littleBox borBot">\n\t\t\t\t\t\t  \t  <div class="innerBox">\n\t\t\t\t\t\t\t\t<div class="detailFont">购买商品数量</div>\n\t\t\t\t\t\t\t\t<div class="detailVal1">{{totalShopNum}}</div>\n\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t  <div class="littleBox borRig borBot">\n\t\t\t\t\t\t  \t  <div class="innerBox" v-bind:class="{\'grayStyle\' : setGray}">\n\t\t\t\t\t\t\t\t<div v-if=\'isMall\' class="detailFont">成交金额（不含运费）</div>\n\t\t\t\t\t\t\t\t<div v-else class="detailFont">成交金额</div>\n\t\t\t\t\t\t\t\t<div class="detailVal2">￥{{totalRevenueNoShipping}}</div>\n\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t  <div class="littleBox borBot">\n\t\t\t\t\t\t  \t<div class="innerBox" v-bind:class="{\'grayStyle\' : setGray}">\n\t\t\t\t\t\t\t\t<div class="detailFont">客单价</div>\n\t\t\t\t\t\t\t\t<div class="detailVal2">￥{{cusUntilPrice}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t  <div class="littleBox borRig">\n\t\t\t\t\t\t  \t<div class="innerBox">\n\t\t\t\t\t\t\t\t<div class="detailFont">上次下单时间</div>\n\t\t\t\t\t\t\t\t<div class="detailVal1">{{lastCreatOrderTime}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t  <div class="littleBox">\n\t\t\t\t\t\t  \t<div class="innerBox">\n\t\t\t\t\t\t\t\t<div class="detailFont">上次访问时间</div>\n\t\t\t\t\t\t\t\t<div class="detailVal1">{{lastLoginTime}}</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div class="relInfo">\n\t\t\t\t\t\t<div class="title">\n\t\t\t\t\t\t  <div class="bgkTitle g_main_bgColor_v3 g_bgColor" v-bind:class="{\'grayStyle\' : setGray}"></div>\n\t\t\t\t\t\t  客户关系\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="remainMsg">\n\t\t\t\t\t\t  <div class="remainTime">\n\t\t\t\t\t\t  \t<div class="msgTip">{{expired? \'失效原因\' : \'剩余保护期\' }}</div>\n\t\t\t\t\t\t  \t<div v-if="!expired" class="icon" @click.stop="showExpireTip">\n\t\t\t\t\t\t\t\t<svg role="img" class="jzm-vicon_warning">\n\t\t\t\t\t\t\t\t  <use xlink:href="#jzm-vicon_warning"></use>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="floatTip" v-bind:class="{\'showExpTip\' : showExpTip}">保护期内，该客户不会被其他推广员抢走</div>\n\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t  <div class="remainVal">{{relVal1}}{{expired? \'\' : \'天\'}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bindMsg">\n\t\t\t\t\t\t  <div class="bindTime">{{expired? \'失效时间\' : \'绑定时间\' }}</div>\n\t\t\t\t\t\t  <div class="bindVal">{{relVal2}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bindMsg" v-if="expired">\n\t\t\t\t\t\t  <div class="bindTime">绑定时间</div>\n\t\t\t\t\t\t  <div class="bindVal">{{relVal3}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t  </div>\n\t\t\t\t\t</div></div>'})};var defaultFileTypes=[{id:0,name:"图片类",list:[{type:0,name:"JPG"},{type:1,name:"JPEG"},{type:2,name:"PNG"},{type:3,name:"PDF"},{type:4,name:"GIF"}]},{id:1,name:"文档类",list:[{type:5,name:"DOCX"},{type:6,name:"TXT"},{type:7,name:"HTML"},{type:8,name:"PPTX"},{type:9,name:"RAR"}]},{id:2,name:"音频类",list:[{type:10,name:"MP3"},{type:11,name:"MP4"},{type:12,name:"WAV"},{type:13,name:"WMA"},{type:14,name:"FLAC"}]}];function initFileDetail(t,e,i){if(12==window._colInfo.id){var o=jm("#module".concat(i," #member_file_contentwrap-").concat(e)),n=o.find(".member_file_size");setTimeout((function(){n.text(Fai.parseFileSize(parseInt(n.text())))})),t.fileId&&t.filePath&&initPreviewImgHref(t.filePath,t.fileId,o.find(".member_file_preview_link"),t.fileName,i)}}function getLogFileSizeStr(t){return t<=52428800?"小于等于50m":t<=209715200?"大于50m小于等于200m":"大于200m"}function initDeleteFileEvent(t,e){var i=jm("#module".concat(t," #member_file_contentwrap-").concat(e)),o=i.find(".member_file_content"),n=i.find(".member_file_btn");i.find(".member_file_close").on("click",(function(){delete MemberFileUtil.fileObj[e],i.find("input[data-name='".concat(e,"']")).attr("value",""),o&&o.removeClass("member_file_content-show"),n&&n.removeClass("member_file_btn-hide"),n&&n.find("span").text("+ 添加文件")}))}function onFileUploadEvent(t,e,i){var o,n,a,r,s,l,c=t.name,d=Fai.parseFileSize(t.size),m=jm("#module".concat(e," #member_file_contentwrap-").concat(i));l=m.find(".member_file_content"),o=m.find(".member_file_name"),n=m.find(".member_file_size"),a=m.find(".member_file_btn"),r=m.find(".member_file_preview_link"),s=m.find(".member_file_download_link"),l&&l.addClass("member_file_content-show"),a&&a.addClass("member_file_btn-hide"),a&&a.find("span").text("修改文件"),o&&o.text(c),n&&n.text(d),MemberFileUtil.fileObj[i]=t,m.find("input[data-name='".concat(i,"']")).attr("value",t.fileId),s.hide(),r.hide()}function initPreviewImgHref(t,e,i,o,n){/(jpg|jpeg|png|gif)$|(jpg|jpeg|png|gif)\?v=|(jpg|jpeg|png|gif)\?\_tm=/.test(o)?initPreviewImgEvent(t,i,n):/\.(pdf|PDF)$/.test(o)?initPdfPreview(t,i):initNormalPreviewEvent(i,e)}function initPreviewImgEvent(t,e,i){e.attr("href","javascript:void(0);"),e.off("click.previewImg").on("click.previewImg",(function(e){e.preventDefault(),e.stopPropagation(),bizShared.slideshowView({id:"".concat(i),previewSrcList:[{src:t,title:""}],initialIndex:0})}))}function initPdfPreview(t,e){e.off("click.previewImg"),e.attr("href",t)}function initNormalPreviewEvent(t,e){t.off("click.previewImg"),t.attr("href","".concat(Fai.top.viewUrl,"?fileID=").concat(e))}Mobi.memberFileUpload=function(t){var e=t.moduleId,i=t.fileSizeLimit,o=t.fileUpInfo,n=t.propId,a=t.previewLinkInfo,r=jm("#module".concat(e," #member_file_contentwrap-").concat(n," .member_file_btn"));if(Fai.top._manageMode)r.on("click",(function(){Mobi.ing("当前为管理状态，提交无效。")}));else{initFileDetail(a,n,e),initDeleteFileEvent(e,n);var s="*.*";if(o.fupt){var l=o.sfl||[],c=o.cft||[],d=defaultFileTypes.map((function(t){return t.list}));d.push(c),s=(s=(d=d.reduce((function(t,e){return t.concat(_toConsumableArray(e))}),[])).filter((function(t){return l.some((function(e){return e==t.type}))})).map((function(t){return"*.".concat(t.name,";")})).join("")).toLocaleLowerCase()}var m={siteFree:!1,updateUrlViewRes:"",auto:!0,fileTypeExts:s,multi:!1,fileSizeLimit:1024*i*1024,fileSizeLimitTips:LS.siteFormSubmitFileUploadTips,fileSplitSize:20971520,breakPoints:!0,saveInfoLocal:!1,showUploadedPercent:!1,showUploadedSize:!1,removeTimeout:9999999,post_params:{app:21,type:0,fileUploadLimit:i,isSiteForm:!0,pieceUpload:!0},isBurst:!0,isDefinedButton:!0,buttonText:"",uploader:"../ajax/advanceUpload.jsp?cmd=wafNotCk_memberUpload",onUploadSuccess:function(t,i){var o=JSON.parse(i);o.success?(Mobi.ing("文件: "+t.name+" 上传成功",!0),onFileUploadEvent(_objectSpread({fileMd5:t.md5},o),e,n),Mobi.logJZFdp("jz_c_vipfiles_submit",{jz_free_text_0:getLogFileSizeStr(t.size),jz_content_terminal:"mobi"})):Mobi.ing("文件:"+t.name+"，"+o.msg)},onUploadError:function(t,e){jm("#progressBody_ "+t.id).remove(),jm("#progressWrap_"+t.id).remove(),Mobi.ing("网络繁忙，文件:"+t.name+"上传失败，请稍后重试")},onUploadStart:function(t){jm("#progressBody_ "+t.id).remove(),jm("#progressWrap_"+t.id).remove()},msgInfo:function(t,e){"warning"===t&&Mobi.ing(e,!0)},view_progress:function(t){100==(t=Math.ceil(t))?Mobi.ing(LS.mobiFormSubmitFileUploadIng+t+"%",!0):Mobi.ing(LS.mobiFormSubmitFileUploadIng+t+"%",!1,!0)}};r.uploadify(m)}};var MemberFileUtil={fileObj:{},saveMemberFile:function(){var t=this,e={},i=[];Object.keys(this.fileObj).forEach((function(e){i.push(t.fileObj[e])})),e.fileList=JSON.stringify(i),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax/",useNew:!0})+"member_h.jsp?cmd=setWafCk_saveMemberFile",data:e,success:function(t){}})}}},134:function(t,e,i){"use strict";(function(t){var e=i(122),o=i(6);Mobi.initModulePhotoList=function(e,i,o){if(e&&o){var n=Mobi.getPreviewObject("photoListDetailShow"+e);n&&n.parentNode.removeChild(n),t="module"+e;var a=document.getElementById("webFooterBox"),r=document.createElement("div"),s=document.createElement("div"),l=document.createElement("div"),c=document.createElement("div");c.className="photoDetailClose",r.appendChild(c),s.className="webPhotoListDetail",s.id="webPhotoListDetail"+e;for(var d=0;d<o.length;d++){var m=document.createElement("div");m.className="photoDetail";var p=document.createElement("img"),u=document.createElement("span");u.className="imageSpan",p.setAttribute("vwidth",o[d].width),p.setAttribute("vheight",o[d].height),m.appendChild(u),m.appendChild(p),s.appendChild(m)}r.appendChild(s),l.className="photoDetailDescription descriptionClose",l.id="photoDetailDescription"+e;var f=document.createElement("div");f.className="handleDiv";var h=document.createElement("div");h.className="drawer_handle";var g=document.createElement("div");g.className="handleIcon handleUp",f.appendChild(h),f.appendChild(g),l.appendChild(f);var v=document.createElement("div");v.className="descriptionFilter",l.appendChild(v);var b=document.createElement("div");b.className="descriptionDom",b.id="descriptionDom"+e,l.appendChild(b),r.appendChild(l),r.className="photoListDetailShow",r.id="photoListDetailShow"+e,a.appendChild(r);var _=jm(s).carousel({carouselIndex:3,photoAllJson:o,preventDefaults:!1,photoListDetailShowDom:r,moduleId:e});jm("#webModuleContainer").on("click","#"+t+" .photoModule img",(function(){if(1==this.getAttribute("linkType")){Mobi.getPreviewObject("photoListDetailShow"+e).style.top="0px";var t=parseInt(this.getAttribute("photoIndex"));_.onMoveIndex(t,"1ms",o[t]),_.photoDetailAjax(o[t])}})),jm(s).bind("click",(function(t){var e=t.target||t.srcElement;if("prevPhoto"!=e.className&&"nextPhoto"!=e.className){var i=this.querySelector(".prevPhoto"),o=this.querySelector(".nextPhoto");"true"==this.getAttribute("full")?(this.setAttribute("full",!1),c.style.opacity=1,l.style.opacity=1,o.style.opacity=1,i.style.opacity=1,l.style.visibility="visible",c.style.visibility="visible",o.style.visibility="visible",i.style.visibility="visible",-1===l.className.indexOf("descriptionClose")&&(s.className="webPhotoListDetail photoFilter")):(this.setAttribute("full",!0),c.style.opacity=0,l.style.opacity=0,o.style.opacity=0,i.style.opacity=0,l.style.visibility="hidden",c.style.visibility="hidden",o.style.visibility="hidden",i.style.visibility="hidden",s.className="webPhotoListDetail")}})),jm(l).bind("click",(function(){var t=this.querySelector(".handleIcon");if(-1===this.className.indexOf("descriptionOpen")){var e=b.offsetHeight,i=Mobi.getPreviewWindow().innerHeight;jm.os.android&&(i=Mobi.getPreviewWindow().screen.height/Mobi.getPreviewWindow().devicePixelRatio-Mobi.getPreviewWindow().screenTop),i>e?b.innerHTML&&(this.style.bottom="0px",s.className="webPhotoListDetail photoFilter"):(this.style.bottom=.8*i-e+"px",s.className="webPhotoListDetail photoFilter"),this.className="photoDetailDescription descriptionOpen",b.innerHTML&&(t.className="handleIcon handleDown")}else b.innerHTML&&(this.style.bottom=-(b.offsetHeight-h.offsetHeight)+"px"),this.className="photoDetailDescription descriptionClose",s.className="webPhotoListDetail",b.innerHTML&&(t.className="handleIcon handleUp")})),jm(c).bind("click",(function(){r.style.top="150%",s.className="webPhotoListDetail"}))}},Mobi.clickPhoto=function(t,e){Fai.top.document.getElementById("mobiReviewPageFrame")&&(Fai.top.document.getElementById("mobiReviewPageFrame").scrolling="no"),jm(".imgDetailDiv").show(),Mobi.getPhotoDetail(t,e)},Mobi.exitPhotoDetail=function(){Fai.top.document.getElementById("mobiReviewPageFrame")&&(Fai.top.document.getElementById("mobiReviewPageFrame").scrolling="yes"),jm(".imgDetailDiv").hide()},Mobi.getPhotoDetail=function(t,e){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/photo_h.jsp",data:"cmd=getWafNotCk_get&id="+jm.encodeUrl(e)+"&groupId="+jm.encodeUrl(t),error:function(){},success:function(t){t=jm.parseJSON(t),jm(".showImg").attr("src",t.picPath);var e=-1!==parseInt(t.nextId);-1!==parseInt(t.prevId)?(jm(".prevPhoto").show(),jm(".prevPhoto").attr("onclick","Mobi.getPhotoDetail('"+t.groupId+"','"+t.prevId+"')")):jm(".prevPhoto").hide(),e?(jm(".nextPhoto").show(),jm(".nextPhoto").attr("onclick","Mobi.getPhotoDetail('"+t.groupId+"','"+t.nextId+"')")):jm(".nextPhoto").hide(),jm(".imgDesc").html(t.basic),jm(".imgName").html(t.name),jm(".imgDetailArea").html(t.detail)}})},Mobi.toNextPhoto=function(t){var e=jm(Mobi.getPreviewObject("module"+t)).find(".photoBox"),i=parseInt(jm(e).css("width"))-300,o=parseInt(jm(e).css("left").split("px")[0]),n=Math.abs(o/300)+2,a=jm(e).find("li:nth-child("+n+") img").attr("lazysrc");if(a&&jm(e).find("li:nth-child("+n+") img").attr("src",a),o<=-i)jm(e).hasClass("moving")||(jm(e).addClass("moving"),jm(e).css("left",o-50+"px"),setTimeout((function(){jm(e).css("left",o+"px"),jm(e).removeClass("moving")}),600));else{var r=o-300;jm(e).css("left",r+"px")}},Mobi.toPrevPhoto=function(t){var e=jm(Mobi.getPreviewObject("module"+t)).find(".photoBox"),i=parseInt(jm(e).css("left").split("px")[0]);if(0!=i){var o=i+300;jm(e).css("left",o+"px")}else jm(e).hasClass("moving")||(jm(e).addClass("moving"),jm(e).css("left",i+50+"px"),setTimeout((function(){jm(e).css("left",i+"px"),jm(e).removeClass("moving")}),600))},Mobi.handEvent=function(t){var e=jm(Mobi.getPreviewObject("module"+t)).find(".photoModule");jm(e).bind("swipeLeft",(function(){return Mobi.toNextPhoto(t),!1})),jm(e).bind("swipeRight",(function(){return Mobi.toPrevPhoto(t),!1}))},Mobi.autoSetPhotoHeight=function(t){Mobi.unifiedAttrVal(jm(Mobi.getPreviewObject("module"+t)),".photoModule .photoDiv","height")},Mobi.initPhotoSwipe=function(t,e,i,o,n){var a=Mobi.getPreviewObject("imgName"+t);jm(a).html(e[0]);var r=Mobi.getJQMobi(),s=Mobi.getPreviewObject("photoSwipe"+t);if(s&&(1==n?Mobi.initScaleImage(s):2==n?Mobi.initDefScaleImage(s):Mobi.noScaleImage(s),r("#photoSwipe"+t).swipehandle(s,{auto:i,speed:o,continuous:!0,bulletsClick:!0,callback:function(t){for(var i=l.length;i--;)l[i].className=" ";l[t]?(l[t].className="on",jm(a).html(e[t])):(l[t-l.length].className="on",jm(a).html(e[t-l.length]))}}),r("#photoSwipe"+t).find(".imageDiv").show(),s.querySelector("#bullets"+t)))var l=s.querySelector("#bullets"+t).getElementsByTagName("li")},Mobi.initScaleImage=function(t){if(t){var e=t.querySelectorAll("img"),i=t.clientWidth,o=0;if(e){for(var n=0;n<e.length;n++){var a=parseInt(e[n].getAttribute("vwidth")?e[n].getAttribute("vwidth"):1),r=parseInt(e[n].getAttribute("vheight")?e[n].getAttribute("vheight"):1)/a;e[n].style.width=i+"px",e[n].style.height="100%",r>o&&(o=r)}if(i*o!=0&&(t.style.height=Math.floor(i*o)+"px"),"proImgSwipe"==t.className){var s=t.querySelector(".proDetailImg");s&&(t.style.height=s.clientHeight+"px")}}}},Mobi.noScaleImage=function(t){if(t){var e=t.querySelectorAll("img"),i=t.clientWidth,o=0;if(e){for(var n=0;n<e.length;n++){var a=parseInt(e[n].getAttribute("vwidth")?e[n].getAttribute("vwidth"):1),r=parseInt(e[n].getAttribute("vheight")?e[n].getAttribute("vheight"):1)/a;e[n].style.width=i+"px",e[n].style.height=Math.floor(i*r)+"px",r>o&&(o=r)}if(i*o!=0&&(t.style.height=Math.floor(i*o)+"px"),"proImgSwipe"==t.className){var s=t.querySelector(".proDetailImg");s&&(t.style.height=s.clientHeight+"px")}}}},Mobi.initDefScaleImage=function(t){if(t){var e=t.querySelectorAll("img"),i=t.clientWidth,o=t.querySelectorAll(".imageMiddleSpan");if(e){for(var n=0;n<e.length;n++){var a=parseInt(e[n].getAttribute("vwidth")?e[n].getAttribute("vwidth"):1)/parseInt(e[n].getAttribute("vheight")?e[n].getAttribute("vheight"):1);i/417<=a?(jm(e[n]).css({width:417*a+"px",height:"417px",maxWidth:"inherit",marginLeft:(i-417*a)/2+"px"}),jm(o[n]).css("display","none")):(jm(e[n]).css({height:i/a+"px",width:i+"px",marginTop:(417-i/a)/2+"px"}),jm(o[n]).css("display","none"))}0*i!=0&&(t.style.height=Math.floor(0*i)+"px")}}},Mobi.initPhotoImageSwipe=function(t,e){var i=Mobi.getJQMobi(),o=Mobi.getPreviewObject(t);if(o){var n=o.querySelector(".imgName");1==e&&Mobi.initScaleImage(o),2==e&&Mobi.initDefScaleImage(o),i("#"+t).swipehandle(o,{isOpenNextAndPrevious:!0,callback:function(t,e){var i=e.querySelector("img"),o=i.getAttribute("lazysrc");if(o&&!i.src&&(i.src=o,i.onload=function(){}),i.alt&&n)n.innerHTML=i.alt;else try{n.innerHTML=""}catch(t){}setTimeout((function(){jm(i).trigger("clickPic")}),300)}})}},Mobi.initModulePhotoSwipe=function(t,e){var i;if(!((i="rich"===e?document.querySelectorAll("."+t+" img"):document.querySelectorAll("#"+t+" img")).length<1)){var o={imageScaleMethod:"fitNoUpscale",getImageCaption:function(t,e){var i,o;return i=t+"/"+e,(o=document.createElement("div")).appendChild(document.createTextNode(i)),o},getToolbar:function(){return'<div class="ps-toolbar-close"><div class="ps-toolbar-content"></div></div><div class="ps-toolbar-previous"><div class="ps-toolbar-content"></div></div><div class="ps-toolbar-next"><div class="ps-toolbar-content"></div></div>'}},n=window.Code.PhotoSwipe;"rich"!==e&&(o.triggerEventType="click");n.attach(i,o)}},Mobi.initModulePhotoGroupManage=function(t){t&&t.moduleId&&jm("#"+t.photoParent).find(">."+t.photo).each((function(){var e=jm(this),i=e.find("."+t.photoChild).eq(0);e.mouseover((function(){var o,n=e.attr("id").replace(/[^0-9]/gi,""),a=e.attr("class"),r=e.find(".photoGroup-title").text();o=[{operationText:"编辑图册",className:"edit",evalScript:"Mobi.logDog(100048, 0);top.Mobi.popupWindow({title:'编辑图册', frameSrcUrl:'"+t.frameSrcUrl+"&id="+n+"&_mobi=1', width:860, height:682, version: 2 })"},{operationText:"删除图册",className:"close",evalScript:"Mobi.deletePhotoGroupManage('"+n+"', '"+Fai.top.Fai.encodeHtmlJs(r)+"', '', 0)"}];/photoGroupStyle1/.test(a)?Mobi.addEditLayer(i,o,6,t):Mobi.addEditLayer(i,o,106,t)})).mouseleave((function(){var t=e.attr("class");/photoGroupStyle1/.test(t)?Mobi.removeEditLayer(i):Mobi.removeEditLayer(i,null,106)}))}))},Mobi.deletePhotoGroupManage=function(t,e,i,o,n){Mobi.removeAllEditLayer(),Fai.top.Mobi.checkSaveBar()||(e.length>15&&(e=e.slice(0,15)+"..."),e=jm.encodeHtml(e),(new Fai.top.Vue).$createDialog({confirmButton:{text:"确 定"},cancelButton:{text:"取 消"},content:"确定将该图册放入回收站吗？",onConfirm:function(){var e=this.delImgs;top.Fai.ing("正在处理中，请稍候...",!1),jm.ajax({type:"post",url:Mobi.genAjaxUrl("photoGroup_h.jsp"),data:"cmd=delWafCk_del&id="+t+"&delImgs="+e,error:function(){top.Fai.ing(LS.js_systemError,!1)},success:function(e){top.Fai.successHandle(e,"删除成功","",i,o,1),null!=n&&""!=n?function(t,e){var i=Fai.top._rootStore.getters.getModuleById(t);null!=i&&(i.allGroupList=i.allGroupList.filter((function(t){return t.id!=e})),i.content.groupIdList=i.content.groupIdList.filter((function(t){return t!=e})))}(n,t):Mobi.jumpUrlMobi(Mobi.getPreviewDocument().location.href)}})},data:{delImgs:!1}},(function(t){var e=this;return t("div",{slot:"description",style:"height: 26px;text-align: left;"},[t("checkbox-component",{props:{value:this.delImgs,trueValue:!0,falseValue:!1},on:{input:function(t){e.delImgs=t}}},"包括图册图片")])})))},Mobi.initModulePhotoDetailSwipe=function(t,e,i,o){if(!(e.length<1)){var n=[];n=i?document.querySelectorAll("#"+t+" .photoGroup-img"):document.querySelectorAll("#"+t+" img");for(var a=[],r=0,s=0;s<n.length;s++)jm(n[s]).is(".garbage")||(a[r]=n[s],r++);if(!((n=a).length<1)){if(i||o){for(var l=[],c=Math.min(e.length,n.length),d=0;d<c;d++)"DIV"===n[d].nodeName&&(n[d].src=n[d].getAttribute("datasrc")||""),l.push(n[d]);for(var m=c,p=e.length;m<p;m++){var u=new Image;m<3&&(u.src=e[m].picPath),u.style.display="none",jm("body").append(u),l.push(u)}n=l}var f={imageScaleMethod:"fitNoUpscale",enableMouseWheel:!1,resetToolbarPosition:!0,loop:!1,photoJson:e,captionAndToolbarAutoHideDelay:0,getImageCaption:function(t,e){var i,o;return i=t+" / "+e,(o=document.createElement("div")).className="ps-page",o.appendChild(document.createTextNode(i)),o},getToolbar:function(){return'<div class="ps-toolbar-close ps-toolbar-close-style icon-toolbar-close-style"></div><div class="ps-toolbar-base"><div class="ps-toolbar-base-title" id="wrapperTitle"></div><div class="ps-toolbar-base-detail icon-toolbar-base-detail" id="wrapperTitleDetail"></div></div><div class="ps-toolbar-base-describe" id="wrapperBasic"><div id="scrollerBasic"></div></div>'},uiDetailCallBack:function(t,i,o){var n=this;jm(t).html("");var a=e[g.currentIndex],r=a.groupId,s=a.id,l=a.name;jm(o).html(l),jm(i).addClass(h.Carousel.CssClasses.itemLoading),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/photo_h.jsp",data:"cmd=getWafNotCk_getInfo&id="+jm.encodeUrl(s)+"&groupId="+jm.encodeUrl(r),error:function(){Mobi.ing(LS.js_systemError)},success:function(e){jm(t).html(e);var o=t.querySelectorAll("img");if(0===o.length)n.detailScroll&&n.detailScroll.destroy(),n.detailScroll=null,n.destroyScroll=new iScroll(i),jm(i).removeClass(h.Carousel.CssClasses.itemLoading);else for(var a=0;a<o.length;a++){var r=new Image;r.src=o[a].src,r.onload=function(){a===o.length&&(n.detailScroll&&n.detailScroll.destroy(),n.detailScroll=null,n.destroyScroll=new iScroll(i),jm(i).removeClass(h.Carousel.CssClasses.itemLoading))}}}})}},h=window.Code.PhotoSwipe,g=h.attach(n,f);g&&g.addEventHandler(h.EventTypes.onCaptionAndToolbarShow,(function(){this.scroll&&this.scroll.destroy(),this.scroll=new iScroll("wrapperBasic")})),(i||o)&&g.addEventHandler(h.EventTypes.onDisplayImage,(function(t){var o=t.target.currentIndex;if(o>1){var n,a=e[o+1],r=t.target.cache.images[t.target.currentIndex+1];r&&((n=r.imageEl).src=a.picPath,function(t,e){if(!t)return;Mobi.recoverPhotoSwipeImgSize(e)}(i,n))}})),navigator.userAgent.indexOf("baidubrowser")&&jm("body").off("touchstart.photoSwipe").on("touchstart.photoSwipe",(function(){}))}}},Mobi.initPictureSlidesV4=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!(e.length<1)){for(var a=i.contentTerminal,r=[],s=0;s<e.length;s++)e[s].src&&/image\/v2\/defaultIcon/.test(e[s].src)||r.push({src:e[s].src,w:e[s].width,h:e[s].height,title:e[s].title,description:void 0===e[s].desc?"":e[s].desc,detail:e[s].detail,detailContent:e[s].detailContent?e[s].detailContent:null});if(a){Fai.top.previewSrcList=r;var l={logEventConfig:{}};return l.logEventConfig.event="jz_hdpzj",l.logEventConfig.properties={},l.logEventConfig.properties.jz_version=Fai.top.jzVersion,i.contentTerminal?l.logEventConfig.properties.jz_content_terminal=i.contentTerminal:(t.includes("photoGroupPicImg")&&(l.logEventConfig.properties.jz_content_terminal="mobi-图册目录-图册详情"),t.includes("photoGroupResult")&&(l.logEventConfig.properties.jz_content_terminal="mobi-图册分类-图册筛选结果"),t.includes("proDetailImg")&&(l.logEventConfig.properties.jz_content_terminal="mobi-产品展示-产品详情"),t.includes("productDetailTabPanel")&&(l.logEventConfig.properties.jz_content_terminal="mobi-产品展示-产品详情-ue"),t.includes("J_richContentPanel")&&(l.logEventConfig.properties.jz_content_terminal="mobi-图文展示-ue"),t.includes("newsDetail")&&(l.logEventConfig.properties.jz_content_terminal="mobi-文章详情-ue")),void Mobi.bindTapEvent(t,"tap",(function(){var i=jm(this).parent(".swipImgBox"),a=jm(this).attr("data-picId"),s=i.attr("data-index");if(!i.find(".videoPlay").length||!t.includes("proDetailImg")){var c=0;if(a){for(var d=0;d<e.length;d++)if(e[d].id===a){c=d;break}}else c=parseInt(s)||0;!n&&e[c].openLink||(l.id=a,l.previewSrcList=r,l.zIndex=9999,l.initialIndex=c,Object(o.slideshowView)(l))}}))}Mobi.bindTapEvent(t,"tap",(function(){for(var t={index:0,fromCurentInx:!1,captionDetailClass:"",addCaptionDetailHTMLFn:c,captionDetailCloseCallBackFn:d},o=jm.extend({},t,i),a=jm("#jz_photoSwipeV4"),s=jm(this).attr("data-picId"),l=0,p=jm("body"),u=0;u<e.length;u++)if(e[u].id===s){l=u;break}if(n||!e[l].openLink){o.fromCurentInx&&(o.index=l),a.length>0?p.append(a):(p.append(m()),a=jm("#jz_photoSwipeV4"));var f=new PhotoSwipeV4(a[0],PhotoSwipeUI_Default,r,o);f.init(),setTimeout((function(){f.updateSize(!0)}),100),Fai.top._manageMode&&(Fai.top.Fai.isIE11()||window.navigator.userAgent.indexOf("Firefox")>0)&&Fai.top.Fai.ing("浏览器版本不支持幻灯片滑动效果")}}))}function c(t,i,o){var n=e[o],a=n.groupId,r=n.pid;jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/photo_h.jsp",data:"cmd=getWafNotCk_getInfo&id="+jm.encodeUrl(r)+"&groupId="+jm.encodeUrl(a),error:function(){Mobi.ing(LS.js_systemError)},success:function(e){var o="";o+='<div class="content_wrap">',o+='<div class="title">'+t.title+"</div>",o+='<div class="J_scrollContainer u_scrollContainer"><div class="content">'+e+"</div></div>",o+="</div>",jm(i).html(o);var n=i.querySelector(".J_scrollContainer"),a=i.querySelectorAll("img"),r=a.length;if(0===a.length)t.detailScroll&&t.detailScroll.destroy(),t.detailScroll=null,t.destroyScroll=new iScroll(n);else for(var s=0;s<r;s++){var l=new Image;l.src=a[s].src,l.onload=function(){--r||(t.detailScroll&&t.detailScroll.destroy(),t.detailScroll=null,t.destroyScroll=new iScroll(n))}}}})}function d(t){t.detailScroll&&t.detailScroll.destroy(),t.detailScroll=null}function m(){return'<div id="jz_photoSwipeV4" class="pswp" tabindex="-1" role="dialog" aria-hidden="true">','    <div class="pswp__bg"></div>','    <div class="pswp__scroll-wrap">','        <div class="pswp__container">','            <div class="pswp__item"></div>','            <div class="pswp__item"></div>','            <div class="pswp__item"></div>',"        </div>",'        <div class="pswp__ui pswp__ui--hidden">','            <div class="pswp__top-bar">','                <div class="pswp__counter"></div>','                <button class="icon- pswp__button pswp__button--close" title="Close (Esc)"></button>','                <button class="pswp__button pswp__button--share" title="Share"></button>','                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>','                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>','                <div class="pswp__preloader">','                    <div class="pswp__preloader__icn">','                      <div class="pswp__preloader__cut">','                        <div class="pswp__preloader__donut"></div>',"                      </div>","                    </div>","                </div>","            </div>",'            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">','                <div class="pswp__share-tooltip"></div> ',"            </div>",'            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">',"            </button>",'            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">',"            </button>",'            <div class="pswp__caption">','                <div class="pswp__caption__center"></div>','                <div class="pswp__caption__control"></div>',"            </div>","        </div>","    </div>","</div>",'<div id="jz_photoSwipeV4" class="pswp" tabindex="-1" role="dialog" aria-hidden="true">    <div class="pswp__bg"></div>    <div class="pswp__scroll-wrap">        <div class="pswp__container">            <div class="pswp__item"></div>            <div class="pswp__item"></div>            <div class="pswp__item"></div>        </div>        <div class="pswp__ui pswp__ui--hidden">            <div class="pswp__top-bar">                <div class="pswp__counter"></div>                <button class="icon- pswp__button pswp__button--close" title="Close (Esc)"></button>                <button class="pswp__button pswp__button--share" title="Share"></button>                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>                <div class="pswp__preloader">                    <div class="pswp__preloader__icn">                      <div class="pswp__preloader__cut">                        <div class="pswp__preloader__donut"></div>                      </div>                    </div>                </div>            </div>            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">                <div class="pswp__share-tooltip"></div>             </div>            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">            </button>            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">            </button>            <div class="pswp__caption">                <div class="pswp__caption__center"></div>                <div class="pswp__caption__control"></div>            </div>        </div>    </div></div>'}},Mobi.initPictureSlidesV4ByDom=function(t){var e,i={fromCurentInx:!0,contentTerminal:"mobi-文章详情-ue"};function o(){var e=[];return jm(t).forEach((function(t,i){var o=!1,n=jm(t),a=n.closest("a");a.length>0&&""!==a.attr("href")&&(o=!0);var r="photoswipe_"+i;e.push({src:n.attr("src-original")||t.src,width:n.attr("vwidth")||t.naturalWidth,height:n.attr("vheight")||t.naturalHeight,title:"",description:"",detail:!1,id:r,openLink:o}),t.setAttribute("data-picId",r)})),e}Fai.top._windowLoaded?(e=o(),Mobi.initPictureSlidesV4(t,e,i)):jm(window).on("load",(function(){e=o(),Mobi.initPictureSlidesV4(t,e,i)}))},Mobi.recoverPhotoSwipeImgSize=function(t){var e=jm(t),i=!1,o=t.complete;function n(t){var e=document.body.clientWidth,i=document.body.clientHeight,o=t.width(),n=t.height();t.css({height:n+"px",width:o+"px",left:(e-o)/2+"px",top:(i-n)/2+"px"})}"0px"===t.style.width&&(i=!0,e.css("width","")),"0px"===t.style.height&&(i=!0,e.css("height","")),i&&(o?n(e):(e.hide(),e.parent().addClass("ps-carousel-item-loading"),e.one("load.adjust",(function(){var t=jm(this);t.parent().removeClass("ps-carousel-item-loading"),t.show(),n(t)}))))},Mobi.copyModulePhotoDetailSwipe=function(t,e){var i=null==e?".style2Img.photoListImg":e,o=t.substring(t.lastIndexOf("e")+1),n=jm("#"+t).find(".J_contentPanelCopy"+o).find(i),a=jm("#"+t).find("#photoSlideList"+o).find(i);jm(n).each((function(t,e){jm(e).on("click",(function(){jm(a[t]).trigger("click")}))}))},Mobi.PhotoDetailSwipeForJumpCtrl=function(t){var e=[];jm.ajax({type:"get",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/getPhotoData_h.jsp?groupId="+t+"&cmd=getWafNotCk_getPhotoData",success:function(t){(t=jm.parseJSON(t))&&t.success&&null!=t.info&&(e=t.info);for(var i,o=[],n=0,a=e.length;n<a;n++)i=new Image,n<3&&(i.src=e[n].picPath),o.push(i);if(!(o.length<1)){var r={imageScaleMethod:"fitNoUpscale",jQueryMobile:!0,enableMouseWheel:!1,resetToolbarPosition:!0,loop:!1,photoJson:e,triggerEventType:"click",captionAndToolbarAutoHideDelay:0,getImageCaption:function(t,e){var i,o;return i=t+" / "+e,(o=document.createElement("div")).className="ps-page",o.appendChild(document.createTextNode(i)),o},getToolbar:function(){return'<div class="ps-toolbar-close ps-toolbar-close-style icon-toolbar-close-style"></div><div class="ps-toolbar-base"><div class="ps-toolbar-base-title" id="wrapperTitle"></div><div class="ps-toolbar-base-detail icon-toolbar-base-detail" id="wrapperTitleDetail"></div></div><div class="ps-toolbar-base-describe" id="wrapperBasic"><div id="scrollerBasic"></div></div>'},uiDetailCallBack:function(t,i,o){var n=this;jm(t).html("");var a=e[l.currentIndex],r=a.groupId,c=a.id,d=a.name;jm(o).html(d),jm(i).addClass(s.Carousel.CssClasses.itemLoading),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/photo_h.jsp",data:"cmd=getWafNotCk_getInfo&id="+jm.encodeUrl(c)+"&groupId="+jm.encodeUrl(r),error:function(){Mobi.ing(LS.js_systemError)},success:function(e){jm(t).html(e);var o=t.querySelectorAll("img");if(0===o.length)n.detailScroll&&n.detailScroll.destroy(),n.detailScroll=null,n.destroyScroll=new iScroll(i),jm(i).removeClass(s.Carousel.CssClasses.itemLoading);else for(var a=0;a<o.length;a++){var r=new Image;r.src=o[a].src,r.onload=function(){a===o.length&&(n.detailScroll&&n.detailScroll.destroy(),n.detailScroll=null,n.destroyScroll=new iScroll(i),jm(i).removeClass(s.Carousel.CssClasses.itemLoading))}}}})}},s=window.Code.PhotoSwipe,l=s.attach(o,r);l&&l.addEventHandler(s.EventTypes.onCaptionAndToolbarShow,(function(){this.scroll&&this.scroll.destroy(),this.scroll=new iScroll("wrapperBasic")})),jm(o[0]).trigger("click"),l.addEventHandler(s.EventTypes.onDisplayImage,(function(t){var i,o,n,a=t.target.currentIndex;a>1&&(o=e[a+1],(i=t.target.cache.images[t.target.currentIndex+1])&&((n=i.imageEl).src=o.picPath,Mobi.recoverPhotoSwipeImgSize(n)))}))}}})},Mobi.photoCrossedSlideSecSwipe=function(t,e,i,o,n){var a,r,s=Mobi.getPreviewObject(e),l=Mobi.getPreviewObject(i),c=s,d=parseInt(l.offsetWidth),m=0,p=jm(null==o?".photoCrossedSlideSec":o,l);if(p.length>0&&(a=jm(p[0]),r=0,-1!=a.width().indexOf("rem")?r+=a[0].offsetWidth:r+=parseFloat(a.width()),r+=parseFloat(a.css("padding-left"))+parseFloat(a.css("padding-right")),m=((r+=parseFloat(a.css("border-left-width"))+parseFloat(a.css("border-right-width")))+(parseFloat(a.css("margin-left"))+parseFloat(a.css("margin-right"))))*p.length,".newPhotoCrossedSlideSec"==o)){var u=11;null!=n&&1==n.intervalOptions.type&&(u=n.intervalOptions.horizontal),m+=u*(p.length-1)}if(m>d&&(navigator.appVersion.match(/MSIE [\d.]+/)&&10===parseInt(navigator.appVersion.match(/MSIE ([\d.]+)/)[1])&&(m+=2*p.length),m+=10,jm(c).css("width",m+"px"),jm.os.supportsTouch)){var f=function(t){var e=t.touches.length>0?t.touches[0]:t.chengedTouches[0];j=e.pageX,M=e.pageY,void 0===v&&void 0!==b&&void 0!==_&&(!1===(v=g(b,_,j,M))&&t.preventDefault(),y.off("touchmove.prod")),b=j,_=M},h=function t(){v=b=_=j=M=void 0,y.off("touchmove.photoCross",f),y.off("touchend.photoCross",t)},g=function(t,e,i,o){var n=Math.abs(t-i),a=Math.abs(e-o);return(0!==n||0!==a)&&(0===n&&a>0||!(0===a&&n>0)&&a/n>1)};new iScroll(l,{scrollX:!0,scrollY:!1,vScroll:!1,mouseWheel:!0,remarkXCoordinate:!0,onBeforeScrollStart:function(){}});var v,b,_,j,M,y=jm("#"+i),w=jm("#"+e);y.off("touchstart.photoCross").on("touchstart.photoCross",(function(t){var e=t.touches.length>0?t.touches[0]:t.chengedTouches[0];b=e.pageX,_=e.pageY,y.off("touchmove.photoCross").on("touchmove.photoCross",f),y.off("touchend.photoCross").on("touchend.photoCross",h)})),w.children().off("touchmove.banIScroll").on("touchmove.banIScroll",(function(t){!0===v&&t.stopPropagation()}))}p.show()},Mobi.initModuleMultiPhotoListItemManage=function(t){if(t&&t.moduleId){$("#module"+t.moduleId).data("options",t);var e=t.content;jm.each(e.picList,(function(e,i){var o=i.id;$("#module"+t.moduleId).find(".style2Img.photoListImg.stretchImg").parent().mouseover((function(){var e=[{operationText:"编辑图片",className:"edit",evalScript:"top.Mobi.popupWindow({title:'编辑图片', frameSrcUrl:'mobiPhotoEdit.jsp?moduleId="+t.moduleId+"&id="+o+"&linkType="+t.linkType+"', width:580, height:420, closeFunc: closeMobiPhotoEdit, saveBeforePopup: true });"},{operationText:"删除图片",className:"close",evalScript:"Mobi.deleteMultiPhotoItem('"+o+"', "+t.moduleId+");"}];1===t.type?Mobi.addEditLayer($(this),e,106):Mobi.addEditLayer($(this),e,6)})).mouseleave((function(){1===t.type?Mobi.removeEditLayer($(this),null,106):Mobi.removeEditLayer($(this))}))}))}},Mobi.initModuleMultiPhotoCarouselItemManage=function(t){if(t&&t.moduleId){$("#module"+t.moduleId).data("options",t);var e=t.content.picList;jm.each(e,(function(e,i){var o=i.id;$("#module"+t.moduleId).find("img[id="+o+"]").each((function(e,i){$(i).mouseover((function(){var e=[{operationText:"编辑图片",className:"edit",evalScript:"top.Mobi.popupWindow({title:'编辑图片', frameSrcUrl:'mobiPhotoEdit.jsp?moduleId="+t.moduleId+"&id="+o+"&linkType="+t.linkType+"', width:580, height:420, closeFunc: closeMobiPhotoEdit, saveBeforePopup: true});"},{operationText:"删除图片",className:"close",evalScript:"Mobi.deleteMultiPhotoItem('"+o+"', "+t.moduleId+");"}];Mobi.addEditLayer($(i),e,1)})).mouseleave((function(){Mobi.removeEditLayer($(i),null,1)}))}))}))}},Mobi.deleteMultiPhotoItem=function(t,e){var i,o=jm("#module"+e).data("options"),n=o.content,a=n.picList;if(jm.each(a,(function(e,o){o.id==t&&(i=e)})),confirm("确定删除图片？")&&void 0!==i){a.splice(i,1);var r=new Array,s=Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mobimodule_h.jsp?cmd=setWafCk_setBack&id="+e+"&colId="+Fai.top._colId+"&style="+o.style+"&extId="+Fai.top._extId;r.push("&content="+jm.encodeUrl(jm.toJSON(n))),jm.ajax({type:"post",url:s,data:r.join(""),error:function(){Mobi.ing("服务繁忙，请稍后重试。",!0)},success:function(t){var e=jm.parseJSON(t);e.success?(Mobi.ing("保存成功。",!0),Mobi.jumpUrlMobi(Mobi.getPreviewDocument().location.href)):Mobi.ing(e.msg,!1)}})}},Mobi.initPhotoDetailManage=function(t,e){var i=Mobi.getPreviewDocument().getElementById("photoGroupDetailPanel"+t);$(i).mousemove((function(){Mobi.addModuleLayer("photoGroupDetailPanel"+t,e)})).mouseleave((function(){Mobi.removeModuleLayer("photoGroupDetailPanel"+t)}))},Mobi.photoGroupContentInit=function(t){var e=jm("#photoGroupDetailPanel"+t),i=e.find(".photoGroupDetail").width(),o=e.find(".photoGroupPic"),n=e.find(".icon-gClose");jm("#photoGroupPicList"+t).width(i*o.length+"px"),o.width(i+"px");var a={triggerId:"newsDetailShare",pageBg:!0,pageHtml:Mobi.sharePage(Fai.top._shareDataPhotoGroup),direction:"bottom",callback:function(){Mobi.showCommSharePanel("shareListShowSwipe","photo")},closeWebPage:".shareListPanelBg"};Mobi.initWebPage(a),jm(n).bind("click",(function(){return window.history.length<=1?window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"index.jsp":history.back(),!1})),Mobi.scrollFadeIn("photoGroupDetailHeader"+t,"photoGroupPicPanel"+t,1)},Mobi.photoGroupContentInitV3=function(t){var e=jm("#photoGroupDetailPanel"+t).find(".icon-gClose"),i={triggerId:"newsDetailShare",pageBg:!0,pageHtml:Mobi.sharePage(Fai.top._shareDataPhotoGroup),direction:"bottom",callback:function(){Mobi.showCommSharePanel("shareListShowSwipe","photo")},closeWebPage:".shareListPanelBg"};Mobi.initWebPage(i),jm(e).bind("click",(function(){return window.history.length<=1?window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"index.jsp":history.back(),!1})),Mobi.scrollFadeIn("photoGroupDetailHeader"+t,"photoGroupPicPanel"+t,1)},Mobi.initPhotoGroupSwipe=function(t){var e=Mobi.getJQMobi(),i=Mobi.getPreviewObject(t),o=jm(i);if(i&&(Mobi.initScaleImage(i),i.querySelector(".bullets"))){var n,a,r,s=i.querySelector(".bullets").getElementsByTagName("li");a=parseInt(o.find(".J_maxNum").text()),n=e("#"+t).swipehandle(i,{continuous:!0,bulletsClick:!0,callback:function(t){for(var e,i=s.length;i--;)s[i].className=" ";s[t]?s[t].className="on":s[t-s.length].className="on",0==(e=(t+1)%a)&&(e=a),o.find(".J_curPhotoNumber").text(e)}}),/(iPhone|iPad|iPod|Android)/i.test(navigator.userAgent)||(r=o.find(".J_btn"),o.on("mouseover",(function(){r.show()})).on("mouseleave",(function(){r.hide()})),o.find(".J_preBtn").on("click",(function(){n.prev()})),o.find(".J_nextBtn").on("click",(function(){n.next()})))}},Mobi.getPhotoListInfo=function(t){var e=new Array,i=$("#module"+t),o={};if(i.data("options")){var n=i.data("options").content.picList;for(var a in n)Object.hasOwnProperty.call(n,a)&&(o={id:n[a].id,desc:n[a].desc,openLink:n[a].openLink,ide:n[a].ide},e.push(o))}return e},Mobi.photoCardInit=function(t){var e,i,o,n,a,r,s,l,c,d,m=jm("#module"+t),p=m.find(".J_photoListCard"),u=p.find(".J_cardContainer"),f=p.find("li"),h=f.length,g=0,v=0;if(h>1&&h<=3){u.append(f.clone(!0,!0)),f=p.find("li");for(var b=(h=f.length)/2;b<h;b++)jm(p.find("img").get(b)).addClass("garbage")}r=jm(f.get(0)).find(".J_imgContainer"),l=r.width(),c=r.height(),f.each((function(t,e){v=jm(e).height(),g=g<v?v:g})),f.each((function(t,r){if(o=jm(r),n=o.find("img"),a=parseInt(n.attr("faiWidth")),s=parseInt(n.attr("faiHeight")),d=function(t,e,i,o){var n={width:t,height:e},a=i/o,r=t/e;if(r<a){var s=t/i;n.width=i,n.height=e/s}else if(r>a){var l=e/o;n.width=t/l,n.height=o}return n}(a,s,l,c),n.css({height:d.height+"px",width:d.width+"px",marginTop:-parseFloat(d.height/2)+"px",marginLeft:-parseFloat(d.width/2)+"px",position:"absolute"}),o.height(g+"px"),h<=1)return!1;switch(o.on("webkitAnimationStart mozAnimationStart MSAnimationStart oanimationstart animationstart",(function(){m.data("animated","running")})).on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(function(){jm(this).removeClass("f-cardAnimation_right f-cardAnimation_left").addClass("f-showPic_0"),m.data("animated",""),i=jm(this).find("a"),(e=i.data("href"))&&i.attr("href",e)})),t){case 0:jm(r).addClass("f-showPic_1");break;case 1:jm(r).removeClass("f-showPic_1 f-showPic_2 f-showPic_3").addClass("f-showPic_2");break;case 2:jm(r).removeClass("f-showPic_1 f-showPic_2 f-showPic_3").addClass("f-showPic_3");break;default:jm(r).removeClass("f-showPic_1 f-showPic_2 f-showPic_3").addClass("f-showPic_0")}})),u.height(parseInt(g)+40+"px"),Mobi.bindTouchEvent(f,null,{callBack:function(t,e,i){if(Fai.top._manageMode&&(Fai.top.Fai.isIE10()||Fai.top.Fai.isSafari()))return void Fai.top.Fai.ing("当下浏览器不支持查看效果，请在手机上查看，或更换最新浏览器",!0);var o,n,a,r=jm(this),s=t.length,l=[];if(!i.touchMove)return void r.find("img").trigger("click");if(!i.toRight&&!i.toLeft&&"running"!=e.data("animated"))return;if(s<=1)return!1;(n=r.find("a").attr("href"))&&r.find("a").data("href",n).attr("href","javascript:void(0);");for(a=i.toRight?"f-cardAnimation_right":"f-cardAnimation_left",r.addClass(a),t.each((function(t,e){jm(e).removeClass("f-showPic_0 f-showPic_1 f-showPic_2 f-showPic_3")})),l[0]=r.index(),o=1;o<=3;o++)l[o]=o<=s?(l[0]+o)%s:-1;t.each((function(t,e){switch(t){case l[1]:jm(e).addClass("f-showPic_1");break;case l[2]:jm(e).addClass("f-showPic_2");break;case l[3]:jm(e).addClass("f-showPic_3");break;case l[0]:break;default:jm(e).addClass("f-showPic_0")}}))},args:[f,m],stopPropagation:!Fai.top._manageMode})},Mobi.newSearchResultSlide=function(t,e){if(null!=e&&0!=e.length){var i,o={fromCurentInx:!0},n="#module"+t+" img";Fai.top._windowLoaded?(i=a(),Mobi.initPictureSlidesV4(n,i,o)):jm(window).on("load",(function(){i=a(),Mobi.initPictureSlidesV4(n,i,o)}))}function a(){var t=[];return jm(n).forEach((function(i,o){var n=!1;"A"===i.parentNode.tagName&&""!==i.parentNode.href&&(n=!0);var a="photoswipe_"+o;t.push({src:e[o].src,width:e[o].width,height:e[o].height,title:e[o].title||"",desc:"",detail:!1,id:a,openLink:n}),i.setAttribute("data-picId",a)})),t}},Mobi.updateProductDetailSwipe=function(t){var i={fromCurentInx:!0,contentTerminal:"mobi-产品展示-产品详情-ue"},o=[],n=jm(t).length;jm(t).forEach((function(a,r){var s=new Image;s.src=a.src,s.onload=function(){var s=!1,l=null,c=jm(".productDetailInfoPanel")[0];null!=c&&(l=Object(e.a)(a,c))&&""!==l.href&&(s=!0);var d="photoswipe_"+r,m=jm(a);o.push({src:m.attr("src-original")||a.src,width:m.attr("vwidth")||a.naturalWidth,height:m.attr("vheight")||a.naturalHeight,title:"",description:"",detail:!1,id:d,openLink:s,index:r}),a.setAttribute("data-picId",d),o.length==n&&Mobi.initPictureSlidesV4(t,o,i)}}))},function(t,e){function i(t){var e,i;0!==t.length&&((i=t.find(".J_photoGroupAll")).hasClass("J_photoGroupAll4")&&(e=4),i.hasClass("J_photoGroupAll5")&&(e=5),n(e).create(t),function(t){o(t)}(t))}function o(i,o){!function(t,e){if(!Fai.top._manageMode)return;var i=t.find(".J_photoGroupAll");if(i.off("mousedown.photoGroup").off("mouseup.photoGroup"),!1===e)return;i.on("mousedown.photoGroup",(function(){$("#webModuleContainer").sortable("disable")})).on("mouseup.photoGroup",(function(){$("#webModuleContainer").sortable("enable")}))}(i,o),function(t,i){var o,n,a=t.find(".J_photoGroupAll");if(!a.hasClass("J_photoGroupAll4")&&!a.hasClass("J_photoGroupAll5"))return;if((o=a.find(".J_photoGroup-img-mask")).off("mousedown.photoGroupScan mouseup.photoGroupScan"),o.remove(),!1===i)return;if(!Mobi.isPC())return;function r(t){n.time=new Date,n.startX=t.pageX,n.startY=t.pageY}function s(t){var i=e(t.target),o=new Date-n.time;n.endX=t.pageX,n.endY=t.pageY,o>200||n.startX===n.endX&&n.startY===n.endY&&i.parent().find(".f-photoGroup-img").click()}n={startX:0,startY:0,endX:0,endY:0,time:0},a.find(".f-photoGroup-a").each((function(t,i){var o,n=e(i),a=n.find(".f-photoGroup-img").height()/window._htmlFontSize+"rem";0===n.find(".J_photoGroup-img-mask").length&&((o=e("<div class='f-photoGroup-img-mask J_photoGroup-img-mask'></div>")).height(a),n.append(o))})),a.find(".J_photoGroup-img-mask").off("mousedown.photoGroupScan mouseup.photoGroupScan").on("mousedown.photoGroupScan",r).on("mouseup.photoGroupScan",s)}(i,o),function(e,i){var o,n=(a={downLink:"touchstart.ctrlLink",clickLink:"click.ctrlLink"},r={downLink:"mousedown.ctrlLink",clickLink:"click.ctrlLink"},Mobi.isPC()?r:a);var a,r;if(e.off(n.downLink).off(n.clickLink),!1===i)return;function s(e){var i=t.photoGroup.utils.getPosByEvent(e);o.startX=parseInt(i.pageX),o.startY=parseInt(i.pageY),o.time=new Date}function l(e){var i=t.photoGroup.utils.getPosByEvent(e),n=new Date,a=!1;o.endX=parseInt(i.pageX),o.endY=parseInt(i.pageY),Math.abs(o.endX-o.startX)>1&&(a=!0),Math.abs(o.endY-o.startY)>1&&(a=!0),(n-o.time>200||a)&&e.preventDefault()}o={startX:0,startY:0,endX:0,endY:0,time:null},e.on(n.downLink,".J_photoGroup-a",s).on(n.clickLink,".J_photoGroup-a",l)}(i,o),function(i,o){var n=t.photoGroup;if(!Fai.top._manageMode)return;e.isFunction(n.bindWithEditLayer)&&n.bindWithEditLayer(i,o)}(i,o)}function n(e){var i={4:t.photoGroup.zoomSlider,5:t.photoGroup.pokerSlider},o=function(){};return e?i[e]:{create:o,destory:o}}t.photoGroup=e.extend({},t.photoGroup,{bindInteractive:i,unBindInteractive:function(t){var e,i;if(0===t.length)return;(i=t.find(".J_photoGroupAll")).hasClass("J_photoGroupAll4")&&(e=4);i.hasClass("J_photoGroupAll5")&&(e=5);n(e).destory(t),function(t){o(t,!1)}(t)}}),e((function(){e(".formStyle34").each((function(t,o){i(e(o))}))}))}(Mobi,jm),function(t,e){var i={getImgByCard:function(t){var i=e(t),o=e(t).find(".J_photoGroup-img-mask");if(o.length>0)return o;return i.find(".J_photoGroup-img")},getSliderDir:function(t,e,i,o){var n=Math.abs(t-i),a=Math.abs(e-o);if(0===a&&0===a)return;if(n>0&&0===a)return!0;if(0===n&&a>0)return!1;return n/a>1},getPosByEvent:function(t){var e=t.pageX||o(t).pageX,i=t.pageY||o(t).pageY;return{pageX:e,pageY:i}},getStyleType:function(t){var e,i=t.find(".J_photoGroupAll");i.hasClass("J_photoGroupAll1")?e=1:i.hasClass("J_photoGroupAll2")?e=2:i.hasClass("J_photoGroupAll3")?e=3:i.hasClass("J_photoGroupAll4")?e=4:i.hasClass("J_photoGroupAll5")&&(e=5);return e},isInDom:function(t,i,o){var n=e(t)[0].getBoundingClientRect(),a=!1,r=!1;i>=n.left&&i<=n.right&&(a=!0);o>=n.top&&o<=n.bottom&&(r=!0);return a&&r}};function o(t){return t.touches||t.changedTouches?t.touches[0]||t.changedTouches[0]:{}}t.photoGroup=e.extend({},t.photoGroup,{utils:i})}(Mobi,jm),function(t,e,i){var o=function(t){var e={};return{add:i,remove:o,ctrl:n};function i(e,i){var o,n=c(e),l=n.attr("id");Fai.top._manageMode&&t.isFunction(Mobi.addEditLayer)&&!1!==r(i)&&(o=s(n),a(Mobi.addEditLayer(l,o,6,{extCls:"editLayer_2"}),n))}function o(e,i){if(Fai.top._manageMode&&!1!==r(i)&&t.isFunction(Mobi.removeEditLayer)){var o=c(e).attr("id");o&&Mobi.removeEditLayer(o)}}function n(t,i){var o=t.attr("id"),n=e[o];!1!==i?void 0!==n&&(e[o]=void 0,delete e[o]):e[o]=!1}function a(t,e){var i=e.offset(),o=t[0].getBoundingClientRect();t.css({left:i.right-o.width,top:i.bottom-o.height})}function r(t){var i=t.attr("id");return e[i]}function s(e){var i,o,n=t(e).parent().find(".J_photoGroup-img"),a=n.attr("_groupid"),r=t("#photoGroup"+a).find(".J_photoGroup-title").text(),s=n.attr("fromMobi2"),c=n.attr("id").split("module")[1];return"true"==s?(i="Fai.top.Mobi.popupWindow({title:'编辑图册', frameSrcUrl:'"+l(a)+"&fromMobi2=true&_pmid="+c+"', width:860, height:682, version:2});",o="Mobi.deletePhotoGroupManage('"+a+"', '"+Fai.top.Fai.encodeHtmlJs(r)+"', '', 0 ,"+c+")"):(i="Fai.top.Mobi.popupWindow({title:'编辑图册', frameSrcUrl:'"+l(a)+"', width:860, height:682, version:2});",o="Mobi.deletePhotoGroupManage('"+a+"', '"+Fai.top.Fai.encodeHtmlJs(r)+"', '', 0)"),[{operationText:"编辑图册",className:"edit_2",evalScript:i},{operationText:"删除图册",className:"close_2",evalScript:o}]}function l(t){var e=Fai.top.location.pathname.split("/");return e.pop(),e.pop(),e.push("manage_v2"),e.push("photoGroupEdit.jsp"),Fai.top._siteDomain+e.join("/")+"?fromManage=true&mobiSettingState=3&id="+t}function c(e){var i=t(e);return i.hasClass("J_photoGroup-img")||(i=i.parent().find(".J_photoGroup-img")),i}}(e),n={moveX:0,moveY:0};function a(e,i){var a={moduleMouseEnter:"mouseenter.bindEidtLayer",moduleMouseLeave:"mouseleave.bindEditLayer",imgMouseEnter:"mouseenter.eidtLayer",imgMouseLeave:"mouseleave.eidtLayer",imgDwon:"mousedown.editLayer",imgUp:"mouseup.editLayer",wrapMousemove:"mousemove.editLayer",transBefore:"transitionBefore",transAfter:"transitionAfter"},c=t.photoGroup.utils.getStyleType(e);e.off(a.moduleMouseLeave).off(a.moduleMouseEnter),!1!==i&&(e.on(a.moduleMouseEnter,(function(){r(e)})).on(a.moduleMouseLeave,(function(){r(e,!1)})),[4,5].indexOf(c)>-1&&function(e,i){var a={moduleMouseEnter:"mouseenter.bindEidtLayer",moduleMouseLeave:"mouseleave.bindEditLayer",imgMouseEnter:"mouseenter.eidtLayer",imgMouseLeave:"mouseleave.eidtLayer",imgDwon:"mousedown.editLayer",imgUp:"mouseup.editLayer",wrapMousemove:"mousemove.editLayer",transBefore:"transitionBefore",transAfter:"transitionAfter"};if(e.off(a.transBefore).off(a.transAfter),!1===i)return;e.on(a.transBefore,(function(){!function(e){var i=s(e).all;l(e,n),i.each((function(i,n){var a=t.photoGroup.utils.getImgByCard(n);o.remove(a,e)})),o.ctrl(e,!1)}(e)})).on(a.transAfter,(function(){!function(e){var i=t.photoGroup.utils,a=s(e).active,r=i.getImgByCard(a);if(l(e,n,!1),!i.isInDom(a,n.moveX,n.moveY))return;o.ctrl(e),o.add(r,e)}(e)}))}(e,i))}function r(i,n){var a=i.find(".J_photoGroupStyle"),r={moduleMouseEnter:"mouseenter.bindEidtLayer",moduleMouseLeave:"mouseleave.bindEditLayer",imgMouseEnter:"mouseenter.eidtLayer",imgMouseLeave:"mouseleave.eidtLayer",imgDwon:"mousedown.editLayer",imgUp:"mouseup.editLayer",wrapMousemove:"mousemove.editLayer",transBefore:"transitionBefore",transAfter:"transitionAfter"};a.off(r.imgMouseLeave).off(r.imgMouseEnter),!1!==n&&a.on(r.imgMouseEnter,(function(){var n=e(this),a=t.photoGroup.utils,r=a.getImgByCard(n),s=a.getStyleType(i),l=n.data("fk-is-enter");(4!==s||n.hasClass("f-active"))&&(5===s&&0!==n.index()||"true"!==l&&(o.add(r,i),n.data("fk-is-enter","true")))})).on(r.imgMouseLeave,(function(){var n=e(this),a=t.photoGroup.utils.getImgByCard(n);"true"===n.data("fk-is-enter")&&(o.remove(a,i),n.data("fk-is-enter","false"))}))}function s(e){var i,o=t.photoGroup.utils.getStyleType(e),n=e.find(".J_photoGroupStyle");return 4===o&&(i=e.find(".f-active")),5===o&&(i=n.eq(0)),{all:n,active:i}}function l(t,e,i){var o=t.find(".J_photoGroupAll-wrap"),n={moduleMouseEnter:"mouseenter.bindEidtLayer",moduleMouseLeave:"mouseleave.bindEditLayer",imgMouseEnter:"mouseenter.eidtLayer",imgMouseLeave:"mouseleave.eidtLayer",imgDwon:"mousedown.editLayer",imgUp:"mouseup.editLayer",wrapMousemove:"mousemove.editLayer",transBefore:"transitionBefore",transAfter:"transitionAfter"};o.off(n.wrapMousemove),!1!==i&&o.on(n.wrapMousemove,(function(t){e.moveX=t.clientX,e.moveY=t.clientY}))}e(window).load((function(){if(!Fai.top._manageMode)return;e(".formStyle34").forEach((function(t){a(e(t))}))})),t.photoGroup=e.extend({},t.photoGroup,{bindWithEditLayer:a})}(Mobi,jm),function(t,e){var i={create:function(t){(function(t){var i=t.find(".J_photoGroupAll-wrap"),a=t.find(".J_photoGroupStyle"),r=0,s=a.eq(0);a.addClass(o),s.length>0&&s.addClass(n);a.each((function(t,i){var o=e(i);r+=parseFloat(o.width()),r+=parseFloat(o.css("margin-left")),r+=parseFloat(o.css("margin-right"))})),i.width(r+"px")})(t),function(t){var i=t.find(".J_photoGroupAll-wrap"),o=r(),s={currIndex:0,oldIndex:0,isStart:!1,isXMove:!1,isMove:!1,isTrans:!1,startX:0,startY:0,moveX:0,moveY:0,endX:0,endY:0,time:0,disLeft:0};function l(t){t.preventDefault()}function c(t){var e=a.getPosByEvent(t),o=r();s.isStart=!0,s.startX=e.pageX,s.startY=e.pageY,i.off(o.dragMove).on(o.dragMove,d).off(o.dragEnd).on(o.dragEnd,m)}function d(t){var e,i=a.getSliderDir(s.startX,s.startY,s.moveX,s.moveY);if(s.isStart&&(e=a.getPosByEvent(t),s.moveX=e.pageX,s.moveY=e.pageY,!s.isMove)){if(s.isMove=!0,void 0===i)return;!0===i?(s.isXMove=!0,Mobi.lockDocScroll()):Mobi.openDocScroll()}}function m(o){var l=a.getPosByEvent(o).pageX-s.startX,c=r(),d=s.isStart&&s.isMove&&!s.isTrans;Mobi.openDocScroll(),i.off(c.dragMove).off(c.dragEnd),d&&s.isXMove&&(l<0?s.currIndex++:l>0&&s.currIndex--,function(t,i,o,a){var s,l=t.find(".J_photoGroupStyle"),c=r(),d=["-ms-","","moz","-webkit-"];i.currIndex<0?i.currIndex=0:i.currIndex>=l.length&&(i.currIndex=l.length-1);if(i.oldIndex===i.currIndex)return;s=l.eq(i.currIndex),l.eq(i.oldIndex).removeClass(n),s.addClass(n),i.isTrans=!0,s.off(c.transEnd).on(c.transEnd,(function(t){i.isTrans=!1,s.off(c.transEnd),i.oldIndex=i.currIndex,o.trigger("transitionAfter",[t])})),i.disLeft-=(m=s,p=e("#g_web").offset(),u=m.offset(),f=p.left+p.width/2,u.left+u.width/2-f),o.trigger("transitionBefore",[a]),e(d).each((function(e,o){var n=o+"transform",a="translate("+i.disLeft+"px,0)";t.css(n,a)}));var m,p,u,f}(i,s,t,o)),s.isXMove=s.isStart=s.isMove=void 0}i.off(o.dragStart).off(o.selectStart).off(o.dragOriginStart).on(o.dragStart,c).on(o.selectStart,l).on(o.dragOriginStart,l)}(t)},destory:function(t){var e=t.find(".J_photoGroupAll-wrap"),i=r();e.off(i.dragStart).off(i.selectStart).off(i.dragOriginStart)}},o="f-small",n="f-active",a=t.photoGroup.utils;function r(){var t,e;return e={dragStart:"mousedown.photoStyle4",dragMove:"mousemove.photoStyle4",dragEnd:"mouseup.photoStyle4",transEnd:"transitionend.photoStyle4",selectStart:"selectstart.photoStyle4",dragOriginStart:"dragstart.photoStyle4"},t={dragStart:"touchstart.photoStyle4",dragMove:"touchmove.photoStyle4",dragEnd:"touchend.photoStyle4",transEnd:"transitionend.photoStyle4",selectStart:"selectstart.photoStyle4",dragOriginStart:"dragstart.photoStyle4"},Fai.top._manageMode||Mobi.isPC()?e:t}t.photoGroup=e.extend({},t.photoGroup,{zoomSlider:i})}(Mobi,jm),function(t,e){var i={create:function(t){(function(t){var e=t.find(".J_photoGroupAll-wrap"),i=e.find(".J_photoGroupStyle").find(".J_photoGroup-a"),o=i.height()+"px";0===i.find(".J_photoGroup-detail").length&&e.css({height:o,transform:"translateY(0.725rem)"})})(t),function(t){var e=t.find(".J_photoGroupAll"),i=n(),a={startX:0,startY:0,endX:0,endY:0,isStart:!1,isMove:!1,isXMove:!1,isAnimate:!1};if(e.find(".J_photoGroupStyle").length<=1)return;function r(t){t.preventDefault()}function s(t){var n=o.getPosByEvent(t);a.startX=n.pageX,a.startY=n.pageY,a.isStart=!0,e.off(i.dragMove).off(i.dragEnd).on(i.dragMove,".J_photoGroupStyle",l).on(i.dragEnd,".J_photoGroupStyle",c)}function l(){var t;if(a.isStart&&!a.isMove){if(a.isMove=!0,void 0===(t=o.getSliderDir(a.startX,a.startY,a.endX,a.endY)))return;!0===t?(a.isXMove=!0,Mobi.lockDocScroll()):Mobi.openDocScroll()}}function c(r){var s=o.getPosByEvent(r),l=a.isStart,c=a.isMove;Mobi.openDocScroll(),a.endX=s.pageX,a.endY=s.pageY,e.off(i.dragMove).off(i.dragEnd),l&&c&&a.isXMove&&function(t,e,i){var o,a=t.find(".J_photoGroupStyle"),r=a.eq(0),s=a.eq(1),l=a.eq(2),c=a.eq(3),d=n(),m=i.endX-i.startX,p=!1;if(i.isAnimate)return;if(0===m)return;m<0&&(p=!0);o={dir:p?"f-toLeft":"f-toRight",toOne:"f-toOne",toTwo:"f-toTwo",toThree:"f-toThree"},r.length>0&&(i.isAnimate=!0,r.on(d.transEnd,u),e.trigger("transitionBefore"),r.addClass(o.dir));s.length>0&&s.addClass(o.toOne);l.length>0&&l.addClass(o.toTwo);c.length>0&&c.addClass(o.toThree);function u(){var t=n(),a=r.parent(),s=r.siblings();r.off(t.transEnd),r.parent()[0].removeChild(r[0]),s.removeClass(o.toOne).removeClass(o.toTwo).removeClass(o.toThree),r.removeClass(o.dir),a.append(r),i.isAnimate=!1,e.trigger("transitionAfter")}}(e,t,a),a.isStart=a.isMove=a.isXMove=void 0}e.off(i.dragStart).off(i.selectStart).off(i.dragOrginStart).on(i.dragStart,s).on(i.dragOrginStart,".J_photoGroup-a",r).on(i.selectStart,r)}(t)},destory:function(t){var e=t.find(".J_photoGroupAll"),i=n();e.off(i.dragStart).off(i.selectStart).off(i.dragOrginStart)}},o=t.photoGroup.utils;function n(){var t,e;return t={dragStart:"mousedown.photoGroup5",dragMove:"mousemove.photoGroup5",dragEnd:"mouseup.photoGroup5",selectStart:"selectstart.photoGroup5",transEnd:"transitionend.photoGroup5",dragOrginStart:"dragstart.photoGroup5"},e={dragStart:"touchstart.photoGroup",dragMove:"touchmove.photoGroup",dragEnd:"touchend.photoGroup",selectStart:"selectstart.photoGroup5",transEnd:"transitionend.photoGroup5",dragOrginStart:"dragstart.photoGroup5"},Fai.top._manageMode||Mobi.isPC()?t:e}t.photoGroup=e.extend({},t.photoGroup,{pokerSlider:i})}(Mobi,jm),function(t,e){function i(i,o){var n=i.find(".f-photoGroupItem");n.off("mouseenter.editLayer mouseleave.editLayer"),!1!==o&&n.on("mouseenter.editLayer",(function(){var i,o=e(this),n=o.find(".f-photoGroupR-title").text().trim(),a=o.attr("id").replace("photoGroupR",""),r=[{operationText:"编辑图册",className:"edit_2",evalScript:"Fai.top.Mobi.popupWindow({title:'编辑图册', frameSrcUrl:'"+function(t){var e=Fai.top.location.pathname.split("/");return e.pop(),e.pop(),e.push("manage_v2"),e.push("photoGroupEdit.jsp"),Fai.top._siteDomain+e.join("/")+"?fromManage=true&mobiSettingState=3&id="+t}(a)+"', width:860, height:682, version:2});"},{operationText:"删除图册",className:"close_2",evalScript:"Mobi.deletePhotoGroupManage('"+a+"', '"+Fai.top.Fai.encodeHtmlJs(n)+"', '', 0)"}];(i=t.addEditLayer(o,r,6)).css({left:o.offset().right-i.width()-2,top:o.offset().bottom-i.height()-2})})).on("mouseleave.editLayer",(function(){var i=e(this);t.removeEditLayer(i)}))}e((function(){if(!Fai.top._manageMode)return;e(".formStyle48").each((function(t,o){e(o).on("mouseenter.bindEditLayer",(function(){i(e(this))})).on("mouseleave.bindEditLayer",(function(){i(e(this),!1)}))}))}))}(Mobi,jm),Mobi.updatePhotoGroupDataByFrame=function(t){var e=Fai.top._rootStore.getters.getModuleById(t.moduleId);if(null!=e){var i={groupIdList:JSON.stringify(0==e.content.photoGroupCatalog?e.content.groupIdList:e.content.groupSortIdList),pageno:1,size:0==e.content.pageDisplayType?e.content.photoGroupCount:e.content.pagePhotoSize,catalog:e.content.photoGroupCatalog,isPageDisplay:e.content.pageDisplayType,moduleStyle:e.content.style,isManageMode:!0};Fai.top.$.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"../ajax"})+"/module_h.jsp?cmd=getWafNotCk_getPhotoGroupListData",data:i,error:function(){Fai.top.Fai.ing("系统繁忙，请稍后重试",!1)},success:function(t){var i=jm.parseJSON(t);i.success?(e.totalSize=i.totalSize,e.photoGroupCount=i.photoGroupCount,e.pageno=1,e.photoGroupList=i.groupList,e.photoGroupSortList=i.photoGroupSortList):Fai.top.Fai.ing("系统繁忙，请稍后重试",!1)}})}}}).call(this,i(9)(t))},135:function(t,e){function i(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function o(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return r(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==i.return||i.return()}finally{if(l)throw a}}}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function s(t,e,i,o,n,a,r){try{var s=t[a](r),l=s.value}catch(t){return void i(t)}s.done?e(l):Promise.resolve(l).then(o,n)}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Mobi.initMbPdCollection=function(t,e,i,o){this.sessionMid=t,this.collectionList=e,this.pid=i,this._manageMode=o};var c=0;!function(t,e){var i,o,n,a;function r(e){t.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_setMemberCollection",data:"mid="+i+"&pid="+n+"&collection="+e,type:"POST",dataType:"json",success:function(t){t.success&&(e?Mobi.ing(LS.sucCollection,1):Mobi.ing(LS.cancelledCollection,2))}})}Mobi.initMbPdCollection.prototype.init=function(){i=this.sessionMid,o=this.collectionList,n=this.pid,a=this._manageMode,Mobi.bindTouchAndClickEvent(t(".shareBlock"),(function(){0==i?a?Mobi.ing(LS.isManageFailCollection):(window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?returnUrl="+t.encodeUrl(window.location.href),t.setCookie("m_collectID",n)):-1==o.indexOf(n)?(o.push(n),t(".shareBlock .icon-collection").addClass("icon-collectSelect g_main_color_v3"),r(!0)):-1!=o.indexOf(n)&&(o.splice(o.indexOf(n),1),t(".shareBlock .icon-collection").removeClass("icon-collectSelect g_main_color_v3"),r(!1))})),0!=i&&-1!=o.indexOf(n)&&t(".shareBlock .icon-collection").addClass("icon-collectSelect g_main_color_v3"),0==t("#_TOKEN").length||a||t.getCookie("m_collectID")!=n+""||t(".shareBlock .icon-collection ").hasClass("icon-collectSelect g_main_color_v3")||-1==o.indexOf(n)&&(o.push(n),t(".shareBlock .icon-collection").addClass("icon-collectSelect g_main_color_v3"),r(!0),c++),1===c&&(t(".shareBlock .icon-collection").addClass("icon-collectSelect g_main_color_v3"),-1==o.indexOf(n)&&o.push(n)),t.setCookie("m_collectID","",-1)}}(jm),Mobi.initProductEvent=function(t){Mobi.initProductSwipe(t)},Mobi.initRepPropValueOfURL=function(){var t=new RegExp("https?|ftp|file://");jm(".paramCollection .propVal").each((function(){var e=jm(this).text();t.test(e)&&jm(this).html(e.replace(/((https?|ftp|file):\/\/[-a-zA-Z0-9+&@#/%?=~_|!:,.;]*)/g,'<a href="$1" target="_blank" style="text-decoration:underline">$1</a>'))}))},Mobi.initProductRestrict=function(t,e,i,o,n,a,r){if(t){var s=n?"#productMallOptionPanel"+a:"",l=0;null!=o.count&&(l=o.count);var c=i-l;jm.fkEval(c)<0&&(c=-1);var d=1,m=-1;e>1&&0!=i?(jm(s+" #limitAmountDiv").parent().attr("style","line-height:1.5rem;"),jm(s+" #limitAmountDiv").text("( "+LS.minAmount+" : "+e+" ; "+LS.maxAmount+" : "+c+" )"),d=e,m=c):1==e&&0!=i?(jm(s+" #limitAmountDiv").parent().attr("style","line-height:1.5rem;"),jm(s+" #limitAmountDiv").text("( "+LS.maxAmount+" : "+c+" )"),m=c):e>1&&0==i&&(jm(s+" #limitAmountDiv").parent().attr("style","line-height:1.5rem;"),jm(s+" #limitAmountDiv").text("( "+LS.minAmount+" : "+e+" )"),d=e),r&&(-1==m||m>5)&&(m=5),jm(s+" #productNum").val(d).unbind("change").change((function(){var t=p();t<d||t==d?(t=d,jm("#g_decrease").addClass("g_opacity50"),jm("#g_increase").removeClass("g_opacity50"),(m<d||m==d)&&jm("#g_increase").addClass("g_opacity50")):-1!=m&&(t>m||t==m)?(t=m,jm("#g_decrease").removeClass("g_opacity50"),jm("#g_increase").addClass("g_opacity50")):t>9999998?(t=9999999,jm("#g_decrease").removeClass("g_opacity50"),jm("#g_increase").addClass("g_opacity50")):jm("#g_decrease, #g_increase").removeClass("g_opacity50"),jm(this).val(t),r&&u()})).change(),jm(s+" #g_decrease").click((function(){p()<d+1&&jm(s+" #productNum").val(d),jm(s+" #productNum").change()})),jm(s+" #g_increase").click((function(){p()>m-1&&-1!=m&&jm(s+" #productNum").val(m>d?m:d),jm(s+" #productNum").change()}))}function p(){var t=jm(s+" #productNum").val(),e=1;return jm.isInteger(t)&&(e=parseInt(t)),e}},Mobi.initProductRestrict_pt=function(t){if((t=t||{}).isPtLimitBuy){var e=t.entry?"#productMallOptionPanel"+t.productId:"",i=0;null!=t.productRestrictInfo.count&&(i=t.productRestrictInfo.count);var o=t.pt_maxAmount-i;jm.fkEval(o)<0&&(o=-1);var n;jm(e+" #limitAmountDiv_pt").parent().attr("style","line-height:1.5rem;"),jm(e+" #limitAmountDiv_pt").text("拼团每人限购"+t.pt_maxAmount+"件"+(i>0?"，还可购买"+o+"件":"")),n=o,jm(e+" #productNum_pt").val(1).unbind("change").change((function(){var t=a();t<1||1==t?(t=1,jm("#g_decrease_pt").addClass("g_opacity50"),jm("#g_increase_pt").removeClass("g_opacity50"),(n<1||1==n)&&jm("#g_increase_pt").addClass("g_opacity50")):-1!=n&&(t>n||t==n)?(t=n,jm("#g_decrease_pt").removeClass("g_opacity50"),jm("#g_increase_pt").addClass("g_opacity50")):t>9999998?(t=9999999,jm("#g_decrease_pt").removeClass("g_opacity50"),jm("#g_increase_pt").addClass("g_opacity50")):jm("#g_decrease_pt, #g_increase_pt").removeClass("g_opacity50"),jm(this).val(t)})).change(),jm(e+" #g_decrease_pt").click((function(){a()<2&&jm(e+" #productNum_pt").val(1),jm(e+" #productNum_pt").change()})),jm(e+" #g_increase_pt").click((function(){a()>n-1&&-1!=n&&jm(e+" #productNum_pt").val(n>1?n:1),jm(e+" #productNum_pt").change()}))}function a(){var t=jm(e+" #productNum_pt").val(),i=1;return jm.isInteger(t)&&(i=parseInt(t)),i}},Mobi.initProductRestrict_im=function(t){if((t=t||{}).isImLimitBuy){var e=t.entry?"#productMallOptionPanel"+t.productId:"",i=0;null!=t.productRestrictInfo.count&&(i=t.productRestrictInfo.count);var o=t.im_maxAmount-i;jm.fkEval(o)<0&&(o=-1);var n;jm(e+" #limitAmountDiv_im").parent().attr("style","line-height:1.5rem;"),jm(e+" #limitAmountDiv_im").text("每人限购"+t.im_maxAmount+"件"+(i>0?"，还可购买"+o+"件":"")),n=o,jm(e+" #productNum_im").val(1).unbind("change").change((function(){var t=a();t<1||1==t?(t=1,jm("#g_decrease_im").addClass("g_opacity50"),jm("#g_increase_im").removeClass("g_opacity50"),(n<1||1==n)&&jm("#g_increase_im").addClass("g_opacity50")):-1!=n&&(t>n||t==n)?(t=n,jm("#g_decrease_im").removeClass("g_opacity50"),jm("#g_increase_im").addClass("g_opacity50")):t>9999998?(t=9999999,jm("#g_decrease_im").removeClass("g_opacity50"),jm("#g_increase_im").addClass("g_opacity50")):jm("#g_decrease_im, #g_increase_im").removeClass("g_opacity50"),jm(this).val(t)})).change(),jm(e+" #g_decrease_im").click((function(){a()<2&&jm(e+" #productNum_im").val(1),jm(e+" #productNum_im").change()})),jm(e+" #g_increase_im").click((function(){a()>n-1&&-1!=n&&jm(e+" #productNum_im").val(n>1?n:1),jm(e+" #productNum_im").change()}))}function a(){var t=jm(e+" #productNum_im").val(),i=1;return jm.isInteger(t)&&(i=parseInt(t)),i}},Mobi.initProductRestrict_es=function(t){t.isEarnestSale&&jm(".J_productImmeEarnestSale").parents(".productMallOptionContent").find(".productName").hide()},Mobi.initPriceCalendar=function(t){var e=(t=t||{}).optionsAmountList,i=t.isRelateAmount,o=t.realMallPrice,n=t.limitAmount_options,a=t.productRestrictInfo,r=t.choiceCurrencyVal,s=t.entry,l=t.productId,c=t.weightTypeStr,d=t.isGroupBuy,m=t.groupPrice,p=t.isCutPrice,f=t.cpMinPrice,h=t.isSecKill,g=t.secKillPrice,v=t.isIntegralMall,b=t.integtalMallType,_=t.imMinPrice,j=t.isEarnestSale,M=t.earnestSalePrice,y=t.isHotelProduct,w=t.hotelProductData;jm.each(e,(function(t,e){if(null==e.t)return!1})),null==c&&(c="kg");var S=jm(".J-op-box"),I=S.find(".J-op"),C="";1==s&&(S=jm("#productMallOptionPanel"+l+" .J-op-box"),I=S.find(".J-op"),C="#productMallOptionPanel"+l);var P=!1;I.each((function(t,e){"true"===jm(e).attr("isTime")&&(P=!0)}));var x=[],k=jm("#mallPrice").html(),L=!1;d?(k=m,L=!0,jm(".J_productImmediatelyBug").on("click",(function(){Mobi.priceCalendar=epctrl.init("Calendar",{el:"#priceCalendar",priceCalendar:!0,openAmount:F,mallOptions:t,mkPrice:k,useMk:!1}),T(Mobi.priceCalendar)})),jm(".J_groupBuyBtn").on("click",(function(){Mobi.priceCalendar=epctrl.init("Calendar",{el:"#priceCalendar",priceCalendar:!0,openAmount:F,mallOptions:t,mkPrice:k,useMk:!0}),T(Mobi.priceCalendar)}))):p?(k=f,L=!0):h?(k=g,L=!0):v?(k=0==b?_.minPrice:0,L=!0,jm(".J_productImmediatelyBug").on("click",(function(){Mobi.priceCalendar=epctrl.init("Calendar",{el:"#priceCalendar",priceCalendar:!0,openAmount:F,mallOptions:t,mkPrice:k,useMk:!1}),T(Mobi.priceCalendar)})),jm(".J_integralMallBtn").on("click",(function(){Mobi.priceCalendar=epctrl.init("Calendar",{el:"#priceCalendar",priceCalendar:!0,openAmount:F,mallOptions:t,mkPrice:k,useMk:!0}),T(Mobi.priceCalendar)}))):j&&(k=M,L=!0);var F=jm("#mallAmount").length>0;function T(t){t.on("dayClick",(function(t){if(!jm(t.tdEl).hasClass("ep-calendar-disabled")){var d=t.date;if(i){var m="",u=0;I.each((function(t){jm(I[t]).find(".optionSelected").length<=0?m+="x_":m+=jm(I[t]).find(".optionSelected").attr("data")+"_"})),m+=d,jm.each(e,(function(t,e){(function(t,e){if(""==t)return!1;var i=!0,o=t.split("_"),n=e.split("_");return o.length==n.length&&(jm.each(o,(function(t){"x"!=o[t]&&o[t]!=n[t]&&(i=!1)})),i)})(m,e.t2)&&(0==e.flag||isNaN(e.oAmount)||(u+=e.oAmount))})),jm(C+" #mallAmount").text(u)}var v=S.find(".optionSelected"),b=!1;if(P?I.length-1==v.length&&(b=!0):I.length==v.length&&(b=!0),b){var _,j,M,y,w,k="";if(jm(v).each((function(){k+=jm(this).attr("data")+"_"})),k+=d,jm.each(e,(function(t,e){var i=e.t2;(e.t==k||i==k)&&(_=e.oPrice,j=e.oAmount,M=e.minAmount,y=e.maxAmount,w=e.w)})),n){jm(C+" #limitAmountDiv").text("");var L=0,F=a.optionsCount;if(null!=F&&null!=F.d)for(var T=0;T<F.d.length;T++)F.d[T].t+"_"==k&&(L=F.d[T].c);var D=0;D=y-L,jm.fkEval(D)<0&&(D=-1);var O=1,N=-1;M>1&&0!=y?(jm(C+" #limitAmountDiv").parent().attr("style","line-height:1.5rem;"),jm(C+" #limitAmountDiv").text("( "+LS.minAmount+" : "+M+" ; "+LS.maxAmount+" : "+D+" )"),O=M,N=D):1==M&&0!=y?(jm(C+" #limitAmountDiv").parent().attr("style","line-height:1.5rem;"),jm(C+" #limitAmountDiv").text("( "+LS.maxAmount+" : "+D+" )"),N=D):M>1&&0==y&&(jm(C+" #limitAmountDiv").parent().attr("style","line-height:1.5rem;"),jm(C+" #limitAmountDiv").text("( "+LS.minAmount+" : "+M+" )"),O=M),jm(C+" #productNum").val(O),jm(C+" #productNum").unbind("change"),jm(C+" #productNum").bind("change",(function(){var t=jm(C+" #productNum").val(),e=1;jm.isInteger(t)&&(e=parseInt(t)),e<O||e==O?(e=O,jm(C+" #g_decrease , .g_decrease").addClass("g_opacity50"),jm(C+" #g_increase , .g_increase").removeClass("g_opacity50")):-1!=N&&(e>N||e==N)?(e=N,jm(C+" #g_decrease , .g_decrease").removeClass("g_opacity50"),jm(C+" #g_increase , .g_increase").addClass("g_opacity50")):e>9999998?(e=9999999,jm(C+" #g_decrease , .g_decrease").removeClass("g_opacity50"),jm(C+" #g_increase , .g_increase").addClass("g_opacity50")):(jm(C+" #g_decrease , .g_decrease").removeClass("g_opacity50"),jm(C+" #g_increase , .g_increase").removeClass("g_opacity50")),jm(C+" #productNum").val(e)})),jm(C+" #productNum").change(),jm(C+" #g_decrease , .g_decrease").unbind("click.dc2"),jm(C+" #g_increase , .g_increase").unbind("click.ic2"),jm(C+" #g_decrease , .g_decrease").bind("click.dc2",(function(){var t=jm(C+" #productNum").val(),e=1;jm.isInteger(t)&&(e=parseInt(t)),e<O+1&&jm(C+" #productNum").val(O),jm(C+" #productNum").change()})),jm(C+" #g_increase , .g_increase").bind("click.ic2",(function(){var t=jm(C+" #productNum").val(),e=1;jm.isInteger(t)&&(e=parseInt(t)),e>N-1&&-1!=N&&(N>O?jm(C+" #productNum").val(N):jm(C+" #productNum").val(O)),jm(C+" #productNum").change()}))}i&&jm(C+" #mallAmount").text(j),null==_?Mobi.onlyChangeSalePrice(o,r,s,l):Mobi.onlyChangeSalePrice(_,r,s,l),null!=w&&jm(C+" #mallWeight").text(w+c)}if(I.length!=v.length&&1!=I.length&&(jm(".J-op-box label").css("border-style","").css("color",""),jm(".J-op-box label").attr("isEmptyAmount",""),jm(".J-op-box input[type='radio']").removeAttr("disabled")),I.length-1<=v.length&&1!=I.length){var E="";I.each((function(t){jm(I[t]).find(".isSelected").length<=0?E+="x_":E+=jm(I[t]).find(".isSelected").attr("data")+"_"})),""!=E&&(E=E.substring(0,E.length-1));var R="";if(I.each((function(t){jm(I[t]).find(".isSelected").length<=0&&(R=jm(I[t]))})),""!=R){var U=R.find("label");U.each((function(t){var e=E.replace("x",jm(U[t]).attr("data"));jm.inArray(e,x)>=0?(A(U[t]),jm(U[t]).attr("isEmptyAmount","1")):B(U[t])}))}else I.each((function(t){var e=jm(I[t]).find("label");e.each((function(i){if(!jm(e[i]).hasClass("isSelected")){var o=E.split("_");o[t]=jm(e[i]).attr("data");var n=o.join("_");jm.inArray(n,x)>=0?(A(e[i]),jm(e[i]).attr("isEmptyAmount","1")):B(e[i])}}))}))}for(var J=[],H=0;H<I.length;H++){var W=I.eq(""+H);if(!(W.find(".optionSelected").length>0))break;J.push(W.find(".optionSelected").attr("data"))}p?jm("#mallPrice").html(f):h&&jm("#mallPrice").html(g),null!=Mobi.productNewDetailIScrollObj&&Mobi.productNewDetailIScrollObj.refresh()}})),y&&t.on("totalPriceChange",(function(t){var e=t.price;u({choiceCurrencyVal:r,price:e,panelId:C})}))}function A(t){jm(t).css("border-style","dashed").css("color","#CDCDCD"),jm("#"+jm(t).attr("for")).attr("disabled",!0)}function B(t){jm(t).css("border-style","").css("color",""),jm(t).attr("isEmptyAmount",""),jm("#"+jm(t).attr("for")).removeAttr("disabled")}Mobi.priceCalendar=epctrl.init("Calendar",{el:"#priceCalendar",priceCalendar:!0,openAmount:F,mallOptions:t,mkPrice:k,useMk:L,multiSelect:y?{startLabel:w.startLabel,endLabel:w.endLabel}:null}),Mobi.priceCalendar.on("afterCreate",(function(){"undefined"!=typeof Vue&&Vue.prototype.$modulesEventBus.$emit("cartPanelOptionsMounted","priceCalendar")})),y&&u({choiceCurrencyVal:r,price:0,panelId:C}),T(Mobi.priceCalendar)};var d,m,p={};function u(t){var e=t||p,i=e.choiceCurrencyVal,o=e.price,n=void 0===o?0:o,a=e.panelId;p={choiceCurrencyVal:i,price:n,panelId:a};var r=(n=(+jm(a+" #productNum").val()||1)*n).toFixed(2).split(".")[0],s=n.toFixed(2).split(".")[1],l='\n        <div class="priceBox">\n            <span class="title">总计：</span>\n            <div class="priceContainer">\n                <div class="priceContent">\n                    <div class="currency">'.concat(i,'</div>\n                    <div class="price">').concat(r,'</div>\n                    <div class="decimal">.').concat(s,"</div>\n                </div>\n            </div>\n        </div>\n    ");document.getElementById("totalprice").innerHTML=l}function f(t,e){for(var i=!0,o=0;o<e.length;o++)e[o]!=t[o]&&(i=!1);return i}function h(t){return str=this.location.href.toString(),idIsFirstParam=!0,idIndex=str.indexOf("?id="),-1==idIndex&&(idIndex=str.indexOf("&id="),idIsFirstParam=!1),preStr=str.substring(0,idIndex),endStr=str.substring(idIndex+4,str.length),endStr=endStr.substring(endStr.indexOf("&"),endStr.length),idIsFirstParam?preStr+"?id="+t+endStr:preStr+"&id="+t+endStr}Mobi.renderTotalPrice=u,Mobi.initProductOptions=function(t){var e=(t=t||{}).optionsAmountList,i=t.mkt_optionsAmountList,o=t.mkt_defaultPrice,n=t.isRelateAmount,a=t.limitAmount_options,r=t.productRestrictInfo,s=t.choiceCurrencyVal,l=t.entry,c=t.productId,d=t.weightTypeStr,m=t.isCutPrice,p=t.cpMinPrice,u=t.isSecKill,h=t.secKillPrice,g=t.isIntegralMall,v=t.imMinPrice,b=t.fromCommunityGroup,_=t.communityCustomPrice,j=t.isCombinedPurchase,M=t.openPriceCalendar,y=Fai.top._openThemeV3,w=!1;jm.each(e,(function(t,e){if(null==e.t)return w=!0,!1})),null==d&&(d="kg");var S=jm(".J-op-box"),I=jm(".mallOptionImg"),C=S.find(".J-op"),P="";1==l&&(S=jm("#productMallOptionPanel"+c+" .J-op-box"),I=jm("#productMallOptionPanel"+c+" .mallOptionImg"),C=S.find(".J-op"),P="#productMallOptionPanel"+c);var x=[],k=jm("#mallPrice").html(),L=jm("#mallAmount").html(),F=jm("#mallWeight").html(),T="",A="";if(I.length>0){var B=I.css("background-image").lastIndexOf('"');T=I.attr("src")||I.css("background-image").substring(5,B)||"",A=I.attr("picid")||""}M||(L<=0?(O(C.find("label")),C.find("label").attr("isEmptyAmount","1")):jm.each(e,(function(t,e){if(e.oAmount<=0&&C.length<=1){var i=C.find("label[data='"+e.t2+"']");O(i),jm(i).attr("isEmptyAmount","1")}else e.oAmount<=0&&x.push(e.t2)})));var D=[];function O(t){jm(t).css("border-style","dashed").css("color","#CDCDCD"),jm("#"+jm(t).attr("for")).attr("disabled",!0)}function N(t){jm(t).css("border-style","").css("color",""),jm(t).attr("isEmptyAmount",""),jm("#"+jm(t).attr("for")).removeAttr("disabled")}jm(C).each((function(){var t=jm(this),B=y?"optionSelected isSelected g_main_bgColor_v3":"optionSelected isSelected";t.find("label").click((function(){if("1"!=jm(this).attr("isEmptyAmount")){var y=[];y=Mobi.isMarketingBtn&&i.length>0?i:e,M&&Mobi.priceCalendar.reset();var E=jm(this),R=E.parent().parent().attr("data");if(E.hasClass("isSelected"))E.parent().find(".optionSelected").removeClass(B),jm("#"+E.attr("for")).prop("checked",!1),E.parents(".J-op").removeAttr("option_data"),Mobi.isMarketingBtn&&i.length>0?(jm("#mallPrice").html(o),g&&(jm("#integral").html(v.minIntegral),jm("#mallPrice").html(parseFloat(v.minPrice).toFixed(2)))):jm("#mallPrice").html(k),jm("#mallAmount").html(L),jm("#mallWeight").html(F),a&&(jm("#g_increase").removeClass("g_opacity50"),jm("#limitAmountDiv").text(""),jm("#limitAmountDiv").parent().css("line-height",""),jm("#g_increase").unbind("click.ic2"),jm("#g_decrease").unbind("click.dc2"));else{E.parent().find(".optionSelected").length>0&&E.parent().find(".optionSelected").removeClass(B),E.addClass(B);var U=E.attr("data");t.attr("option_data",U)}if(C.length>1&&n){var J="",H=0;C.each((function(t){jm(C[t]).find(".optionSelected").length<=0?J+="x_":J+=jm(C[t]).find(".optionSelected").attr("data")+"_"})),J=J.substring(0,J.length-1),jm.each(y,(function(t,e){(function(t,e){if(""==t)return!1;var i=!0,o=t.split("_"),n=e.split("_");return o.length==n.length&&(jm.each(o,(function(t){"x"!=o[t]&&o[t]!=n[t]&&(i=!1)})),i)})(J,e.t2)&&(0==e.flag||isNaN(e.oAmount)||(H+=e.oAmount))})),jm(P+" #mallAmount").text(H)}var W=S.find(".optionSelected");if(I.length>0){var V=E.attr("_indeptPic"),q=E.attr("picid");if(null==V){if(D.length>0)for(var z=0;z<D.length;z++)V=D[D.length-1].path,D[z].itemId==R&&(D.pop(),D.length>0&&(V=D[D.length-1].path));else V=T;q=A}else D.push({itemId:R,path:V});Fai.top._openThemeV3?I.css("background-image","url("+V+")"):I.attr("src",V),jm(".J_mallOptionImg").attr("picid",q).attr("src",V).attr("isOptImg",!0)}if(C.length==W.length){var G,$,Y,K,X,Z,Q="";if(jm(W).each((function(){Q+=w?jm(this).attr("data")+"_":jm(this).attr("data")})),jm.each(y,(function(t,e){var i=e.t2;e.t==Q?(G=e.oPrice,$=e.oIntegral,Y=e.oAmount,K=e.minAmount,X=e.maxAmount,Z=e.w):i+"_"==Q&&(0==e.flag?jm("#mallPrice").html(k):G=e.oPrice,$=e.oIntegral,Y=e.oAmount,K=e.minAmount,X=e.maxAmount,Z=e.w)})),b&&(G=_),a){jm(P+" #limitAmountDiv").text("");var tt=0,et=r.optionsCount;if(null!=et&&null!=et.d)for(var it=0;it<et.d.length;it++)et.d[it].t+"_"==Q&&(tt=et.d[it].c);var ot=0;ot=X-tt,jm.fkEval(ot)<0&&(ot=-1);var nt=1,at=-1;K>1&&0!=X?(jm(P+" #limitAmountDiv").parent().attr("style","line-height:1.5rem;"),jm(P+" #limitAmountDiv").text("( "+LS.minAmount+" : "+K+" ; "+LS.maxAmount+" : "+ot+" )"),nt=K,at=ot):1==K&&0!=X?(jm(P+" #limitAmountDiv").parent().attr("style","line-height:1.5rem;"),jm(P+" #limitAmountDiv").text("( "+LS.maxAmount+" : "+ot+" )"),at=ot):K>1&&0==X&&(jm(P+" #limitAmountDiv").parent().attr("style","line-height:1.5rem;"),jm(P+" #limitAmountDiv").text("( "+LS.minAmount+" : "+K+" )"),nt=K),jm(P+" #productNum").val(nt),jm(P+" #productNum").unbind("change"),jm(P+" #productNum").bind("change",(function(){var t=jm(P+" #productNum").val(),e=1;jm.isInteger(t)&&(e=parseInt(t)),e<nt||e==nt?(e=nt,jm(P+" #g_decrease , .g_decrease").addClass("g_opacity50"),jm(P+" #g_increase , .g_increase").removeClass("g_opacity50")):-1!=at&&(e>at||e==at)?(e=at,jm(P+" #g_decrease , .g_decrease").removeClass("g_opacity50"),jm(P+" #g_increase , .g_increase").addClass("g_opacity50")):e>9999998?(e=9999999,jm(P+" #g_decrease , .g_decrease").removeClass("g_opacity50"),jm(P+" #g_increase , .g_increase").addClass("g_opacity50")):(jm(P+" #g_decrease , .g_decrease").removeClass("g_opacity50"),jm(P+" #g_increase , .g_increase").removeClass("g_opacity50")),jm(P+" #productNum").val(e)})),jm(P+" #productNum").change(),jm(P+" #g_decrease , .g_decrease").unbind("click.dc2"),jm(P+" #g_increase , .g_increase").unbind("click.ic2"),jm(P+" #g_decrease , .g_decrease").bind("click.dc2",(function(){var t=jm(P+" #productNum").val(),e=1;jm.isInteger(t)&&(e=parseInt(t)),e<nt+1&&jm(P+" #productNum").val(nt),jm(P+" #productNum").change()})),jm(P+" #g_increase , .g_increase").bind("click.ic2",(function(){var t=jm(P+" #productNum").val(),e=1;jm.isInteger(t)&&(e=parseInt(t)),e>at-1&&-1!=at&&(at>nt?jm(P+" #productNum").val(at):jm(P+" #productNum").val(nt)),jm(P+" #productNum").change()}))}n&&jm(P+" #mallAmount").text(Y),b||Mobi.onlyChangeSalePrice(G,s,l,c),g&&jm("#integral").html($),null!=Z&&jm(P+" #mallWeight").text(Z+d)}if(C.length!=W.length&&1!=C.length&&(jm(".J-op-box label").css("border-style","").css("color",""),jm(".J-op-box label").attr("isEmptyAmount",""),jm(".J-op-box input[type='radio']").removeAttr("disabled")),C.length-1<=W.length&&1!=C.length||j){var rt="";C.each((function(t){jm(C[t]).find(".isSelected").length<=0?rt+="x_":rt+=jm(C[t]).find(".isSelected").attr("data")+"_"})),""!=rt&&(rt=rt.substring(0,rt.length-1));var st="";if(C.each((function(t){jm(C[t]).find(".isSelected").length<=0&&(st=jm(C[t]))})),""!=st){var lt=st.find("label");lt.each((function(t){var e=rt.replace("x",jm(lt[t]).attr("data"));jm.inArray(e,x)>=0?(O(lt[t]),jm(lt[t]).attr("isEmptyAmount","1")):N(lt[t])}))}else C.each((function(t){var e=jm(C[t]).find("label");e.each((function(i){if(!jm(e[i]).hasClass("isSelected")){var o=rt.split("_");o[t]=jm(e[i]).attr("data");var n=o.join("_");jm.inArray(n,x)>=0?(O(e[i]),jm(e[i]).attr("isEmptyAmount","1")):N(e[i])}}))}))}if(0==W.length){V=T,q=A;Fai.top._openThemeV3?I.css("background-image","url("+V+")"):I.attr("src",V),jm(".J_mallOptionImg").attr("picid",q).attr("src",V).attr("isOptImg",!0)}for(var ct=[],dt=0;dt<C.length;dt++){var mt=C.eq(""+dt);if(!(mt.find(".optionSelected").length>0))break;ct.push(mt.find(".optionSelected").attr("data"))}var pt=!1;if(ct.length<=C.length&&ct.length>1&&!M)for(var ut=ct.length,ft=0;ft<ut&&(jm.each(y,(function(t,e){var i=e.t2.split("_");if(null==e.flag&&(e.flag=1),1==e.flag&&f(i,ct))return pt=!0,!1})),!pt);ft++){var ht=C.eq(ct.length-1).find("label");C.eq(ct.length-1).removeAttr("option_data"),ht.removeClass(B);var gt=ct.pop();ht.each((function(){jm(this).attr("data")==gt&&jm(this).hide()}))}var vt=C.index(t);if(!M)for(z=vt;z<ct.length;z++){var bt=ct.slice(0,z+1);pt=!1;for(var _t=function(t){C.eq(""+t).find("label").each((function(){var e=jm(this).attr("data");pt=!1,jm.each(y,(function(i,o){var n=o.t2.split("_");if(null==o.flag&&(o.flag=1),e==n[t]&&1==o.flag&&f(n,bt))return pt=!0,!1})),pt?jm(this).show():jm(this).hide()}))},jt=bt.length;jt<C.length;jt++){_t(jt)}}if(m)jm("#mallPrice").html(p);else if(u)jm("#mallPrice").html(h);else if(j&&(Mobi.cpPdOtionSelectType["pid"+c]=rt,rt&&!rt.includes("x"))){var Mt=(Mobi.cachePdOptionInfo["optionsAmountInfo"+c]||{}).d||[];jm.each(Mt,(function(t,e){e.t2==rt&&(jm("#targetAmount"+c).html(e.oAmount||0),jm("#productOriginalPrice"+c).html("原价"+Fai.top.choiceCurrencyVal+parseFloat(e.oPrice).toFixed(2)))}))}null!=Mobi.productNewDetailIScrollObj&&Mobi.productNewDetailIScrollObj.refresh()}}))})),"undefined"!=typeof Vue&&Vue.prototype.$modulesEventBus.$emit("cartPanelOptionsMounted","optionList")},Mobi.onlyChangeSalePrice=function(t,e,i,o){if(t=parseFloat(t),!isNaN(t)){var n=jm("#mallPrice");1==i&&(n=jm("#productMallOptionPanel"+o+" #mallPrice"));var a=Mobi.salePromotionDetail.salePromotionParam;if(void 0!==a&&null!=a&&""!=a)if("1"!=Mobi.salePromotionDetail.showType)if("1"==a.saleType){var r=parseFloat(a.other.ruleData.d[0].m),s=0;(s="1"==a.other.ruleData.s?t*(r/10):t-r)<0&&(s=0),0==jm(".J_saleProductNew").css("width").length&&1!=i&&void 0!==i?(n.html(t.toFixed(2)),jm(".J_salePriceSet").html(e+s.toFixed(2))):(n.html(s.toFixed(2)),jm(".J_salePriceSet").html(e+s.toFixed(2)))}else n.html(t.toFixed(2));else n.html(t.toFixed(2));else n.html(t.toFixed(2))}},Mobi.autoSetProductHeight=function(t){Mobi.unifiedAttrVal(jm(Mobi.getPreviewObject("module"+t)),".styleForm1 .mProductTileForm","height")},Mobi.initProductSwipe=function(t){var e=Mobi.getJQMobi(),i=Mobi.getPreviewObject(t);if(i){jm("#graphicPosterItem").bind("click",(function(){jm("#webPagePanelmallThemeProductDetailShare").hide(),jm("#webPagePanelshowPromoterPdSharePanel").hide()}));var o={triggerId:"graphicPosterItem",pageBg:!0,pageHtml:Mobi.createGraphicPosterPage(),direction:"bottom",closeWebPage:"#graphicPosterPanelBg",callback:function(){Fai.top._isMall?jm(".J_earnestPriceContain").length>0?(Mobi.drawEarnestSaleCanvasSharePic(),Mobi.logDog(201083,2)):Mobi.drawCanvasSharePic():Mobi.drawCommCanvasSharePicture(Mobi.commShareTemplateData("product"))}};if(Mobi.initWebPage(o),Mobi.initScaleImage(i),e("#"+t).swipehandle(i,{continuous:!0,bulletsClick:!0,callback:function(t){for(var e=n.length;e--;)n[e].className=" ";n[t]?n[t].className="on":n[t-n.length].className="on",1==jm(".mobiProductVideoDialog").length&&Mobi.videoQuit()}}),jm(".shareListSwipe").bind("click",(function(){Mobi.logDog(201083,1)})),i.querySelector(".bullets"))var n=i.querySelector(".bullets").getElementsByTagName("li")}},Mobi.pdCommentAddCom=function(){var t=jm.trim(jm("#productCommentCreator").val()),e=jm("#productCommentInput").val(),i=jm("#productCommentInput").attr("minlength"),o=jm("#validateCodeInput").val(),n=jm("#productCommentInput").attr("productId");if("string"==typeof t)if("string"==typeof e&&""!=e)if(e.length<i)Mobi.ing(jm.format(LS.commentLenTips,jm.encodeHtml(i)));else if("string"==typeof o&&""!=o){var a=jm(".J_productCommImg").find("img"),r=[];if(null!=a&&void 0!==a){var s=a.length;if(s>0)for(var l=0;l<s;l++){var c=a.eq(l);if(null!=c&&"undefined"!=c){var d={},m=c.attr("_id"),p=c.attr("_name"),u=c.attr("_file_size"),f=c.attr("_file_id"),h=Number(c.attr("_fileWidth")||0),g=Number(c.attr("_fileHeight")||0),v=Number(c.attr("_fileType")||0);d.imgId=m,d.imgName=p,d.imgSize=u,d.tempFileId=f,d.imgWidth=h,d.imgHeight=g,d.imgType=v,r.push(d)}}}var b=Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/productComment_h.jsp?cmd=addWafCk_submitPC",_={validateCode:o,commentsObjId:n,creator:t,commImgList:JSON.stringify(r),comment:e};Mobi.ing(LS.siteFormSubmitIng),jm.ajax({type:"POST",url:b,data:_,error:function(){Mobi.ing(LS.js_systemError),jm("#captchaChange").click(),Mobi.logMonitor(5933,!0)},success:function(t){var e=jm.parseJSON(t);if(e&&e.success||jm("#captchaChange").click(),e.hasFW)Mobi.ing(e.msg);else switch(e.logMonitor&&Mobi.logMonitor(5933,!0),e.msg){case 1:Mobi.ing(LS.js_captchaError);break;case 2:Mobi.ing(LS.creatorError);break;case 3:Mobi.ing(LS.commentError);break;case 4:Mobi.getCommentDiv("product",n),jm(".comm-find-tb-remove").remove(),e.autoOpenComm||null==e.autoOpenComm?Mobi.ing(LS.commentSuccess,1):Mobi.ing(LS.commentSuccessNeedReview,1);break;case 5:Mobi.ing(LS.paramError);break;case 6:var i=jm.encodeUrl(window.location.href);window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?returnUrl="+i+"&errno=11";break;case 7:Mobi.ing(LS.commentClosed);break;case 8:Mobi.ing(LS.commentSubmitError);break;case 9:Mobi.ing(LS.commentCountLimit)}}})}else Mobi.ing(LS.memberInputCaptcha);else Mobi.ing(LS.commentNotEmpty);else Mobi.ing(LS.creatorTips)},Mobi.waterFall=function(t,e,i,o,n,a,r,s,c){var d=jm("#"+e),m=Mobi.isModuleV2(3),p=d.parents(".J_formTabContent").length>0;p&&d.parents(".J_formTabContent").addClass("showTabContent"),jm("#"+e+" .productWaterFall").css("display","block");var u=parseInt(jm("#"+e+" .productWaterFall .style8Img").width()),f=_htmlFontSize,h=u*a/(n*f);h=parseFloat(h.toFixed(4));var g=u*o/(i*f);g=parseFloat(g.toFixed(4));var v=jm("#"+e+" .paramPadding .paramName").css("font-size");if("object"!=l(v)){var b=v.substring(0,v.indexOf("p"))/f;b=parseFloat(b)+.2,c||jm("#"+e+" .productWaterFall .paramPadding .paramName").css("line-height",b+"rem"),b=2*parseFloat(b.toFixed(4))}else b=0;if("paramWrap"==r?Mobi.getBrowserType()==Mobi.BrowserType.FIREFOX?jm("#"+e+" .productWaterFall .paramPadding .paramName").height(b+"rem"):jm("#"+e+" .productWaterFall .paramPadding .paramName").height(b-.08+"rem"):jm("#"+e+" .productWaterFall .paramPadding .paramName").height(b/2+"rem"),1==t.length)jm("#"+e+" .productWaterFall .style8Img").height(h+"rem"),jm("#"+e+" .productWaterFall").eq(_).css({"vertical-align":"top"}),jm("#"+e+" .productWaterFall").eq(_).css({top:"unset"}),jm("#"+e+" .productWaterFall").eq(_).css({position:"static"});else if(2==t.length){for(var _=0;_<t.length;_++)if(_%2==0)jm("#"+e+" .productWaterFall .style8Img").eq(_).height(h+"rem"),jm("#"+e+" .productWaterFall").eq(_).css({"vertical-align":"top"}),jm("#"+e+" .productWaterFall").eq(_).css({top:"unset"}),jm("#"+e+" .productWaterFall").eq(_).css({position:"static"});else if(_%2==1){jm("#"+e+" .productWaterFall .style8Img").eq(_).height(g+"rem"),jm("#"+e+" .productWaterFall").eq(_).css({position:"absolute",top:"0rem"}),m?(y=jm("#"+e+" .productWaterFall .commonProRight").closest(".productWaterFall"),w=jm("#"+e+" .productWaterFall .firstLastPro").closest(".productWaterFall")):(y=jm("#"+e+" .productWaterFall .commonProRight").parent().parent().parent(),w=jm("#"+e+" .productWaterFall .firstLastPro").parent().parent().parent());var j=parseFloat(y.height()),M=parseFloat(w.height());if((M/=f)<(j/=f))j+=10/f,(m?jm("#"+e+" .productWaterFall .firstLastPro").closest(".mProductList"):jm("#"+e+" .productWaterFall .firstLastPro").parent().parent().parent().parent()).height(j+"rem")}}else for(_=0;_<t.length;_++){var y,w,S=_;if(y=m?jm("#"+e+" .productWaterFall .commonProRight").closest(".productWaterFall"):jm("#"+e+" .productWaterFall .commonProRight").parent().parent().parent(),0==_)jm("#"+e+" .productWaterFall .style8Img").eq(_).height(h+"rem"),jm("#"+e+" .productWaterFall").eq(_).css({"vertical-align":"top"}),jm("#"+e+" .productWaterFall").eq(_).css({top:"unset"}),jm("#"+e+" .productWaterFall").eq(_).css({position:"static"});else if(S+1==t.length){if(jm("#"+e+" .productWaterFall .style8Img").eq(_).height(h+"rem"),t.length%2==1)jm("#"+e+" .productWaterFall").eq(_).css({"vertical-align":"top"}),jm("#"+e+" .productWaterFall").eq(_).css({top:"unset"}),jm("#"+e+" .productWaterFall").eq(_).css({position:"static"});else if(t.length%2==0){var I=parseFloat(y.height()),C=((I/=f)+.5)*((_+1)/2-1);jm("#"+e+" .productWaterFall").eq(_).css({position:"absolute",top:C+"rem"})}}else{jm("#"+e+" .productWaterFall .style8Img").eq(_).height(g+"rem");I=parseFloat(y.height());if(I/=f,_%2==0)jm("#"+e+" .productWaterFall").eq(_).css({"vertical-align":"top"}),jm("#"+e+" .productWaterFall").eq(_).css({top:"unset"}),jm("#"+e+" .productWaterFall").eq(_).css({position:"static"});else if(_%2==1){var P=(I+.5)*((_+1)/2-1);jm("#"+e+" .productWaterFall").eq(_).css({position:"absolute",top:P+"rem"})}}}if(Fai.top._manageMode){var x,k,L=$("#"+e),F=L.find(".productWaterFall"),T="true"==L.attr("_productselect");F.each((function(t,e){x=$(e),k="off"==x.attr("topswitch"),x.find(".waterFallImg").wrap("<div class='J_productListImgWrap fk-productListImgWrap'></div>"),k&&!T&&x.find(".J_productListImgWrap").append("<div class='f-productListTopFlag' >置顶</div>")}))}jm("#"+e+" .productWaterFall").each((function(t,e){var i=jm(e),o=i.attr("productId");if(s[o]){var n=s[o];n.salePromotionOpen&&i.find(".waterFallImg").append("<div class='g_bgColor g_main_bgColor_v3 f-productListTopPromotion'>"+n.saleFlagName+"</div>\n")}})),p&&d.parents(".J_formTabContent").removeClass("showTabContent")},Mobi.initProductSwipe1=function(t,e){var i=Mobi.getJQMobi(),o=Mobi.getPreviewObject(t),n=i("#"+t).find(".productSwipeItem");if(o&&(i("#"+t).swipehandle(o,{auto:!1,continuous:!1,bulletsClick:!0,callback:function(t){for(var i=a.length;i--;)a[i].className=" ";if(a[t]){if(a[t].className="on",e){for(var o=0;o<a.length;o++)a[o].style.backgroundColor="#d9d9d9";a[t].style.backgroundColor=Fai.top._themeColor}}else if(a[t-a.length].className="on",e){for(var r=0;r<a.length;r++)a[r].style.backgroundColor="#d9d9d9";a[t-a.length].style.backgroundColor=Fai.top._themeColor}setTimeout((function(){n.eq(t).find("div.style7Img").trigger("slidePic")}),300)}}),o.querySelector(".bullets")))var a=o.querySelector(".bullets").getElementsByTagName("li")},Mobi.productCrossedSlide=function(t,e,i,o,n){var a=jm("#"+t+" .productCrossedSlide .style7Img").width(),r=_htmlFontSize,s=a*i/(e*r);s=parseFloat(s.toFixed(4));var c=jm("#"+t+" .paramPadding .paramName").css("font-size");if("object"!=l(c)){var d=c.substring(0,c.indexOf("p"))/r+.2;n||jm("#"+t+" .productCrossedSlide .paramPadding .paramName").css("line-height",d+"rem"),d=2*parseFloat(d.toFixed(4))}else d=0;"paramWrap"==o?Mobi.getBrowserType()==Mobi.BrowserType.FIREFOX?jm("#"+t+" .productCrossedSlide .paramPadding .paramName").height(d+"rem"):jm("#"+t+" .productCrossedSlide .paramPadding .paramName").height(d-.08+"rem"):jm("#"+t+" .productWaterFall .paramPadding .paramName").height(d/2-.1+"rem"),jm("#"+t+" .productCrossedSlide .style7Img").height(s+"rem")},Mobi.productCrossedSlideSec=function(t,e,i,o,n){var a,r=jm("#"+t+" .productCrossedSlideSec .style9Img").width(),s=_htmlFontSize,c=Fai.top._openThemeV3,d=!1,m=r*i/(e*s);m=parseFloat(m.toFixed(4));var p=jm("#"+t+" .paramPadding .paramName").css("font-size");if(c&&jm("#"+t+" .paramPadding .paramName").each((function(){var t=parseInt(jm(this).height());null==a?a=t:a!=t&&(d=!0)})),"object"!=l(p)){var u=p.substring(0,p.indexOf("p"))/s+.2;n||jm("#"+t+" .productCrossedSlideSec .paramPadding .paramName").css("line-height",u+"rem"),u=!d&&c?1*parseFloat(u.toFixed(4)):2*parseFloat(u.toFixed(4))}else u=0;n||("paramWrap"==o?Mobi.getBrowserType()==Mobi.BrowserType.FIREFOX?jm("#"+t+" .productCrossedSlideSec .paramPadding .paramName").height(u+"rem"):jm("#"+t+" .productCrossedSlideSec .paramPadding .paramName").height(u-.08+"rem"):jm("#"+t+" .productWaterFall .paramPadding .paramName").height(u/2-.1+"rem")),jm("#"+t+" .productCrossedSlideSec .style9Img").height(m+"rem")},Mobi.productCrossedSlideSecSwipe=function(t,e,i,o){var n=Mobi.getPreviewObject(t),a=Mobi.getPreviewObject(e);if(a){var r,s,l,c,d,m=n,p=parseInt(jm(a).width()),u=0,f=a.querySelectorAll(".productCrossedSlideSec"),h=_htmlFontSize,g=o?f.length*parseInt(jm(f[0]).css("margin-left")):.5*f.length*h,v=jm(a),b=jm("#"+t),_=!1,j=!0,M=void 0,y=null,w=0,S=jm("<div></div>");if("productList"!==i&&v.css("margin-top","30px"),f.length>0&&(u=f[0].offsetWidth*f.length),(u+=g)>p){navigator.appVersion.match(/MSIE [\d.]+/)&&10===parseInt(navigator.appVersion.match(/MSIE ([\d.]+)/)[1])&&(u+=2*f.length),u+=10,jm(m).css("width",u+"px");var I=jm.getCookie("startX")?parseInt(jm.getCookie("startX")):0;if(Mobi.isPC())v.css({position:"relative",height:parseInt(b.height())+"px"}),b.css({position:"absolute",left:0,top:0}),v.off("mousedown.prod").on("mousedown.prod",(function(t){b.find("div.style9Img").trigger("horizonScroll"),b.append(S),s=c=t.pageX,l=d=t.pageY,v.off("mousemove.prod").on("mousemove.prod",L),v.off("mouseup.prod").on("mouseup.prod",F),v.off("mouseout.prod").on("mouseout.prod",k),t.preventDefault(),t.stopPropagation()})),v.off("mousedown.prodItem").on("mousedown.prodItem",".J_prodItem",(function(){y=jm(".editLayer"),r=b.offset().left})),v.off("click.checkMove").on("click.checkMove",(function(){j=!_,_=!1})),v.off("click.prodLink").on("click.prodLink",".J_prodItem-a",(function(){return j}));else{var C,P=function(t){var e=t.touches.length>0?t.touches[0]:t.chengedTouches[0];c=e.pageX,d=e.pageY,void 0===C&&void 0!==s&&void 0!==l&&(!1===(C=T(s,l,c,d))&&t.preventDefault(),v.off("touchmove.prod")),s=c,l=d},x=function t(){C=s=l=c=d=void 0,v.off("touchmove.proCross",P),v.off("touchend.proCross",t)};new iScroll(a,{x:I,scrollX:!0,scrollY:!1,mouseWheel:!0,remarkXCoordinate:!0,onBeforeScrollStart:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:function(){b.find("div.style9Img").trigger("horizonScroll")}}),v.off("touchstart.prod").on("touchstart.prod",(function(t){b.find("div.style9Img").trigger("horizonScroll");var e=A(t);s=c=e.pageX,l=d=e.pageY,v.off("touchmove.prod").on("touchmove.prod",B),v.off("touchend.prod").on("touchend.prod",D),b.append(S)})),v.off("touchstart.proCross").on("touchstart.proCross",(function(t){var e=t.touches.length>0?t.touches[0]:t.chengedTouches[0];s=e.pageX,l=e.pageY,v.off("touchmove.proCross").on("touchmove.proCross",P),v.off("touchend.proCross").on("touchend.proCross",x)})),S.css({width:"100%",height:"100%",position:"absolute",opacity:0,left:0,top:0,zIndex:-1}),b.children().off("touchmove.banIScroll").on("touchmove.banIScroll",(function(t){!0===M&&t.stopPropagation()}))}}b.find(".productCrossedSlideSec").show()}function k(){v.off("mouseup.prod"),v.off("mousemove.prod"),v.off("mouseout.prod")}function L(t){var e=v.width()-b.width(),i=parseInt(b.css("left"));_=!0,c=t.pageX,d=t.pageY,(i+=c-s)>0&&(i=0),i<e&&(i=e),b.css("left",i+"px"),s=c,l=d,y&&y.length&&y.hide(),t.stopPropagation()}function F(){var t,e=0;v.off("mouseup.prod"),v.off("mousemove.prod"),v.off("mouseout.prod"),w=b.offset().left,y&&y.length&&(e=w-r,t=parseFloat(y.css("left")),y.css("left",t+e+"px"),y.show()),y=null}function T(t,e,i,o){var n=Math.abs(t-i),a=Math.abs(e-o);if(0!==n||0!==a)return 0===n&&a>0||!(0===a&&n>0)&&a/n>1}function A(t){var e=t.touches.length>0?t.touches[0]:t.chengedTouches[0];return{pageX:e.pageX,pageY:e.pageY}}function B(t){var e=A(t);c=e.pageX,d=e.pageY,void 0===M&&void 0!==s&&void 0!==l&&(M=T(s,l,c,d),b.off("touchmove.prod")),s=c,l=d}function D(){S.remove(),M=s=l=c=d=void 0,v.off("touchmove.prod",B),v.off("touchend.prod",D)}},Mobi.secKillPdSwipe=function(t,e,i){var o,n,a=0,r=Mobi.getPreviewObject(t),s=Mobi.getPreviewObject(e),l=r,c=parseInt(jm(s).width()),d=s.querySelectorAll(".J_prodItem"),m=_htmlFontSize,p=.4*d.length*m+.7*m,u=jm(s),f=jm("#"+t),h=jm("<div></div>"),g=0,v=0,b=0,_=0,j=void 0,M=null,y=0,w=0;if(d.length>0&&(a=d[0].offsetWidth*d.length,a+=p),a>c)jm(l).css("width",a+"px"),Mobi.isPC()?(u.css({position:"relative",height:parseInt(f.height())+"px"}),f.css({position:"absolute",left:0,top:"0rem"}),u.off("mousedown.prod").on("mousedown.prod",(function(t){f.find("div.J_pdImg").trigger("horizonScroll"),f.append(h),g=b=t.pageX,v=_=t.pageY,u.off("mousemove.prod").on("mousemove.prod",C),u.off("mouseup.prod").on("mouseup.prod",P),u.off("mouseout.prod").on("mouseout.prod",I),t.preventDefault(),t.stopPropagation()})),u.off("mousedown.prodItem").on("mousedown.prodItem",".J_prodItem",(function(){M=jm(".editLayer"),y=f.offset().left})),u.off("click.checkMove").on("click.checkMove",(function(){n=!o,o=!1})),u.off("click.prodLink").on("click.prodLink",".J_prodItem-a",(function(){return n}))):(new iScroll(s,{x:0,scrollX:!0,scrollY:!1,mouseWheel:!0,remarkXCoordinate:!0,onBeforeScrollStart:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:function(){f.find("div.J_pdImg").trigger("horizonScroll")}}),u.off("touchstart.prod").on("touchstart.prod",(function(t){f.find("div.J_pdImg").trigger("horizonScroll");var e=x(t);g=b=e.pageX,v=_=e.pageY,u.off("touchmove.prod").on("touchmove.prod",k),u.off("touchend.prod").on("touchend.prod",L),f.append(h)})),h.css({width:"100%",height:"100%",position:"absolute",opacity:0,left:0,top:0,zIndex:-1}),f.children().off("touchmove.banIScroll").on("touchmove.banIScroll",(function(t){!0===j&&t.stopPropagation()})));else if(i){var S=a/m;jm(l).css("width",S+"rem")}else i||jm(l).css("width","unset");function I(){u.off("mouseup.prod"),u.off("mousemove.prod"),u.off("mouseout.prod")}function C(t){var e=u.width()-f.width(),i=parseInt(f.css("left"));o=!0,b=t.pageX,_=t.pageY,(i+=b-g)>0&&(i=0),i<e&&(i=e),f.css("left",i+"px"),g=b,v=_,M&&M.length&&M.hide(),t.stopPropagation()}function P(){var t,e=0;u.off("mouseup.prod"),u.off("mousemove.prod"),u.off("mouseout.prod"),w=f.offset().left,M&&M.length&&(e=w-y,t=parseFloat(M.css("left")),M.css("left",t+e+"px"),M.show()),M=null}function x(t){var e=t.touches.length>0?t.touches[0]:t.chengedTouches[0];return{pageX:e.pageX,pageY:e.pageY}}function k(t){var e=x(t);b=e.pageX,_=e.pageY,void 0===j&&void 0!==g&&void 0!==v&&(j=function(t,e,i,o){var n=Math.abs(t-i),a=Math.abs(e-o);if(0!==n||0!==a)return 0===n&&a>0||!(0===a&&n>0)&&a/n>1}(g,v,b,_),f.off("touchmove.prod")),g=b,v=_}function L(){h.remove(),j=g=v=b=_=void 0,u.off("touchmove.prod",k),u.off("touchend.prod",L)}},Mobi.integralMallPdSwipe=function(t,e){var i,o,n=0,a=Mobi.getPreviewObject(t),r=Mobi.getPreviewObject(e),s=a,l=parseInt(jm(r).width()),c=r.querySelectorAll(".J_prodItem"),d=_htmlFontSize,m=.4*c.length*d+.7*d,p=jm(r),u=jm("#"+t),f=jm("<div></div>"),h=0,g=0,v=0,b=0,_=void 0,j=null,M=0,y=0;function w(){p.off("mouseup.prod"),p.off("mousemove.prod"),p.off("mouseout.prod")}function S(t){var e=p.width()-u.width(),i=parseInt(u.css("left"));o=!0,v=t.pageX,b=t.pageY,(i+=v-h)>0&&(i=0),i<e&&(i=e),u.css("left",i+"px"),h=v,g=b,j&&j.length&&j.hide(),t.stopPropagation()}function I(){var t,e=0;p.off("mouseup.prod"),p.off("mousemove.prod"),p.off("mouseout.prod"),y=u.offset().left,j&&j.length&&(e=y-M,t=parseFloat(j.css("left")),j.css("left",t+e+"px"),j.show()),j=null}function C(t){var e=t.touches.length>0?t.touches[0]:t.chengedTouches[0];return{pageX:e.pageX,pageY:e.pageY}}function P(t){var e=C(t);v=e.pageX,b=e.pageY,void 0===_&&void 0!==h&&void 0!==g&&(_=function(t,e,i,o){var n=Math.abs(t-i),a=Math.abs(e-o);if(0!==n||0!==a)return 0===n&&a>0||!(0===a&&n>0)&&a/n>1}(h,g,v,b),u.off("touchmove.prod")),h=v,g=b}function x(){f.remove(),_=h=g=v=b=void 0,p.off("touchmove.prod",P),p.off("touchend.prod",x)}c.length>0&&(n=c[0].offsetWidth*c.length,n+=m),n>l&&(jm(s).css("width",n+"px"),Mobi.isPC()?(p.css({position:"relative",height:parseInt(u.height())+"px"}),u.css({position:"absolute",left:0,top:"0.6rem"}),p.off("mousedown.prod").on("mousedown.prod",(function(t){u.find("div.J_pdImg").trigger("horizonScroll"),u.append(f),h=v=t.pageX,g=b=t.pageY,p.off("mousemove.prod").on("mousemove.prod",S),p.off("mouseup.prod").on("mouseup.prod",I),p.off("mouseout.prod").on("mouseout.prod",w),t.preventDefault(),t.stopPropagation()})),p.off("mousedown.prodItem").on("mousedown.prodItem",".J_prodItem",(function(){j=jm(".editLayer"),M=u.offset().left})),p.off("click.checkMove").on("click.checkMove",(function(){i=!o,o=!1})),p.off("click.prodLink").on("click.prodLink",".J_prodItem-a",(function(){return i}))):(new iScroll(r,{x:0,scrollX:!0,scrollY:!1,mouseWheel:!0,remarkXCoordinate:!0,onBeforeScrollStart:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:function(){u.find("div.J_pdImg").trigger("horizonScroll")}}),p.off("touchstart.prod").on("touchstart.prod",(function(t){u.find("div.J_pdImg").trigger("horizonScroll");var e=C(t);h=v=e.pageX,g=b=e.pageY,p.off("touchmove.prod").on("touchmove.prod",P),p.off("touchend.prod").on("touchend.prod",x),u.append(f)})),jm("body").off("touchmove.prod").on("touchmove.prod",(function(t){!1===_&&t.preventDefault()})),f.css({width:"100%",height:"100%",position:"absolute",opacity:0,left:0,top:0,zIndex:-1}),u.children().off("touchmove.banIScroll").on("touchmove.banIScroll",(function(t){!0===_&&t.stopPropagation()}))))},Mobi.videoShoppingDetail=function(t,e){0==t.length&&jm(".rightCon"+e).css("bottom","-.5rem");var i=!0,o=!1;1==t.length&&jm("#carouselCon"+e).css("width","7.675rem"),t.length<=2&&(i=!1,o=!0),new Swiper("#carouselCon"+e,{autoplay:!0,speed:6e3,noSwiping:o,loop:i,slidesPerView:2})},Mobi.videoShoppingSetStyle=function(t,e){var i=window.innerWidth;0==t?jm(".videoShoppingStyleSet").css({width:"100%",height:"100%",objectFit:"fill","z-index":"1"}):1==t?jm(".videoShoppingStyleSet").css({width:"100%",height:"100%",objectFit:"contain"}):2==t&&(0==e?jm(".videoShoppingStyleSet").css({width:i+"px",height:3*i/4+"px",objectFit:"fill"}):1==e?jm(".videoShoppingStyleSet").css({width:i+"px",height:4*i/5+"px",objectFit:"fill"}):2==e?jm(".videoShoppingStyleSet").css({width:i+"px",height:9*i/16+"px",objectFit:"fill"}):3==e&&jm(".videoShoppingStyleSet").css({width:i+"px",height:i+"px",objectFit:"fill"}))},Mobi.initVideoShoppingSwiper=function(t,e){jm(".u_area_box_wrap").css("display","none"),jm("#mallThemeTopBar").css("height","0"),jm("#webFooter").css("display","none");var i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;Fai.top._isShowFkAuthTips&&(i-=30),jm(".videoShoppingDetailContent").css("height",i+"px");var o=i-((document.getElementById("productCarousel")||{}).offsetHeight||0)-26;jm(".videoBox").css("height",o+"px");var n=0;for(var a in e)e[a].id==t&&(n=a);var r=0,s=0;e[n].other&&(r=e[n].other.widthHeightType,s=e[n].other.cusWidthHeight),0==n?(Mobi.initVideoShoppingDom(n,e),Mobi.videoShoppingSetStyle(r,s)):Fai.top.videoShoppingItem="",new Swiper(".videoShoppingDetailContent",{initialSlide:n,direction:"vertical",mousewheelControl:!1,resistance:"100%",freeMode:!1,freeModeSticky:!0,speed:400,grabCursor:!0,onSlideChangeStart:function(t){var i=t.activeIndex;Mobi.initVideoShoppingDom(i,e);try{Mobi.isWxInit&&Mobi.changeWXShareLink(i,e)}catch(t){console.error(t)}}}),jm(".videoShoppingDetailLoading").css("display","none"),jm(".videoShoppingDetailContent").css("opacity","1")},Mobi.changeWXShareLink=function(t,e){wx.onMenuShareAppMessage({title:jm.decodeHtml(e[t].name||""),desc:jm.decodeHtml(e[t].vdesc||""),link:h(e[t].id),imgUrl:e[t].other.showHeadPicUrl}),wx.onMenuShareTimeline({title:jm.decodeHtml(e[t].name||""),desc:jm.decodeHtml(e[t].vdesc||""),link:h(e[t].id),imgUrl:e[t].other.showHeadPicUrl})},Fai.top.videoShoppingItem="",Mobi.initVideoShoppingDom=function(t,e){if(jm(".shareListContent").css("display","none"),jm(".VideoShoppingbgMask").css("display","none"),void 0!==Fai.top.videoShoppingItem&&null!=Fai.top.videoShoppingItem&&""!=Fai.top.videoShoppingItem){var i=document.getElementById(Fai.top.videoShoppingItem);i.pause(),i.removeAttribute("src"),i.load()}var o="",n=0,a=0;if(e[t].other){if(o=e[t].other.showVideoUrl,e[t].other.isDeleteVideo)return;n=e[t].other.widthHeightType,a=e[t].other.cusWidthHeight}var r=document.createElement("video"),s="videoItem"+t;r.setAttribute("id",s),r.setAttribute("class","videoItem"+t+" video-js vjs-default-skin vjs-big-play-centered");var l=document.createElement("source");l.setAttribute("src",o),l.setAttribute("type","video/mp4"),r.appendChild(l),Fai.top.videoShoppingItem=s,Mobi.videoShoppingSetStyle(n,a),0==e[t].productList.length?jm(".rightBox").css("bottom","-.5rem"):jm(".rightBox").css("bottom","3.25rem");var c=document.getElementById("videoItem"+t);c.paused?(c.play(),jm(".icon_pause").css("display","none")):(c.pause(),jm(".icon_pause").css("display","flex")),c.paused&&jm(".icon_pause").css("display","flex"),c.ontimeupdate=function(){var e=c.currentTime/c.duration*100+"%";jm(".item"+t)[0].lastChild.children[0].style.width=e},c.onclick=function(){c.paused?(c.play(),jm(".icon_pause").css("display","none")):(c.pause(),jm(".icon_pause").css("display","flex"))};var d=document.getElementById("icon_pause"+t);d&&(d.onclick=function(){c.paused&&(c.play(),jm(".item"+t+" .icon_pause").css("display","none"))}),window.localStorage.getItem("videoShopping"+e[t].id)?jm(".item"+t).find(".agreeIcon").css("fill","#FF6C00"):jm(".item"+t).find(".agreeIcon").css("fill","#fff")},Mobi.videoShoppingAgreeLock=!1,Mobi.agreeEvent=function(t,e,i){if(!Mobi.videoShoppingAgreeLock){var o=Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/videoShopping_h.jsp?cmd=wafNotCk_agree&id="+t,n=window.localStorage.getItem("videoShopping"+t);(n||i)&&(o=Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/videoShopping_h.jsp?cmd=wafNotCk_disAgree&id="+t),Mobi.videoShoppingAgreeLock=!0,jm.ajax({type:"post",url:o,data:"",success:function(i){if(jm.parseJSON(i).success){var o=parseInt(jm(".item"+e).find(".agreeNum").html());n?(jm(".item"+e).find(".agreeIcon").css("fill","#fff"),jm(".item"+e).find(".agreeNum").html(o-1),window.localStorage.removeItem("videoShopping"+t)):(jm(".item"+e).find(".agreeIcon").css("fill","#FF6C00"),jm(".item"+e).find(".agreeNum").html(o+1),window.localStorage.setItem("videoShopping"+t,!0))}},complete:function(){Mobi.videoShoppingAgreeLock=!1}})}},Fai.top.videoShoppingShareNum=0,Mobi.videoShoppingShare=function(t){jm(".shareListContent").css("display","block"),jm(".VideoShoppingbgMask").css("display","block");var e=JSON.parse(JSON.stringify(Fai.top._shareDataProdectDetail)),i=e.shareUrl.split("?")[0],o="";e.shareUrl.split("&")[1]&&(o=e.shareUrl.split("&")[1].split("=")[1]);var n=i+"?id="+t+"&svIds="+o;e.shareUrl=n,0==Fai.top.videoShoppingShareNum&&jm(".videoShoppingDetailContent").append("<div style='display:block;'>"+Mobi.sharePage(e)+"</div>"),Fai.top.videoShoppingShareNum=1,Mobi.initShare("shareLinkWeixin","","shareLinkQQ"),jm("#shareLinkQQ").bind("click",(function(){jm(".shareListContent").css("display","none"),jm(".VideoShoppingbgMask").css("display","none")})),jm("#copy_url").bind("click",(function(){var t=new ClipboardJS("#copy_url");t.on("success",(function(e){Mobi.ing("复制成功",1),t.destroy(),e.clearSelection()})),t.on("error",(function(){navigator.userAgent.indexOf("UCBrowser")>-1?Mobi.ing("复制成功",1):Mobi.ingTigs("该浏览器不支持复制链接的功能，请手动复制"),t.destroy()}))})),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/videoShopping_h.jsp?cmd=wafNotCk_incShareNum&id="+t,data:"",success:function(){}})},Fai.top.videoShoppingClickNum=0,Mobi.videoShoppingFold=function(){Fai.top.videoShoppingClickNum+=1,Fai.top.videoShoppingClickNum%2==0?(jm(".triangle").css("display","block"),jm(".productCarousel").css("display","flex"),jm(".rightBox").css("bottom","3.25rem")):(jm(".triangle").css("display","none"),jm(".productCarousel").css("display","none"),jm(".rightBox").css("bottom","-.5rem"))},Mobi.videoshoppingTopdDetail=function(t){window.location.href="/pd.jsp?id="+t},Mobi.videoShoppingHidebgMask=function(){jm(".shareListContent").css("display","none"),jm(".VideoShoppingbgMask").css("display","none")},Mobi.hideProductItemContainer=function(t){jm(Mobi.getPreviewObject(t)).removeAttr("style"),jm(Mobi.getPreviewObject("productSlide")).find(".productLeft").hide(),jm(Mobi.getPreviewObject("productSlide")).find(".productRight").hide()},Mobi.hideParamPadding=function(t){0===jm("#"+t+" .paramCollection").children("p").length&&jm("#"+t+" .paramCollection").removeClass("paramPadding")},Mobi.removeMarginBottom=function(t,e){var i;"styleNine"==e?i=jm("#"+t+" .productCrossedSlideSec"):"styleEight"==e?i=jm("#"+t+" .productWaterFall"):"styleSeven"==e&&(i=jm("#"+t+" .productCrossedSlide"));var o=i.eq(0).find(".paramCollection").children("p").length,n=i.eq(0).find(".paramCollection").children(".paramName").length;1===o&&1===n&&jm("#"+t+" .paramCollection .paramName").css("marginBottom",0);var a=i.eq(0).find(".paramCollection").children(".paramPrice").length;2===o&&1===a&&i.find(".paramCollection").children(".paramLine").remove()},Mobi.productGuaranteeEventInit=function(){0==jm(".J_guarantee .guaranteeName").length&&jm(".J_guarantee").hide(),Mobi.initWebPage({triggerId:"guaranteeContent",panelId:"productGuaranteePanel",pageBg:!0,returnSeltFun:!0,direction:"bottom",closeWebPage:"#guaranteeBtn,#closeProductGuarantee,#closePdGuaranteeIcon"})},Mobi.integralMallDeductionEventInit=function(){Mobi.initWebPage({triggerId:"integralMallDeduction",panelId:"imPanelBox",pageBg:!0,returnSeltFun:!0,direction:"bottom",closeWebPage:"#closeImPanelBox,#confirmBtn"})},Mobi.initMallCartProductNum=function(t,e){if(!(Fai.top._getMallProductNum||e&&0==jm(".J_isfixedAreaCart").length)){if(t&&!Fai.top._logined)return jm(".j_mallCartProductNum").hide(),void jm("#mallCartProductNumParent").hide();Fai.top._getMallProductNum=!0;var i=jm.getCookie("clearMCPdNum"),o=""==i||"true"==i,n=window.localStorage.getItem("mcPdNum"+Fai.top.sessionMemberId)||-1;if(n<0||o)jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=getWafNotCk_getMallCartProductNum",data:"",success:function(t){var e=jm.parseJSON(t);if(e.success){if(1==e.rt){var i=jm.trim(e.productAmount);i>0?(i=i>99?"99+":i,jm(".j_mallCartProductNum").text(i),jm("#mallCartProductNumParent").css("display","-webkit-inline-box"),jm(".j_mallCartProductNum").show()):(jm(".j_mallCartProductNum").hide(),jm("#mallCartProductNumParent").hide()),window.localStorage.setItem("mcPdNum"+Fai.top.sessionMemberId,i),jm.setCookie("clearMCPdNum",!1)}}else jm(".j_mallCartProductNum").hide(),jm("#mallCartProductNumParent").hide()}});else{if(0==n)return;jm(".j_mallCartProductNum").text(n),jm("#mallCartProductNumParent").css("display","-webkit-inline-box"),jm(".j_mallCartProductNum").show()}}},Mobi.initMallCartProductNumV3=function(t,e){var i=jm(".J_mall_cart_nav");if(!(Fai.top._getMallProductNum||e&&0==i.length))if(!t||Fai.top._logined){var o=jm.getCookie("clearMCPdNum"),n=""==o||"true"==o,a=window.localStorage.getItem("mcPdNum"+Fai.top.sessionMemberId)||-1;Fai.top._getMallProductNumV3=!0,a<0||n?jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=getWafNotCk_getMallCartProductNum",data:"",success:function(t){var e=jm.parseJSON(t);if(e.success){if(1==e.rt){var i=jm.trim(e.productAmount);i>0?(i=i>99?"99+":i,Mobi.refreshMCPdNum(i)):jm(".J_mall_cart_icon").hide(),window.localStorage.setItem("mcPdNum"+Fai.top.sessionMemberId,i),jm.cookie("clearMCPdNum",!1,{domain:"."+document.domain})}}else jm(".J_mall_cart_icon").hide()}}):Mobi.refreshMCPdNum(a)}else jm(".J_mall_cart_icon").hide()},Mobi.refreshMCPdNum=function(t){if(0!=t){var e="none"!=jm(".J_nav_icon_wrap").css("display");jm(".J_mall_cart_nav").each((function(){e?jm(this).find(".J_nav_icon_wrap").append("<span class='u_nav_mall_cart_icon g_main_bgColor_v3 J_mall_cart_icon'>"+t+"</span>"):jm(this).find(".J_text_wrap").append("<span class='g_main_color_v3 J_mall_cart_icon u_nav_mall_cart_text'>("+t+")</span>"),jm(".j_mallCartProductNum").text(t),jm(".j_mallCartProductNum").show()}))}},Mobi.initMemberCenterIconV3=function(t,e){Mobi.isGiveCoupon=t;var i=jm(".J_member_center_nav");if((!e||0!=i.length)&&t){Mobi.logDog(201475,1);var o="none"!=jm(".J_nav_icon_wrap").css("display");i.each((function(){o?jm(this).find(".J_nav_icon_wrap").append("<span class='u_nav_member_center_icon g_main_bgColor_v3'></span>"):jm(this).find(".J_text_wrap").append("<span class='u_nav_member_center_text g_main_bgColor_v3'></span>"),jm(this).on("click",(function(){Mobi.logDog(201475,2)}))}))}},Mobi.isPtBtn=!1,Mobi.isImBtn=!1,Mobi.isMarketingBtn=!1,Mobi.productNewDetailIScrollObj=null,Mobi.productNewDetailEventInit=function(t){if(t){var e=t.moduleId,i=t.productId,o=t.mallOptionsOpen,n=t.pageStyle,a=t.returnUrl||"",r=t.isGroupBuy||!1,s=t.groupBuyId||0,l=t.groupBuyDetailId||0,c=t.groupPriceStr||"",d=t.isCutPrice||!1,m=t.cutPriceId||0,p=t.cpPriceStr||"",u=t.isSecKill||!1,f=t.secKillId||0,h=t.isPtLimitBuy||0,g=t.isIntegralMall||!1,v=t.integralMallId||0,b=t.integtalMallType||0,_=t.imMinPrice||{},j=t.isImLimitBuy||0,M=t.isEarnestSale||!1,y=t.earnestSaleId||0,w=t.pd_optionsAmountInfo||{},S=t.pd_showOptionList||[],I=t.mkt_optionsAmountInfo||{},C=t.mkt_showOptionList||[],P=t.openPriceCalendar,x=t.themeV3||!1,k=t.isUseSwipe,L=t.isHotelProduct||!1;void 0===k&&(k=!0),window.isGroupBuy=r;var F=l;x?Mobi.scrollFadeInV3("productDetailHeader"+e,"productNewDetailSwipe"+e,n):Mobi.scrollFadeIn("productDetailHeader"+e,"productNewDetailSwipe"+e,n),Mobi.initAjaxTab({pid:i,moduleId:e,themeV3:x,isUseSwipe:k});var T=document.getElementById("productDetailHeader"+e),A=document.getElementById("productNewDetailPanel"+e),B=T.querySelector(".icon-gClose.proBack"),D=T.querySelector(".icon-gOther.proOther"),O=T.querySelector(".proOtherPanel"),N=A.querySelector(".J_productImmediatelyBug"),E=A.querySelector(".J_groupBuyBtn"),R=A.querySelector(".J_cpButton"),U=A.querySelector(".J_integralMallBtn"),J=A.querySelector(".J_earnestSaleBtn"),H=document.getElementById("productNewDetailSwipe"+e),W=jm("#productDetailV3_title"+e),V=!1;if(window.sessionStorage){V=Mobi.checkWindowSeStgValue(window.sessionStorage._isJumpFromMlist);try{window.sessionStorage._isJumpFromMlist=!1}catch(t){}}var q;if(q=jm.getCookie("_fromCollect"),jm.setCookie("_fromCollect","",-1),jm(B).bind("click",(function(){if(window.sessionStorage){if(V)window.sessionStorage._jumpMlistUrl.indexOf("?")<=-1?window.location.href=window.sessionStorage._jumpMlistUrl+"?commHideFlag=true":window.sessionStorage._jumpMlistUrl.indexOf("commHideFlag")<=-1?window.location.href=window.sessionStorage._jumpMlistUrl+"&commHideFlag=true":window.location.href=window.sessionStorage._jumpMlistUrl,window.sessionStorage._backFromProDetail=!0;else if(q)jm.setCookie("_openCollect",!0),window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"profile.jsp";else if(window.history.length<=1)window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"index.jsp";else if(a.length>0)window.location.href=a;else if(Fai.top._manageMode)sessionStorage.getItem("historyList")?jm(Fai.top.document.getElementById("jz_designerOperate").querySelector(".j_designerBack")).click():window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"index.jsp";else{if(navigator.userAgent.toLocaleLowerCase().includes("ucbrowser")&&history.length<=2)return void(window.location.href="/");history.back()}return!1}return window.history.length<=1?window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"index.jsp":(window.location.href=document.referrer,setTimeout((function(){window.location.href=document.referrer,setTimeout((function(){window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"index.jsp"}),500)}),300)),!1})),jm(A).bind("click",(function(){jm(O).hasClass("proOtherPanelOpen")&&jm(O).removeClass("proOtherPanelOpen")})),jm(D).bind("click",(function(t){jm(O).hasClass("proOtherPanelOpen")?jm(O).removeClass("proOtherPanelOpen"):jm(O).addClass("proOtherPanelOpen"),t.stopPropagation()})),W){var z=function(){document.body.scrollTop>H.clientHeight||document.documentElement.scrollTop>H.clientHeight?W.show():W.hide()};document.addEventListener("touchmove",z),document.addEventListener("scroll",z)}var G=jm(".productMallShop").html(),$=jm(".productMallBuyPanel").html(),Y=Mobi.initWebPage({triggerId:"productInfoSize",panelId:"productMallOptionPanel",callback:function(){Mobi.deviceTypeIsMobi()&&jm("#mallOptionAndNumContainer").length>0&&(Mobi.productNewDetailIScrollObj=new iScroll("mallOptionAndNumContainer",{onBeforeScrollStart:function(t){for(var e=t.target;1!=e.nodeType;)e=e.parentNode;"INPUT"!=e.tagName&&t.preventDefault()}}));X||(X=!0);return!1},pageBg:!0,returnSeltFun:!0,direction:"bottom",closeWebPage:"#productMallOptionPanel .productDetailClose.icon-Off",closeCallBack:function(){jm(".productMallOptionPanel .productMallOptionContentPanel").removeClass("mallThemeProductContentPanel"),Fai.top._templateFrameId>=2002&&Fai.top._templateFrameId<=2004&&jm(".productMallBuyPanel").css("display","block"),jm("video").css("display","block")}});jm("#productInfoSize").bind("click",(function(){var t=jm(".productMallBuyPanel");if(L){if(null==$||""==$)return;t.html($),K=1}else{if(null==G||""==G)return;t.html(G)}var e=Fai.top._templateFrameId,o=jm(".productMallBuyPanel .productAddMall"),n=e>=1015&&e<2e3;(e<2e3||e>=3e3)&&(o.css("margin-left","0.45rem"),1014==e&&o.css("margin-left","0.85rem")),e>=2002&&e<=2004&&t.css("display","flex"),n&&(o.css({"margin-left":"","margin-top":""}),t.find(".mallThemeAddCartBtn").css("margin-left","")),jm(".productMallBuyPanel .productAddMall").css("color",jm(".productNewDetailPanel .productAddMall").css("color")).css("border-color",jm(".productNewDetailPanel .productAddMall").css("border-left-color")),jm(".productMallBuyPanel .productImmediatelyBug").css("background-color",jm(".productNewDetailPanel .productImmediatelyBug").css("background-color")).css("border-color",jm(".productNewDetailPanel .productImmediatelyBug").css("border-left-color")),n||jm(".productMallBuyPanel div").css("margin-top","0"),jm(".productMallOptionPanel .productMallOptionContentPanel").css("overflow","hidden").addClass("mallThemeProductContentPanel"),jm(".productMallBuyPanel .J_productAddMall").bind("click",(function(){Mobi.mallBuy(i,0)})),jm(".productMallBuyPanel .J_productImmediatelyBug").unbind("click").bind("click",(function(){u?Mobi.mallBuy(i,1,null,null,null,null,{isSecKill:u,secKillId:f}):Mobi.mallBuy(i,1)})),jm(".productMallBuyPanel .J_groupBuyBtn").unbind("click").bind("click",(function(){Mobi.mallBuy(i,1,null,null,null,null,{isGroupBuy:r,groupBuyId:s,groupBuyDetailId:l})})),jm(".productMallBuyPanel .J_cpButton").unbind("click").bind("click",(function(){Mobi.logDog(200535,0),Mobi.cutPrice(m,i)})),jm(".productMallBuyPanel .serviceBtn").off("click.pp").on("click.pp",(function(){Mobi.createMallServicePanel()})),jm(".productMallBuyPanel .J_integralMallBtn").unbind("click").bind("click",(function(){Mobi.mallBuy(i,1,null,null,null,null,{isIntegralMall:g,integralMallId:v})})),jm(".productMallBuyPanel .J_earnestSaleBtn").unbind("click").bind("click",(function(){Mobi.mallBuy(i,1,null,null,null,null,{isEarnestSale:M,earnestSaleId:y})}))}));var K,X=!1;jm("#productNewDetailPanel"+e+" .J_productAddMall").bind("click",(function(){jm(".productMallBuyPanel").html($),K=0,Mobi.isPtBtn=!1,Mobi.isImBtn=!1,Mobi.isMarketingBtn=!1,Y()})),jm(".J_pdJoinGroupBuyBtn").bind("click",(function(){if(0==Fai.top.sessionMemberId&&(Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?returnUrl="+jm.encodeUrl(Fai.top.location.href)),l=jm(this).attr("_groupBuyDetailId"),"true"===jm(this).attr("_oldMemberBlock")){var t="";return t+="<div style='width: 11.9rem; height: 10.476rem; background: rgba(255,255,255,1); border-radius: .357rem; margin: 0 auto; position: relative; top: -3rem; display: flex; flex-direction: column; align-items: center; padding: 1.05rem; box-sizing: border-box;'>",t+="<div style='width: 8.12rem; height: 4.69rem; overflow: hidden; margin-bottom: .84rem;'>",t+="<img src='"+Fai.top._resImageRoot+"/image/gbNewMemOnly.png' style='width: 8.12rem; height: 4.69rem;'>",t+="</div>",t+="<div style='font-size: .62rem; color:rgba(0,0,0,1); margin-bottom: .857rem;'>仅限新客参团，老客可以开团</div>",t+="<div class='J-prompt-callback' style='width: 5.714rem; height: 1.43rem; background: rgba(242,48,48,1); border-radius: .1429rem; color: #fff; margin: 0 auto; font-size: .62rem; display: flex; align-items: center; justify-content: center; cursor: pointer;'>去开新团</div>",t+="</div>",t+="<div class='J-prompt-cancel' style='display: inline-block; width: 1.67rem; height: 1.67rem; z-index: 9999; margin: 0 auto; cursor: pointer;'>",t+="<img src='"+Fai.top._resImageRoot+"/image/hdCouponClose.png'>",t+="</div>",void Mobi.customPopup({content:t,callback:function(){Mobi.logDog(200890,4),r&&jm("#mallPrice").html(c),jm(".productMallBuyPanel").html($),K=2,l=0,Mobi.isPtBtn=!0,Mobi.isImBtn=!1,Mobi.isMarketingBtn=!0,Y()}})}K=2,Y(),it(),jm("#mallPrice").html(c),Mobi.isPtBtn=!0,Mobi.isImBtn=!1,Mobi.isMarketingBtn=!0})),jm(".productMallBuyPanel").delegate(".productMallBuy","click",(function(){Mobi._isCommunityGroup?Mobi.mallBuy(i,0,null,null,null,null,{cb:function(t,e){Mobi._communityPdDetailVm&&Mobi._communityPdDetailVm.confirmPd2Cart(i,t,e)},hideAddCartTips:!0,fromCommunityGroup:!0}):1==K?u?Mobi.mallBuy(i,1,null,null,null,null,{isSecKill:u,secKillId:f}):Mobi.mallBuy(i,K):2==K?Mobi.mallBuy(i,1,null,null,null,null,{isGroupBuy:r,groupBuyId:s,groupBuyDetailId:l}):3==K?Mobi.cutPrice(m,i):4==K?(0==Fai.top.sessionMemberId&&(Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?returnUrl="+jm.encodeUrl(Fai.top.location.href)),Mobi.mallBuy(i,1,null,null,null,null,{isIntegralMall:g,integralMallId:v})):5==K?Mobi.mallBuy(i,1,null,null,null,null,{isEarnestSale:M,earnestSaleId:y}):Mobi.mallBuy(i,K,null,null,null,null,{cb:function(){0==K&&!Fai.top._manageMode&&Fai.top._isMall&&Mobi.logMallFdp("mall_mem_cart_add",{mall_free_text_0:"产品详情页",mall_free_text_1:Fai.top._fdpProperties.productName,mall_gds:Fai.top._fdpProperties.productTypeName,mall_mkt_type:Fai.top._fdpProperties.marketType,mall_dist_type:Fai.top._fdpProperties.distType},!0),u&&(0==K?Mobi.logMallFdp("mall_seckill_gwc",{mall_free_bool_0:!0},!0):Mobi.logMallFdp("mall_seckill_js",{mall_free_bool_0:!1},!0))}})}));var Z=jm("#mallPrice").html()||"";jm(N).bind("click",(function(){jm(".productMallBuyPanel").html($),K=1,Mobi.isPtBtn=!1,Mobi.isImBtn=!1,Mobi.isEsBtn=!1,Mobi.isMarketingBtn=!1,Y(),it(),ot(),nt(),at(),r&&(jm("#mallPrice").html(Z),jm(jm("#productMallOptionPanel .optionSelected")[0]).click().click()),g&&(jm("#mallPrice").html(Z),jm(jm("#productMallOptionPanel .optionSelected")[0]).click().click(),jm("#integral").hide(),jm("#itgName").hide(),jm("#plus").hide()),M&&(jm("#mallPrice").html(Z),jm(jm("#productMallOptionPanel .optionSelected")[0]).click().click())})),jm(E).bind("click",(function(){if(0==Fai.top.sessionMemberId&&(Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?returnUrl="+jm.encodeUrl(Fai.top.location.href)),jm(this).find("._oldMemberBlock").length>0){var t="";return t+="<div style='width: 11.9rem; height: 10.476rem; background: rgba(255,255,255,1); border-radius: .357rem; margin: 0 auto; position: relative; top: -3rem; display: flex; flex-direction: column; align-items: center; padding: 1.05rem; box-sizing: border-box;'>",t+="<div style='width: 8.12rem; height: 4.69rem; overflow: hidden; margin-bottom: .84rem;'>",t+="<img src='"+Fai.top._resImageRoot+"/image/gbNewMemOnly.png' style='width: 8.12rem; height: 4.69rem;'>",t+="</div>",t+="<div style='font-size: .62rem; color:rgba(0,0,0,1); margin-bottom: .857rem;'>仅限新客参团，老客可以开团</div>",t+="<div class='J-prompt-callback' style='width: 5.714rem; height: 1.43rem; background: rgba(242,48,48,1); border-radius: .1429rem; color: #fff; margin: 0 auto; font-size: .62rem; display: flex; align-items: center; justify-content: center; cursor: pointer;'>去开新团</div>",t+="</div>",t+="<div class='J-prompt-cancel' style='display: inline-block; width: 1.67rem; height: 1.67rem; z-index: 9999; margin: 0 auto; cursor: pointer;'>",t+="<img src='"+Fai.top._resImageRoot+"/image/hdCouponClose.png'>",t+="</div>",void Mobi.customPopup({content:t,callback:function(){Mobi.logDog(200890,4),r&&jm("#mallPrice").html(c),jm(".productMallBuyPanel").html($),K=2,l=0,Mobi.isPtBtn=!0,Mobi.isImBtn=!1,Mobi.isMarketingBtn=!0,Y()}})}r&&jm("#mallPrice").html(c),jm(".productMallBuyPanel").html($),K=2,l=F,Mobi.isPtBtn=!0,Mobi.isImBtn=!1,Mobi.isMarketingBtn=!0,Y(),it(),at()})),jm(R).bind("click",(function(){o?(d&&jm("#mallPrice").html(p),jm(".productMallBuyPanel").html($),K=3,Mobi.isPtBtn=!1,Mobi.isImBtn=!1,Mobi.isMarketingBtn=!1,Y()):Mobi.cutPrice(m,i)})),jm(U).bind("click",(function(){if(jm(".productMallBuyPanel").html($),K=4,Mobi.isImBtn=!0,Mobi.isPtBtn=!1,Mobi.isMarketingBtn=!0,Y(),ot(),at(),g){var t=jm(".J-op-box").find(".J-op"),e=jm(".J-op-box").find(".optionSelected");(0==t.length||t.length>0&&e.length<t.length)&&(jm("#integral").html(_.minIntegral),jm("#mallPrice").html(parseFloat(_.minPrice).toFixed(2))),1==b&&(jm("#choiceCurrencyVal").hide(),jm("#mallPrice").hide()),jm("#integral").show(),jm("#itgName").show(),jm("#plus").show(),jm(jm("#productMallOptionPanel .optionSelected")[0]).click().click()}})),jm(J).bind("click",(function(){jm(".productMallBuyPanel").html($),K=5,Mobi.isImBtn=!1,Mobi.isPtBtn=!1,Mobi.isEsBtn=!0,Mobi.isMarketingBtn=!0,Y(),nt()}));var Q,tt=JSON.parse(JSON.stringify(Fai.top._shareDataProdectDetail));tt.shareLinkList='[{"url":"?","icon":"Weixin"}]',Fai.top._templateFrameId>=2e3&&Fai.top._templateFrameId<3e3?(Q={triggerId:"mallThemeProductDetailShare",pageBg:!0,pageHtml:Mobi.sharePage(Fai.top._shareDataProdectDetail),direction:"bottom",callback:function(){Mobi.initProductSwipe("shareListShowSwipe")},closeWebPage:"#shareListPanelBg"},Mobi.initWebPage(Q),Q={triggerId:"promoShareIconForNotOpenShare",pageBg:!0,pageHtml:Mobi.sharePage(tt),direction:"bottom",callback:function(){Mobi.initProductSwipe("shareListShowSwipe")},closeWebPage:"#shareListPanelBg"},Mobi.initWebPage(Q)):(Q={triggerId:"productDetailShare",pageBg:!0,pageHtml:Mobi.sharePage(Fai.top._shareDataProdectDetail),direction:"bottom",callback:function(){Mobi.initProductSwipe("shareListShowSwipe")},closeWebPage:"#shareListPanelBg"},Mobi.initWebPage(Q),Q={triggerId:"promoShareIconForNotOpenShare",pageBg:!0,pageHtml:Mobi.sharePage(tt),direction:"bottom",callback:function(){Mobi.initProductSwipe("shareListShowSwipe")},closeWebPage:"#shareListPanelBg"},Mobi.initWebPage(Q));var et={triggerId:"showCouponList",pageBg:!0,pageHtml:Mobi.couponPage(Fai.top._couponInfo),direction:"bottom",closeWebPage:"#contentBottomPanel",callbackAlways:!0,callback:function(){jm("#couponListBottomPanel").unbind("click mousedown touchstart").bind("click mousedown touchstart",(function(t){t.stopPropagation()})),jm("#contentBottomPanel").show(),jm(".toUseCoupon").unbind("click").bind("click",(function(t){var e=jm(this).parents(".couponItem").attr("couponid");Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"pr.jsp?couponId="+e,t.stopPropagation()})),Mobi.logDog(200474,4);for(var t=0;t<Fai.top._couponInfo.length;t++)Mobi.logDog(200474,5)}};Mobi.initWebPage(et),Mobi.hidePlaceholder()}function it(){h&&(Mobi.isPtBtn?(jm("#limitAmountDiv").hide(),jm(".J_productNumberContent_simple").hide(),jm("#limitAmountDiv_pt").show(),jm(".J_productNumberContent_pt").show()):(jm("#limitAmountDiv_pt").hide(),jm(".J_productNumberContent_pt").hide(),jm("#limitAmountDiv").show(),jm(".J_productNumberContent_simple").show()))}function ot(){j&&(Mobi.isImBtn?(jm("#limitAmountDiv").hide(),jm(".J_productNumberContent_simple").hide(),jm("#limitAmountDiv_im").show(),jm(".J_productNumberContent_im").show()):(jm("#limitAmountDiv_im").hide(),jm(".J_productNumberContent_im").hide(),jm("#limitAmountDiv").show(),jm(".J_productNumberContent_simple").show()))}function nt(){Mobi.isEsBtn&&jm(".productName").hide()}function at(){var t={},e=[];if(Mobi.isMarketingBtn?(t=I,e=C):(t=w,e=S),!(e.length<=0))for(var i=(t.t||"").split("_"),o=t.d||[],n=0,a=0;a<e.length;a++){for(var r=e[a],s=r.items||[],l=r.fieldKey||"",c=0;c<i.length;c++)l==i[c]&&(n=c);4==r.type&&(l="opIndept"+l),s.length>0&&!P&&(jm.each(s,(function(t,e){var i=e.i,a=!1;jm.each(o,(function(t,e){var o=e.t2,r=null===e.flag?1:e.flag,s=o.split("_");if(1==r&&n<s.length&&parseInt(s[n])==i)return a=!0,!1})),a?jm(".g_mallLabel[for='"+l+i+"']").show():jm(".g_mallLabel[for='"+l+i+"']").hide()})),n++)}}},Mobi.initEarnestSalePdDetail=function(t){jm("#g_body").append(jm("<div id='temBox' class='g_color g_main_color_v3'></div>"));var e="<div class='expandPriceTip'><div class='expandPrice' style='background-color:"+("rgba("+jm("#temBox").css("color").split(/[()]/)[1]+", 0.15)")+";'>可抵"+t+"</div></div>";jm(".J_earnestPriceContain").append(e)},Mobi.runGroupBuyCountDown=function(){var t=[];function e(t){return t<0?"00":t<10?"0"+t:t}jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mall_h.jsp?cmd=getWafNotCk_getSystemTime",success:function(i){if((i=jm.parseJSON(i)).success){var o=(i.now||0)-(new Date).getTime();jm(".fk_otherGroupBuy .J_gbItem, .fk-groupBuyDetail .J_gbItem, .fk-groupBuyDetail .J_contentBox").each((function(i,n){var a=jm(n).attr("_groupCreateTime"),r=jm(n).attr("_groupEndTime");if(a=a.replace(/-/g,"/"),r=r.replace(/-/g,"/"),a&&r&&"null"!=a){var s=!0;jm(n).hasClass("J_contentBox")&&(s=!1);var l=new Date(r);t[i]=setInterval((function(){!function(i,o,n,a,r){var s=new Date((new Date).getTime()+r),l=i.getTime()-s.getTime(),c=parseInt(l/1e3/60/60/24,10),d=parseInt(l/1e3/60/60%24,10)+24*c,m=parseInt(l/1e3/60%60,10),p=parseInt(l/1e3%60,10);(c>=0||d>=0||m>=0||p>=0)&&n.find(".J_gbCountDown").html(e(d)+":"+e(m)+":"+e(p));c<=0&&d<=0&&m<=0&&p<=0&&(clearInterval(t[o]),t[o]=null,a&&n.remove())}(l,i,jm(n),s,o)}),1e3)}}))}}})},Mobi.initGroupBuyDetail=function(){var t={triggerId:"gbSharetoFriend",pageBg:!0,pageHtml:Mobi.initgroupBuySharePage(),direction:"bottom",callback:function(){jm("#graphicPosterItem").bind("click",(function(){jm("#webPagePanelmallThemeProductDetailShare").hide()}));var t={triggerId:"graphicPosterItem",pageBg:!0,pageHtml:Mobi.createGroupBuyGraphicPosterPage(),direction:"bottom",closeWebPage:"#gbCloseIcon,#gbGraphicPosterPanelBg",callback:function(){Mobi.drawGroupBuyCanvasSharePic()}};Mobi.initWebPage(t)},closeWebPage:"#cancelBtn,#gbSharePanelBg"};Mobi.initWebPage(t),jm("#gbDetailShare").click((function(){Mobi.logDog(200478,1),jm("#shareLinkWeixin").click()})),jm(".icon-groupBuyToIndex").click((function(){Fai.top.document.location.href="/"})),jm("#J_moreItem").click((function(){jm(".fk-groupBuyDetail").hide(),jm(".fk-groupBuyMember").show(),jm(".webHeader_v3").hide(),Mobi.logDog(200750,1)})),jm(".J_groupBuyMemberClose").click((function(){jm(".fk-groupBuyMember").hide(),jm(".fk-groupBuyDetail").show(),jm(".webHeader_v3").show()}))},Mobi.initCutPriceDetail=function(){jm("#g_web").append("<div style='display:none;'>"+Mobi.sharePage(Fai.top._shareDataCutPriceDetail)+"</div>"),Mobi.initShare("shareLinkWeixin","",""),jm(".J_cpInvite").click((function(){Mobi.logDog(200535,1),jm("#shareLinkWeixin").click()}))},Mobi.getQueryString=function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(e);return null!=i?unescape(i[2]):null},Mobi.initCommentUserTab=function(t){if(3===t){var e=Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/productComment_h.jsp?cmd=addWafCk_submitPC&newComment=true",i={triggerId:"userCommentId",panelId:"userCommentPanel",callback:function(){Mobi.postUserComment(e,0)},closeWebPage:"#userCommentPanel .userCommentGoBack"};Mobi.initWebPage(i),jm("#userCommentId").one("click",(function(){jm("#loginCaptchaImg").attr({src:"validateCode.jsp?v=610"})}))}},Mobi.initStarList=function(t){jm(".J-star-list").eq(t).attr("_star",5),jm(".J-star-list").eq(t).html('<li class="faisco-icons-star3"></li><li class="faisco-icons-star3"></li><li class="faisco-icons-star3"></li><li class="faisco-icons-star3"></li><li class="faisco-icons-star3"></li><li class="score-tip"></li>')},Mobi.setStarSelect=function(){Mobi.onTouchAndClickEvent(".J-star-list li",(function(){var t=jm(".userCommentPanel").css("background-color");"string"!=typeof t&&(t="#FFF");var e=jm(this).index();if(e>=5)return!0;var i=jm(this).parent();i.attr("_star",e+1);for(var o=0;o<5;o++){var n=i.find("li").eq(o);o<e+1?e<2?(n.removeClass("select_more"),n.addClass("select_less")):(n.removeClass("select_less"),n.addClass("select_more")):(n.removeClass("select_more"),n.removeClass("select_less"))}i.find("li.score-tip").show();var a="",r="";0==e?(a=LS.badComment,r="#b7b6b6"):1==e?(a=LS.moderateComment,r="#b7b6b6"):2==e?(a=LS.moderateComment,r="#ffb600"):(a=LS.js_highComment,r="#ffb600"),i.find("li.score-tip").html("<em></em><span></span>"+(e+1)+LS.score+a),i.find("li.score-tip").css({"border-color":r,color:r,display:"inline-block","max-width":"6.6rem"}),i.find("li.score-tip em").css({borderColor:"transparent "+r+" transparent transparent"}),i.find("li.score-tip span").css({borderColor:"transparent "+t+" transparent transparent"})}))},Mobi.couponPage=function(t){if(null==t)return"";for(var e=[],i="",o="max-height: 10rem;",n=0;n<t.length;n++){var a=t[n],r=!a.autoInc&&0==a.couponLeaveAmount||a.allUsed?"invalid":"";e.push("<div class ='couponPanelItem ".concat(r,"' couponid=").concat(t[n].id," bgid='0' received=\"").concat(a.isRecieve,"\" onclick='Mobi.clickCoupon(this, 1);' >"));var s=" g_bgColor g_main_bgColor_v3",l=" g_mainColor g_main_color_v3",c=a.isRecieve?" g_bdColor g_main_bdColor_v3"+l+" use":s+" get";e.push('<div class="couponBg '.concat(s,'"></div><div class="dot dot1"></div><div class="dot dot2"></div>')),e.push('<div class="leftWrap"><div class="priceSign '.concat(l,'">').concat(Fai.top.choiceCurrencyVal,'</div><div class="couponPrice ').concat(l,'">').concat(a.savePrice,'</div><div class="couponCondition">').concat(a.useCondition,"</div></div>")),e.push('<div class="middleWrap"><div class="couponName">'.concat(a.couponName,'</div><div class="validity">').concat(a.validity,"</div></div>")),e.push('<div class="receiveCoupon '.concat(c,'" >').concat(a.isRecieve?"去使用":"立即领取","</div>")),e.push('<div class="invalidIcon"><div class="txt">'.concat(a.autoInc||0!=a.couponLeaveAmount?"已使用":"已领完","</div></div>")),e.push("</div>")}return Fai.top._openThemeV3&&(i="<div id='closeCouponListBottomPanel' class='productDetailClose icon-Off g_iconMiddle icon-defaultColor'></div>",o="max-height: 19.2rem;"),"<div style='display:none; width:100%;' id ='contentBottomPanel'><div class='couponListBottomPanel' id ='couponListBottomPanel'><div class='couponListTitle'>优惠券</div><div id='slideCouponPanel' style='"+o+"overflow: auto;'><div class='couponListContainer'>"+e.join("")+"</div></div>"+i+"</div></div>"},Mobi.sharePage=function(t){if(t){var e=jm.parseJSON(t.shareLinkList),i=t.fromOks||!1,o="",n=[];if(Fai.top._manageMode){var a=Mobi.getPreviewDocument().URL;(a=(a=a.replace("http://"+Fai.top._userHostName,"")).replace("https://"+Fai.top._userHostName,"")).indexOf("_safeMode=false&")>-1?a=a.replace("_safeMode=false&",""):a.indexOf("?_safeMode=false")>-1?a=a.replace("?_safeMode=false",""):a.indexOf("&_safeMode=false")>-1&&(a=a.replace("&_safeMode=false",""))}var r=!1,s=null;for(var l in Fai.top._isPromoter&&Fai.top._isPromoterPd&&jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/promoter_h.jsp?cmd=getWafNotCk_getInfo&productId="+t.productId,async:!1,success:function(t){(t=jm.parseJSON(t)).success&&(s=t.info.config,t.info.isPromoter&&t.info.isPromotePd&&(r=!0))}}),e){var c=e[l].url,d=e[l].icon;if("baidu_tieba"==d&&Fai.top._isFaiHost)o+="<a hidefocus='true' class='shareLink' href='javascript:;' onclick='Mobi.ing(\""+LS.shareNot+"\");'><div class='shareNewIcon g_iconMiddle icon-"+d+"'></div><div class='shareText icon-"+d+"-text'></div></a>";else if("graphic_poster"==d){var m=t.graphicPosterFunc||"";Fai.top._isMall?o+="<a id='graphicPosterItem' hidefocus='true' class='shareLink' href='javascript:;' onclick='"+m+"'><div class='shareNewIcon g_iconMiddle icon-"+d+"'></div><div class='shareText icon-"+d+"-text'></div></a>":o+="<a id='graphicPosterItem' hidefocus='true' class='shareLink jzGrapicShare' href='javascript:;' onclick='"+m+"'><div class='shareNewIcon g_iconMiddle icon-"+d+"'></div><div class='shareText icon-"+d+"-text'></div></a>"}else o+="Weixin"==d?"<a hidefocus='true' class='shareLink' id='shareLinkWeixin' href='javascript:;'><div class='shareNewIcon g_iconMiddle icon-"+d+"'></div><div class='shareText icon-"+d+"-text'></div></a>":"qq_share"==d?"<a hidefocus='true' class='shareLink' id='shareLinkQQ' href='javascript:;'><div class='shareNewIcon g_iconMiddle icon-"+d+"'></div><div class='shareText icon-"+d+"-text'></div></a>":"copy_url"==d?"<a hidefocus='true' class='shareLink' id='copy_url' data-clipboard-text='"+c+"' href='javascript:;' style='outline:none;'><div class='shareNewIcon g_iconMiddle icon-"+d+"'></div><div class='shareText icon-"+d+"-text'></div></a>":"<a hidefocus='true' class='shareLink' href='".concat(c,"' target='_blank' rel='").concat("sina_weibo"==d?"noreferrer noopener":"","'>\n                                <div class='shareNewIcon g_iconMiddle icon-").concat(d,"'></div>\n                                <div class='shareText icon-").concat(d,"-text'></div>\n                            </a>");(parseInt(l)+1)%8==0&&(n.push("<div class='swipImgBox'>"+o+"</div>"),o="")}o&&n.push("<div class='swipImgBox'>"+o+"</div>");var p="";e.length<=4&&(p="style='height:5rem';");var u="<div class='shareListPanel' id='shareListPanel"+(i?"2":"")+"'><div class='shareListPanelBg' id='shareListPanelBg"+(i?"2":"")+"'></div><div class='shareListContent'>";if(r){var f=Fai.top._isMall?"商城":"店铺";u+="<div class='shareTitle' style='color: #333; margin-top: .5rem;'>分享后可赚"+(0==s.awardType?s.promoteAward+"%":s.promoteAwardMoney+"元")+"的推广奖励</div>",u+="<div class='promoterPdShare'>他人通过你的分享进".concat(f,"购买后，你可获得推广奖励，奖励金额将根据买家的实付金额进行计算。</div>")}else u+="<div class='shareTitle'>"+LS.shareIt+"</div>";return u+="<div class='shareListShow' id='shareListShowSwipe"+(i?"2":"")+"' "+p+"><div class='shareListSwipe'>"+n.join("")+"</div>",e.length>8&&(u+='<div class="shareBullet"><ul id="bullets" class="bullets"><li class="on"></li><li></li></ul></div>'),u}},Mobi.showPbSingalInstCommImg=function(){var t=jm(".J_productCommImg").eq(0)[0].querySelectorAll("img");void 0!==t&&null!=t&&t.length>0&&Mobi.bindCommImgShow(t,!0,0)},Mobi.setMemberPriceLabelColot2ThemeBackgroundColor=function(){var t=jm(".productImmediatelyBug").css("background");jm(".memberPrice").css("background",t)},Mobi.initPbCommUploadImgParam=function(t,e,i,o,n,a,r,s){var l=document.body;if(p(o))d();else{var c=document.createElement("script");c.type="text/javascript",c.src=o,c.onload=function(){d()},l.appendChild(c)}function d(){var t,e=n;"true"==s&&(e=r),p(e)?m():((t=document.createElement("script")).src=e,t.type="text/javascript",l.appendChild(t),t.onload=function(){m()})}function m(){"true"==s?Mobi.mobiPbCommUploadImgSWF("comm-img-swfu-placeholder",t,e,i):Mobi.mobiPbCommUploadImgHtml("comm-img-swfu-placeholder",t,e,a)}function p(t){for(var e=document.getElementsByTagName("script"),i=!1,o=0,n=e.length;o<n;o++)if((e[o].getAttribute&&e[o].getAttribute("src")||"")==t){i=!0;break}return i}},Mobi.mobiPbCommUploadImgSWF=function(t,e,i,o){var n=i.split(","),a={file_post_name:"Filedata",upload_url:"/ajax/commUpsiteimg_h.jsp",button_placeholder_id:t,file_size_limit:e+"MB",button_image_type:3,file_queue_limit:1,button_width:"50px",button_height:"50px",button_cursor:SWFUpload.CURSOR.HAND,button_image_url:_resRoot+"/image/mobi/msgUpImg/upload.png",requeue_on_error:!1,post_params:{ctrl:"Filedata",app:21,type:0,fileUploadLimit:o},file_types:n.join(";"),file_dialog_complete_handler:function(){this._allSuccess=!1,this.startUpload()},file_queue_error_handler:function(t,e){switch(e){case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:Mobi.ing(LS.mobiFormSubmitCheckFileSizeErr,!0);break;case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:Mobi.ing(LS.mobiFormSubmitFileUploadNotAllow,!0);break;case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadOneTimeNum,"1"),!0);break;default:Mobi.ing(LS.mobiFormSubmitFileUploadReSelect,!0)}},upload_success_handler:function(t,e){var i=jQuery.parseJSON(e);this._allSuccess=i.success,this._sysResult=i.msg,i.success?(setTimeout((function(){Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadSucess,jm.encodeHtml(t.name)),!0)}),1800),Mobi.onPbCommFileUploadEvent("upload",i)):Mobi.ing(LS.mobiFormSubmitFileUploadFile+t.name+"   "+i.msg)},upload_error_handler:function(t,e){-280==e?Mobi.ing(LS.mobiFormSubmitFileUploadFileCancle,!1):-270==e?Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadFileExist,jm.encodeHtml(t.name)),!0):Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadSvrBusy,jm.encodeHtml(t.name)))},upload_complete_handler:function(t){t.filestatus==SWFUpload.FILE_STATUS.COMPLETE?setTimeout((function(){swfObj.startUpload()}),swfObj.upload_delay):t.filestatus==SWFUpload.FILE_STATUS.ERROR&&Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadSvrBusy,jm.encodeHtml(t.name)))},upload_start_handler:function(){Mobi.ing(LS.mobiFormSubmitFileUploadPrepare,!1)},view_progress:function(t,e,i,o){o=Math.ceil(e/i*100),isNaN(o)||(100==o?Mobi.ing(LS.mobiFormSubmitFileUploadIng+o+"%",!0):Mobi.ing(LS.mobiFormSubmitFileUploadIng+o+"%",!1))}};swfObj=SWFUploadCreator.create(a)},Mobi.mobiPbCommUploadImgHtml=function(t,e,i){var o={siteFree:!1,updateUrlViewRes:"",auto:!0,fileTypeExts:i.split(",").join(";"),multi:!1,fileSizeLimit:1024*e*1024,breakPoints:!0,saveInfoLocal:!1,showUploadedPercent:!0,removeTimeout:9999999,getFileSizeUrlFlag:!0,post_params:{app:21,type:0,fileUploadLimit:e,isSiteForm:!0,_TOKEN:jm("#_TOKEN").attr("value")},buttonText:"",uploader:'/ajax/commUpsiteimg_h.jsp?cmd="mobiUpload"',onUploadStart:function(){window._uTime=(new Date).getTime()},onUploadSuccess:function(t,e){var i=jm.parseJSON(e);i.success?(n({status:"end",id:t.id,title:"上传成功。"}),setTimeout((function(){Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadSucess,jm.encodeHtml(t.name)),!0)}),1800),Mobi.onPbCommFileUploadEvent("upload",i)):(n({status:"end",id:t.id,title:i.msg}),Mobi.ing(LS.mobiFormSubmitFileUploadFile+t.name+"   "+i.msg))},onUploadError:function(t){jm("#progressBody_ "+t.id).remove(),jm("#progressWrap_"+t.id).remove(),Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadSvrBusy,jm.encodeHtml(t.name))),window._uTime=(new Date).getTime()-_uTime},onSelect:function(){return o.post_params._TOKEN=jm("#_TOKEN").attr("value"),!0},view_progress:function(t){t=Math.ceil(t),isNaN(t)||(100==t?Mobi.ing(LS.mobiFormSubmitFileUploadIng+t+"%",!0):Mobi.ing(LS.mobiFormSubmitFileUploadIng+t+"%",!1))}};function n(t){if(!isNaN(Math.round(t.percent)))if("start"==t.status){var e=['<div id="progressBody_'+t.id+'" class="bodyDisable"></div>','<div id="progressWrap_'+t.id+'" class="bodyProgressWrap">','<div class="progressCenter"></div>','<div class="progressIngBody">','<div id="progressTitle'+t.id+'" class="progressIngTitle">'+t.title+"</div>",'<div class="progressIngMission">','<div class="mission"><div id="progress'+t.id+'" class="progress" style="width:1%;"></div></div>','<div id="progressNum'+t.id+'" class="progressNum">0%</div>',"</div>",'<div class="progressInfo"><span id="progressTips'+t.id+'" class="progressFileSize"></span><a class="progressCancel" href="javascript:uploadCancel(\''+t.id+"');\">取消</a></div>","</div>","</div>"];jm("body").append(e.join(""))}else"ing"==t.status?(jm("#progressTitle"+t.id).text(t.title),jm("#progress"+t.id).css("width",Math.round(t.percent)+"%"),jm("#progressNum"+t.id).html(Math.round(t.percent)+"%")):"end"==t.status?(jm("#progressTitle"+t.id).text(t.title),jm("#progressBody_"+t.id).remove(),jm("#progressWrap_"+t.id).remove()):"error"==t.status&&jm("#progress"+t.id).addClass("progressError")}window.upload=jm("#"+t).uploadify(o);jm("#file_upload_1-button").attr("id","file_upload_pt_1"),jm("#select_btn_1").attr("id","select_btn_pt_1"),Fai.top._manageMode&&(jQuery("#select_btn_pt_1").attr("disabled","true"),jQuery("#file_upload_pt_1").attr("disabled","true").off("click").on("click",(function(){return Mobi.ing("管理状态下，不能上传图片。"),!1})))},Mobi.onPbCommFileUploadEvent=function(t,e){if("upload"==t){var i=e.id,o=e.name,n=e.size,a=e.path,r=e.fileId,s=e.type||0,l=e.width||0,c=e.height||0;Mobi.pbCommImgTableCtrl(a,o,i,n,r,s,l,c)}},Mobi.pbCommImgTableCtrl=function(t,e,i,o,n,a,r,s){var l=jm("#pt_add_img_tb").eq(0),c=l.find(".comm-find-tb").length,d=l.find(".comm-find-tb").eq(c-1),m=d.attr("maxNum");if(!(parseInt(c-1)>=m)){var p=[];p.push("<table style='width:100%; height:100%; table-layout:fixed;'  cellpadding='0'  cellspacing='0'>"),p.push(" <tr>"),p.push("    <td valign='middle'   align='center' class='comm-show-td-bd'>"),p.push("      <img src='"+t+"' alt='' onclick='Mobi.pbRemoveBodyStyle()'  _name='"+e+"' _id='"+i+"' _file_size='"+o+"' _file_id='"+n+"'  _fileWidth='"+r+"'  _fileHeight='"+s+"'  _fileType='"+a+"' class='comm-up-set'>"),p.push("     </td>"),p.push(" </tr>"),p.push("</table>"),p.push("<div class='comm-up-div'>"),p.push("  <span onclick=Mobi.pbCommTableImgDelete(this) class='comm-up-div-set'/>"),p.push("</div>");var u=jm(document.createElement("td"));u.addClass("comm-find-tb comm-find-tb-remove"),u.append(jm(p.join(""))),u.insertBefore(d),c=l.find(".comm-find-tb").length,parseInt(c-1)>=m&&d.css("display","none"),Mobi.showPbSingalInstCommImg()}},Mobi.pbCommTableImgDelete=function(t){for(var e=jm("#pt_add_img_tb").eq(0),i=e.find(".comm-find-tb").length,o=0;o<i;o++)if(e.find(".comm-find-tb").eq(o).find(".comm-up-div-set")[0]===t){e.find(".comm-find-tb").eq(o).remove();break}i=e.find(".comm-find-tb").length;var n=e.find(".comm-find-tb").eq(i-1);i<=n.attr("maxNum")&&n.css("display","block"),Mobi.showPbSingalInstCommImg()},Mobi.postUserComment=function(t,e){var i=document.getElementById("userCommentPanel"),o=i.querySelector(".tabUl"),n=0===e?"ALrd86EDCAEQARoEWzE3XSIJ5ZSQ5LiW5rCR":"ANKUjxIIARABGgRbMTZdIgnllJDkuJbmsJE",a=function(t){if(t){var e=t.getAttribute("data"),o=i.querySelector(".tabActive").getAttribute("data"),n=document.getElementById("tabUserPanel"+e);jm(i.querySelector(".tabActive")).removeClass("tabActive g_main_color_v3 g_main_bdColor_v3"),jm(i.querySelector(".tabPanelAtive")).removeClass("tabPanelAtive"),jm("#userCommentRemarkPanel"+e).append(jm("#userCommentRemarkPanel"+o+" .g_globalLine")),jm(n).append(jm("#userCommentRemarkPanel")),jm("#tabUserLi"+e).addClass("tabActive g_main_color_v3 g_main_bdColor_v3"),jm(n).addClass("tabPanelAtive")}},r=function t(){var e=jm("#user").val(),i=jm("#password").val();if(null!=e&&""!=e)if(null!=i&&""!=i){i=jm.md5(i);var o="AKWWpqEHCAEQARoDWzFdIgnllJDkuJbmsJE",n=function(n){var a,r,c="cmd=wafNotCk_loginMember&acct="+jm.encodeUrl(e)+"&pwd="+jm.encodeUrl(i);n&&(c+="&bssKey=".concat(o,"&checkSign=").concat(n)),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/login_h.jsp",data:c,error:function(){jm(".loginSubmit").removeAttr("disabled"),Mobi.showMemberLoginMsg(-1)},success:(a=regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=jm.parseJSON(i)).success){e.next=12;break}return Fai.top.sessionMemberId=i.sessionMemberId,Mobi._needFaitest=!1,jm("#_TOKEN").remove(),jm("head").append(i._HEADTOKEN),e.next=8,bizShared.clueReuqestVm.authRecordLoginOther();case 8:return l(!0,!!n),e.abrupt("return");case 12:i.active?Mobi.ing(LS.memberLoginMailActivation):(Mobi.showMemberLoginMsg(i.rt,i.captcha),i.captcha&&(Mobi._needFaitest=!0,t()));case 13:case"end":return e.stop()}}),e)})),r=function(){var t=this,e=arguments;return new Promise((function(i,o){var n=a.apply(t,e);function r(t){s(n,i,o,r,l,"next",t)}function l(t){s(n,i,o,r,l,"throw",t)}r(void 0)}))},function(t){return r.apply(this,arguments)})})};Mobi._needFaitest?initFaitest({bss:1,bssKey:o},(function(t){n(t)})):n()}else Mobi.ing(LS.memberInputPwd);else Mobi.ing(LS.memberInputAcct)},l=function e(i,o){var r,s=jm("#postCommentId").val(),l=jm("#userCommentRemark").val(),c=jm("#userCommentRemark").attr("minlength");if("string"==typeof l&&""!=l)if(l.length<c)Mobi.ing(jm.format(LS.commentLenTips,jm.encodeHtml(c)));else{if(i)r=jm.trim(jm("#user").val());else if("string"!=typeof(r=jm.trim(jm("#anonymityCommentUser").val())))return void Mobi.ing(LS.creatorTips);var d=jm(".J_productCommImg").find("img"),m=[];if(null!=d&&void 0!==d){var p=d.length;if(p>0)for(var u=0;u<p;u++){var f=d.eq(u);if(null!=f&&"undefined"!=f){var h={},g=f.attr("_id"),v=f.attr("_name"),b=f.attr("_file_size"),_=f.attr("_file_id"),j=Number(f.attr("_fileWidth")||0),M=Number(f.attr("_fileHeight")||0),y=Number(f.attr("_fileType")||0);h.imgId=g,h.imgName=v,h.imgSize=b,h.tempFileId=_,h.imgWidth=j,h.imgHeight=M,h.imgType=y,m.push(h)}}}var w,S={commentsObjId:s,creator:r,commImgList:JSON.stringify(m),comment:l,anonymity:!i};o&&(S.fromLogin=!0),(w=i?jm(".J-star-list").eq(0).attr("_star"):jm(".J-star-list").eq(1).attr("_star"))&&(S.star=w),Mobi.ing(LS.siteFormSubmitIng);var I=function(r){r&&(S.checkSign=r,S.bssKey=n),jm.ajax({type:"POST",url:t,data:S,error:function(){Mobi.ing(LS.js_systemError),Mobi.logMonitor(5933,!0)},success:function(t){var n=jm.parseJSON(t);if(n&&n.success?Mobi._needFaitest=!1:n.captcha&&(Mobi._needFaitest=!0,e(i,o)),n.hasFW)Mobi.ing(n.msg);else switch(n.logMonitor&&Mobi.logMonitor(5933,!0),n.msg){case 1:Mobi.showMemberLoginMsg(-301,n.captcha),Mobi.ing(LS.js_captchaError),jm("#loginCaptchaImg").click(),jm("#loginCaptcha").val("");break;case 2:Mobi.ing(LS.creatorError);break;case 3:Mobi.ing(LS.commentError);break;case 4:w&&(n.comment.star=w),Fai.top._openThemeV3?Mobi.addTheNewCommentV3(n.comment):Mobi.addTheNewComment(n.comment),n.autoOpenComm||null==n.autoOpenComm?Mobi.ing(LS.commentSuccess,1):Mobi.ing(LS.commentSuccessNeedReview,1),jm("#userCommentRemark").val(""),jm("#loginCaptchaImg").click(),jm("#loginCaptcha").val(""),jm(".comm-find-tb-remove").remove(),i?Mobi.initStarList(0):Mobi.initStarList(1),Mobi.logMallFdp("mall_consumer_comment",{mall_free_text_0:"手机商城",mall_free_text_1:n.comment.memberId>0?"会员":"游客",mall_free_bool_0:n.comment.isOnlyBuy,mall_free_text_3:void 0!==n.comment.star?n.comment.star+"":""},!0);break;case 5:Mobi.ing(LS.paramError);break;case 6:Mobi.ing(LS.OnlyMembersCanComment),a(jm("#tabUserLi1")[0]);break;case 7:Mobi.ing(LS.commentClosed);break;case 8:Mobi.ing(LS.commentSubmitError);break;case 9:Mobi.ing(LS.commentCountLimit);break;case 10:Mobi.ing(LS.msgBoardInputValidateCode),n.needCode&&jm(".J_newsCommentCaptcha").removeClass("captchaHide")}}})};Mobi._needFaitest&&!o?initFaitest({bss:1,bssKey:n},(function(t){I(t)})):I()}else Mobi.ing(LS.commentNotEmpty)};Mobi.bindTouchAndClickEvent(jm(o),(function(t){var e=t.target;a(e)})),Mobi.bindTouchAndClickEvent(jm("#userCommentLoginAndComform"),(function(t){if(!Fai.top._manageMode)return Fai.top.sessionMemberId>0?l(!0):r(),t.stopPropagation(),!1;Mobi.ing("您目前处于网站管理状态，请先退出再登录")})),Mobi.bindTouchAndClickEvent(jm("#anonymityCommentComform"),(function(t){if(!Fai.top._manageMode)return l(!1),t.stopPropagation(),!1;Mobi.ing("您目前处于网站管理状态，请先退出再登录")}))},Mobi.addTheNewComment=function(t){var e=[],i="VIP";if(null!=t.newsId){0==t.memberId&&(i=LS.Incognito);var o=new Date(t.createTime);o=Mobi.formatDate(o),e.push("<div class='msgArea'>"),e.push("  <div class='msgTitle'>"),e.push("  <div class='msgUser'><span class='g_mainColor g_main_color_v3'>["+i+"]</span>"+t.creator+"</div>"),e.push("  <div class='msgTime'>"+o+"</div>"),e.push("  </div>"),e.push("  <div class='msgContent'>"+t.comment+"</div>"),e.push("</div>"),0!=jm(".nnewsComHeader").length?jm(e.join("")).insertAfter(jm(".nnewsComHeader")):location.reload()}else{i=0==t.memberId?LS.Incognito:t.level;var n=new Date(t.createTime);n=Mobi.formatDate(n);var a=jm("html").css("font-size");a=a.substring(0,a.length-2);var r=t.headPic;if(e.push("<div class='msgArea ct-panel productCommentPanel'>"),e.push("<div class='pdMsgTitle'>"),e.push('<div class="msgUserHeacPic"><img src="'+r.path+'" '),r.thumbId){var s=r.width,l=r.left,c=r.top,d=r.imgW,m=r.imgH,p=s/(1.8*a);e.push('style="top:'+-c/p+"px; left:"+-l/p+"px; width:"+d/p+"px; height:"+m/p+'px"')}else e.push('style="height:'+1.8*a+'px"');if(e.push(" /></div>"),e.push("<div class='msgUser g_mirrorColor'>&nbsp;"+t.creator+"</div>"),e.push("<span class='msgLevalUser'></span>"),e.push("<div class='msgTime g_mirrorColor'>"+n+"</div>"),e.push("</div>"),"star"in t){e.push("<div class='fk-star-list'>");for(var u,f=Number(t.star),h=0;h<5;h++)h<f?e.push("<li class='faisco-icons-star3 select_more'></li>"):e.push("<li class='faisco-icons-star3 select_less'></li>");e.push("</div>"),1==f?(u=Number(jm(".fk-right-statisBox .badComm").text()),jm(".fk-right-statisBox .badComm").text(u+1)):f>3?(u=Number(jm(".fk-right-statisBox .hignComm").text()),jm(".fk-right-statisBox .hignComm").text(u+1)):(u=Number(jm(".fk-right-statisBox .middComm").text()),jm(".fk-right-statisBox .middComm").text(u+1));var g=jm(".fk-comm-avgScore"),v=Number(g.attr("_tc"))+f,b=Number(g.attr("_ts"))+1,_=v/b;g.text(_.toFixed(1)),g.attr("_tc",v),g.attr("_ts",b)}if(e.push("<div class='msgContent g_defaultColor'>"+t.comment+"</div>"),void 0!==t.commImgList&&"null"!=t.commImgList){var j=jm.parseJSON(t.commImgList);if(null!=j&&j.length>0){e.push("<div class='ct-s-content-m' style='padding:0;'>"),e.push("<table>"),e.push("<tr>");for(var M=0;M<j.length;M++)e.push("<td class='s-img-f-tb'>"),e.push("<table class='s-img-tb' cellpadding='0' cellspacing='0'>"),e.push("<tr>"),e.push("<td class='s-img-bd' valign='middle'   align='center'>"),e.push("<img src='"+j[M].path+"' alt='' class='s-img-set'>"),e.push("</td>"),e.push("</tr>"),e.push("</table>"),e.push("</td>");e.push("</tr>"),e.push("</table>"),e.push("</div>")}}e.push("</div>"),null!=jm("#tabPanel3 .msgArea")[0]?(jm(e.join("")).insertBefore(jm("#tabPanel3 .msgArea")[0]),Mobi.setNewCommImgBindShow(),jm("#tabPanel3 .noCommentListDescribe").length&&jm("#tabPanel3 .noCommentListDescribe").parent().remove()):location.reload()}jm("#userCommentPanel .userCommentGoBack").click()},Mobi.setNewCommImgBindShow=function(){setTimeout((function(){var t=jm("#tabPanel3 .msgArea").eq(0).find(".ct-s-content-m").eq(0)[0];if(void 0!==t&&"null"!=t){var e=t.querySelectorAll("img");void 0!==e&&null!=e&&e.length>0&&Mobi.bindCommImgShow(e,!1,0)}}),500)},Mobi.formatDate=function(t){return t.getFullYear()+"-"+(parseInt(t.getMonth()+1)>9?parseInt(t.getMonth()+1):"0"+parseInt(t.getMonth()+1))+"-"+(t.getDate()>9?t.getDate():"0"+t.getDate())},Mobi.initAjaxTab=function(t){if(t){var e=t.pid,i=t.moduleId,o=document.querySelector("#productDetailTabPanel"+i+" .tabUl"),n=document.querySelector("#productDetailTabPanel"+i+" .tabBody"),a=document.getElementById("productNewDetailPanel"+i),r=t.themeV3||!1,s=t.isUseSwipe;void 0===s&&(s=!0);var l=function(t){if(t){var o=parseInt(t.getAttribute("data")),l=document.getElementById("tabPanel"+o),c=document.getElementById("tabLi"+o),d=a.querySelector(".tabLi.tabActive"),m=a.querySelector(".tabPanel.tabPanelAtive");if(l){r?(jm(d).removeClass("tabActive g_main_color_v3 g_main_bdColor_v3"),jm(c).addClass("tabActive g_main_color_v3 g_main_bdColor_v3")):(jm(d).removeClass("tabActive"),jm(c).addClass("tabActive")),jm(m).removeClass("tabPanelAtive"),jm(l).addClass("tabPanelAtive"),setTimeout((function(){Fai.top._openThemeV3||Mobi.productTabUlScroll()}),0);var p=jm("html").css("font-size");if(p=p.substring(0,p.length-2),""==l.innerHTML){jm(n).append("<div id='tabPanelLoading' class='tabPanelLoading'></div>");var u="pid="+e+"&type="+o+"&moduleId="+i+"&rem="+p+"&loadingPath="+Fai.top._loadingPath+"&columnProductId="+e;jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/product_h.jsp?cmd=getWafNotCk_getProductDetailInfo",data:u,error:function(){Mobi.ing(LS.js_systemError),3==o&&Mobi.logMonitor(5932,!0)},success:function(t){var n=jm.parseJSON(t);if(n.html||(jm("#tabPanelLoading").remove(),n.html=""),3==o)l.innerHTML=n.html,Mobi.initCommentUserTab(3),Mobi.setCommImgBindShow(),setTimeout((function(){Mobi.bindImgLazyLoad("tabPanel"+o)}),100),n.success||Mobi.logMonitor(5932,!0);else if(1===o){if(n.html="<div class='richContent productDetailInfoPanel g_defaultColor'>"+n.html+"</div>",!Fai.top._productRecommentData)return l.innerHTML=n.html,jm("#tabPanelLoading").remove(),Mobi.switchJump(),Mobi.addParentDivToTable(),s&&Mobi.updateProductDetailSwipe("#productDetailTabPanel"+i+" #tabPanel"+o+" img"),void setTimeout((function(){Mobi.bindImgLazyLoad("tabPanel"+o)}),100);l.innerHTML=n.html+Fai.top._productRecommentData,Mobi.productCrossedSlideSec("mProductList"+i,1,1,"paramWrap"),Mobi.productCrossedSlideSecSwipe("productSlideList"+i,"productSlide"+i),Mobi.switchJump(),Mobi.addParentDivToTable(),s&&Mobi.updateProductDetailSwipe("#productDetailTabPanel"+i+" #tabPanel"+o+" img"),setTimeout((function(){Mobi.bindImgLazyLoad("tabPanel"+o)}),100),window.isGroupBuy&&Mobi.showGroupBuyMore(e,"product")}else 2===o?(l.innerHTML=n.html,setTimeout((function(){Mobi.bindImgLazyLoad("tabPanel"+o)}),100)):(n.html="<div class='richContent productDetailInfoPanel g_defaultColor'>"+n.html+"</div>",l.innerHTML=n.html,Mobi.switchJump(),Mobi.updateProductDetailSwipe("#productDetailTabPanel"+i+" #tabPanel"+o+" img"),setTimeout((function(){Mobi.bindImgLazyLoad("tabPanel"+o)}),100));jm("#tabPanelLoading").remove()}})}Fai.top._manageMode&&""!=l.innerHTML&&Mobi.updateProductDetailSwipe("#productDetailTabPanel"+i+" #tabPanel"+o+" img"),1==o&&"string"==typeof Fai.top._productRecommentData&&""!=Fai.top._productRecommentData&&jm("#productSlide"+i).length<1&&(jm(l).append(Fai.top._productRecommentData),Mobi.productCrossedSlideSec("mProductList"+i,1,1,"paramWrap"),Mobi.productCrossedSlideSecSwipe("productSlideList"+i,"productSlide"+i),Mobi.bindImgLazyLoad("productSlideList"+i))}}};Fai.top._openThemeV3||jm(a).css("min-height",jm(window).height()+"px"),o.querySelector(".tabActive")&&(jm(o).bind("click",(function(t){var e=t.target;if(e)return l(e),!1})),l(o.querySelector(".tabActive")),Mobi.initCommentUserTab(parseInt(o.querySelector(".tabActive").getAttribute("data"))))}},Mobi.getCommentAjaxPagenation=function(t,e){if(t){var i=jm("html").css("font-size"),o="pid="+t+"&pageno="+e+"&ajaxPage="+!0+"&rem="+(i=i.substring(0,i.length-2))+"&loadingPath="+Fai.top._loadingPath;jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/product_h.jsp?cmd=getWafNotCk_getProductInfoComment",data:o,error:function(){Mobi.ing(LS.js_systemError)},success:function(t){var e=jm.parseJSON(t);e.html||(e.html=""),jm("#tabPanel3 .commentBoxPanel").remove(),document.getElementById("tabPanel3").insertBefore(jm(e.html)[0],jm("#tabPanel3 .userComment")[0]),setTimeout((function(){Mobi.bindImgLazyLoad("tabPanel3")}),0),Mobi.setCommImgBindShow()}})}},Mobi.setCommImgBindShow=function(){setTimeout((function(){var t=jm(".ct-s-content-m");if(void 0!==t&&null!=t)for(var e=0;e<t.length;e++){var i=t.eq(e)[0].querySelectorAll("img");void 0!==i&&null!=i&&i.length>0&&Mobi.bindCommImgShow(i,!1,0)}}),500)},Mobi.pbSaveBodyStyle=function(){"undefined"!=typeof g_saveBodyIdStyle&&null!=g_saveBodyIdStyle&&(jm("#g_body").attr("style",g_saveBodyIdStyle),g_saveBodyIdStyle=null)},Mobi.pbRemoveBodyStyle=function(){window.g_saveBodyIdStyle=jm("#g_body").attr("style"),jm("#g_body").attr("style","")},Mobi.bindCommImgShow=function(t,e,i){var o={imageScaleMethod:"fitNoUpscale",enableMouseWheel:!1,resetToolbarPosition:!0,loop:!1,captionAndToolbarAutoHideDelay:0,showCountTextLeft:!0,getImageCaption:function(t,e){var i,o;return i=t+" / "+e,(o=document.createElement("div")).className="ps-comm-page",o.appendChild(document.createTextNode(i)),o},getToolbar:function(){return'<div onclick="Mobi.pbSaveBodyStyle()" class="ps-toolbar-close   ps-toolbar-close-style icon-toolbar-close-style"></div>'}},n=window.Code.PhotoSwipe;if(null!=e&&e&&"false"!=e)"undefined"!=typeof g_showCommImgInstance&&"null"!=g_showCommImgInstance?void 0!==g_showCommImgInstance[i]&&"null"!=g_showCommImgInstance[i]?(n.detatch(g_showCommImgInstance[i]),g_showCommImgInstance[i]=null):g_showCommImgInstance[i]={}:(window.g_showCommImgInstance=[],g_showCommImgInstance[i]={}),setTimeout((function(){g_showCommImgInstance[i]=n.attach(t,o)}),1e3);else n.attach(t,o)},Mobi.scrollFadeIn=function(t,e,i){e=document.getElementById(e),t=document.getElementById(t);var o=document.getElementById("g_body"),n=t.clientHeight,a=e&&e.clientHeight,r=!1,s=!1,l=jm(t).parent().hasClass("productDetail_v3");function c(){var e=u();if(1!=i){if(e<a+1){var o=1*e/a;t.style.background="rgba(255,255,255,"+o+")",t.style.borderBottom="",s=!0}e>a&&s&&(t.style.background="rgba(255,255,255,0.99)",t.style.borderBottom="1px solid #ddd",s=!1)}}if(document.addEventListener("touchstart",(function(){c(),p()}),!1),document.addEventListener("touchmove",(function(){c(),p()}),!1),document.addEventListener("touchend",(function(){c(),p()}),!1),document.addEventListener("touchcancel",(function(){c(),p()}),!1),document.addEventListener("scroll",(function(){c(),p()}),!1),c(),window.productTabUl=document.getElementById("productTabUl"),null!=productTabUl&&null!=productTabUl){var d=productTabUl.clientHeight,m=productTabUl.offsetTop;Mobi.productTabUlScroll=p}function p(){var e=u();e>m-n&&!r&&(jm(productTabUl).addClass("tabUl_fix"),r=!0,l&&(t.style.borderBottom=""),0!=jm(".productVideoMask").length&&Mobi.videoQuit()),e+d<m&&r&&(jm(productTabUl).removeClass("tabUl_fix"),r=!1,l&&(t.style.borderBottom="1px solid #ddd"))}function u(){var t=o;return document.documentElement&&document.documentElement.scrollTop>0&&(t=document.documentElement),t.scrollTop}},Mobi.salePromotionDetail={salePromotionParam:"",showType:"2",styleType:"1",saleCountTimeInterval:{},showSaleTime:!1,showSaleDlMore:!1,saleReSalePriceHtml:""},Mobi.getSalePdIdList=function(t){if(null!=t){var e=t.id||0;jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/product_h.jsp?cmd=getWafNotCk_getSalePdIdList&saleId="+e,success:function(t){var e=jm.parseJSON(t);e.success&&(Mobi.isFinishGetPdIdList=!0,e.pdIdList&&(Mobi.salePdIdList=e.pdIdList))}})}},Mobi.initSalePromotion=function(t,e,i){Mobi.salePromotionDetail.salePromotionParam=t,Mobi.salePromotionDetail.styleType=e,Mobi.salePromotionDetail.saleReSalePriceHtml=i;var o={triggerId:"J_salePromotion",pageBg:!0,pageHtml:Mobi.salePromotionDetailHtml(t),direction:"bottom",closeWebPage:"#salePromotionPanel,#closesalePromotionPanel",callback:function(){jm(".saleContainer").bind("click mousedown touchstart",(function(t){t.stopPropagation()})),jm(".toCombine").bind("click",(function(t){window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"pr.jsp?salePdIdList="+jm.toJSON(Mobi.salePdIdList),t.stopPropagation()}))}};Mobi.initWebPage(o),Mobi.salePdIdList=[],Mobi.getSalePdIdList(t),Mobi.isFinishGetPdIdList=!1},Mobi.salePromotionDetailHtml=function(t){var e="",i="",o=t.other.ruleData||{},n=t.saleType,a=o.d,r=o.s,s=!1,l=[];if(2==n){1==r?(e="单品满减",2052==Fai.top._lcid&&(i+="单独购"),i+=LS.salePromotionFullReduce):(s=!0,e="组合满减",i=LS.salePromotionCombinationFullCut),l.push("<div id='salePromotionPanel' class='salePromotionPanel'>"),l.push("<div class='saleContainer'>"),l.push("\t<div class='saleTitle'>"+LS.salePromotionName+"</div>");for(var c=0;c<a.length;c++){l.push("\t<div class='saleContentItem'>");var d=jm.format(i,a[c].m,a[c].n);2052==Fai.top._lcid?(l.push("\t<div class='saleInfo'><span class='saleInfoBg g_bgColor g_main_bgColor_v3'></span><span class='saleInfoTip g_mainColor g_main_color_v3'>"+e+"</span></div>"),l.push("\t<span class='productParamterWords'>"+d)):l.push("\t<span class='productParamterWords productParamterWordsWithoutTips'>"+d),s&&l.push("，<span class='toCombine g_mainColor g_main_color_v3'>"+LS.salePromotionOrderAddOn+"</span></span>"),l.push("\t</div>")}Fai.top._openThemeV3&&l.push("<div id='closesalePromotionPanel' class='productDetailClose icon-Off g_iconMiddle icon-defaultColor'></div>"),l.push("</div>"),l.push("</div>")}return l.join("")},Mobi.oldShowSalePromotionDl=function(t,e,i){if(void 0!==t&&null!=t&&""!=t){Mobi.salePromotionDetail.salePromotionParam=t;var o=[];if("1"==t.saleType){var n="";if(void 0===t.other.ruleData.d.length)return;var a=parseFloat(t.other.ruleData.d[0].m);"1"==t.other.ruleData.s?(n=2052==Fai.top._lcid||1028==Fai.top._lcid?jm.format(LS.js_salePromotionDisCount,a):jm.format(LS.js_salePromotionDisCount,10*(10-a)),e=parseFloat(e)*a/10):(n=jm.format(LS.salePromotionLapse,a),e=parseFloat(e)-a),e<0&&(e=0),o.push("<table cellpadding='0' cellspacing='0'>"),o.push("<tr>"),o.push("<td>"+LS.js_promotionPrice+LS.colon+"</td>"),o.push("</td>"),o.push("<td class='J_salePriceSet'>"+i+e.toFixed(2)+"</td>"),o.push("</td>"),o.push("<td class='oldTbTd1'>"),o.push("<div class='trangle'>"),o.push("</div>"),o.push("</td>"),o.push("<td class='oldTbTD2'>"),o.push("<div class='rect'>"),o.push(n),o.push("</div>"),o.push("</td>"),o.push("</tr>"),o.push("</table>")}else{if(void 0===t.other.ruleData.d.length)return;var r=t.other.ruleData.d,s=r.length;o.push("<table cellpadding='0' cellspacing='0'>");for(var l=0;l<s;l++)o.push("<tr>"),0==l?o.push("<td>"+LS.salePromotionName+LS.colon+"</td>"):o.push("<td></td>"),o.push("<td>"),o.push("<div class='oldSaleTypeBg'>"),o.push(LS.salePromotionOnlyFullReduce),o.push("</div>"),o.push("</td>"),o.push("<td>"),o.push("<div class='oldShowDelColor'>"),o.push("&nbsp;&nbsp;"+jm.format(LS.js_salePromotionFullReduce,r[l].m,r[l].n)),o.push("</div>"),o.push("</td>"),o.push("</tr>");o.push("</table>")}jm(".J_showSaleDetail").html(o.join(""))}},Mobi.showNewMarketPrice=function(t){1==t&&(jm(".marketPriceNew").css("display","block"),jm(".marketMemberPrice").css("display","none"))},Mobi.fixMallThemePtInfo=function(){(Fai.top._templateFrameId>=2e3||Fai.top._templateFrameId<3e3)&&jm(".proCommProperty.productPrice").css("min-height","1.6rem")},Mobi.showSalePromotionDl=function(t,e,i){var o="position:relative;";if(1==Mobi.salePromotionDetail.showSaleTime&&(o+="margin-top:0.4rem;"),"2"==Mobi.salePromotionDetail.showType&&void 0!==t&&null!=t&&""!=t){var n=jm(".J_saleMallPrice").css("color");void 0!==n&&null!=n&&""!=n||(n="#FC4643");var a=[];if("1"==t.saleType){null!=i&&""!=i&&jm(".J_saleMallPrice").html(i);var r="";jm(".productNewDetailPanel").hasClass("newCountDownProductName")||(jm(".J_salePrePrice").css("display","inline-block"),jm(".marketPriceNew").css("display","none"));var s=t.other.ruleData.d[0].m;r="1"==t.other.ruleData.s?2052==Fai.top._lcid||1028==Fai.top._lcid?jm.format(LS.js_salePromotionDisCount,s):jm.format(LS.js_salePromotionDisCount,10*(10-s)):jm.format(LS.salePromotionLapse,s),a.push("<div class='J_salePromotionRemove saleProDetail' style='"+o+"'><table cellpadding='0' cellspacing='0'>"),a.push("<tr>"),a.push("<td style='color:#323232;'>"),a.push(LS.salePromotionName+LS.colon),a.push("</td>"),a.push("<td>"),a.push("<div  style='border:1px solid;' class='saleTypeBg g_mainColor g_main_color_v3'>"),a.push(LS.salePromotionReduce),a.push("</div>"),a.push("</td>"),a.push("<td class='g_mainColor g_main_color_v3'"),a.push("&nbsp;&nbsp;"+r),a.push("</td>"),a.push("</tr>"),a.push("</table><div>"),jm(".J_saleInfoDl").html(a.join(""))}else{if(void 0===t.other.ruleData.d.length)return;var l=t.other.ruleData.d,c=l.length;r="";if(c>1?a.push("<div  onclick='Mobi.showSaleDlMore("+c+")' class='J_salePromotionRemove saleProDetail' style='"+o+"'>"):a.push("<div class='J_salePromotionRemove saleProDetail' style='"+o+"'>"),a.push("<table cellpadding='0' cellspacing='0'><tr>"),a.push("<td style='color:#323232;'>"),a.push(LS.salePromotionName+LS.colon),a.push("</td>"),a.push("<td>"),a.push("<div class='J_saleFullBgShow saleTypeBg g_mainColor g_main_color_v3' >"),a.push(LS.salePromotionOnlyFullReduce),a.push("</div>"),a.push("</td>"),a.push("<td class='g_mainColor g_main_color_v3'>"),1==c&&(r=jm.format(LS.js_salePromotionFullReduce,l[0].m,l[0].n),a.push("&nbsp;&nbsp;"+r)),a.push("</td>"),a.push("</tr></table>"),c>1){a.push("<div class='saleProShowMore'><span class='J_saleShowMoreIcon faisco-icons-downward1'></span></div>");for(var d=0;d<c;d++)a.push("<div class='J_saleFullProDetail saleProDetail' style='display:none;'>"),a.push("<table cellpadding='0' cellspacing='0'><tr>"),a.push("<td>"),a.push("<div class='J_saleFullBgShow saleTypeBg g_mainColor g_main_color_v3' >"),a.push(LS.salePromotionOnlyFullReduce),a.push("</div>"),a.push("</td>"),a.push("<td class='g_mainColor g_main_color_v3'>"),a.push("&nbsp;&nbsp;"+jm.format(LS.js_salePromotionFullReduce,l[d].m,l[d].n)),a.push("</td>"),a.push("</tr></table>"),a.push("</div>")}a.push("</div>"),jm(".J_saleInfoDl").html(a.join(""))}}},Mobi.showSaleDlMore=function(t){void 0!==t&&(1==Mobi.salePromotionDetail.showSaleDlMore?(Mobi.salePromotionDetail.showSaleDlMore=!1,jm(".J_saleShowMoreIcon").addClass("faisco-icons-downward1"),jm(".J_saleShowMoreIcon").removeClass("faisco-icons-upward1"),jm(".J_saleFullProDetail").css("display","none")):(Mobi.salePromotionDetail.showSaleDlMore=!0,jm(".J_saleShowMoreIcon").addClass("faisco-icons-upward1"),jm(".J_saleShowMoreIcon").removeClass("faisco-icons-downward1"),jm(".J_saleFullProDetail").css("display","block")))},Mobi.setPdMallPriceHeight=function(t){var e=jm(".J_saleMallPrice").css("height");e=e.indexOf("rem")<0?e.indexOf("px")<0?parseFloat(e)/_htmlFontSize:parseFloat(e.substring(0,e.length-2))/_htmlFontSize:parseFloat(e.substring(0,e.length-3)),e+=2.3*parseFloat(t),jm(".J_salePrePrice").css("height",e+"rem"),jm(".J_salePrePrice").css("line-height",e+"rem")},Mobi.showSaleTimeType=function(t,e,i,o){if(i){if(Fai.top._templateFrameId>1014&&Fai.top._templateFrameId<2e3&&jm(".collectText").length>0&&0==jm(".J_showCountDownClass").length&&jm(".pd3ProductNameContent").css("padding-bottom","0.7rem"),e||1==o)return jm(".isShowOldSaleCountDown").show(),void jm(".isShowNewSaleCountDown").hide();t?(jm(".isShowOldSaleCountDown").hide(),jm(".isShowNewSaleCountDown").show()):(jm(".isShowOldSaleCountDown").show(),jm(".isShowNewSaleCountDown").hide())}},Mobi.showSaleTimeCountDown=function(t,e,i,o,n,a,r){jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mall_h.jsp?cmd=getWafNotCk_getSystemTime",success:function(n){if((n=jm.parseJSON(n)).success){var s=n.now||0,l=0,c=0,d=0;t-(s/=1e3)>0?(l=t-s,c=e-t,d=1):e-s>0&&(l=t-s,c=e-s,d=2);var m="",p=LS.salePromotionBegin,u=LS.salePromotionEnd,f=0;Mobi.salePromotionDetail.showType=d,Mobi.salePromotionDetail.showSaleTime=!0,1==d?(m=p,f=l,jm(".J_salePromotionNewMessage").html(LS.salePromotionNewBeginMessage)):(m=u,f=c,jm(".J_salePromotionNewMessage").html(LS.salePromotionNewEndMessage)),(a||Fai.top._manageMode)&&1!=r&&(jm(".J_salePromotionDay").html(LS.salePromotionDay),jm(".J_salePromotionHour").html(":"),jm(".J_salePromotionMinute").html(":"),jm(".J_salePromotionSecond").html("")),window.onload=function(){jm(".showSaleTimeImg").css("display","block")},clearInterval(Mobi.salePromotionDetail.saleCountTimeInterval),Mobi.salePromotionDetail.saleCountTimeInterval=setInterval((function(){var t=parseInt(f/86400),e=parseInt(f/3600)-24*t,n=parseInt(f/60)-24*t*60-60*e,s=parseInt(f%60);if(2052!=Fai.top._lcid&&1028!=Fai.top._lcid&&(e<10&&(e="0"+e),n<10&&(n="0"+n),s<10&&(s="0"+s)),--f<=0&&Fai.top.location.reload(),1==d&&(a||Fai.top._manageMode)&&1!=r&&jm(".J_showCountDownClass").html("&nbsp;&nbsp;"+jm.format(m,t,e,n,s)),1!=i||a&&!Fai.top._manageMode&&1!=r||jm(".showSaleTimeClass").html("&nbsp;&nbsp;"+jm.format(m,t,e,n,s)),1==i&&(a||Fai.top._manageMode)&&1!=r&&(t<10&&(t="0"+t),e<10&&(e="0"+e),n<10&&(n="0"+n),s<10&&(s="0"+s),"00"==t?(jm(".J_salePromotionDay").css("display","none"),jm(".J_salePromotionDayNum").css("display","none")):jm(".J_salePromotionDayNum").html(t),jm(".J_salePromotionHourNum").html(e),jm(".J_salePromotionMinuteNum").html(n),jm(".J_salePromotionSecondNum").html(s)),f<0)if(1==d)f=c,m=u,d=2,Mobi.salePromotionDetail.showType=2,Mobi.showSalePromotionDl(Mobi.salePromotionDetail.salePromotionParam,Mobi.salePromotionDetail.styleType,Mobi.salePromotionDetail.saleReSalePriceHtml);else{if(clearInterval(Mobi.salePromotionDetail.saleCountTimeInterval),Mobi.salePromotionDetail.showType=1,"1"==Mobi.salePromotionDetail.salePromotionParam.saleType){var l=jm(".J_salePrePrice").html();null!=l&&jm(".J_saleMallPrice").html(l)}jm(".J_salePromotionRemove").remove(),1==o?jm(".productPrice").css("height","3.75rem"):jm(".productPrice").css("height","2.75rem")}}),1e3)}}})},Mobi.showGbTimeCountDown=function(t,e,i,o){jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mall_h.jsp?cmd=getWafNotCk_getSystemTime",success:function(n){if((n=jm.parseJSON(n)).success){var a=n.now||0,r=0,s=0,l=0;t-(a/=1e3)>0?(r=t-a,s=e-t,l=1):e-a>0&&(r=t-a,s=e-a,l=2);var c="",d=0;1==l?(c="距拼团活动开始仅剩：{0}天{1}小时{2}分{3}秒",d=r):(c="距拼团活动结束仅剩：{0}天{1}小时{2}分{3}秒",d=s,jm(".J_salePromotionNewMessage").html(LS.salePromotionNewEndMessage)),(i||Fai.top._manageMode)&&1!=o&&(jm(".J_salePromotionDay").html(LS.salePromotionDay),jm(".J_salePromotionHour").html(":"),jm(".J_salePromotionMinute").html(":"),jm(".J_salePromotionSecond").html("")),window.onload=function(){jm(".showSaleTimeImg").css("display","block")},clearInterval(Mobi.gbCountTimeInterval),Mobi.gbCountTimeInterval=setInterval((function(){var t=parseInt(d/86400),e=parseInt(d/3600)-24*t,n=parseInt(d/60)-24*t*60-60*e,a=parseInt(d%60);2052!=Fai.top._lcid&&1028!=Fai.top._lcid&&(e<10&&(e="0"+e),n<10&&(n="0"+n),a<10&&(a="0"+a)),--d<=0&&Fai.top.location.reload(),1==l&&(i||Fai.top._manageMode)&&1!=o&&jm(".J_showCountDownClass").html("&nbsp;&nbsp;"+jm.format(c,t,e,n,a)),i&&!Fai.top._manageMode&&1!=o||jm(".showSaleTimeClass").html("&nbsp;&nbsp;"+jm.format(c,t,e,n,a)),(i||Fai.top._manageMode)&&1!=o&&(t<10&&(t="0"+t),e<10&&(e="0"+e),n<10&&(n="0"+n),a<10&&(a="0"+a),jm(".J_salePromotionDayNum").html(t),jm(".J_salePromotionHourNum").html(e),jm(".J_salePromotionMinuteNum").html(n),jm(".J_salePromotionSecondNum").html(a)),d<0&&clearInterval(Mobi.gbCountTimeInterval)}),1e3)}}})},Mobi.addProductScreenFilterModel=function(t,e){var i=t;Mobi.initWebPage({triggerId:"screenButton",panelId:"productScreenFilterPanel",pageBg:!0,returnSeltFun:!0,callback:function(){var t,o=e.sortName,n=e.desc,a=e.groupId,r=e.psId;t=e.keyword?e.keyword:"";var s=e.mid,l=e.psc,c={};c.sortName=o,c.pdListId=i,c.desc=n,c.groupID=a,c.searchword=t,c.mid=s;var d=Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/product_h.jsp?cmd=getWafNotCk_getScreenPrInfo";jm.ajax({type:"POST",url:d,data:c,success:function(e){var i=jm.parseJSON(e);if(i.success){var s=jm.toJSON(i.list);Mobi.initScreenFilter(s,l,a,n,o,t,r)}}})},direction:"right",pageHead:"筛选",closeWebPage:".screenFilterIcon"})},Mobi.initScreenFilter=function(t,e,i,o,n,a,r){var s=jm.parseJSON(t),l=jm.parseJSON(e),c=LS.productScreenAll;if(l)for(var d=l.lid,m=s.length-1;m>=0;m--){var p=s[m];if(p.lid==d){c=p.libName;break}}var u=[];if(s.length>1)if(u.push("<div class='productScreenFilterLib' id='libTab'>"),u.push("<div class='productScreenLibLeft'>"+LS.productScreenSort+"</div>"),u.push("<div class='g_mainColor g_main_color_v3 productScreenLibRight'>"),u.push("<div class='icon-libNextMore libNextMoreIcon'></div>"),u.push("<div class='productScreenLibName' id='productScreenLibName'>"+c+"</div>"),u.push("</div>"),u.push("</div>"),l){var f=l.lid;u.push("<input type='hidden' id='lidValue' value='"+f+"'/>")}else u.push("<input type='hidden' id='lidValue' value='-1'/>");else 1==s.length?u.push("<input type='hidden' id='lidValue' value='"+s[0].lid+"'/>"):u.push("<input type='hidden' id='lidValue' value='-1'/>");var h=u.join("");jm("#baseScreenFilterContenter").append(h),jm("#backContent").show();var g=[];g.push("<div class='productScreenFilterBottom'>"),g.push("<div class='g_bgColor g_main_bgColor_v3 productScreenFilterButton' id='screenCommit'>"+LS.productScreenCommit+"</div>"),g.push("</div>"),h=g.join(""),jm("#basePanel").append(h),s.length>1&&Mobi.changeScreenFilterLib(t),Mobi.initScreenFilterModel(t,l),Mobi.screenCommitData(t,i,o,n,a,r)},Mobi.setPrImageMaxHeight=function(t,e,i){var o=(e=jm("#module"+t).find(e)).find("img"),n=0,a=0;o.each((function(){(a=parseInt(jm(this).height()))>n&&(n=a)})),0!=n&&(i?e.css("height","100%"):e.css("height",n/_htmlFontSize+"rem"))},Mobi.changeScreenFilterLib=function(t){var e=jm.parseJSON(t);jm("#libTab").bind("click",(function(){jm("#screenCommit").hide(),jm("#baseScreenFilterContenter").hide();var t=jm("#lidValue").val(),i=[];i.push("<div class='productScreenFilterOptionContenter' id='optionSelectorLib'>"),i.push("<div class='productScreenFilterTitle'>"),i.push("<div id='backLib' class='icon-screenFilterRt screenFilterRtIcon'></div>"),i.push("<div class='productScreenFilterTi'>"+LS.productScreenSort+"</div>"),i.push("</div>"),i.push("<div class='productScreenFilterContent'>"),t<0?i.push("<div class='productScreenFilterLineCheck' id='propOptionLibAll' onclick='Mobi.changeLibValue(-1,"+jm.encodeHtml(jm.toJSON(e))+")'>"):i.push("<div class='productScreenFilterLine' id='propOptionLibAll' onclick='Mobi.changeLibValue(-1,"+jm.encodeHtml(jm.toJSON(e))+")'>"),i.push("<div class='productScreenFilterLineLf'>"),i.push("<span>"+LS.productScreenAll+"</span>"),i.push("</div>"),t<0&&(i.push("<div class='entry-trangle'>"),i.push("</div>"),i.push("<div class='icon-check checkIcon'>"),i.push("</div>")),i.push("</div>"),i.push("<div class='g_separator'></div>");for(var o=0;o<e.length;o++){var n=e[o].lid,a=e[o].libName;n==t?i.push("<div class='productScreenFilterLineCheck' id='propOptionLib'  onclick='Mobi.changeLibValue("+e[o].lid+","+jm.encodeHtml(jm.toJSON(e))+")'>"):i.push("<div class='productScreenFilterLine' id='propOptionLib'  onclick='Mobi.changeLibValue("+e[o].lid+","+jm.encodeHtml(jm.toJSON(e))+")'>"),i.push("<div class='productScreenFilterLineLf'>"),i.push("<span>"+jm.encodeHtml(a)+"</span>"),i.push("</div>"),n==t&&(i.push("<div class='entry-trangle'>"),i.push("</div>"),i.push("<div class='icon-check checkIcon'>"),i.push("</div>")),i.push("</div>"),i.push("<div class='g_separator'></div>")}i.push("</div>"),i.push("</div>");var r=i.join("");jm("#basePanel").append(r),jm("#backLib").on("click",(function(){jm("#optionSelectorLib").remove(),jm("#screenCommit").show(),jm("#baseScreenFilterContenter").show()}))}))},Mobi.changeLibValue=function(t,e){if(t>0){for(var i=e.length-1;i>=0;i--)if(e[i].lid==t){jm(".productScreenLibName").html(e[i].libName),jm("#lidValue").val(t);break}}else jm(".productScreenLibName").html(LS.productScreenAll),jm("#lidValue").val(-1);jm("#optionSelectorLib").remove(),jm("#screenCommit").show(),Mobi.initScreenFilterModel(jm.toJSON(e)),jm("#baseScreenFilterContenter").show()},Mobi.initScreenFilterModel=function(t,e){jm("#productScreenFilterOptions").length>0&&jm("#productScreenFilterOptions").remove(),jm(".noScreenProp").length>0&&jm(".noScreenProp").remove();var i=jm("#lidValue").val();if(t&&!(i<0)){var o,n=jm.parseJSON(t),a=[];e&&(o=e.prop,i=e.lid);for(var r=0;r<n.length;r++)if(n[r].lid==i){var s=n[r].propList;a.push("<div class='productScreenFilterContent' id='productScreenFilterOptions'>");for(var l=0;l<s.length;l++){var c=LS.productScreenAll;if(o)for(var d=0;d<o.length;d++){var m=s[l].id;if(m==o[d].k)if(c=o[d].v,11==m||12==m||13==m)(c=s[l].currency+(c=(c=(c=c.replace("[","")).replace(",","~")).replace("]",""))).indexOf("~")<0&&(c+="~")}a.push("<div class='productScreenFilterLine' id='screenOption"+l+"'>"),a.push("<div class='productScreenFilterLineLf'>"),a.push("<span>"+s[l].name+"</span>"),a.push("</div>"),a.push("<div class='productScreenFilterLineRt'>"),a.push("<div class='icon-nextMore nextMoreIcon'></div>"),a.push("<span class='productScreenFilterOption' id='screenOptionContent"+l+"'>"+c+"</span>"),a.push("</div>"),a.push("</div>"),a.push("<div class='g_separator'></div>")}a.push("</div>");break}var p=a.join("");jm("#baseScreenFilterContenter").append(p),jm.each(n,(function(t,e){if(e.lid==i)for(var o=e.propList,n=0;n<o.length;n++)Mobi.changeScreenFilterModel(n,o[n])}))}},Mobi.changeScreenFilterModel=function(t,e){var i=e.name,o=e.option,n=e.currency;jm("#screenOption"+t).bind("click",(function(){jm("#baseScreenFilterContenter").hide();var e=jm("#screenOptionContent"+t).html();e=jm.decodeHtml(e),jm("#screenCommit").hide();var a=[];a.push("<div class='productScreenFilterOptionContenter' id='optionSelector"+t+"'>"),a.push("<div class='productScreenFilterTitle'>"),a.push("<div id='back' class='icon-screenFilterRt screenFilterRtIcon'></div>"),a.push("<div class='productScreenFilterTi'>"+i+"</div>"),a.push("</div>"),a.push("<div class='productScreenFilterContent'>"),e==LS.productScreenAll?a.push("<div class='productScreenFilterLineCheck' id='propOptionLineAll' onclick='Mobi.changePropValue(\"All\","+t+")'>"):a.push("<div class='productScreenFilterLine' id='propOptionLineAll' onclick='Mobi.changePropValue(\"All\","+t+")'>"),a.push("<div class='productScreenFilterLineLfLong'>"),a.push("<span id='optionAll'>"+LS.productScreenAll+"</span>"),a.push("</div>"),e==LS.productScreenAll&&(a.push("<div class='entry-trangle'>"),a.push("</div>"),a.push("<div class='icon-check checkIcon'>"),a.push("</div>")),a.push("</div>"),a.push("<div class='g_separator'></div>");for(var r=0;r<o.length;r++){var s=o[r];s.indexOf("[")>-1&&s.indexOf("]")>-1&&(s=(s=(s=s.replace("[","")).replace(",","~")).replace("]",""),r==o.length-1&&(s+="~")),e==(s=n+s)?a.push("<div class='productScreenFilterLineCheck' id='propOptionLine"+r+"' onclick='Mobi.changePropValue(\""+r+'",'+t+")'>"):a.push("<div class='productScreenFilterLine' id='propOptionLine"+r+"' onclick='Mobi.changePropValue(\""+r+'",'+t+")'>"),a.push("<div class='productScreenFilterLineLfLong'>"),a.push("<span id='option"+r+"'>"+s+"</span>"),a.push("</div>"),e==s&&(a.push("<div class='entry-trangle'>"),a.push("</div>"),a.push("<div class='icon-check checkIcon'>"),a.push("</div>")),a.push("</div>"),a.push("<div class='g_separator'></div>")}a.push("</div>"),a.push("</div>");var l=a.join("");jm("#basePanel").append(l),jm("#back").on("click",(function(){jm("#optionSelector"+t).remove(),jm("#screenCommit").show(),jm("#baseScreenFilterContenter").show()}))}))},Mobi.changePropValue=function(t,e){jm("#screenOptionContent"+e).html(jm("#option"+t).html()),jm("#optionSelector"+e).remove(),jm("#screenCommit").show(),jm("#baseScreenFilterContenter").show()},Mobi.screenCommitData=function(t,e,i,o,n,a){var r=jm.parseJSON(t);jm("#screenCommit").bind("click",(function(){var t,s={};r.length>1?jm.each(r,(function(e,i){var o=jm("#productScreenLibName").html();(o=jm.decodeHtml(o))==i.libName&&(s.lid=i.lid,t=i)})):(s.lid=r[0].lid,t=r[0]);var l="?",c=Mobi.preprocessUrl({path:"",oldPath:""})+"pr.jsp";if(e&&(c+=l+"groupId="+e,l="&"),-1!=a&&(c+=l+"psId="+a,l="&"),i&&(c+=l+"desc="+i,l="&"),o&&(c+=l+"sortName="+o,l="&"),n&&(c+=l+"searchword="+n,l="&"),t){for(var d=[],m=t.propList,p=0;p<m.length;p++){var u=jm("#screenOptionContent"+p).html();if(u!=LS.productScreenAll){var f={},h=m[p].id;if(f.k=h,11==h||12==h||13==h){var g=m[p].currency;g&&(u=u.replace(g,"")),u="["+(u="~"==u.charAt(u.length-1)?u.replace("~",""):u.replace("~",","))+"]"}else u=jm.decodeHtml(u);f.v=u,d.push(f)}}s.prop=d,c+=l+"psc="+jm.encodeUrl(jm.toJSON(s))}document.location.href=c}))},Mobi.showProductCacheList=[],Mobi.showMallCartScreen=function(t,e,i,o,n,a,r){var s=jm(".productMallOptionPanel");jm("#module"+t+" .J_fk-mallCart").off("click.cart").bind("click.cart",(function(e){e.stopPropagation();var o=n&&n.replace?n.replace(/&nbsp;/gi," ").replace(/&lt;/gi,"<").replace(/&gt;/g,">").replace(/&#92;/gi,"\\").replace(/&#39;/gi,"'").replace(/&quot;/gi,'"').replace(/<br\/>/gi,"\n").replace(/&amp;/gi,"&"):n;jm("#productMallOptionPanel_mcs_"+t+" .productMallOptionContent").append(o),s=jm(".productMallOptionPanel");var a=jm(this).attr("id")||"",d=jm(this).attr("reelect-item-id")||-1,m=!1,p={},u="",f="",h={},g=!1,v=!1,b=!1;return jm.each(Mobi.showProductCacheList,(function(t,e){if(e.id==a)return m=!0,p=e.pinfo,u=e.showOptionHtml,f=e.script,h=e.otherHtml,g=e.isPtLimitBuy,v=e.isImLimitBuy,b=e.cacheIsEarnestSale,!1})),l(),jm("#productMallOptionPanel_mcs_"+t).find(".productMallOptionPanel").hide(),m?c(p,u,f,h,g,v,b,{reelectItemId:d}):jm.ajax({type:"POST",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/product_h.jsp?cmd=getWafNotCk_getProductInfoAndDom",data:{pid:a,moduleId:t,mallShoppingOptions:i,isFromCart:r.isReselect||!1},error:function(){Mobi.ing(LS.js_systemError)},success:function(t){var e=jm.parseJSON(t);if(e.success){var i=e.pinfo,o=e.showOptionHtml,n=e.script,r=e.otherHtml,s=e.isPtLimitBuy,l=e.isImLimitBuy,m=e.isEarnestSale;Mobi.showProductCacheList.push({id:a,pinfo:i,showOptionHtml:o,script:n,otherHtml:r,isPtLimitBuy:s,isImLimitBuy:l,isEarnestSale:m}),c(i,o,n,r,s,l,m,{reelectItemId:d})}}}),!1}));var l=Mobi.initWebPage({triggerId:"f"+t,panelId:"productMallOptionPanel_mcs_"+t,pageBg:!0,returnSeltFun:!0,direction:"bottom",closeWebPage:"#productMallOptionPanel_mcs_"+t+" .productDetailClose.icon-Off",closeCallBack:function(){jm(".productMallOptionPanel .productMallOptionContentPanel").removeClass("mallThemeProductContentPanel"),jm("#productMallOptionPanel_mcs_"+t+" .productMallOptionContent .productMallOptionHead").remove(),jm("#productMallOptionPanel_mcs_"+t+" .productMallOptionContent .mallOptionAndNumBox").remove(),jm("#productMallOptionPanel_mcs_"+t+" .productMallOptionContent .productMallShop").remove(),jm("#productMallOptionPanel_mcs_"+t+" .productMallOptionContent .separatorLine").remove()}});function c(n,l,c,d,m,p,u,f){s=jm(".productMallOptionPanel");var h=n.id;s.attr("id","productMallOptionPanel"+h);var g=d.mallAmountHtml||"",v=d.mallWeightHtml||"",b=d.mallPriceHtml||"",_=d.productMallShopHtml||"",j=d.siteFormPleaseSelect||"请选择",M=n.mallPrice.toFixed(2),y=M,w="",S="";if(n.openPriceCalendar?(s.addClass("withPriceCalendar"),s.find(".productMallOptionHead .productMallOptionImage").hide(),s.find(".productMallOptionHead .productDetail").hide(),s.find(".productMallOptionHead").append("<div class='indicator'>"+j+"</div>")):s.removeClass("withPriceCalendar"),i){var I=M,C=M,P=(n.optionsAmountList||{}).d||[];jm.each(P,(function(t,e){var i=e,o=i.oPrice;if(null!=o&&""!=o&&0!=(i.flag||0)){var n=o||0;I=I<n?I:n,C=C>n?C:n,I=parseFloat(I)||0,C=parseFloat(C)||0,I==C?M=I.toFixed(2):(M=I.toFixed(2)+"~"+C.toFixed(2),w=C.toFixed(2),S=I.toFixed(2))}}))}if(""!=S||""!=w){var x=parseFloat(w)*o*.01;y=parseFloat(S)*o*.01+"~"+x}jm("#choiceCurrency").text(e),jm("#mallPrice").text(y),Fai.top._openThemeV3?s.find(".mallOptionImg").css("background-image","url("+n.picPath+")"):s.find(".mallOptionImg").attr("src",n.picPath),s.find(".productMallAmount").html(g),s.find(".productMallWeight").html(v),u||s.find(".productDetailName").html("<div class='productName g_middleColor'><div class='productNameWrap' style='word-break:break-all;white-space: normal;overflow:hidden;text-overflow:ellipsis;'></div></div>"+b),s.find(".productNameWrap").text(n.name),s.find(".J-op-box").html(l),s.find(".productMallShop").html(_);var k=m?"_pt":p?"_im":"";jm("#g_increase"+k).unbind("click.ic").bind("click.ic",(function(){Mobi.decrease2(h,k)})),jm("#g_decrease"+k).unbind("click.dc").bind("click.dc",(function(){Mobi.increase2(h,k)}));var L=document.createElement("script");L.type="text/javascript",L.innerHTML=c,L.id="opScript_"+t,document.getElementById("productMallOptionPanel_mcs_"+t).appendChild(L),jm("#opScript_"+t).remove(),m?(jm("#limitAmountDiv").hide(),jm(".J_productNumberContent_simple").hide(),jm("#limitAmountDiv_pt").show(),jm(".J_productNumberContent_pt").show()):(jm("#limitAmountDiv_pt").hide(),jm(".J_productNumberContent_pt").hide(),jm("#limitAmountDiv").show(),jm(".J_productNumberContent_simple").show()),p?(jm("#limitAmountDiv").hide(),jm(".J_productNumberContent_simple").hide(),jm("#limitAmountDiv_im").show(),jm(".J_productNumberContent_im").show()):(jm("#limitAmountDiv_im").hide(),jm(".J_productNumberContent_im").hide(),jm("#limitAmountDiv").show(),jm(".J_productNumberContent_simple").show()),jm("#productMallOptionPanel_mcs_"+t+" .J_productReelectConfirm").unbind("click.msc").bind("click.msc",(function(){Mobi.mallBuy(h,0,1,t,null,null,{cb:function(){Vue.prototype.$modulesEventBus.$emit("cartPageDataRefresh")},isReselect:r.isReselect,reelectItemId:f.reelectItemId,hideAddCartTips:!0})})),jm("#productMallOptionPanel_mcs_"+t+" #productBuy").unbind("click.msc").bind("click.msc",(function(){Mobi.mallBuy(h,0,1,t,null,null,{cb:function(){!Fai.top._manageMode&&Fai.top._isMall&&Mobi.logMallFdp("mall_mem_cart_add",{mall_free_text_0:a||"未知入口",mall_free_text_1:n.name,mall_gds:["实体产品","卡密产品","知识付费产品","酒店产品"][n.productType],mall_mkt_type:n.marketType,mall_dist_type:n.distType},!0)}})})),jm("#productMallOptionPanel_mcs_"+t+" .J_productImmediatelyBug").unbind("click.msc").bind("click.msc",(function(){Mobi.mallBuy(h,1,1,t)})),jm("#productMallOptionPanel_mcs_"+t+" .J_productImmeSecKill").unbind("click.msc").bind("click.msc",(function(){var e=parseInt(jm(this).attr("secKillId")||0);Mobi.mallBuy(h,1,null,t,null,null,{isSecKill:!0,secKillId:e})})),jm("#productMallOptionPanel_mcs_"+t+" .J_productImmeGroupBuy").unbind("click.msc").bind("click.msc",(function(){var t=parseInt(jm(this).attr("groupBuyId")||0);Mobi.mallBuy(h,1,null,null,null,null,{isGroupBuy:!0,groupBuyId:t,groupBuyDetailId:0})})),jm("#productMallOptionPanel_mcs_"+t+" .J_productImmeCutPrice").unbind("click.msc").bind("click.msc",(function(){var t=parseInt(jm(this).attr("cutPriceId")||0);Mobi.cutPrice(t,h)})),jm("#productMallOptionPanel_mcs_"+t+" .J_productImmeIntegralMall").unbind("click.msc").bind("click.msc",(function(){var t=parseInt(jm(this).attr("integralMallId")||0);Mobi.mallBuy(h,1,null,null,null,null,{isIntegralMall:!0,integralMallId:t})})),jm("#productMallOptionPanel_mcs_"+t+" .J_productImmeEarnestSale").unbind("click.msc").bind("click.msc",(function(){var t=parseInt(jm(this).attr("earnestSaleId")||0);Mobi.mallBuy(h,1,null,null,null,null,{isEarnestSale:!0,earnestSaleId:t})})),jm("#productMallOptionPanel_mcs_"+t).find(".productMallOptionPanel").show(),(Fai.top._templateFrameId>=2e3||Fai.top._templateFrameId<3e3)&&jm("#mallPrice").css({height:"",lineHeight:""}),jm("#productMallOptionPanel_mcs_"+t).find(".mallOptionImg").click((function(){var e=jm(this).attr("src");jm("#module"+t).find("#J_acct_pic").attr("src",e).click()}));var F=document.createElement("script");F.type="text/javascript",F.innerHTML='jm(window).bind("pageshow", function(){jm("#productNum'+k+'").change();});',F.id="opScript2_"+t,document.getElementById("productMallOptionPanel_mcs_"+t).appendChild(F)}},Mobi.showMallCart=function(t,e){jm("#module"+e+" .J_fk-mallCart").bind("click",(function(){return t==jm(this).attr("id")&&0!=jm("#module"+e).length&&o(),!1}));var i="productMallOptionPanel"+t,o=Mobi.initWebPage({triggerId:"f",panelId:i,pageBg:!0,returnSeltFun:!0,direction:"bottom",closeWebPage:"#"+i+" .productDetailClose.icon-Off",closeCallBack:function(){jm(".productMallOptionPanel .productMallOptionContentPanel").removeClass("mallThemeProductContentPanel")}});jm("#"+i+" #productBuy").bind("click",(function(){Mobi.mallBuy(t,0,1,e)})),jm("#"+i+" .J_productImmediatelyBug").bind("click",(function(){Mobi.mallBuy(t,1,1,e)}))},Mobi.showFooterBox=function(){jm("#webFooterBox").removeClass("webDetailPage"),Fai.top._manageMode&&Fai.top._mobiFooterClose&&jm("#webFooter").hide()},Mobi.bookingPanelClickEvent=function(t,e){jm("#"+t).on("click",(function(t){1==e?Mobi.logDog(200332,15):2==e?Mobi.logDog(200332,16):3==e&&Mobi.logDog(200332,17),jm("#bookingPanelTriggle").data("pid",jm(this).attr("_pid")).trigger("click"),t.stopPropagation(),t.preventDefault()}))},Mobi.bookingBoxBind=function(t){var e="bookingPanelTriggle";if(jm("#"+e).click((function(){t&&Mobi.ing(LS.bookingSubmitFullTips)})),!(t||jm("#productBookingPanel").length>0)){var i=[];i.push("<div class='productBookingPanel' id='productBookingPanel' style='display:none; background-color:white;'>"),i.push("<div class='ShipDetailsHeader webHeaderBg g_main_bgColor_v3'>"),i.push("<span class='g_close icon-gClose'></span><span class='title pageTitle'>"+Fai.top._bookingModuleTitle+"</span>"),i.push("</div>"),i.push("</div>"),jm(i.join("")).insertAfter("#"+e);var o={triggerId:e,panelId:"productBookingPanel",callback:function(){Mobi.showBookingBox()},closeWebPage:"#productBookingPanel .g_close"};Mobi.initWebPage(o)}},Mobi.showBookingBox=function(){var t=[],e={},i={};t.push("pid=0"),t.push("&cmd=getWafNotCk_getPanelData"),t.push("&_colId="+Fai.top._colId),t.push("&_extId="+Fai.top._extId),jm.ajax({type:"post",cache:!1,url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/booking_h.jsp?"+t.join(""),error:function(){Mobi.ing(LS.js_systemError)},success:function(t){var o=jm.parseJSON(t);o.success?(i=o.pageData,e=i.moduleInfo,Mobi.bookingBoxInit(i,e)):Mobi.ing("获取数据失败",!1)}})},Mobi.bookingBoxInit=function(t,e){var i=t.bookingOpen,o=t.moduleId;jm("#module"+o).remove();var n=[];if(n.push("<div id='module"+t.moduleId+"'>"),i){var a=e.content.st;n.push("<div class='siteForm fk-siteForm-v "+(1==a?"verticalShowTye":"")+"'>"),n.push("<div id='siteFormItems' class='siteFormItemTable'>\n"),jm.each(t.contentList,(function(i,o){if(o.hide)return!0;n.push(Mobi.genBookingInputStr(o,t,e))})),t.validation&&(1==a?(n.push("<div class='siteFormItem siteFormItemTr f-siteFormItemTr'>\n"),n.push("<div class='siteFormItemShowName' width='100%'>"+LS.bookingCode+"</div>\n"),n.push("</div>\n"),n.push("<div class='siteFormItem siteFormValidate siteFormItemTr'>"),n.push("<div class='siteFormItemTd'width='100%' >"),n.push("<input class='g_itext' type='text' placeholder='"+LS.EnterVerificationCode+"' id='M"+o+"siteFormValidateCode' maxlength='4' msg='"+LS.EnterVerificationCode+"' />"),n.push("<img id='M"+o+"FvalidateCodeImg' class='validateCodeImg' onclick=\"Mobi.siteFormValidation('', "+o+")\" src='/validateCode.jsp?vCodeId="+o+"&"+1e3*Math.random()+"'/>"),n.push("<div onclick=\"Mobi.siteFormValidation('', "+o+")\" class='left siteFormValidateUp changeSiteFormValidate'></div>"),n.push("<font class='bookingSubmitItemMust'>*</font>"),n.push("</div>"),n.push("</div>")):(n.push("<div class='siteFormItem siteFormValidate'>"),n.push("<div style='width: 23%;float: left; height:100%;'><div class='siteFormItemShowName'><table style='table-layout:fixed;text-align:right; height:100%;' width='100%' cellpadding='0' cellspacing='0'><tr><td  width='100%'>"+LS.bookingCode+"</td></tr></table></div></div>\n"),n.push("<div style='width: 77%;float: left;'><div class='siteFormItemShowVal'>"),n.push("<input class='g_itext validateInput' type='text' placeholder='"+LS.EnterVerificationCode+"' id='M"+o+"siteFormValidateCode' maxlength='4' msg='"+LS.EnterVerificationCode+"' />"),n.push("<img class='validateCodeImg' id='M"+o+"FvalidateCodeImg' onclick=\"Mobi.siteFormValidation('', "+o+")\" title='换一换' src='/validateCode.jsp?vCodeId="+o+"&"+1e3*Math.random()+"'/>"),n.push("<div onclick=\"Mobi.siteFormValidation('', "+o+")\" class='left changeSiteFormValidate'></div>"),n.push("<font class='bookingSubmitItemMust'>*</font>"),n.push("</div></div>"),n.push("</div>"))),n.push("</div>"),n.push("</div>"),Fai.top._manageMode||n.push("<div id='siteFormMsgM"+t.moduleId+"F-1' class='siteFormMsg g_warning'></div>"),n.push("<div class='siteFormAddButton "+(1==a?"verticalShowTye":"")+"'>\n"),n.push("<div id='M"+t.moduleId+"siteFormAddButton' class='siteFormSend'><input type='button' class='g_button sendIcon g_main_bgColor_v3' value='"+t.buttonName+"' /></div>\n"),n.push("</div>\n")}else{var r=t.bookingClosedTip;Fai.top._manageMode&&(r+="，"+t.pleaseClick+"<a style='color:#333;' href='javascript:window.open(\""+t.bookingEditUrl+"\");'>"+t.setUp+"</a>"),n.push("<div style='color:#333; font-size:0.6rem; text-align:center; padding-top:45%; padding-bottom:45%;'>"+r+"</div>")}n.push("</div>");var s=n.join("");jm("#productBookingPanel").append(s),Fai.top._bookingModuleTitle=e.content.mt,jm("#productBookingPanel .pageTitle").text(Fai.top._bookingModuleTitle),i&&Mobi.bookingSubmitPanleEventInit(t),Fai.top._manageMode&&Mobi.initModuleLayer(o,t.itemList,[],t.canDesign)},Mobi.mobiBookingSubmitAdd=function(t){if(Fai.top._manageMode)alert("当前为管理状态，提交无效。");else{var e=t.moduleId,i=t.moduleInfo,o=t.contentList,n=[],a=o,r=!0,s=t.Def_LIMIT_TEXTAREA_MAXLEN,l=t.validation,c=jm("#M"+e+"siteFormValidateCode"),d=c.val(),m=[];if(a.length<1)return!1;if(jm.each(a,(function(t,i){var o=i.id,a=i.name,l=i.must,c=i.type,d={};d.id=o,d.type=c,d.must=l;var p={o:0,i:0,a:100};if(null!=i.wordLimit&&(p=JSON.parse(i.wordLimit)),0==c){var u=jm.trim(jm("#M"+e+"siteFormInput"+o).val());if(l&&""==u)return Mobi.ing(jm.format(LS.siteFormSubmitInputIsEmpty,jm.encodeHtml(a))),r=!1,!1;if(u.length>p.a&&l)return Mobi.ing(jm.format(LS.siteFormSubmitInputMaxLength,jm.encodeHtml(a),p.a)),r=!1,!1;if(u.length<p.i&&l)return Mobi.ing(jm.format(LS.siteFormSubmitInputMinLength,jm.encodeHtml(a),p.i)),r=!1,!1;d.val=u}else if(1==c){var f=jm.trim(jm("#M"+e+"siteFormTextArea"+o).val());if(l&&""==f)return Mobi.ing(jm.format(LS.siteFormSubmitInputIsEmpty,jm.encodeHtml(a))),r=!1,!1;if(f.length>s)return Mobi.ing(jm.format(LS.siteFormSubmitInputMaxLength,jm.encodeHtml(a),s)),r=!1,!1;d.val=f}else if(2==c){var h=document.querySelectorAll("input[name='M"+e+"siteFormRadioR"+o+"']:checked");if(l&&0==h.length)return Mobi.ing(jm.format(LS.siteFormSubmitCheckIsEmpty,jm.encodeHtml(a))),r=!1,!1;h.length>0?d.val=h[0].value:d.val=""}else if(3==c){var g=document.querySelectorAll("input[name='M"+e+"siteFormCheckboxR"+o+"']:checked");if(l&&0==g.length)return Mobi.ing(jm.format(LS.siteFormSubmitCheckIsEmpty,jm.encodeHtml(a))),r=!1,!1;for(var v=[],b=0;b<g.length;b++)v.push(g[b].value);d.val=v.join("\n")}else if(4==c){var _=jm("#M"+e+"siteFormSelect"+o).val();if(l&&(0==_.length||"none"==_))return Mobi.ing(jm.format(LS.siteFormSubmitCheckIsEmpty,jm.encodeHtml(a))),r=!1,!1;d.val=_}else{if(5==c)return!0;if(6==c){u=jm("#Mobi"+e+"Calendar"+o+"Pluginsinput").val();var j=i.dateSetting?i.dateSetting.type:0,M=1==j?jm("#Mobi"+e+"Calendar"+o+"Plugins_endinput").val():"";if(l&&(""==u||1==j&&""==M))return Mobi.ing(jm.format(LS.siteFormSubmitCheckIsEmpty,jm.encodeHtml(a))),r=!1,!1;1==j&&(u=""==jm.trim(u)&&""==jm.trim(M)?"":u+" 至 "+M),d.val=u}else if(7==c){var y=jm("#module"+e).find("#siteForm"+e+"fileName"+o),w={};if(l&&""==y.attr("_tmpFileId"))return Mobi.ing("请选择文件上传"),r=!1,!1;""==y.attr("_tmpFileId")?d.val="":(d.val=y.attr("_fileId"),w.tmpFileName=y.attr("_tmpFileName"),w.fileId=d.val,w.tmpFileId=y.attr("_tmpFileId"),m.push(w))}else if(8==c){var S=jm.trim(jm("#M"+e+"siteFormPhoneInput"+o).val());if(l&&""==S)return Mobi.ing(jm.format(LS.siteFormSubmitInputIsEmpty,jm.encodeHtml(a))),r=!1,!1;if(!jm.isNationMobile(S)&&""!=S)return Mobi.ing(LS.mobileNumRegular),r=!1,!1;d.val=S}else if(9==c){var I=jm.trim(jm("#M"+e+"siteFormMailInput"+o).val());if(l&&""==I)return Mobi.ing(jm.format(LS.siteFormSubmitInputIsEmpty,jm.encodeHtml(a))),r=!1,!1;if(!jm.isEmail(I)&&""!=I)return Mobi.ing(jm.format(LS.memberSignupUserAddItemCorrect,jm.encodeHtml(a))),r=!1,!1;d.val=I}else if(10==c){var C=jm.trim(jm("#M"+e+"siteFormIndentityInput"+o).val());if(l&&""==C)return Mobi.ing(jm.format(LS.siteFormSubmitInputIsEmpty,jm.encodeHtml(a))),r=!1,!1;if(!jm.isCardNo(C)&&""!=C)return Mobi.ing(jm.format(LS.memberSignupUserAddItemCorrect,jm.encodeHtml(a))),r=!1,!1;d.val=C}else if(11==c){var P=jm("#M"+e+"siteFormAddressInput"+o).val();if(l&&""==P)return Mobi.ing(jm.format(LS.siteFormSubmitInputIsEmpty,jm.encodeHtml(a))),r=!1,!1;d.val=P}}n.push(d)})),!r)return!1;if(l&&""==d)return Mobi.ing(jm.format(c.attr("msg"))),r=!1,!1;var p="pid="+jm("#bookingPanelTriggle").data("pid")+"&submitContentList="+jm.encodeUrl(jm.toJSON(n))+"&vCodeId="+e+"&validateCode="+d+"&tmpFileList="+jm.encodeUrl(jm.toJSON(m));Mobi.ing(LS.siteFormSubmitIng,-1),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/booking_h.jsp?cmd=addWafCk_add",data:p,error:function(){Mobi.ing(LS.js_systemError)},success:function(o){if((o=jm.parseJSON(o)).success){Mobi.ing(LS.siteFormSubmitOk,1),jm("#M"+e+"siteFormAddButton .sendIcon").attr("disabled",!0);var n=i[t.Def_BookingSubmit_JUMP_URL];setTimeout((function(){1==n.lt?Fai.top.location.href=i.jumpToUrl:Fai.top.location.reload()}),2500)}else{if(o.hasFW)return void Mobi.ing(o.msg);-4==o.rt?Mobi.ing(LS.siteFormSubmitCountLimit):-20==o.rt?Mobi.ing(o.msg):-401==o.rt?(Mobi.ing(LS.siteFormSubmitValidateCodeErr),jm("#M"+e+"siteFormValidateCode").val(""),Mobi.siteFormValidation("",e)):-7==o.rt?Mobi.ing(LS.siteImgFull):-2==o.rt?Mobi.ing(LS.js_argsError):Mobi.ing(LS.js_systemError)}}})}},Mobi.genBookingInputStr=function(t,e,i){var o=e.moduleId,n=t.id,a=t.type,r=t.name,s=t.must,l=t.headline,c=t.input,d=i.content.st,m=e.isIpad,p=c.split("\n"),u="",f="",h=null==t.placeholder?"":t.placeholder,g={o:0,i:0,a:100};if(null!=t.wordLimit&&(g=JSON.parse(t.wordLimit)),a==e.Def_ContentList_Type_SINGLE_LINE)f="<input type='text' class='g_itext' placeholder='"+jm.encodeHtml(h)+"' maxlength='"+g.a+"' name='M"+o+"siteFormInput"+n+"' value='"+jm.encodeHtml(void 0!==e.memberName&&t.sys?e.memberName:"")+"' id='M"+o+"siteFormInput"+n+"' />\n";else if(a==e.Def_ContentList_Type_MULTI_LINE)f="<textArea class='g_textarea fk_formTextareaStyle' placeholder='"+jm.encodeHtml(h)+"' maxlength='"+e.Def_LIMIT_TEXTAREA_MAXLEN+"' id='M"+o+"siteFormTextArea"+n+"' cols='50' rows='3' /></textArea>\n";else if(a==e.Def_ContentList_Type_RADIO){f+="<div class='fk-siteFormItemCheckWrap'>",f+="<div class='fk-siteFormItemCheckList'>";for(var v=0;v<p.length;v++)f+="<div class='siteFormItemCheckItem "+(m?"fk-siteFormItemCheckItem-isIpad":"")+"'><input type='radio' id='M"+o+"siteFormRadio"+n+"I"+v+"' name='M"+o+"siteFormRadioR"+n+"' value='"+jm.encodeHtml(p[v])+"'/><label for='M"+o+"siteFormRadio"+n+"I"+v+"'>"+jm.encodeHtml(p[v])+"</label></div>\n";f+="</div>",f+="</div>"}else if(a==e.Def_ContentList_Type_MULTIPLECHOICE){f+="<div class='fk-siteFormItemCheckWrap'>",f+="<div class='fk-siteFormItemCheckList'>";for(var b=0;b<p.length;b++)f+="<div class='siteFormItemCheckItem "+(m?"fk-siteFormItemCheckItem-isIpad":"")+"'><input type='checkbox' id='M"+o+"siteFormCheckbox"+n+"I"+b+"' name='M"+o+"siteFormCheckboxR"+n+"' value='"+jm.encodeHtml(p[b])+"'/><label for='M"+o+"siteFormCheckbox"+n+"I"+b+"'>"+jm.encodeHtml(p[b])+"</label></div>\n";f+="</div>",f+="</div>"}else if(a==e.Def_ContentList_Type_DROPDOWN){f+="<select class='g_selectTag fk-selectStyle' id='M"+e.moduleId+"siteFormSelect"+n+"' name='M"+o+"siteFormSelect"+n+"'>\n",f+="<option value='none'>"+LS.mallPleaseChoose+"</option>";for(var _=0;_<p.length;_++)f+="<option value='"+jm.encodeHtml(p[_])+"'>"+jm.encodeHtml(p[_])+"</option>\n";f+="</select>"}else if(a==e.Def_ContentList_Type_DESC)f+="<div class='fk-siteFormTextTip fk-siteFormTextTipMain'>"+jm.encodeHtml(l)+"</div>\n",f+="<div class='fk-siteFormTextTip fk-siteFormTextTipSecond'>"+jm.encodeHtml(c)+"</div>\n";else if(a==e.Def_ContentList_Type_DATE){var j=t.dateSetting,M=1==(null==j.type?0:j.type);f+="<div class='"+(M?"fk-startDateInput":"")+" mobiCalendarPlugins' id='Mobi"+o+"Calendar"+n+"Plugins' val=''></div>\n",M&&(f+="<div class='fk-endDateInput mobiCalendarPlugins' id='Mobi"+o+"Calendar"+n+"Plugins_end' val=''></div>\n")}else if(a==e.Def_ContentList_Type_FILE_UPLOAD){var y=e.isIE;f+="<div class='fk-uploadComponent'>\n",f+="<span id='uploadButton"+e.moduleId+n+"'>\n",f+=y?"<input readonly='readonly' type='button' id='siteForm"+o+"fileUpload"+n+"'  class='uploadify-button' onclick='"+(Fai.top._manageMode?'javascript:alert("当前为管理状态，提交无效。");':"")+"' value='选择文件'/>\n":"<input readonly='readonly' type='button' class='uploadify-button' onclick='"+(Fai.top._manageMode?'javascript:alert("当前为管理状态，提交无效。");':"")+"' value='选择文件'/>\n",f+="<div class='uploadify-text' id='siteForm"+o+"fileName"+n+"' _tmpFileId='' >未选择文件</div>\n",f+="</span>\n",f+="</div>\n"}else a==e.Def_ContentList_Type_PHONE?f="<input onkeyup='(this.v=function(){this.value=this.value.replace(/[^0-9-]+/,\"\");}).call(this)' oninput='if(value.length>11)value=value.slice(0,11);' type='number' class='g_itext' maxlength='11' placeholder='"+jm.encodeHtml(h)+"' id='M"+o+"siteFormPhoneInput"+n+"' value='"+jm.encodeHtml(void 0!==e.memberMobile&&/^[0-9]*$/.test(e.memberMobile)&&t.sys?e.memberMobile:"")+"' />":a==e.Def_ContentList_Type_MAIL?f="<input type='text' class='g_itext' maxlength='20' name='M"+o+"siteFormMailInput"+n+"' id='M"+o+"siteFormMailInput"+n+"' placeholder='"+jm.encodeHtml(h)+"'/>\n":a==e.Def_ContentList_Type_IDENTITY?f="<input type='text' class='g_itext' maxlength='18' name='M"+o+"siteFormIndentityInput"+n+"' id='M"+o+"siteFormIndentityInput"+n+"' placeholder='"+jm.encodeHtml(h)+"'/>\n":a==e.Def_ContentList_Type_ADDRESS&&(f="<input type='text' class='g_itext' placeholder='"+LS.mallPleaseChoose+"' maxlength='20' name='M"+o+"siteFormAddressInput"+n+"' id='M"+o+"siteFormAddressInput"+n+"' />\n");return 1==d?5!=a?(u+="<div class='siteFormItem siteFormItemTr f-siteFormItemTr' >\n",u+="<div class='siteFormItemShowName' width='100%'>"+jm.encodeHtml(r)+"</div>\n",u+="</div>\n",u+="<div class='siteFormItem siteFormItemTr' id='siteFormItem"+n+"'>\n",u+="<div class='siteFormItemTd' width='100%'>"+f+(s&&7!=a?"<font class='bookingSubmitItemMust'>*</font>":"")+"</div>\n",u+="</div>\n"):(u+="<div class='siteFormItem siteFormItemTr'>\n",u+="<div class='siteFormItemTd'>"+f+"</div>\n",u+="</div>\n"):(u+="<div class='siteFormItem' id='siteFormItem"+n+"'>\n",5!=a?(u+="<div style='width: 23%;float: left; height:100%;'><div class='siteFormItemShowName'><table style='table-layout:fixed;text-align:right; height:100%;' width='100%' cellpadding='0' cellspacing='0'><tr><td style='overflow:hidden; text-overflow:ellipsis; white-space:nowrap; padding-left:0.5rem;' width='100%'>"+jm.encodeHtml(r)+"</td></tr></table></div></div>\n",u+="<div style='width: 77%;float: left;'><div class='siteFormItemShowVal'>"+f+(s?"<font class='bookingSubmitItemMust'>*</font>":"")+"</div></div>\n"):(u+="<div style='width: 23%;float: left; height:100%;'><div class='siteFormItemShowName'><table style='table-layout:fixed;text-align:right; height:100%;' width='100%' cellpadding='0' cellspacing='0'><tr><td style='overflow:hidden; text-overflow:ellipsis; white-space:nowrap; padding-left:0.5rem;' width='100%'>"+jm.encodeHtml(l)+"</td></tr></table></div></div>\n",u+="<div style='width: 77%;float: left; height:100%; font-size:0.6rem;'><div class='siteFormItemShowVal' style='height:100%;'><table style='height:100%;'><tr><td>"+jm.encodeHtml(c)+"</td></tr></table></div></div>\n"),u+="</div>\n",u+="<div class='siteFormItemLink'></div>\n"),u},Mobi.bookingSubmitPanleEventInit=function(t){var e=t.moduleId;jm.each(t.contentList,(function(i,o){if(o.hide)return!0;var n=o.id,a=o.type;if(a==t.Def_ContentList_Type_DATE){var r=o.dateSetting;Mobi.initmobiFormTimeBtn({moduleId:e,siteFormItemId:n,minDate:new Date,yearChangeable:!0,monthChangeable:!0,swipeable:!0,placeholder:LS.mallPleaseChoose,dateSetting:r}),jm("<span class='fk-dateRangeUtil' id='Mobi"+e+"CalendarInput"+n+"'>"+LS.to+"</span>\n").insertAfter("#module"+e+" #siteFormItem"+n+" .fk-dateInputMaskWrap")}else if(a==t.Def_ContentList_Type_FILE_UPLOAD){if(Fai.top._manageMode)return!0;var s=t.isIE,l=o.size>t.fileSizeLimit?t.fileSizeLimit:o.size,c=[];if(!o.isAllFile){var d=((o.dftl||"")+(o.cftl||"")).split(" ");jm.each(d,(function(t,e){if(e.length>0){var i="*."+e+";";c.push(i)}}))}s?Mobi.siteFormFileUpload(srcjQuery,size,id,n,e,c,srcUpload,"选择文件"):11496535==Fai.top._cid?Mobi.siteFormFileUploadHtml(n,e,c,t.isOverLimit,t.updateUrlViewRes,t.mobiVer,l,t.srcjQuery,t.srcUploadjQuery,"www.jihosen.icoc.me",LS.mobiFormSubmitFileUploadReSelect):Mobi.siteFormFileUploadHtml(n,e,c,t.isOverLimit,t.updateUrlViewRes,t.mobiVer,l,t.srcjQuery,t.srcUploadjQuery,t.siteMainDomain,LS.mobiFormSubmitFileUploadReSelect)}else if(a==t.Def_ContentList_Type_ADDRESS){var m,p=t.currentLcid;m=2052==p||1028==p?site_cityUtil.getProvince():site_cityUtil.getProvinceEn(),(new MobileSelectArea).init({level:o.openMunicipalCode?3:2,lcid:p,trigger:"#M"+t.moduleId+"siteFormAddressInput"+n,value:jm("#M"+t.moduleId+"siteFormAddressInput"+n).data("value"),data:m,eventName:"click",init:0})}})),jm("#module"+e+" .siteFormSend").bind("click",(function(){Mobi.mobiBookingSubmitAdd(t)}))},Mobi.fixPorductDetailStyle=function(t){var e=jm("#productNewDetailPanel"+t),i=e.find(".J_pricePlaceHolder"),o="none"==e.find(".mallThemeProductWrap").css("display");i.length>0&&o&&i.addClass("fk-pricePlaceHolder")},Mobi.initCustab=function(t){if(top!=window){var e=jm("#module"+t).find(".tabUiDiv");e.find("li").length<=3||(jm("#productTabUl").css("width","100%"),jm("#productTabUl").css("padding","0"),jm("<div class='J_preBtn f-preBtn faisco-icons'></div><div class='J_nextBtn f-nextBtn faisco-icons'></div>").appendTo(e),e.find(".J_preBtn").on("click",(function(){var t=jm(".tabUiDiv2").offset();if(t.left>=0)return!1;var e=t.left+80+"px";jm(".tabUiDiv2").css("margin-left",e)})),e.find(".J_nextBtn").on("click",(function(){var t=jm(".tabUiDiv2").offset(),e=jm(".tabUiDiv").width(),i=jm(".tabUiDiv2").width();if(t.left<-(i-e))return!1;var o=t.left-80+"px";jm(".tabUiDiv2").css("margin-left",o)})))}},Mobi.fixImageHeightByRowCount=function(t,e){if(t){var i=document.getElementById(t);if(i)for(var o=i.querySelectorAll("img"),n=0,a=o.length,r=0;r<a;r++)!function(t){var i=new Image;i.src=o[t].src,i.onload=function(){i.height>n&&(n=i.height),s(t,e)}}(r)}function s(e,i){var o=0,n=0,a=jm("#"+t).find(".photoListImg"),r=jm("#"+t).find(".imgClass_160"),s=parseInt(e/i);a.each((function(t){(n=parseInt(jm(this).height()))>o&&parseInt(t/i)==s&&(o=n)})),r.each((function(t){0!=o&&parseInt(t/i)==s&&jm(this).css("height",o/_htmlFontSize+"rem")}))}},Mobi.initShowMallOptionImg=function(t){var e=jm("#module"+t).find(".J_mallOptionImg");e.length>0&&jm(e).click((function(){var t=jm(this).attr("picid");"true"==jm(this).attr("isoptimg")?jm("#J_acct_"+Fai.top._aid+"_opt_pic_"+t).click():jm("#J_acct_"+Fai.top._aid+"_pic_"+t).click()}))},Mobi.getcanvasTool=function(t){if(t){var e,i=n(t),o={};return o.ctx=i,o.getFactor=function(t,i,o){return e*(o/t*i)},o.getImgUrl=function(t){var e=jm("#_TOKEN").attr("value");return document.location.protocol+"//"+document.location.host+"/ajax/mobiImgTransfer_h.jsp?_TOKEN="+e+"&cmd=wafNotCk_&imgUrl="+jm.encodeUrl(t)},o.loadImg=function(t,e){t.onload=function(){e()}},o.baseFontSize=e,o.initCanvas=n,o.drawText=a,o.Rect=r,o.Point=s,o.drawRoundedRect=l,o.Round=d,o.drawRound=function(t,e,o,n){var a=t.x,r=t.y,s=t.radius;i.save(),i.beginPath(),i.moveTo(a,r),i.fillStyle=e,i.globalAlpha=o,i.arc(a,r,s,0,2*Math.PI,!0),i.fill(),n?i.clip():(i.closePath(),i.restore())},o.drawRoundedRoundNeedClipEnd=m,o.drawRoundedRectNeedClipEnd=c,o.PdCanvas={},o.doCanvas=function(t,e){var n=-1;if(!t.length||t.length<=0)return;for(var s=0;s<t.length;s++){if(e&&e.length>0)for(var p=0;p<e.length;p++){var u=e[p];u.index==s&&u.callback()}s==n&&(c(),m());var f=t[s];if(f&&f.type&&f.data){var h=f.type||"",g=f.data||{};switch(h){case"image":if(!g.obj)continue;i.drawImage(g.obj,g.x,g.y,g.w,g.h);break;case"text":a(g.text,g.fontInfo,g.placeInfo,g.overHold,g.maxDrawCount,g.underlineInfo);break;case"roundedRect":var v=!1;g.clipInfo&&g.clipInfo.bengin&&(v=!0,n=g.clipInfo.endArrayIndex||-1),l(r(g.areaInfo.x,g.areaInfo.y,g.areaInfo.w,g.areaInfo.h),g.r,g.areaStyleInfo,v);break;case"round":v=!1;g.clipInfo&&g.clipInfo.bengin&&(v=!0,n=g.clipInfo.endArrayIndex||-1);var b=d(g.roundInfo.x,g.roundInfo.y,g.roundInfo.r);o.drawRound(b,g.style,g.globalAlpha,v);break;case"productMarketing":o.PdCanvas.drawMarketing(g.fontInfo,g.marketingRectInfo,g.marketingData,g.outText);break;case"productPrice":o.PdCanvas.drawPrice(g.showInfo,g.fontInfo,g.placeInfo,g.enhanceInfo);break;case"productTechnicalSupport":o.PdCanvas.drawTechnicalSupport(g.showInfo,g.fontInfo,g.placeInfo)}}}},o.PdCanvas.drawMarketing=function(t,e,o,n){var a=n||"";if(o&&!n)switch(o.marketingStyle){case"sale":a=o.marketingName||"促销";break;case"secKill":a="秒杀价";break;case"cutPrice":a=o.cutTimes+"人帮砍";break;case"groupPrice":a=o.groupNum+"人团"}if(""!=a){i.font=t.font;var s=e.rectX,d=e.rectY,m=e.marginWidth+i.measureText(a).width,p=e.height;l(r(s,d,m,p),e.r,e.bgStyle,!0),i.save(),i.font=t.font,i.fillStyle=t.style,i.textAlign=t.align,i.textBaseline=t.baseLine,i.fillText(a,s+m/2,d+p/2+2),c(),i.restore()}},o.PdCanvas.drawPrice=function(t,o,n,a){var r,s=t.choiceCurrencyVal,l=t.finallyShowPrices,c=n.choiceCurrencyX,d=n.maxWidth,m=0,p=.2*e,u=1,f=".00";a&&(p=a.interval||.2*e,u=a.type||1),i.save(),i.font=o.choiceCurrencyValFont,i.fillStyle=o.style,i.textAlign=o.align,i.textBaseline=o.baseLine;var h=i.measureText(s).width;r=c+p+h,i.fillText(s,c,n.choiceCurrencyY),i.font=o.priceFont;var g=l.firstPrice,v=l.secondPrice,b=g;if(v&&(b=g+"~"+v),2==u&&(b=Math.floor(g)+"",f="."+g.toFixed(2).split(".")[1],i.save(),i.font=a.decimalPlaceInfo.font,d-=i.measureText(".00").width,i.restore()),h+i.measureText(b).width>d){m=h;for(var _=0;_<b.length;_++)if((m+=i.measureText(b[_]).width)>d&&"."!=b[_-1]){b=b.substring(0,_)+"···";break}}if(i.fillText(b,r,n.choiceCurrencyY),2==u&&-1==(b+"").indexOf("···")){var j=r+i.measureText(b+"").width;i.font=a.decimalPlaceInfo.font,i.fillText(f,j+(a.decimalPlaceInfo.interval||0),n.choiceCurrencyY)}i.restore()},o.PdCanvas.drawTechnicalSupport=function(t,e,o){t&&(top._oem||t.oem||!t.showFaiscoSupport)||(i.save(),i.font=e.font,i.fillStyle=e.style,i.textAlign=e.align,i.textBaseline=e.baseLine,i.fillText("— 由凡科商城提供技术支持 —",o.textX,o.textY),i.restore())},o}function n(t){if(null!=t){var i=t.getContext("2d"),o=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1);return t.width=t.width*o,t.height=t.height*o,e=jm("html").css("font-size"),e=Number(e.substring(0,e.indexOf("p")))*o,i}}function a(t,e,o,n,a,r){if(t){i.save(),i.font=e.font,i.fillStyle=e.style,i.textAlign=e.align,i.textBaseline=e.baseLine;var s=o.maxWidth,l=o.textX,c=o.textY,d=o.offset,m=0,p=0,u=1;a||(a=2);for(var f=0;f<t.length;f++)if(p+=i.measureText(t[f]).width,u>=a){if(p+i.measureText(n).width>s){i.fillText(t.substring(m,f-1)+n,l,c),h(i.measureText(t.substring(m,f-1)+n).width);break}if(f==t.length-1){i.fillText(t.substring(m,f+1),l,c),h(i.measureText(t.substring(m,f+1)).width);break}}else p>s&&(i.fillText(t.substring(m,f-1),l,c),h(i.measureText(t.substring(m,f-1)).width),u++,c+=d,p=i.measureText(t[f]).width,m=f-1,f--),f==t.length-1&&(i.fillText(t.substring(m,f+1),l,c),h(i.measureText(t.substring(m,f+1)).width));i.restore()}function h(t){r&&function(t,e,o,n,a,r){t-=o/2,e+=n+r,i.save(),i.beginPath(),i.strokeStyle=a,i.lineWidth=r,i.moveTo(t,e),i.lineTo(t+o,e),i.stroke(),i.restore()}(l,c+r.uderLineAddY,t,r.fontSize,r.color,r.uderLineWidth)}}function r(t,e,i,o){return{x:t,y:e,width:i,height:o}}function s(t,e){return{x:t,y:e}}function l(t,e,o,n){if("string"==typeof o){o={fillStyle:o,strokeStyle:o}}var a=s(t.x+e,t.y),r=s(t.x+t.width,t.y),l=s(t.x+t.width,t.y+t.height),c=s(t.x,t.y+t.height),d=s(t.x,t.y);i.save(),i.beginPath(),i.fillStyle=o.fillStyle,o.lineWidth&&(i.lineWidth=o.lineWidth),i.strokeStyle=o.strokeStyle,i.moveTo(a.x,a.y),i.arcTo(r.x,r.y,l.x,l.y,e),i.arcTo(l.x,l.y,c.x,c.y,e),i.arcTo(c.x,c.y,d.x,d.y,e),i.arcTo(d.x,d.y,a.x,a.y,e),i.stroke(),i.fill(),n?i.clip():(i.closePath(),i.restore())}function c(){i.closePath(),i.restore()}function d(t,e,i){return{x:t,y:e,radius:i}}function m(){i.closePath(),i.restore()}},Mobi.drawCanvasSharePic=function(t){if(Fai.top._shareDataProdectDetail.productInfo){var e=Fai.top._shareDataProdectDetail.productInfo,i=JSON.parse(Fai.top._shareDataProdectDetail.jsShareInfo),o=i.marketingInfo,n=null;if(t?(Mobi.logDog(200876,3),n=document.getElementById("myCanvasImg")):n=document.getElementById("myCanvas"),null!=n){var a=n.getContext("2d"),r=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),s=jm("html").css("font-size"),l=12*(s=Number(s.substring(0,s.indexOf("p")))),c=15.7*s;n.width=l*r,n.height=c*r;var d=12*(s*=r),m=0,p=10.75*s,u=p,f=p,h=jm("#themColor").css("color"),g=jm("#_TOKEN").attr("value"),v=!1,b=!1,_=new Image;_.src=document.location.protocol+"//"+document.location.host+"/ajax/mobiImgTransfer_h.jsp?_TOKEN="+g+"&cmd=wafNotCk_&imgUrl="+jm.encodeUrl(e.picPath),_.onload=function(){var t=this.naturalHeight,e=this.naturalWidth;e>=t?m=p-(f=(u=p)/e*t):u=(f=p)/t*e,v=!0,S()&&I()};var j=new Image,M=Mobi.getDistCodeByArgOrCookie()||"",y="",w=Fai.top._shareDataProdectDetail.shareUrl.split("promoteMemberId=")[1];w&&(y=w.split("&")[0]||""),j.src=document.location.protocol+"//"+document.location.host+"/qrCode.jsp?cmd=pdPromoteCode&size=166&id="+e.id+"&dist="+M+"&promoteMemberId="+y,j.onload=function(){b=!0,S()&&I()}}}function S(){return v&&b}function I(){var n,r=18.2-m/s+"rem",l=d,c=18.2*s-m;if(t?(c=16.45*s-m,jm("#myCanvasImg").attr("height",c+"px")):(jm("#graphicPosterShowSwipe").css("height",r),jm("#myCanvas").attr("height",c+"px")),x(C(0,0,l,c),.375*s,"#ffffff",!1),x(C(n=.65*s,n,p,f),.3*s,"#f7f7f7",!0),a.drawImage(_,n+(p-u)/2,n,u,f),k(),function(){var t=e.name||"";a.save(),a.font=.525*s+"px arial",a.fillStyle="#353535",a.textAlign="left",a.textBaseline="top";for(var i=6.91*s,o=0,n=0,r=!1,l=.65*s,c=12.05*s-m,d=.675*s,p=0;p<t.length;p++)if(n+=a.measureText(t[p]).width,r){if(n+a.measureText("...").width>i){a.fillText(t.substring(o,p-2)+"...",l,c);break}if(p==t.length-1){a.fillText(t.substring(o,p+1),l,c);break}}else n>i&&(a.fillText(t.substring(o,p-1),l,c),r=!0,c+=d,n=a.measureText(t[p]).width,o=p-1,p--),p==t.length-1&&a.fillText(t.substring(o,p+1),l,c);a.restore()}(),o.marketingStyle&&function(){if("cutPrice"==o.marketingStyle)return;var t="";switch(o.marketingStyle){case"sale":t=Fai.top.tipWords||"促销";break;case"secKill":t="秒杀价";break;case"groupPrice":t=o.groupNum+"人团";break;case"integralMall":Mobi.logDog(200975,2),t=o.itgName+"好礼"}a.font=.4*s+"px SourceHanSansCN-Normal";var e=.65*s,i=13.47*s-m,n=.5*s+a.measureText(t).width,r=.6*s;x(C(e,i,n,r),.15*s,h,!0),a.save(),a.font=.4*s+"px SourceHanSansCN-Normal",a.fillStyle="#FFFFFF",a.textAlign="center",a.textBaseline="middle",a.fillText(t,e+n/2,i+.05*s+r/2),k(),a.restore()}(),function(){if(i&&i.authNotAll)return;var t=Fai.top.choiceCurrencyVal,e=i.sharePrices,n=.65*s,r=n,l=6.91*s,c=0;a.save(),a.font=.5*s+"px SourceHanSansCN-Regular",a.fillStyle=h,a.textAlign="left",a.textBaseline="alphabetic",a.font=.75*s+"px SourceHanSansCN-Regular";var d=e.firstPrice,p=e.secondPrice;if(!d)return;var u=d;p&&(u=d+"~"+p);if(g+a.measureText(u).width>l){c=g;for(var f=0;f<u.length;f++)if((c+=a.measureText(u[f]).width)>l&&"."!=u[f-1]){u=u.substring(0,f)+"···";break}}if("integralMall"!=o.marketingStyle){var g=a.measureText(t).width;r=n+.2*s+g,a.fillText(t,n,14.75*s-m),a.fillText(u,r,14.75*s-m)}else{var v=e.minImIntegral,b=e.minImPrice,_=o.itgName;a.font=.65*s+"px SourceHanSansCN-Regular",a.fillText(v,n,14.75*s-m);var j=a.measureText(v).width,M=n+.2*s+j;if(a.font=.55*s+"px SourceHanSansCN-Regular",a.fillText(_,M,14.75*s-m),0==o.integtalMallType){var y=M+a.measureText(_).width;a.font=.65*s+"px SourceHanSansCN-Regular",a.fillText("+"+t+b,y,14.75*s-m)}}a.restore()}(),a.drawImage(j,8.675*s,12.05*s-m,2.725*s,2.725*s),function(){if(i&&(top._oem||i.oem||!i.showFaiscoSupport))return;a.save(),a.font=.4*s+"px SourceHanSansCN-Regular",a.fillStyle="#CACACA",a.textAlign="center",a.textBaseline="top",a.fillText("— 由凡科网提供技术支持 —",6*s,15.575*s-m),a.restore()}(),t){if(!document.getElementById("myCanvasImg"))return;var g=document.getElementById("myCanvasImg").toDataURL("image/png"),v=new Image;v.src=g,v.setAttribute("class","actualPoster"),v.setAttribute("style","width:12rem;height:"+r+";"),jm(".myCanvasImgContain").empty().append(v),jm(".actualPoster").css("height",r)}else{if(function(){var t=16.45*s-m,e=1.8*s,i=C(0,t,d,e),o=a.createLinearGradient(0,0,d,0);o.addColorStop(0,"#FF9D27"),o.addColorStop(1,"#FF6056"),x(i,0,o,!0),a.save(),a.font=.55*s+"px SourceHanSansCN-Normal",a.fillStyle="#FFFFFF",a.textAlign="center",a.textBaseline="middle",a.fillText("长按保存海报",d/2,t+e/2-.05*s),k(),a.restore(),a.save(),a.beginPath(),a.arc(0,t,.35*s,0,2*Math.PI),a.arc(d,t,.35*s,0,2*Math.PI),a.clip(),a.clearRect(0,0,a.canvas.width,a.canvas.height),a.restore()}(),!document.getElementById("myCanvas"))return;var b=document.getElementById("myCanvas").toDataURL("image/png"),M=new Image;M.src=b,M.setAttribute("class","showPoster"),M.setAttribute("style","width:12rem;height:"+r+";"),jm(".myCanvasContain").empty().append(M),Mobi.drawCanvasSharePic(!0)}}function C(t,e,i,o){return{x:t,y:e,width:i,height:o}}function P(t,e){return{x:t,y:e}}function x(t,e,i,o){var n=P(t.x+e,t.y),r=P(t.x+t.width,t.y),s=P(t.x+t.width,t.y+t.height),l=P(t.x,t.y+t.height),c=P(t.x,t.y);a.save(),a.beginPath(),a.fillStyle=i,a.strokeStyle=i,a.moveTo(n.x,n.y),a.arcTo(r.x,r.y,s.x,s.y,e),a.arcTo(s.x,s.y,l.x,l.y,e),a.arcTo(l.x,l.y,c.x,c.y,e),a.arcTo(c.x,c.y,n.x,n.y,e),a.stroke(),a.fill(),o?(a.clip(),a.restore()):(a.closePath(),a.restore())}function k(){a.closePath()}},Mobi.drawEarnestSaleCanvasSharePic=function(){var t=document.getElementById("myCanvas");if(null!=t){var e=Mobi.getcanvasTool(t);if(e){var i=e.ctx,o=e.baseFontSize,n=13.44*o,a=0,r=0,s=8.704*o,l=11.9893*o,c=Fai.top._shareDataProdectDetail.productInfo,d=JSON.parse(Fai.top._shareDataProdectDetail.jsShareInfo),m=d.earnestSaleInfo,p=m.memberNameHeadPicUrl||"",u=c.picPath,f=m.memberName||"",h=c.name||"",g=Fai.top.choiceCurrencyVal,v=m.earnestPrice||"0.00",b=m.expandPrice||"0.00",_=m.earnestPriceTimeStr,j=d.oem,M=d.showFaiscoSupport,y=m.defaultMemberPic||!1;(j||!1===M)&&(r=.7893*o);var w=jm("#_TOKEN").attr("value"),S=!1,I=!1,C=!1,P=!1,x=!1,k=!1,L="";"undefined"!=typeof Fai&&void 0!==Fai.top._resRoot&&(L=Fai.top._resRoot);var F=document.location.protocol+"//"+document.location.host+"/ajax/mobiImgTransfer_h.jsp?_TOKEN="+w+"&cmd=wafNotCk_&imgUrl=";y&&(p=L+"/image/earnestSale/defAvatar.png");var T=new Image;T.src=F+jm.encodeUrl(p),T.onload=function(){S=!0,J()&&H()};var A=new Image;A.src=F+jm.encodeUrl(L+"/image/earnestSale/earnestArea.png"),A.onload=function(){I=!0,J()&&H()};var B=new Image;B.src=F+jm.encodeUrl(L+"/image/earnestSale/expandArea.png"),B.onload=function(){C=!0,J()&&H()};var D=new Image;D.src=F+jm.encodeUrl(p),D.onload=function(){P=!0,J()&&H()};var O=new Image;O.src=F+jm.encodeUrl(u),O.onload=function(){var t=this.naturalHeight,e=this.naturalWidth;a=l/e*t-s,x=!0,J()&&H()},(O=new Image).src=F+jm.encodeUrl(u),O.onload=function(){x=!0,J()&&H()};var N=new Image,E=Mobi.getDistCodeByArgOrCookie()||"",R="",U=Fai.top._shareDataProdectDetail.shareUrl.split("promoteMemberId=")[1];U&&(R=U.split("&")[0]||""),N.src=document.location.protocol+"//"+document.location.host+"/qrCode.jsp?cmd=pdPromoteCode&size=166&id="+c.id+"&dist="+E+"&promoteMemberId="+R,N.onload=function(){k=!0,J()&&H()}}}function J(){return S&&I&&C&&P&&x&&k}function H(){var t=18.645+(a-r)/o,c=n,d=18.645*o+a-r;jm("#graphicPosterShowSwipe").css("height",t+1.3+"rem").css("top","2rem"),jm("#myCanvas").attr("height",d+"px").attr("width",c+"px");var m,p,u,w=e.Rect(0,0,c,d);e.drawRoundedRect(w,.15*o,"#F7F7F7",!1),function(){var t=e.Rect(.533*o,.533*o,12.37*o,2.752*o);e.drawRoundedRect(t,1.386*o,{fillStyle:"#FFFFFF",strokeStyle:"#E6E6E6",lineWidth:1},!1);var n=e.Round(1.941*o,1.941*o,1.258*o);e.drawRound(n,"#FEECE0",1,!0);var a=D;y&&(a=T);i.drawImage(a,.6826*o,.6826*o,1.258*o*2,1.258*o*2),e.drawRoundedRoundNeedClipEnd();var r=5.9*o,s=3.52*o,l={font:.426*o+"px SourceHanSansCN-Regular",style:"#363636",align:"left",baseLine:"top"},c={maxWidth:r,textX:s,textY:1.3226*o,offset:.448*o},d=f+"向你推荐";e.drawText(d,l,c,"...",1),i.save(),i.font=l.font;var m=i.measureText(d).width;m>r&&(m=r);i.restore();var p={font:.426*o+"px SourceHanSansCN-Regular",style:"#FFFFFF",align:"center",baseLine:"middle"},u={rectX:s+m+.3626*o,rectY:1.14*o,marginWidth:.4792*o,height:.704*o,r:.3626*o,bgStyle:"#FC7228"};e.PdCanvas.drawMarketing(p,u,{marketingStyle:"earnestSale"},"用户推荐");var h={font:.426*o+"px SourceHanSansCN-Regular",style:"#676767",align:"left",baseLine:"top"},g={maxWidth:999*o,textX:3.52*o,textY:2.176*o,offset:.448*o};e.drawText("这个宝贝太值了，把心水好物分享给你",h,g,"...",1)}(),function(){var t=e.Rect(.533*o,3.648*o,12.373*o,8.96*o+a),n=i.createLinearGradient(0,0,0,8.96*o+a);n.addColorStop(0,"#FFCA6E"),n.addColorStop(1,"#FC7228");var r={fillStyle:n,strokeStyle:n};e.drawRoundedRect(t,0,r,!1);var c=.7253*o,d=3.84*o,m=l,p=s+a,u=e.Rect(c,d,m,p);e.drawRoundedRect(u,.2773*o,r,!0),i.drawImage(O,c,d,m,p-.1493*o),e.drawRoundedRectNeedClipEnd(),function(){if(b>v){i.drawImage(B,.56*o,11.32*o+a,12.38*o,1.3*o);var t=.64*o+"px SourceHanSansCN-Regular",n=6.2293*o,r={font:"bold "+t+"px Source Han Serif CN",style:"#FFECBB",align:"left",baseLine:"top"},s={maxWidth:999*o,textX:n,textY:11.6693*o+a,offset:.448*o};i.font=t;var l=i.measureText("膨胀最多可抵").width;i.restore(),e.drawText("膨胀最多可抵",r,s,"...",1);var c={choiceCurrencyVal:g,finallyShowPrices:{firstPrice:b}},d={choiceCurrencyValFont:"bold "+.426*o+"px Source Han Serif CN",priceFont:"bold "+.66*o+"px Source Han Serif CN",style:"#FFECBB",align:"left",baseLine:"alphabetic"},m={maxWidth:2.8*o,choiceCurrencyX:n+l,choiceCurrencyY:12.2*o+a},p={interval:-.05*o,type:2,decimalPlaceInfo:{font:"bold "+.426*o+"px Source Han Serif CN",interval:-1}};e.PdCanvas.drawPrice(c,d,m,p)}}(),i.drawImage(A,.51*o,10.03*o+a,6.016*o,2.6*o);var f={font:"bold "+.448*o+"px sans-serif",style:"#FC7228",align:"center",baseLine:"middle"},h={rectX:.7893*o,rectY:10.3893*o+a,marginWidth:.64*o,height:.6826*o,r:.3413*o,bgStyle:"#FFF0C8"};e.PdCanvas.drawMarketing(f,h,{marketingStyle:"earnestSale"},"定金");var _={choiceCurrencyVal:g,finallyShowPrices:{firstPrice:v}},j={choiceCurrencyValFont:.5973*o+"px sans-serif",priceFont:"bold "+1.3*o+"px sans-serif",style:"#FC7228",align:"left",baseLine:"alphabetic"},M={maxWidth:4*o,choiceCurrencyX:1.0026*o,choiceCurrencyY:12.3093*o+a},y={interval:-.1*o,type:2,decimalPlaceInfo:{font:"bold "+.5973*o+"px sans-serif"}};e.PdCanvas.drawPrice(_,j,M,y)}(),function(){var t=e.Rect(.533*o,13.013*o+a,12.373*o,4.373*o);e.drawRoundedRect(t,.1066*o,{fillStyle:"#FFFFFF",strokeStyle:"#F0F0F0",lineWidth:1},!1);var i={font:"bold "+.5546*o+"px sans-serif",style:"#333333",align:"left",baseLine:"top"},n={maxWidth:7.2746*o,textX:1.0026*o,textY:13.7386*o+a,offset:.768*o};e.drawText(h,i,n,"...",2);var r={font:.4266*o+"px SourceHanSansCN-Regular",style:"#BBBBBB",align:"left",baseLine:"top"},s={maxWidth:999*o,textX:1.0026*o,textY:15.4453*o+a,offset:.768*o};e.drawText("支付定金时间：",r,s,"...",1);var l={font:.4266*o+"px SourceHanSansCN-Regular",style:"#BBBBBB",align:"left",baseLine:"top"},c={maxWidth:999*o,textX:1.0026*o,textY:16.2133*o+a,offset:.768*o};e.drawText(_,l,c,"...",1)}(),i.drawImage(N,9.3866*o,13.44*o+a,2.56*o,2.56*o),i.save(),i.font=.384*o+"px SourceHanSansCN-Regular",i.fillStyle="#BBBBBB",i.textAlign="left",i.textBaseline="top",i.fillText("长按或扫描购买",9.28*o,16.2346*o+a),i.restore(),m={oem:j,showFaiscoSupport:M},p={font:.4266*o+"px SourceHanSansCN-Regular",style:"#CCCCCC",align:"center",baseLine:"top"},u={textX:6.72*o,textY:17.77*o+a},e.PdCanvas.drawTechnicalSupport(m,p,u);var S=document.getElementById("myCanvas").toDataURL("image/png"),I=new Image;I.src=S,I.setAttribute("class","showPoster"),I.setAttribute("style","width:13.44rem;height:"+t+";"),jm("#myCanvas").remove(),jm(".myCanvasContain").empty().append(I),jm(".myCanvasContain").append("<div class='earnestSaleShareBtn'>长按保存图片</div>"),jm("#graphicPosterShowSwipe").css("width",c/o+"rem").css("left",(16-c/o)/2+"rem").css("border-radius","0.064rem"),jm(".myCanvasImgContain").hide()}},Mobi.createGraphicPosterPage=function(){var t=jm("html").css("font-size"),e=12*(t=Number(t.substring(0,t.indexOf("p")))),i=15.7*t,o="";return o+="<div class='page_graphicPoster' id='graphicPosterShowSwipe'><div id='graphicPosterPanelBg'></div><div class='myCanvasContain'><canvas id='myCanvas' class='myCanvas' width='"+e+"px' height='"+i+"px'></div><div class='myCanvasImgContain'><canvas id='myCanvasImg' width='"+e+"px' height='"+i+"px'></div><div id='themColor' class='g_color g_main_color_v3'></div></div>"},Mobi.initgroupBuySharePage=function(){var t=JSON.parse(Fai.top._shareDataGroupBuyDetail.shareLinkList),e="";return e+="<div class='f_gbshareListPanel' id='groupBuyShare'><div id='gbSharePanelBg' style='height:100%;'></div><div class='gbshareListContent'><div class='gbshareListShow'><div class='gbshareListSwipe'><a hidefocus='true' class='gbshareLink' id='shareLinkWeixin' href='javascript:;' onclick='Mobi.logDog(200893, 1);'><div class='shareNewIcon g_iconMiddle icon-Weixin'></div><div class='shareText gbicon-Weixin-text'></div></a>",t.forEach((function(t){"graphic_poster"==t.icon&&(e+="<div style='display:inline-block;width:1rem;'></div><a id='graphicPosterItem' hidefocus='true' class='gbshareLink' href='javascript:;' onclick='Mobi.logDog(200893, 2);Mobi.drawGroupBuyCanvasSharePic();'><div class='shareNewIcon g_iconMiddle icon-gbgraphic_poster'></div><div class='shareText gbicon-graphic_poster-text'></div></a>")})),e+="</div><div id='cancelBtn' class='cancelBtn'><span class='cancelBtnSpan'>取消</span></div></div></div></div>"},Mobi.createGroupBuyGraphicPosterPage=function(){var t=jm("html").css("font-size"),e="";return e+="<div class='f_gpgraphicPoster' id='graphicPosterShowSwipe'><div id='gbGraphicPosterPanelBg' style='height:100%;'></div><div class='gpgraphicPosterContent'><div class='gbContentTitle'><span class='gbTitle'>海报邀请</span><div id='gbCloseIcon' class='closeIcon'></div></div><div class='gbpage_graphicPoster'><div class='myCanvasContain'><canvas id='myCanvas' class='myCanvas' width='"+11.325*(t=Number(t.substring(0,t.indexOf("p"))))+"px' height='"+19.625*t+"px'></canvas><div id='gbimg'></div><div class='promptTextContain'><p>长按保存海报</p></div><div id='themColor' class='g_color g_main_color_v3'></div></div></div></div></div>"},Mobi.drawGroupBuyCanvasSharePic=function(){jm("#cancelBtn").click();var t=document.getElementById("myCanvas");if(null!=t){var e=Mobi.getcanvasTool(t);if(e){var i=e.ctx,o=e.baseFontSize,n=Fai.top._shareDataGroupBuyDetail.pdInfo,a=Fai.top._shareDataGroupBuyDetail.jsShareInfo,r=Fai.top._shareDataGroupBuyDetail.memberInfo,s=11.325*o,l=0,c=9.575*o,d=c,m=c,p=jm("#_TOKEN").attr("value"),u=!1,f=!1,h=!1,g=!1,v="";"undefined"!=typeof Fai&&void 0!==Fai.top._resRoot&&(v=Fai.top._resRoot);var b=new Image;b.src=document.location.protocol+"//"+document.location.host+"/ajax/mobiImgTransfer_h.jsp?_TOKEN="+p+"&cmd=wafNotCk_&imgUrl="+jm.encodeUrl(v+"/image/share/gbsharehaibao_top.png"),b.onload=function(){u=!0,w()&&S()};var _=new Image,j=r.headPicUrl;_.src=document.location.protocol+"//"+document.location.host+"/ajax/mobiImgTransfer_h.jsp?_TOKEN="+p+"&cmd=wafNotCk_&imgUrl="+jm.encodeUrl(j),_.onload=function(){f=!0,w()&&S()};var M=new Image;M.src=document.location.protocol+"//"+document.location.host+"/ajax/mobiImgTransfer_h.jsp?_TOKEN="+p+"&cmd=wafNotCk_&imgUrl="+jm.encodeUrl(n.picPath),M.onload=function(){var t=this.naturalHeight,e=this.naturalWidth;e>=t?l=c-(m=(d=c)/e*t):d=(m=c)/t*e,h=!0,w()&&S()};var y=new Image;y.src=document.location.protocol+"//"+document.location.host+"/qrCode.jsp?cmd=printUrlCode&size=166&url="+encodeURIComponent(document.location.href),y.onload=function(){g=!0,w()&&S()}}}function w(){return u&&f&&h&&g}function S(){var t=19.3-l/o+"rem",p=s,u=19.3*o-l;jm("#graphicPosterShowSwipe").css("height",t),jm("#myCanvas").attr("height",u+"px");var f=jm("#themColor").css("color"),h=e.Rect(0,0,p,u);e.drawRoundedRect(h,.2*o,"#ffffff",!1),i.drawImage(b,0,0,11.325*o,1.025*o),function(){var t={font:.5*o+"px arial",style:"#878787",align:"left",baseLine:"top"},n={maxWidth:5.9*o,textX:.875*o,textY:1.85*o,offset:.575*o};i.save(),i.font=t.font;var a=i.measureText(r.name).width;a>n.maxWidth&&(a=n.maxWidth);i.restore();var s=.625*o,l=(11.325*o-(s+a+.275*o))/2,c=1.35*o+s;n.textX=l+s+.275*o;var d=e.Round(l,c,s);e.drawRound(d,"#ffffff",1,!0),i.drawImage(_,l-s,c-s,2*s,2*s),e.drawRoundedRoundNeedClipEnd(),e.drawText(r.name,t,n,"...",1)}(),i.save(),i.font=.45*o+"px SourceHanSansCN-Light",i.fillStyle="#080808",i.textAlign="left",i.textBaseline="top",i.fillText("发现一件好物，快来和我一起拼",2.525*o,2.8*o),i.restore();var g=e.Rect(.425*o,3.925*o,10.5*o,14.925*o-l),v={fillStyle:"#ffffff",strokeStyle:"#E2E2E2",lineWidth:.025*o};e.drawRoundedRect(g,.25*o,v,!1),function(){var t=.875*o,n=4.4*o,a=e.Rect(t,n,c,m);e.drawRoundedRect(a,.15*o,"#f7f7f7",!0),i.drawImage(M,t+(c-d)/2,n,d,m),e.drawRoundedRectNeedClipEnd()}();var j={font:.45*o+"px arial",style:"#353535",align:"left",baseLine:"top"},w={maxWidth:6.9*o,textX:.875*o,textY:14.4*o-l,offset:.575*o};e.drawText(n.name,j,w,"...",2);var S={marketingStyle:"groupPrice",groupNum:n.groupNum},I={font:.35*o+"px SourceHanSansCN-Normal",style:"#FFFFFF",align:"center",baseLine:"middle"},C={rectX:.875*o,rectY:15.75*o-l,marginWidth:.2*o,height:.525*o,r:.15*o,bgStyle:f};e.PdCanvas.drawMarketing(S,I,C);var P={choiceCurrencyVal:n.choiceCurrencyVal,finallyShowPrices:{firstPrice:n.groupPrice}},x={choiceCurrencyValFont:.425*o+"px SourceHanSansCN-Regular",priceFont:.65*o+"px SourceHanSansCN-Regular",style:f,align:"left",baseLine:"alphabetic"},k={maxWidth:5.9*o,choiceCurrencyX:.875*o,choiceCurrencyY:17.1*o-l};e.PdCanvas.drawPrice(P,x,k),i.drawImage(y,7.875*o,14.275*o-l,2.125*o,2.125*o),i.save(),i.font=.35*o+"px SourceHanSansCN-Regular",i.fillStyle="#8A8A8A",i.textAlign="left",i.textBaseline="top",i.fillText("扫描或长按二维码",7.5*o,16.75*o-l),i.restore();var L={oem:a.oem,showFaiscoSupport:Fai.top._openThemeV3?a.showFaiscoSupportV3:a.showFaiscoSupport},F={font:.4*o+"px SourceHanSansCN-Regular",style:"#CACACA",align:"center",baseLine:"top"},T={textX:5.66*o,textY:17.9*o-l};e.PdCanvas.drawTechnicalSupport(L,F,T);var A=document.getElementById("myCanvas").toDataURL("image/png"),B=new Image;B.src=A,B.setAttribute("class","gbactualPoster"),B.setAttribute("style","width:11.325rem;height:"+t+";"),jm("#myCanvas").remove(),jm("#gbimg").append(B),jm(".actualPoster").css("height",t)}},Mobi.showGroupBuyMore=function(t,e){var i="";jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/groupBuy_h.jsp?cmd=getWafNotCk_getGroupBuyProductList",data:"currentPid="+t,type:"POST",dataType:"json",success:function(t){if(t.success){var o=t.productInfo,n=t.choiceCurrencyVal,a=o.length,r="",s=1;if(0!=a){if("product"==e){var l=jm(".mProductList");l.hide(),0==l.length&&(i+="<div class='mallThemeSeparator g_breakline'></div>")}else r="borderTop",s=2;if(i+="<div class='f_groupBuyMore "+r+"'><div class='title'><span class='titleLine'></span><span class='titleName'>TA们正在拼</span><span class='titleLine'></span></div>",1==a){var c=o[0],d=c.id,m=c.name,p=c.picPath,u=c.groupBuyInfo,f=Mobi.preprocessUrl({path:"",oldPath:""})+"pd.jsp?id="+d;c.productVideoImg&&""!=c.productVideoImg&&(p=c.productVideoImg),i+="<div class='single'><div class='leftPic' style='background:url("+p+") no-repeat;background-size: 100% 100%;-moz-background-size: 100% 100%;'><div class='marketingTip g_bgColor g_main_bgColor_v3'>"+u.groupNum+"人团</div></div><div class='rightInfo'><div class='pdName'>"+m+"</div><div class='groupPrice g_color g_main_color_v3'>"+n+u.groupPrice+"</div><a href='"+f+"' onclick='Mobi.logDog(200892, "+s+");' class='jumpToUrl g_bgColor g_main_bgColor_v3'>立即拼</a></div><a href='"+f+"' onclick='Mobi.logDog(200892, "+s+");' class='overHidden'></a></div>"}else{i+="<div class='multiple'>";for(var h=0;h<a;h++){var g=o[h],v=g.name,b=g.picPath,_=g.groupBuyInfo,j=g.id,M=Mobi.preprocessUrl({path:"",oldPath:""})+"pd.jsp?id="+j;g.productVideoImg&&""!=g.productVideoImg&&(b=g.productVideoImg);var y="";h%2!=0&&(y="multipleRightItem"),i+="<div class='multipleItem "+y+"'><div class='topPic' style='background:url("+b+") no-repeat;background-size: 100% 100%;-moz-background-size: 100% 100%;'><div class='marketingTip g_bgColor g_main_bgColor_v3'>"+_.groupNum+"人团</div></div><div class='buttomInfo'><div class='pdName'>"+v+"</div><div class='groupPrice g_color g_main_color_v3'>"+n+_.groupPrice+"</div><a href='"+M+"' onclick='Mobi.logDog(200892, "+s+");' class='jumpToUrl g_bgColor g_main_bgColor_v3'>立即拼</a></div><a href='"+M+"' onclick='Mobi.logDog(200892, "+s+");' class='overHidden'></a></div>"}i+="</div>"}if(i+="</div>","product"==e){var w=document.getElementById("mallGroupBuyMore"),S=document.getElementById("mallGroupBuyMore").childNodes,I=!0;for(h=0;S.length>h;h++)if(-1!==S[h].className.indexOf("f_groupBuyMore")){I=!1;break}I&&(w.innerHTML+=i),setTimeout((function(){Mobi.bindImgLazyLoad("tabPanel1")}),100)}else jm(".fk-groupBuyDetail").append(i)}}else Fai.img("系统错误")}})},Mobi.drawSelfRaisingVerification=function(t){var e=jm(".j_tipImg").css("color"),i=e.substr(0,e.length-1)+", 0.5)";jm(".j_tipImg").css("border","0.075rem solid "+i),jm(".j_tipImgSvg").css("fill",e),jm(".j_saveVerification").unbind().bind("click",(function(){Mobi.ing("正在加载，请稍后")})),jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=getWafNotCk_getSelfRaisingVerificationInfo",data:{orderId:t},type:"POST",dataType:"json",success:function(t){if(t.success){var e=t.info,i=JSON.parse(e.addrInfo.srp);!function(t){var e=document.getElementById("selfRaisingVerificationCanvas");if(null==e)return;var i=Mobi.getcanvasTool(e);if(!i)return;var o=i.ctx,n=i.baseFontSize,a=15.15*n,r=16.225*n,s=0,l=10.225*n,c=t.mobile,d=t.name,m=t.addr,p=t.takingProof,u=new Image,f={a:t.aid,w:t.wid,t:p};function h(){g(.55*n+"px SourceHanSansCN-Regular",m)>l&&(r+=s=1.2*n),jm("#selfRaisingVerificationCanvas").attr("height",r+"px").attr("width",a+"px");var t=i.Rect(0,0,a,r);i.drawRoundedRect(t,.25*n,"#ffffff",!0);var e={font:"bold "+.65*n+"px SourceHanSansCN-Medium",style:"#353535",align:"left",baseLine:"top"},p={maxWidth:999*n,textX:.8*n,textY:.9*n,offset:0*n};i.drawText("提货凭证",e,p,"",1);var f={font:.55*n+"px SourceHanSansCN-Medium",style:"#666666",align:"left",baseLine:"top"},h={maxWidth:999*n,textX:.825*n,textY:2.525*n,offset:0*n};i.drawText("手机号码：",f,h,"",1);var j={maxWidth:999*n,textX:3.6*n,textY:2.525*n,offset:0*n};i.drawText(c,f,j,"",1);var M={maxWidth:999*n,textX:1.375*n,textY:3.75*n,offset:0*n};i.drawText("自提点：",f,M,"",1);var y={maxWidth:999*n,textX:3.6*n,textY:3.75*n,offset:0*n};i.drawText(d,f,y,"",1);var w={maxWidth:999*n,textX:.825*n,textY:4.95*n,offset:0*n};i.drawText("提货地址：",f,w,"",1);var S={maxWidth:l,textX:3.6*n,textY:4.95*n,offset:1.2*n};i.drawText(m,f,S,"...",2),v(),b(),o.drawImage(u,4.375*n,7.175*n+s,6.4*n,6.4*n),_(),i.drawRoundedRectNeedClipEnd();var I=document.getElementById("selfRaisingVerificationCanvas").toDataURL("image/png"),C=new Image;C.src=I,C.setAttribute("class","verificationCanvas"),C.setAttribute("style","width:"+a/n+"rem;height:"+r/n+"rem;"),jm(".j_verificationContain").append(C)}function g(t,e){o.restore(),o.save(),o.font=t;var i=o.measureText(e).width;return o.restore(),i}function v(){var t=6.3*n+s;o.save(),o.beginPath(),o.strokeStyle="#CCCCCC",o.setLineDash([.25*n,.25*n]),o.moveTo(.75*n,t),o.lineTo(14.4*n,t),o.stroke(),o.restore()}function b(){var t=6.3*n+s;o.save(),o.beginPath(),o.arc(0,t,.3*n,0,2*Math.PI),o.arc(a,t,.3*n,0,2*Math.PI),o.clip(),o.clearRect(0,0,o.canvas.width,o.canvas.height),o.restore()}function _(){for(var t="提货码：",e=0,o=4;;){var r=p.substr(e,o);if(!r||0==r.length)break;e+=o,t+=r,r.length==o&&p.substr(e,o).length>0&&(t+=" ")}var l=g(.6*n+"px SourceHanSansCN-Regular",t)+1*n,c=(a-l)/2,d=i.Rect(c,14.175*n+s,l,1.3*n);i.drawRoundedRect(d,0,"#F8F8F8",!0);var m={font:.6*n+"px SourceHanSansCN-Medium",style:"#353535",align:"left",baseLine:"top"},u={maxWidth:999*n,textX:c+.5*n,textY:14.55*n+s,offset:0*n};i.drawText(t,m,u,"",1),i.drawRoundedRectNeedClipEnd()}u.src=document.location.protocol+"//"+document.location.host+"/qrCode.jsp?cmd=printStringCode&size=440&str="+JSON.stringify(f),u.onload=function(){h()}}({aid:e.aid,wid:e.wid,mobile:i.phone,name:i.name,addr:i.ais,takingProof:e.takingProof}),jm(".j_saveVerification").unbind().bind("click",(function(){var t=document.getElementById("selfRaisingVerificationCanvas").toDataURL("image/png"),e=document.createElement("a"),i=new MouseEvent("click");e.download="提货凭证",e.href=t,e.dispatchEvent(i)}))}}})},Mobi.getProductListPageData=function(t){return new Promise((function(e,i){var o=[];o.push("cmd=","getWafNotCk_getAjaxPageModuleV2Info"),o.push("&_colId=",Fai.top._pageId),o.push("&_extId=",0),o.push("&moduleId=",t.moduleId);var n=window.location.href;if(n.indexOf("lcid")>0){var a=Mobi.getUrlParam(n,"lcid");a&&o.push("&lcid=",a)}n.indexOf("_fromJzmHome")>0&&(Mobi.getUrlParam(n,"_fromJzmHome")&&o.push("&_fromJzmHome=",!0));if(Fai.top._manageMode){var r=Fai.top.Designer.copyData(t.module);r.extInfo={},o.push("&module=",encodeURIComponent(JSON.stringify(r)))}t.pageno&&o.push("&m"+t.moduleId+"pageno=",t.pageno),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/module_h.jsp",data:o.join(""),error:function(){Mobi.ing(LS.js_systemError,!1)},success:function(t){var o=(t=jm.parseJSON(jm.trim(t))).data;t.success?e(o):(Mobi.ing(LS.js_systemError,!1),i(o))}})}))},Mobi.createSelfRaisingVerificationPop=function(){var t=jm("html").css("font-size"),e="";return e+="<div class='f_selfRaisingVerification' id='selfRaisingVerification'><div id='selfRaisingVerificationBg' style='height:100%;'></div><div class='selfRaisingVerificationContent'><div class='j_canvasContain'><canvas id='selfRaisingVerificationCanvas' style='display:none;' width='"+13.9*(t=Number(t.substring(0,t.indexOf("p"))))+"px' height='"+16.25*t+"px'></canvas></div><div class='promptTextContain'><p>长按图片保存凭证</p></div></div></div>"},Mobi.drawSelfRaisingVerificationPop=function(t){jm(".j_saveVerification").unbind().bind("click",(function(){Mobi.ing("正在加载，请稍后")})),jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=getWafNotCk_getSelfRaisingVerificationInfo",data:{orderId:t},type:"POST",dataType:"json",success:function(t){if(t.success){var e=t.info,i=JSON.parse(e.addrInfo.srp);jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=getWafNotCk_getSelfRaisingPoingList",data:{},type:"POST",dataType:"json",success:function(t){var o=t.selfRaisingDataList;if(o.length>0||null!=i){for(var n=0;n<o.length;n++)if(o[n].id==i.id){i=o[n];break}!function(t){var e=document.getElementById("selfRaisingVerificationCanvas");if(null==e)return;var i=Mobi.getcanvasTool(e);if(!i)return;var o=i.ctx,n=i.baseFontSize,a=13.9*n,r=16.25*n,s=0,l=10*n,c=t.mobile,d=t.name,m=t.addr,p=t.takingProof,u=t.isCommunityGroup||!1,f=t.communityGroupSolitaire||-1,h=f+"";f<10&&(h="0"+f);var g=new Image,v={a:t.aid,w:t.wid,t:p};function b(){_(.55*n+"px SourceHanSansCN-Regular",m)>l&&(r+=s=1.2*n),jm("#selfRaisingVerificationCanvas").attr("height",r+"px").attr("width",a+"px");var t=i.Rect(0,0,a,r);i.drawRoundedRect(t,.25*n,"#ffffff",!0);var e={font:"bold "+.65*n+"px SourceHanSansCN-Medium",style:"#353535",align:"left",baseLine:"top"},p={maxWidth:999*n,textX:.75*n,textY:.875*n,offset:0*n};i.drawText("提货凭证",e,p,"",1);var v={font:.55*n+"px SourceHanSansCN-Medium",style:"#666666",align:"left",baseLine:"top"},b={maxWidth:999*n,textX:.775*n,textY:2.325*n,offset:0*n};i.drawText(u&&f>0?"提货序号：":"手机号码：",v,b,"",1);var w={maxWidth:999*n,textX:3.55*n,textY:2.325*n,offset:0*n};i.drawText(u&&f>0?h:c,v,w,"",1);var S={maxWidth:999*n,textX:(u?1.875:1.325)*n,textY:3.525*n,offset:0*n};i.drawText(u?"团长：":"自提点：",v,S,"",1);var I={maxWidth:u?l:999*n,textX:3.55*n,textY:3.525*n,offset:0*n};i.drawText(d,v,I,"",1);var C={maxWidth:999*n,textX:.775*n,textY:4.725*n,offset:0*n};i.drawText("提货地址：",v,C,"",1);var P={maxWidth:l,textX:3.55*n,textY:4.725*n,offset:1.2*n};i.drawText(m,v,P,"...",2),j(),M(),o.drawImage(g,3.725*n,7.025*n+s,6.4*n,6.4*n),y(),i.drawRoundedRectNeedClipEnd();var x=document.getElementById("selfRaisingVerificationCanvas").toDataURL("image/png"),k=new Image;k.src=x,k.setAttribute("style","width:"+a/n+"rem;height:"+r/n+"rem;"),jm(".j_canvasContain").append(k)}function _(t,e){o.save(),o.font=t;var i=o.measureText(e).width;return o.restore(),i}function j(){var t=6.15*n+s;o.save(),o.beginPath(),o.strokeStyle="#CCCCCC",o.setLineDash([.23*n,.23*n]),o.moveTo(.5*n,t),o.lineTo(13.425*n,t),o.stroke(),o.restore()}function M(){var t=6.15*n+s;o.save(),o.beginPath(),o.arc(0,t,.25*n,0,2*Math.PI),o.arc(a,t,.25*n,0,2*Math.PI),o.clip(),o.clearRect(0,0,o.canvas.width,o.canvas.height),o.restore()}function y(){for(var t="提货码：",e=0,o=4;;){var r=p.substr(e,o);if(!r||0==r.length)break;e+=o,t+=r,r.length==o&&p.substr(e,o).length>0&&(t+=" ")}var l=_(.6*n+"px SourceHanSansCN-Regular",t)+1*n,c=(a-l)/2,d=i.Rect(c,14.025*n+s,l,1.275*n);i.drawRoundedRect(d,0,"#F8F8F8",!0);var m={font:.6*n+"px SourceHanSansCN-Medium",style:"#353535",align:"left",baseLine:"top"},u={maxWidth:999*n,textX:c+.5*n,textY:14.42*n+s,offset:0*n};i.drawText(t,m,u,"",1),i.drawRoundedRectNeedClipEnd()}g.src=document.location.protocol+"//"+document.location.host+"/qrCode.jsp?cmd=printStringCode&size=440&str="+JSON.stringify(v),g.onload=function(){b()}}({aid:e.aid,wid:e.wid,mobile:i.phone,name:i.name,addr:i.ais,takingProof:e.takingProof,isCommunityGroup:e.isCommunityGroup||!1,communityGroupSolitaire:e.communityGroupSolitaire}),jm(".j_saveVerification").unbind().bind("click",(function(){var t=document.getElementById("selfRaisingVerificationCanvas").toDataURL("image/png"),e=document.createElement("a"),i=new MouseEvent("click");e.download="提货凭证",e.href=t,e.dispatchEvent(i)}))}}})}}})},Mobi.productFormBtnClick=function(t){Mobi.linkToForm(t)},Mobi.consultImmediatelyBtnClick=function(t,e,i,o,n){jm("#"+t).off("click.consultBtn").on("click.consultBtn",(function(){Mobi.logDog(201121,5),0==e?Mobi.triggerServiceNumber(1,i):1==e?Mobi.consultImmediately.render(o):2==e&&Mobi._popupZone.open(n)}))},Mobi.initCombinedPurchaseInfo=function(t){t&&jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/product_h.jsp?cmd=getWafNotCk_getProductDetailCpList",data:{pid:t},type:"POST",dataType:"json",success:function(t){if(t.success&&t.openCombinedPurchase){jm(".combinedPurchaseContainer #combinedPurchaseCount").html(t.combinedPurchaseCount),jm(".combinedPurchaseContainer #maxCpSavePrice").html(t.maxCpSavePrice);var e=t.combinedInfoList||[];if(e.length>0){var i=Mobi.getCpListHtml(t,!0,"","pdDetail");jm(".combinedPurchaseContainer .cpInfoList").html(i),jm(".combinedPurchaseContainer").show(),jm.each(e,(function(t,e){if(t>=3)return!1;Mobi.secKillPdSwipe("pdDetailPdContainer"+e.id,"pdDetailPdSlideContainer"+e.id)})),jm(".combinedPurchaseContainer .cpBtn").on("click",(function(){var t=jm(this).attr("cpId")||0;window.location.href="/combinedPurchaseDetail.jsp?cpId="+t}))}if(t.combinedPurchaseCount>3){jm(".combinedPurchaseContainer .cpShowMore").css("display","flex");var o={triggerId:"combinedPurchaseShowMore",pageBg:!0,pageHtml:Mobi.getCpListHtml(t,!1,"cpShowMorePanel","panel"),closeWebPage:"",direction:"bottom",callback:function(){jm.each(e,(function(t,e){Mobi.secKillPdSwipe("panelPdContainer"+e.id,"panelPdSlideContainer"+e.id)})),jm(".cpShowMorePanel .cpBtn").on("click",(function(){var t=jm(this).attr("cpId")||0;window.location.href="/combinedPurchaseDetail.jsp?cpId="+t}))}};Mobi.initWebPage(o),jm("#combinedPurchaseShowMore").click((function(){Mobi.logDog(201160,3)})),Mobi.logDog(201160,2)}}}})},Mobi.getCpListHtml=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3?arguments[3]:void 0;if(t){var n=[];return n.push("<div class='combinedPurchaseListContainer "+i+"'>"),"cpShowMorePanel"==i&&n.push("<div class='cpPanelTitle'><span class='lineTitle'>组合套餐</span><span class='lineTitleTip'><span>"+t.combinedPurchaseCount+"</span>组套餐，最多可省"+Fai.top.choiceCurrencyVal+"<span>"+t.maxCpSavePrice+"<span></span></div>"),n.push("<div class='combinedPurchaseList'>"),jm.each(t.combinedInfoList,(function(t,i){if(t>=3&&e)return!1;if(n.push("<div class='cpItem'>"),n.push("<div id='"+o+"PdSlideContainer"+i.id+"' class='pdSlideContainer'>"),n.push("<div id='"+o+"PdContainer"+i.id+"' class='pdContainer'>"),jm.each(i.pdInfoList,(function(t,e){n.push("<div class='productItem J_prodItem'>"),n.push("<a class='J_prodItem-a' href='/pd.jsp?pid="+e.productId+"'>"),n.push("<div class='productPic'>"),n.push("<img class='productImg' src='"+e.picPath+"'>"),n.push("</div>"),n.push("<div class='pdName'>"+jm.encodeHtml(e.pdName)+"</div>"),n.push("</a>"),n.push("</div>"),t!=i.pdInfoList.length-1&&n.push("<svg class='cpIncrease' fill='#CECECE'><use xlink:href='#jzm-vcpincrease'/></svg>")})),n.push("</div>"),n.push("</div>"),n.push("<div class='priceContain'>"),n.push("<svg fill='#CECECE' class='cpEqual'><use xlink:href='#jzm-vcpequal'></use></svg>"),i.isAllowPrice){n.push("<div class='cpPriceContainer'>"),n.push("<div class='cpPriceTitle'>套餐价</div>");var a=Mobi.getDividePrice(i.combinedPrice),r=Mobi.getDividePrice(i.savePrice);n.push("<div class='cpPrice g_color g_main_color_v3'>"+Fai.top.choiceCurrencyVal+a.intPrice+"<span class='decimal'>."+a.decimalPrice+"</span></div>"),n.push("</div>"),0!=i.savePrice&&n.push("<div class='cpSavePrice g_color g_main_color_v3'>可省"+Fai.top.choiceCurrencyVal+r.intPrice+"<span class='decimal'>."+r.decimalPrice+"</span></div>"),n.push("<div class='cpBtn g_button g_main_bgColor_v3' cpId='"+i.id+"'><span>立即购买</span></div>")}else n.push("<div class='cpBtn g_button g_main_bgColor_v3' cpId='"+i.id+"' style='margin-top:0.875rem;'><span>立即购买</span></div>");n.push("</div>"),n.push("</div>")})),n.push("</div>"),n.push("</div>"),n.join("")}},Mobi.getDividePrice=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i={};if(0==t)return i.intPrice="0",i.decimalPrice="00",i;var o=0,n="00";if(-1!=(t=(t=parseFloat(t||0)).toFixed(e)+"").indexOf(".")){var a=t.split(".");o=a[0],n=a[1]}return i.intPrice=o,i.decimalPrice=n,i},Mobi.initCpDetailInfo=function(t){jm("#g_web").css("background-color","#F4F4F4"),jm("#webFooterBox").hide(),jm("#webContainerBox").css("transform","unset"),jm("#webModuleContainer").css("transform","unset"),Mobi.cpPdOtionSelectType={},Mobi.finalCpPdOtionSelectType={},Mobi.cachePdOptionInfo={},jm.each(t.pdInfoList,(function(t,e){var i=e.optionAmountInfo||{};Mobi.cachePdOptionInfo["optionsAmountInfo"+e.productId]=i,Mobi.cachePdOptionInfo["optionDom"+e.productId]=Mobi.getCpPdOptionInfoDom(e),Mobi.cachePdOptionInfo["mallPrice"+e.productId]=e.mallPrice||0,Mobi.cachePdOptionInfo["optionData"+e.productId]=e.optionData||[]})),jm(".cpDetailInfo .J_chooseOptionData").click((function(){var t=jm(this).attr("pid")||0;if(t){var e={triggerId:"showCpPdOptionPanel",pageHtml:Mobi.cachePdOptionInfo["optionDom"+t]||"",pageBg:!0,returnSeltFun:!0,direction:"bottom",closeWebPage:".cpOptionPanel .cpOptionPanelClose",closeCallBack:function(){}};Mobi.initWebPage(e);var i=Mobi.cachePdOptionInfo["optionsAmountInfo"+t]||{},o=Mobi.cachePdOptionInfo["optionData"+t]||{},n=i.d||[];if(n.length>0){var a={optionsAmountList:n,isCombinedPurchase:!0,productId:t};jm("#showCpPdOptionPanel").click(),Mobi.initProductOptions(a),Mobi.selectCpPdOption(t,o,i),jm(".saveCpOptionBtn").click((function(){var e=jm(this).attr("pid")||0,i=Mobi.cpPdOtionSelectType["pid"+e]||"",o=Mobi.cachePdOptionInfo["optionsAmountInfo"+e]||{},n=Mobi.cachePdOptionInfo["optionData"+e]||[];if(Mobi.checkCpOptionData(i,o,Mobi.cachePdOptionInfo["optionData"+t])){var a=o.t||"",r=i.split("_"),s="",l={};if(jm.each(n,(function(t,e){l[e.fieldKey]=e.items})),a.includes("_")){var c=a.split("_");jm.each(c,(function(t,e){var i=r[t]||0,o=l[e];jm.each(o,(function(t,e){e.i==parseInt(i)&&(s+=e.v+",")}))}))}else{var d=i,m=l[a];jm.each(m,(function(t,e){e.i==parseInt(d)&&(s+=e.v+",")}))}s.endsWith(",")&&(s=s.substring(0,s.length-1));var p=o.d||[],u=Mobi.cachePdOptionInfo["mallPrice"+e]||0;jm.each(p,(function(t,e){i==e.t2&&(u=e.oPrice)})),jm(".cpDetailInfo .pdImg"+e).attr("src",jm(".cpOptionPanel .J_mallOptionImg.mallOptionImg").attr("src")),jm("#originalPrice"+e).html("原价"+Fai.top.choiceCurrencyVal+parseFloat(u).toFixed(2)),jm("#chooseOptionStr"+e).html(jm.encodeHtml(s)),Mobi.finalCpPdOtionSelectType["pid"+e]=i,jm(".cpOptionPanel .cpOptionPanelClose").click()}}))}}})),jm(".cpDetailInfo #cpBuyBtn").click((function(){if(Fai.top._manageMode)Mobi.ing("管理状态下，暂不支持购买");else if(0!=t.stock)if(0!=t.status)if(5==t.status){var e,i=[],o=a(t.pdInfoList||[]);try{for(o.s();!(e=o.n()).done;){var n=e.value,r={},s=[],l=n.productId||0;r.pid=l;var c=n.optionData||[],d=n.optionAmountInfo||{},m=Mobi.finalCpPdOtionSelectType["pid"+l]||"";if(!Mobi.checkCpOptionData(m,d,c))return;var p=d.t||"";if(""!=p){var u=m.split("_"),f={};jm.each(c,(function(t,e){f[e.fieldKey]=e}));var h=p.split("_");jm.each(h,(function(t,e){var i=u[t]||0,o=f[e],n=o.items;jm.each(n,(function(t,e){if(e.i==parseInt(i)){var n={};n.name=o.fieldKey,n.value=e.i,n.type=o.type,n.prop=o.n,n.selected=e.v,s.push(n)}}))}))}s.length>0&&(r.optList=JSON.stringify(s)),r.amount=n.cpAmount||1,i.push(r)}}catch(t){o.e(t)}finally{o.f()}var g={};g.pdInfoList=i,g.isCpOrder=!0,g.combinedPurchaseId=t.id||0,Mobi.mallBuy(0,1,0,0,"","",g)}else Mobi.ing("活动已结束");else Mobi.ing("活动即将开始");else Mobi.ing("该套餐已售罄")}))},Mobi.selectCpPdOption=function(t,e,i){var o=Mobi.finalCpPdOtionSelectType["pid"+t];if(o&&""!=o){var n=i.t||"";if(n.includes("_")){var a=n.split("_"),r=o.split("_");jm.each(a,(function(t,e){var i=r[t],o=jm(".cpOptionPanel .g_mallLabel[for='opIndept"+e+i+"']");o.length>0&&o.click()}))}else{var s=jm(".cpOptionPanel .g_mallLabel[for='opIndept"+n+o+"']");s.length>0&&s.click()}}},Mobi.checkCpOptionData=function(t,e,i){if(!i||!e)return!1;if(0==(e.d||[]).length)return!0;if(""==t||t.includes("x")){var o="",n="",a=e.t||"";if(a.includes("_")){var r=a.split("_");if(""==t)o=r[0]||"";else{var s=t.split("_"),l=0;jm.each(s,(function(t,e){if("x"==e)return l=t,!1})),o=r[l]}}else o=a;return jm.each(i,(function(t,e){e.fieldKey==o&&(n=e.name)})),Mobi.ing(jm.format(LS.mallCartChoiceItemError,jm.encodeHtml(n))),!1}return!0},Mobi.getCpPdOptionInfoDom=function(t){var e=t.optionData,i=t.optionAmountInfo;if(!e||0==e.length||!i)return"";var o=[],n=i.type||"",a=i.d||[],r=n.split("_"),s=0;o.push("<div class='cpOptionPanel'>"),o.push("<div class='productMallOptionHead'>"),o.push("<div class='J_mallOptionImg mallOptionImg' picId='"+t.productId+"' style='background-image:url("+t.pdPic+")'></div>"),o.push("<div class='productDetail'>"),o.push("<div class='productDetailName'>"),o.push("<div class='productName g_middleColor'><div class='productNameWrap'>"+jm.encodeHtml(t.pdName)+"</div></div>"),o.push("</div>"),t.openAmountProp&&(o.push("<div class='productDetailMallAmount'>"),o.push("<div class='productMallAmount'>"+t.amountKey+"<span id='targetAmount"+t.productId+"'>"+t.targetAmount+"</span></div>"),o.push("</div>")),t.isAllowPrice&&o.push("<div class='productOriginalPrice' id='productOriginalPrice"+t.productId+"'>"+t.originalPriceTip+"</div>"),o.push("</div>"),o.push("<div class='productDetailClose icon-Off g_iconMiddle icon-defaultColor cpOptionPanelClose'></div>"),o.push("</div>"),o.push("<div class='mallOptionAndNumBox J-op-box'>");for(var l=0;l<e.length;l++){for(var c=e[l],d=c.items||[],m=c.fieldKey||"",p=c.type||"",u=c.name||"",f=0;f<r.length;f++)m==r[f]&&(s=f);4==p&&(m="opIndept"+m),d.length>0&&(o.push("<div class='mallNewOptionLine mallOptionLine g_middleColor J-op' data='"+m+"' option_name='"+jm.encodeHtml(c.name)+"' type='"+p+"'>"),o.push("<span class='optionLineName'>"+jm.encodeHtml(u)+"</span>"),o.push("<div class='optionsBlock'>"),jm.each(d,(function(t,e){for(var i=e.i||0,n=e.pi||"",r=e.v||"",l=e.orgPic||"",c=!1,d=0;d<a.length;d++){var p=a[d],u=p.t2||"",f=p.flag||1,h=u.split("_"),g=-1;if(null!=h[s]&&(g=parseInt(h[s])),1==f&&s<h.length&&g==i&&p.isEnable){c=!0;break}}c&&(o.push("<input class='g_mallInput' type='radio' id='"+m+i+"' name='"+m+"' />"),""==l?o.push("<label class='g_mallLabel g_defaultColor' for='"+m+i+"' data='"+i+"'>"+jm.encodeHtml(r)+"</label>"):o.push("<label class='g_mallLabel g_defaultColor' for='"+m+i+"' picId='"+n+"' data='"+i+"' _indeptPic='"+l+"'>"+jm.encodeHtml(r)+"</label>"))})),s++,o.push("</div>"),o.push("</div>"))}return o.push("</div>"),o.push("<div class='saveCpOptionBtn g_bgColor g_main_bgColor_v3' pid='"+t.productId+"'>确定</div>"),o.push("</div>"),o.join("")},Mobi.productKnowPayBtnClick=function(t){function e(t){if(!1===Fai.top._manageMode&&!1===Fai.top._isMall){var e=Number(jm(".J_pd_detail").data("content-type")),i=["视频","图文","专栏","音频"],o="number"==typeof e&&e>=0&&e<i.length;Mobi.logJZFdp("jz_c_knowlegde_payment",{jz_free_text1:t,jz_content_terminal:"mobi",jz_free_text2:o?i[e]:""})}}if(Fai.top._manageMode)Mobi.ing("当前为管理态，不支持购买");else{if(0==Fai.top.sessionMemberId)return Mobi.logDog(201356,3),e("登录状态"),Mobi.storageReturnUrl(Fai.top.location.href),void(Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp");Mobi.logDog(201356,3),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/product_h.jsp?cmd=setWafCk_genKnowProductOrder",data:"productId="+t,success:function(t){if(null!=t){var i=jm.parseJSON(t);if(i.success)if(Mobi.logDog(201356,4),i.isZero)Mobi.ing("购买成功"),e("购买成功"),window.document.location.reload();else{e("支付状态");var o="",n=window.location,a=n.origin,r=n.pathname,s=n.search,l=n.hash;try{var c=new URLSearchParams(s);c.delete("openId"),o="".concat(a).concat(r,"?").concat(c).concat(l)}catch(t){o=window.location.href}Mobi.jzPayUtils.normalOpenPay({bssId:i.knowProductOrderId,bssType:Mobi.BussinessType.BSSTYPE_KNOWPRODUCT,sucUrl:encodeURIComponent(o),failUrl:encodeURIComponent(o)})}else Mobi.ing(i.msg)}},error:function(){Mobi.ing("系统错误")}})}},Mobi.productKnowPayPlayVideo=function(){jm(".productBullet").hide(),jm(".productDetailHeader").hide(),jm(".productDetailHeaderV3").hide();var t=document.getElementById("knowproductVideoMask"),e=document.getElementById("knowPayVideo");t.style.display="block",e.play()},Mobi.initCourseCatalog=function(t,e){var i="columnProductId=".concat(t,"&pid=").concat(e);jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/product_h.jsp?cmd=getWafNotCk_getCourseCatalog",data:i,success:function(t){var e=JSON.parse(t),i=e.html,o=void 0===i?"":i,n=e.productUrl,a="";e.isFinPay||(a='\n                <a class="course_catalog_jump_column_btn g_oldThemeBgColor g_main_bgColor_v3" href="'.concat(n,'">前往购买</a>\n                '));var r='\n                <div class="course_catalog_container">\n                    <div class="course_catalog_container_header">\n                        <a class="course_catalog_jump" href="'.concat(n,'">\n                            <svg class="course_catalog_jump_icon">\n                                <use xlink:href="#jzm-vicon_arrow_1"></use>\n                            </svg>\n                            <span class="course_catalog_jump_text">返回专栏</span>\n                        </a>\n                        <span class="course_catalog_title">课程目录</span>\n                        <svg class="course_catalog_close_iocn">\n                            <use xlink:href="#jzm-vicon_close"></use>\n                        </svg>\n                    </div>\n                    ').concat(o,"\n                    ").concat(a,"\n                </div>\n            ");Mobi.initWebPage({triggerId:"J_courseCatalogBtn",pageBg:!0,direction:"bottom",closeWebPage:".course_catalog_close_iocn",pageHtml:"".concat(r),returnSeltFun:!0})}})},Mobi.productKnowPayVideoQuit=function(){document.getElementById("knowproductVideoMask").style.display="none",document.getElementById("knowPayVideo").load(),jm(".productBullet").show(),2!=Fai.top._other.templateInfo.templateDesignType&&jm(".productDetailHeader").show(),Fai.top._openThemeV3&&jm(".productDetailHeaderV3").show()},Mobi.hideFooterBox=function(){jm("#webFooterBox").css({display:"none"})},function(t,e){t.playKnowPayVideo=function(){e(".productBullet").hide(),e(".productDetailHeader").hide(),e(".productDetailHeaderV3").hide(),document.getElementById("knowproductVideoMask").style.display="block",Mobi.logDog(201356,1)},t.playKnowPayVideoByPath=function(t,i){var o=document.getElementById("knowproductVideoMask"),n=document.getElementById("knowPayVideo");if(i.isConvertToM3u8Success)if(i.useM3u8){if(e(".productBullet").hide(),e(".productDetailHeader").hide(),e(".productDetailHeaderV3").hide(),o.style.display="block",Hls.isSupported()){var a=new Hls;a.loadSource(i.mediaPath),a.attachMedia(n),a.on(Hls.Events.MANIFEST_PARSED,(function(){n.play()}))}else n.canPlayType("application/vnd.apple.mpegurl")&&(n.src=i.mediaPath,e(n).unbind("loadedmetadata.knowPayVideo").bind("loadedmetadata.knowPayVideo",(function(){n.play()})));if(!i.isPay){var r=null;e(n).unbind("ended.knowPayVideo").bind("ended.knowPayVideo",(function(){null!=r&&clearTimeout(r),r=setTimeout((function(){Mobi.createKnowPayPopup(t)}),100)}))}}else Mobi.ing("视频加密大概需要1-5分钟，请加密完成后再播放观看");else Mobi.ing("视频格式有误，请联系管理员更新视频");i.isPay?Mobi.logDog(201356,1):Mobi.logDog(201356,2)},t.checkKnowPayVideo=function(t,i){null==t||t<1||(Fai.top._manageMode?i?Mobi.ing("当前为管理态，不支持试看"):Mobi.ing("当前为管理态，不支持购买"):e.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/product_h.jsp?cmd=getWafNotCk_getKnowProductPayStatus",data:"productId="+t,success:function(i){var o=e.parseJSON(i);if(o.success)Mobi.playKnowPayVideoByPath(t,o);else{if(null!=o.isLogin&&!1===o.isLogin)return Mobi.storageReturnUrl(Fai.top.location.href),void(Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp");Mobi.ing(o.msg)}},error:function(){}}))},t.quitKnowPayVideo=function(){document.getElementById("knowproductVideoMask").style.display="none",e(".productBullet").show(),2!=Fai.top._other.templateInfo.templateDesignType&&e(".productDetailHeader").show(),Fai.top._openThemeV3&&e(".productDetailHeaderV3").show()},t.createKnowPayPopup=function(t){e("#knowPayPopupContainer").length&&e("#knowPayPopupContainer").remove(),e("body").append('\n\t\t\t<div id="knowPayPopupContainer" class="knowPayPopupContainer">\n\t\t\t\t<div class="knowPayPopupBg"></div>\n\t\t\t\t<div class="knowPayPopupContent">\n\t\t\t\t\t<div class="knowPayPopupTip">\n\t\t\t\t\t\t<div class="knowPayPopupTitle">试看结束</div>\n\t\t\t\t\t\t<div class="knowPayPopupTips">试看已结束，如需要观看完整视频请单独购买</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="knowPayPopupBtnGroup">\n\t\t\t\t\t\t<div class="knowPayPopupCancel">取消</div>\n\t\t\t\t\t\t<div class="knowPayPopupClip"></div>\n\t\t\t\t\t\t<div class="knowPayPopupConfirm">购买</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'),e("body").css("overflow","hidden"),e(".knowPayPopupCancel").unbind("click.knowPayPopup").bind("click.knowPayPopup",(function(){return e(".knowPayPopupConfirm").unbind("click.knowPayPopupConfirm"),e(".knowPayPopupCancel").unbind("click.knowPayPopup"),e(".knowPayPopupBg").unbind("touchmove.knowPayPopup"),e(".knowPayPopupContent").unbind("touchmove.knowPayPopup"),e(".knowPayPopupContainer").unbind("touchmove.knowPayPopup"),e("#knowPayPopupContainer").remove(),e("body").css("overflow","initial"),!1})),e(".knowPayPopupConfirm").unbind("click.knowPayPopupConfirm").bind("click.knowPayPopupConfirm",(function(){return null!=t&&Mobi.productKnowPayBtnClick(t),!1})),e(".knowPayPopupBg").unbind("touchmove.knowPayPopup").bind("touchmove.knowPayPopup",(function(t){t.preventDefault()})),e(".knowPayPopupContent").unbind("touchmove.knowPayPopup").bind("touchmove.knowPayPopup",(function(t){t.preventDefault()})),e(".knowPayPopupContainer").unbind("touchmove.knowPayPopup").bind("touchmove.knowPayPopup",(function(t){t.preventDefault()}))}}(Mobi,jm),function(t,e){t.SearchJumpProductUtils={bindJumpSearchProductEvent:function(t,i,o){null!=t&&null!=o&&e("#module"+t+" a").unbind("click.jumpInfo").bind("click.jumpInfo",(function(){Mobi.jumpModuleUtils.addModule(t,{moduleId:t,style:i,data:o})}))},removeJumpSearchProductInfo:function(t){null!=t&&Mobi.jumpModuleUtils.removeModuleInfoById(t)}}}(Mobi,jm),Mobi.initProductAudioPlayer=function(t){var e=window.DocumentTouch&&document instanceof window.DocumentTouch||"ontouchstart"in document.documentElement,i=e?"touchstart":"mousedown",o=e?"touchmove":"mousemove",n=e?"touchend":"mouseup",a="micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i),r=t.picPath,s=t.istryOpen,l=t.productId,c=t.isFinPay,d=t.audioTryMin,m=t.imgZoomClass,p=t.isV1,u=t.isDefaultColorStyle,f=t.followColor,h=t.isUseCustomColor;Vue.component("product-audio-player",{filters:{transTime:function(t){function e(t){return"".concat(t).padStart(2,"0")}var i=e(parseInt(t/60)),o=e(parseInt(t%60));return"".concat(i,":").concat(o)}},data:function(){return{picPath:r,progressWidth:"14",hanldeRadius:.225,isPlaying:!1,duration:0,currentTime:0,moveEvent:o,downEvent:i,upEvent:n,istryOpen:s,isFinPay:c,isWechat:a,target:"body",isShowTryTips:!1,audioTryMin:d,multipleArray:[.5,1,1.25,1.5,2],multipleCount:1,imgZoomClass:m,isInitAudio:!1,isV1:p,isDefaultColorStyle:u,followColor:f,isUseCustomColor:h}},computed:{productAudioPlayerWrapperClass:function(){return"product_audio_player_normal_header"},checkLineWidth:function(){return this.progressWidth*(this.progress/100)},checkLineStyle:function(){var t={width:"".concat(this.checkLineWidth,"rem")};return this.isUseCustomColor&&!this.isDefaultColorStyle&&(t["background-color"]=this.followColor),t},handleStyle:function(){var t={left:"".concat(this.checkLineWidth-this.hanldeRadius,"rem")};return this.isUseCustomColor&&!this.isDefaultColorStyle&&(t["background-color"]=this.followColor),t},progressWrapperStyle:function(){return{width:"".concat(this.progressWidth,"rem")}},playStatusIcon:function(){return this.isPlaying?"#jzm-vicon_suspend":"#jzm-vicon_play"},progress:function(){return this.duration?this.currentTime/this.duration*100:0},isShowTryTipsBtn:function(){return s&&!c},isShowBuyTips:function(){return!s&&!c},floatStyle:function(){var t={};return this.isWechat||(t.visibility="hidden"),t},currentMultiple:function(){return this.multipleArray[this.multipleCount%this.multipleArray.length]},multipleIcon:function(){var t="".concat(this.currentMultiple);return"#jzm-vicon_".concat(t,"x")},imgTag:function(){return this.isV1?"img":"div"},switchStyle:function(){if(this.isUseCustomColor&&!this.isDefaultColorStyle)return{color:this.followColor}}},mounted:function(){},methods:{switchStatus:function(){var t=this.$refs.audio;t.paused?this.checkAudio():(t.pause(),this.isPlaying=!1)},checkAudio:function(){var t=this;Fai.top._manageMode?this.istryOpen?Mobi.ing("当前为管理态，不支持试听"):Mobi.ing("当前为管理态，不支持购买"):this.isInitAudio||jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/product_h.jsp?cmd=getWafNotCk_getKnowProductPayStatus",data:"productId="+l,success:function(e){var i=jm.parseJSON(e);i.success?t.initPlayAduio(i):Mobi.ing("当前内容购买后才可收听")},error:function(){}}),this.isInitAudio&&this.playAudio()},initPlayAduio:function(t){var e=this,i=t.isConvertToM3u8Success,o=t.useM3u8,n=t.mediaPath,a=this.$refs.audio;if(i)if(o)if(Hls.isSupported()){var r=new Hls;r.loadSource(n),r.attachMedia(a),r.on(Hls.Events.MANIFEST_PARSED,(function(){e.isInitAudio=!0,e.playAudio()}))}else a.canPlayType("application/vnd.apple.mpegurl")&&(a.src=n,this.isInitAudio=!0,jm(a).unbind("loadedmetadata.knowPayVideo").bind("loadedmetadata.knowPayVideo",(function(){e.playAudio()})));else Mobi.ing("音频加密大概需要1-5分钟，请加密完成后再播放");else Mobi.ing("音频格式有误，请联系管理员更新视频")},playAudio:function(){var t=this,e=this.$refs.audio;jm("audio").each((function(t,e){e.pause()})),e.play().then((function(){e.currentTime===e.duration&&(e.currentTime=0),t.isPlaying=!0})).catch((function(){t.isPlaying=!1}))},oncanplay:function(){this.updateDuration()},audioTimeUpdate:function(){this.updateDuration(),this.currentTime=this.$refs.audio.currentTime},controlAudioProgress:function(t){var e=this;this.updateAudioProgress(t),jm(this.$el).off("".concat(this.moveEvent,".audio")).on("".concat(this.moveEvent,".audio"),this.updateAudioProgress.bind(this)),jm(this.$el).off("".concat(this.upEvent,".audio")).on("".concat(this.upEvent,".audio"),(function(){jm(e.$el).off("".concat(e.moveEvent,".audio")).off("".concat(e.upEvent,".audio"))}))},updateAudioProgress:function(t){var i=this.$refs.audio,o=this.$refs.progressLine;if(!i.paused||0!=i.currentTime){var n=parseFloat(window.getComputedStyle(o,null).width.replace("px","")),a=jm(o).offset().left,r=(e?t.touches[0].pageX-a:t.pageX-a)/n;i.currentTime=i.duration*r,this.audioTimeUpdate()}},retreatHandler:function(){var t=this.currentTime-15;t=t<0?0:t,this.currentTime=t,this.$refs.audio.currentTime=t},forwardHandler:function(){var t=this.currentTime+15;t=t>this.duration?this.duration:t,this.currentTime=t,this.$refs.audio.currentTime=t},showWXfloatTips:function(){this.isShowTryTips=!0},hideHanlder:function(){this.isShowTryTips=!1},switchSpeedHandler:function(){this.multipleCount+=1;var t=this.currentMultiple;this.$refs.audio.playbackRate=t},audioEnd:function(){s&&!c&&this.createKnowPayPopup(),this.isPlaying=!1},moveControlAudioProgress:function(){},updateDuration:function(){var t=this.$refs.audio.duration;(Number.isNaN(t)||t===1/0)&&(t=0),this.duration=t},createKnowPayPopup:function(){jm("#knowPayPopupContainer").length&&jm("#knowPayPopupContainer").remove(),jm("body").append('\n                        <div id="knowPayPopupContainer" class="knowPayPopupContainer audioKnowPay">\n                            <div class="knowPayPopupBg"></div>\n                            <div class="knowPayPopupContent">\n                                <div class="knowPayPopupTip">\n                                    <div class="knowPayPopupTitle">试听结束</div>\n                                    <div class="knowPayPopupTips">试听已结束，如需要听完整音频请单独购买</div>\n                                </div>\n                                <div class="knowPayPopupBtnGroup">\n                                    <div class="knowPayPopupCancel">取消</div>\n                                    <div class="knowPayPopupClip"></div>\n                                    <div class="knowPayPopupConfirm">购买</div>\n                                </div>\n                            </div>\n                        </div>\n                    '),jm("body").css("overflow","hidden"),jm(".knowPayPopupCancel").unbind("click.knowPayPopup").bind("click.knowPayPopup",(function(){return jm(".knowPayPopupConfirm").unbind("click.knowPayPopupConfirm"),jm(".knowPayPopupCancel").unbind("click.knowPayPopup"),jm(".knowPayPopupBg").unbind("touchmove.knowPayPopup"),jm(".knowPayPopupContent").unbind("touchmove.knowPayPopup"),jm(".knowPayPopupContainer").unbind("touchmove.knowPayPopup"),jm("#knowPayPopupContainer").remove(),jm("body").css("overflow","initial"),!1})),jm(".knowPayPopupConfirm").unbind("click.knowPayPopupConfirm").bind("click.knowPayPopupConfirm",(function(){return null!=l&&Mobi.productKnowPayBtnClick(l),!1})),jm(".knowPayPopupBg").unbind("touchmove.knowPayPopup").bind("touchmove.knowPayPopup",(function(t){t.preventDefault()})),jm(".knowPayPopupContent").unbind("touchmove.knowPayPopup").bind("touchmove.knowPayPopup",(function(t){t.preventDefault()})),jm(".knowPayPopupContainer").unbind("touchmove.knowPayPopup").bind("touchmove.knowPayPopup",(function(t){t.preventDefault()}))}},template:'\n            <div class="product_audio_player_wrapper" :class="productAudioPlayerWrapperClass">\n                <div style="position: relative;display: inline-block;">\n                    <component :is="imgTag" class="product_audio_player_banner proDetailImg J_img_lazyload" :src-original="picPath" :class="imgZoomClass">\n                    </component>\n                    <div class="product_audio_try_tips" v-if="isShowTryTipsBtn">试听前{{audioTryMin}}分钟，购买后可收听完整内容</div>\n                    <div class="product_audio_try_tips" v-if="isShowBuyTips">当前内容购买后才可收听</div>\n                </div>\n                <div class="product_audio_player">\n                    <audio ref="audio" @canplay="oncanplay" @timeupdate="audioTimeUpdate"  @ended="audioEnd"></audio>\n                    <div class="product_audio_player_progress_wrapper" :style="progressWrapperStyle">\n                        <div class="product_auido_player_progress_base_line" @[downEvent]="controlAudioProgress" ref="progressLine">\n                            <div class="product_audio_player_progress_checked g_oldThemeBgColor g_main_bgColor_v3" :style="checkLineStyle"></div>\n                            <div class="product_audio_player_progress_hanlde g_oldThemeBgColor g_main_bgColor_v3" :style="handleStyle" @[downEvent]="moveControlAudioProgress"></div>\n                        </div>\n                        <div class="product_audio_player_time_area">\n                            <div class="product_audio_player_current_time product_audio_player_time">{{ currentTime | transTime}}</div>\n                            <div class="product_audio_player_all_time product_audio_player_time">{{duration | transTime}}</div>\n                        </div>\n                    </div>\n                    <div class="product_audio_player_tool">\n                        <svg class="product_audio_player_float" :style="floatStyle" @click="showWXfloatTips">\n                            <use xlink:href="#jzm-vicon_switch"></use>\n                        </svg>\n                        <svg class="product_audio_player_retreat" @click="retreatHandler">\n                            <use xlink:href="#jzm-vicon_retreat"></use>\n                        </svg>\n                        <svg class="product_audio_player_switch g_main_color_v3 g_oldThemeColor" @click="switchStatus" :style="switchStyle">\n                            <use :xlink:href="playStatusIcon"></use>\n                        </svg>\n                        <svg class="product_audio_player_forward" @click="forwardHandler">\n                            <use xlink:href="#jzm-vicon_forward"></use>\n                        </svg>\n                        <svg class="product_audio_player_multiple" @click="switchSpeedHandler">\n                            <use :xlink:href="multipleIcon"></use>\n                        </svg>\n                    </div>\n                    <div v-dom-portal="target" class="product_audio_player_wx_tips" v-show="isShowTryTips">\n                        <span class="product_audio_player_wx_tips_text">\n                            <span>点击右上角“...”，选择</span>\n                            <svg class="product_audio_player_floatingwindow">\n                                <use xlink:href="#jzm-vicon_floatingwindow"></use>\n                            </svg>\n                            <span>边听边聊微信</span>\n                        </span>\n                        <div class="product_audio_player_wx_tips_hide_btn" @click="hideHanlder">我知道了</div>\n                        <svg class="product_audio_player_wx_tips_tri">\n                            <use xlink:href="#jzm-vicon_triangle"></use>\n                        </svg>\n                    </div>\n                </div>\n            </div>\n            '}),(new Vue).$mount("#productAudioPlayer")},d=!1,Mobi.logPdDetailViewFdp=function(){if(!d){d=!0;var t=sessionStorage.getItem("clickPdFrom")||"自定义链接";sessionStorage.removeItem("clickPdFrom");var e={mall_free_text_0:t,mall_free_text_1:Fai.top._fdpProperties.productName,mall_gds:Fai.top._fdpProperties.productTypeName,mall_mkt_type:Fai.top._fdpProperties.marketType,mall_dist_type:Fai.top._fdpProperties.distType,mall_free_bool_0:Fai.top._fdpProperties.isOnSale,mall_free_bool_1:Fai.top._fdpProperties.hasMallAmount};Mobi.logMallFdp("mall_mem_gds_view",e,!0)}},Mobi.initMallProductRecommend=function(t){var e=["aspectFit","scaleToFill","aspectFill","center"],i=t.productId,a=t.displayPage,r=t.showSeparator,s=t.wrapClass,l=["scaleToFill","aspectFit","aspectFill","center","widthFix","topLeft"].reduce((function(t,e){return o(o({},t),{},n({},e,e))}),{});Vue.component("mp-image",{template:'\n\n            <div v-if="lazy" class="mp-image" :style="imgStyle" v-lazy:background-image="lazyOptions || src" :key="lazyOptions.src"></div>\n            <div v-else class="mp-image" :style="imgStyle"></div>\n        ',props:{src:{type:String,default:""},mode:{type:String,default:l.aspectFit},lazy:{type:Boolean,default:!1},lazyOptions:{type:Object}},computed:{imgStyle:function(){var t={};return this.mode==l.scaleToFill?t.backgroundSize="100% 100%":this.mode==l.aspectFit?t.backgroundSize="contain":this.mode==l.aspectFill?t.backgroundSize="cover":this.mode==l.widthFix||this.mode==l.center?t.backgroundSize="auto":this.mode==l.topLeft?(t.backgroundSize="auto",t.backgroundPosition="0 0"):t.backgroundSize="100%",this.lazy||(t.backgroundImage="url(".concat(this.src,")")),this.lazyOptions&&this.src&&console.warn("[mpIamge warn]: lazyOptions和src被同时设置时将直接使用lazyOptions.src"),o({backgroundRepeat:"no-repeat",backgroundPosition:"center"},t)}}}),Vue.component("recommend-product",{data:function(){return{title:"",hideTitle:!1,recommendProduct:[],page:1,scale:0,total:0,productId:i,displayPage:a,showSeparator:r,wrapClass:s||"",ajaxLock:!1,prefixUrl:Fai.top._curLanCode?"/"+Fai.top._curLanCode:""}},computed:{scaleMode:function(){return e[this.scale]},canLoad:function(){return this.recommendProduct.length<this.total}},mounted:function(){this.initList()},methods:{initList:function(){var t=this;if(!(this.productId<0)){var e={pageStr:this.displayPage,currentPageStr:this.page,productIdStr:this.productId};jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/product_h.jsp?cmd=getWafNotCk_getRecommendProducts",data:e,success:function(e){var i=jm.parseJSON(e);i.success?(t.recommendProduct=i.productList||[],t.hideTitle=i.hideTitle,t.title=i.title,t.scale=i.pdZoom,t.total=i.total):Mobi.ing(i.msg)},error:function(){Mobi.ing("服务繁忙，请稍后再试。 ")}})}},formatCancelPrice:function(t){var e=t.mallMarketPrice||0,i="0";return isNaN(parseFloat(e))||(i=parseFloat(e).toFixed(2)),t.choiceCurrencyVal+i},formatPrice_0:function(t){var e=t.mallPrice||0,i="0";isNaN(parseFloat(e))||(i=parseFloat(e).toFixed(2));var o=i.indexOf(".");return i.substring(0,o)},formatPrice_1:function(t){var e=t.mallPrice||0,i="0";isNaN(parseFloat(e))||(i=parseFloat(e).toFixed(2));var o=i.indexOf(".");return i.substring(o,i.length)},loadMore:function(){var t=this;if(!t.ajaxLock){this.page+=1;var e={pageStr:this.displayPage,currentPageStr:this.page,productIdStr:this.productId};t.ajaxLock=!0,jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/product_h.jsp?cmd=getWafNotCk_getRecommendProducts",data:e,success:function(e){var i=jm.parseJSON(e);i.success?(t.recommendProduct=t.recommendProduct.concat(i.productList||[]),t.hideTitle=i.hideTitle,t.title=i.title,t.scale=i.pdZoom,t.total=i.total,t.ajaxLock=!1):Mobi.ing(i.msg)},error:function(){Mobi.ing("服务繁忙，请稍后再试。 ")}})}}},template:'<div class="recommend_product_wrap" :class="wrapClass" v-if="recommendProduct.length"><div class="pd_separator_line" v-if="showSeparator"></div><div class="recommend_product_title" v-if="!hideTitle && title"><span class="recommend_product_line"></span>{{title}}<span class="recommend_product_line"></span></div><div class="recommend_product_content"><div class="recommend_product_list"><a :href="prefixUrl+\'/pd.jsp?id=\'+item.id" class="recommend_product_item" v-for="(item, idx) in recommendProduct" :key="idx" ><mp-image class=\'recommend_product_img\' :mode=\'scaleMode\' :src=\'item.picPath\'></mp-image><div class="recommend_product_info"><div class="recommend_product_tit">{{ item.name }}</div><div class="recommend_product_price g_main_color_v3 g_mainColor" v-if="item.showMallPrice">{{ item.choiceCurrencyVal }}<span class="big_price">{{ formatPrice_0(item) }}</span>{{ formatPrice_1(item) }}</div><div class="recommend_product_cancel_price" v-if="item.showMarketPrice">{{ formatCancelPrice(item) }}</div></div></a></div></div><div class="load_more" @click.stop="loadMore" v-if="canLoad">加载更多</div></div>'}),(new Vue).$mount("#mallProductRecommendWrap")},Mobi.initHotelProductData=function(t){jm(".locationContainer .action").click((function(){if(t.addressInfo&&t.addressInfo.setting&&t.addressInfo.setting.loc){var e=t.addressInfo.setting.loc.pp,i=e.lat,o=e.lng,n=t.addressInfo.setting.loc.as;Mobi.openLocation({lat:i,lng:o,address:n})}}))},Mobi.openLocation=function(t){var e=t.lat,i=t.lng,o=t.address,n="https://apis.map.qq.com/uri/v1/marker?marker=coord:".concat(e,",").concat(i,";title:").concat(o,";&referer=TJ7BZ-JZKWD-XZ44I-HEYDM-RDJJJ-WHFVL");window.location.href=n},Mobi.initLocationText=function(t){jm.ajax({type:"post",url:"../ajax/product_h.jsp?cmd=getWafNotCk_getMallAddressLib&id=".concat(t),success:function(t){if((t=t&&jm.parseJSON(t)||{}).success){var e,i,o,n=t.mallAddressLibInfo.name,a=void 0===n?"":n;jm("#hotel_location_container .address").text((null===(e=t.mallAddressLibInfo)||void 0===e||null===(i=e.setting)||void 0===i||null===(o=i.loc)||void 0===o?void 0:o.as)||""),jm("#hotel_location_container .address_title").text(a),console.log(jm("#hotel_location_container.action")),jm("#hotel_location_container.action").click((function(){if(console.log("click"),t.mallAddressLibInfo&&t.mallAddressLibInfo.setting&&t.mallAddressLibInfo.setting.loc){var e=t.mallAddressLibInfo.setting.loc.pp,i=e.lat,o=e.lng,n=t.mallAddressLibInfo.setting.loc.as;Mobi.openLocation({lat:i,lng:o,address:n})}}))}}})},m=!1,Mobi.initYXPdDataReport=function(t,e){if(!m){m=!0;var i=0;jm.ajax({type:"post",url:"../ajax/mobi_h.jsp?cmd=setWafCk_initRecordTicket4TS",data:{viewerId:t,dataId:e},success:function(t){var e=t&&jm.parseJSON(t)||{};e.success&&o(e.recordTicket)}})}function o(t){t&&(jm.ajax({type:"post",url:"../ajax/mobi_h.jsp?cmd=setWafCk_pushRlecord4TS",data:{recordTicket:t}}),i++,setTimeout((function(){o(t)}),i<=10?1e3:i<=35?2e3:i<=89?1e4:25e3))}}},136:function(t,e){function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t="string"==typeof t?t.trim():t;var e="//wpa.qq.com/msgrd?v=3&uin=".concat(t,"&site=qq&menu=yes");return Mobi.isWechat()||Mobi.isPC()||(e="mqqwpa://im/chat?chat_type=wpa&uin=".concat(t),jm.os.ios&&(e="mqqwpa://im/chat?chat_type=wpa&uin=".concat(t,"&version=1&src_type=web&web_src=oicqzone.com"))),e}Mobi.alert=function(){var t=null;function e(){var t=document.getElementById("alert");t&&function(t,e,i){e="number"==typeof e?e:300,t.style.transition="opacity "+e+"ms linear",t.style.opacity=1,setTimeout((function(){t.style.opacity=0}),0),i&&setTimeout(i,e)}(t,null,(function(){t.parentElement.removeChild(t)}))}return function(i){if(clearTimeout(t),t=setTimeout(e,3e3),document.getElementById("alert")){document.getElementById("alert").childNodes[0].childNodes[0].textContent=i}else{var o=window._resImageRoot;if(!o)try{o=window.top._resImageRoot}catch(t){o=""}var n=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div");n.appendChild(a),a.appendChild(r),a.appendChild(s),n.id="alert",r.setAttribute("data-role","msg"),n.style.cssText="position:fixed; top:50px; left: 50%; transform: translateX(-50%); z-index:9999;",a.style.cssText='height: 40px; line-height: 40px; margin:3px 0; font-size: 13px; font-family: "Microsoft Yahei","微软雅黑",宋体, 新宋体,sans-serif; color: #ff8e1e;  background-color: #fff5dc; z-index:9999; box-shadow: 0px 5px 10px -5px #b3b3b3; -moz-box-shadow: 0px 5px 10px -5px #b3b3b3; -webkit-box-shadow: 0px 5px 10px -5px #b3b3b3; position: relative; white-space: nowrap;',r.style.cssText="display: inline-block; margin-left: 15px; word-break:keep-all; white-space:nowrap; vertical-align: middle;",s.style.cssText="height: 40px; margin: 0px 10px 0px 7px; width:8px; cursor:pointer; background:url("+o+"/image/close02.png?v=201711250607) center no-repeat; display: inline-block; vertical-align: middle;",r.textContent=i,s.addEventListener("click",e),s.addEventListener("mouseenter",(function(t){t.currentTarget.style.background="url("+o+"/image/close03.png?v=201711250607) center no-repeat"})),s.addEventListener("mouseleave",(function(t){t.currentTarget.style.background="url("+o+"/image/close02.png?v=201711250607) center no-repeat"})),jm("#g_body")[0].appendChild(n),function(t,e,i){e="number"==typeof e?e:300,t.style.transition="opacity "+e+"ms linear",t.style.opacity=0,setTimeout((function(){t.style.opacity=1}),0),i&&setTimeout(i,e)}(n)}}}(),Mobi.initOnlineServiceWidth=function(){if(!Fai.top._openThemeV3){var t=jm("body");if(t.hasClass("mobiCol20")){if(Fai.top._isMobiMallOpen)return void jm("#webCustomerServiceBox").css("display","none");if(Fai.top._bookingOpen||Fai.top._immediatelyConsultOpen||Fai.top._productFormOpen)return void jm("#webCustomerServiceBox").css("display","none")}if((t.hasClass("mobiCol21")||t.hasClass("mobiCol28")||t.hasClass("mobiCol4"))&&Fai.top._newsCommentOpen)jm("#webCustomerServiceBox").css("display","none");else if(Fai.top.independentSetFooterBar&&jm("#webCustomerServiceBox").css("display","none"),!(Fai.top._templateFrameId>=2e3&&Fai.top._templateFrameId<3e3)){var e=Mobi.getPreviewObject("customerServiceDiv");if(e){var i=e.querySelectorAll(".service").length;0===i?(jm("#webCustomerServiceBox").css("opacity",0),Fai.top._openOnlineService=!1,Fai.top._onlineServiceJson.open=!1):(jm("#webCustomerServiceBox").css("opacity",1),Fai.top._openOnlineService=!0,Fai.top._onlineServiceJson.open=!0),Mobi.allFixWXPA(1),jm("#customerServiceDiv .service").css("width",100/i+"%"),jm("#customerServiceDiv .serviceClass_1").off("click.log").on("click.log",(function(){Mobi.logDog(200171,2)})),jm("#customerServiceDiv .serviceClass_5").off("click.log").on("click.log",(function(){Mobi.logDog(200171,1)})),jm("#customerServiceDiv .serviceClass_-1").off("click.log").on("click.log",(function(){Mobi.logDog(200171,3)}))}}}},Mobi.showMapService=function(t){var e,i,o,n,a;"undefined"==typeof BMap&&Mobi.ing("地图资源未加载完成，请稍后重试"),t?(e=JSON.parse(t),i=e.an,o=e.ad,n=e.c,a=e.a):(e=Fai.top._onlineServiceJson.map,n=e.city,a=e.d_address),Fai.top.Mobi.getPreviewWindow().Mobi.mobiMapModule.bMapSearch("",{},n,a).then((function(t){var r=t.title,s=t.address,l=t.point,c={name:void 0===i||!e.inl&&""==i?r:i,province:n,areaDetail:a,detail:o||s,tel:e.t,other:"",bmp:{x:l.lng,y:l.lat},distance:"0"};Mobi.renderMapOption(c,e)})).catch((function(){Mobi.renderMapOption({name:"新增地址",province:"广州市",areaDetail:"天河路250号",detail:"广州市天河路250号",tel:"",other:"",bmp:{x:113.333394,y:23.139114},distance:"0"},e)}))},Mobi.renderMapOption=function(t,e){var i={content:{}};i.content.isShowTel=e.ts,i.otherInfo={title:LS.js_mobiMapDetailTitle,route:LS.js_mobiMapDetailRoute,call:LS.js_mobiMapDetailCall};var o={manageMode:Fai.top._manageMode,isJumpLink:!0};Mobi.mapDetail.render(t,o,i)},Mobi.closeMapService=function(){Mobi.mobiShowScroll(),jm("#webMapServiceBox").removeClass("showMapService"),jm(window).off("popstate.map")},Mobi.unloadForATag=function(){jm.os.supportsTouch||jm("#g_body").delegate("#customerServiceDiv a","click",(function(){var t,e=this,i=Fai.top._onlineServiceJson;if(e){var o=parseInt(e.getAttribute("id").substring(11)),n=jm(e).attr("href")||"";if(2===parseInt(o)||1===parseInt(o)){if(n.indexOf("tel:")<0&&n.indexOf("triggerServiceNumber")<0&&n.indexOf("sms:")<0)return;if(Fai.top._manageMode){for(var a in i)if(i[a].type==o){t=i[a];break}if(t.baseSetting.jumpCtrl){var r=t.baseSetting.jumpCtrl.jumpType;if(1!=r&&2!=r)return}}return t&&2==parseInt(o)&&""==t.number?(Mobi.alert("请输入接受信息的电话"),Fai.top.Mobi.getPreviewWindow().Mobi.onlineServiceClickCallBack(o,t.typeStr)):t&&1==o&&t.phoneInfo&&""==t.phoneInfo[0].number?(Mobi.alert("请输入电话号码"),Fai.top.Mobi.getPreviewWindow().Mobi.onlineServiceClickCallBack(o,t.typeStr)):Mobi.alert("该功能无法在桌面浏览器中启动"),!1}0==n.indexOf("tel:")&&Mobi.alert("该功能无法在桌面浏览器中启动")}}))},Mobi.triggerServiceNumber=function(t,e){if(jm.os.supportsTouch)if(1==t){var i=-1!=window.navigator.userAgent.indexOf("swan/");"undefined"!=typeof swan&&i?swan.webView.getEnv((function(t){t.smartprogram?swan.makePhoneCall({phoneNumber:e}):window.location.href="tel:"+e})):window.location.href="tel:"+e}else 2==t&&(window.location.href="sms:"+e);else Mobi.alert("该功能无法在桌面浏览器中启动")},Mobi.showPhonesBg=function(){var t=jm(".J_showMorePhone");t.length<1||t.on("click.phone",(function(){Mobi.showJumpPhone()}))},Mobi.showJumpPhone=function(){var t=Fai.top._onlineServiceJson.phone.phoneInfo;if(t&&t.length>=1){var e=document.body.clientHeight,i=document.body.clientWidth,o=document.getElementById("g_web"),n=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div"),l=document.createElement("div");n.id="phoneDiv",a.id="fullbg",r.id="tablesDiv",s.id="scrollTable",n.className="phoneDiv",r.className="tablesDiv",a.className="phoneFullBg",s.className="scrollTable",l.id="iScrollDiv",o.appendChild(n);var c=document.getElementById("phoneDiv");c.appendChild(a),c.appendChild(r),r.appendChild(s);var d=document.getElementById("fullbg"),m=document.getElementById("tablesDiv"),p=document.getElementById("scrollTable");p.appendChild(l);var u=document.getElementById("iScrollDiv");d.style.height=e+"px",d.style.width=i+"px",d.style.position="fixed";for(var f=0;f<t.length;f++){var h=f+1,g=Mobi.encodeHtml(t[f].name),v=t[f].number,b=document.createElement("div");b.id="fullTableDiv"+h,b.className="fullTableDiv",u.appendChild(b),b.innerHTML="<a id='numberHref_"+Fai.top._onlineServiceJson.phone.type+h+"' href='javascript:Mobi.triggerServiceNumber(1, \""+v+"\");'>";var _=c.getElementsByClassName("fullTableDiv")[f].getElementsByTagName("a")[0],j=document.createElement("div");j.id="tableDiv",j.className="tableBox tableDiv",_.appendChild(j);var M=document.createElement("div"),y=document.createElement("div"),w=document.createElement("div"),S=document.createElement("div"),I=document.createElement("div");M.className="phoneName phonebox",M.id="phoneName"+h,y.className="phoneNumber phonebox",y.id="phoneNumber"+h,w.className="phoneOperation phonebox",w.id="phoneOperation"+h,S.id="phoneLine",S.className="phoneLine",I.id="phoneOperImg"+h,I.className="phoneOperImg icon-phoneOperImg",j.appendChild(M),j.appendChild(y),j.appendChild(w),u.appendChild(S),w.appendChild(I);var C=document.getElementById("phoneName"+h),P=document.getElementById("phoneNumber"+h),x=document.createTextNode(g);C.appendChild(x),P.innerHTML=v,jm.os.supportsTouch||(_.onclick=function(){Mobi.alert("该功能无法在桌面浏览器中启动")})}var k=document.createElement("div"),L=document.createElement("div");k.id="pCancle",k.className="pCancle",L.id="phoneCancle",L.className="phoneCancle",m.appendChild(k),k.appendChild(L);var F=document.getElementById("phoneCancle");F.innerHTML=LS.cancel;var T=document.documentElement.clientHeight-F.offsetHeight;p.offsetHeight>T&&(s.style.height=document.documentElement.clientHeight-F.offsetHeight+"px"),Mobi.deviceTypeIsMobi()&&new iScroll("scrollTable"),setTimeout((function(){m.style.cssText="bottom: 0;"}),10),setTimeout((function(){d.style.opacity="0.3"}),10);var A=0,B=jm("#phoneDiv").find(".phoneName");B.forEach((function(t){var e=jm(t).offset();e.width>A&&(A=e.width)})),0!=A&&B.forEach((function(t){jm(t).css("width",A+"px")})),d.onclick=function(){var t=document.getElementById("phoneDiv");m.style.cssText="bottom: -100%",d.style.opacity="0",setTimeout((function(){t.parentNode.removeChild(t)}),100)},F.onclick=function(){var t=document.getElementById("phoneDiv");m.style.cssText="bottom: -100%",d.style.opacity="0",setTimeout((function(){t.parentNode.removeChild(t)}),100)}}},Mobi.showQqBg=function(){var t=jm(".J_showMoreQq");t.length<1||t.on("click.qq",(function(){Mobi.showMoreQQ()}))},Mobi.showMoreQQ=function(){var t=Fai.top._onlineServiceJson.tcInfo||Fai.top._onlineServiceJson.qq.qqInfo;if(t.length>=1){Mobi.mobiHideScroll();var e=document.body.clientHeight,o=document.body.clientWidth,n=document.getElementById("g_web"),a=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div"),l=document.createElement("div");a.id="qqDiv",r.id="fullbg",s.id="tablesDiv",l.id="scrollTable",a.className="qqDiv",s.className="tablesDiv",r.className="qqFullBg",l.className="scrollTable",n.appendChild(a);var c=document.getElementById("qqDiv");c.appendChild(r),c.appendChild(s),s.appendChild(l);var d=document.getElementById("fullbg"),m=document.getElementById("tablesDiv"),p=document.getElementById("scrollTable");d.style.height=e+"px",d.style.width=o+"px",d.style.position="fixed";for(var u=Mobi.isWechat()?"_self":"_blank",f=0;f<t.length;f++){var h=f+1,g=Mobi.encodeHtml(t[f].name),v=t[f].number,b=document.createElement("div");b.id="fullTableDiv"+h,b.className="fullTableDiv",p.appendChild(b),b.innerHTML='\n                                        <a id="numberHref_'.concat(5).concat(h,'" target="').concat(u,'" href="').concat(Mobi.isPC()?i(v):"javascript:Mobi.openQQ(".concat(v,");"),'">\n                                    ');var _=document.getElementById("numberHref_5"+h),j=document.createElement("div");j.id="tableDiv",j.className="tableBox tableDiv",_.appendChild(j);var M=document.createElement("div"),y=document.createElement("div"),w=document.createElement("div"),S=document.createElement("div"),I=document.createElement("div");M.className="qqName qqbox",M.id="qqName"+h,y.className="qqNumber qqbox",y.id="qqNumber"+h,w.className="qqOperation qqbox",w.id="qqOperation"+h,S.id="qqLine",S.className="qqLine",I.id="qqOperImg"+h,I.className="qqOperImg icon-qqOperImg",j.appendChild(M),j.appendChild(y),j.appendChild(w),p.appendChild(S),w.appendChild(I);var C=document.getElementById("qqName"+h),P=document.getElementById("qqNumber"+h),x=document.createTextNode(g);C.appendChild(x),P.innerHTML=v}var k=document.createElement("div"),L=document.createElement("div");k.id="qCancle",k.className="qCancle",L.id="qqCancle",L.className="qqCancle",m.appendChild(k),k.appendChild(L);var F=document.getElementById("qqCancle");F.innerHTML=LS.cancel;var T=document.documentElement.clientHeight-F.offsetHeight;p.offsetHeight>T&&(l.style.height=document.documentElement.clientHeight-F.offsetHeight+"px");var A=0,B=jm("#qqDiv").find(".qqName");B.forEach((function(t){var e=jm(t).offset();e.width>A&&(A=e.width)})),0!=A&&B.forEach((function(t){jm(t).css("width",A+"px")})),setTimeout((function(){m.style.cssText="bottom: 0; "}),10),setTimeout((function(){d.style.opacity="0.3"}),10),d.onclick=function(){var t=document.getElementById("qqDiv");m.style.cssText="bottom: -100%",d.style.opacity="0",Mobi.mobiShowScroll(),setTimeout((function(){t.parentNode.removeChild(t)}),100)},F.onclick=function(){var t=document.getElementById("qqDiv");m.style.cssText="bottom: -100%",d.style.opacity="0",Mobi.mobiShowScroll(),setTimeout((function(){t.parentNode.removeChild(t)}),100)}}},Mobi.bindServiceBtnEvent=function(){var t=jm(".serviceBtn");t.length<1||(t.off("click.ser").on("click.ser",(function(){jm("body").attr("ontouchmove","return false;"),Mobi.createMallServicePanel()})),t.off("mouseover.ser").on("mouseover.ser",(function(){Fai.top._manageMode&&Mobi.addModuleLayer(jm(this).attr("id"),[{text:"编辑客服",display:"text",className:"edit",evalScript:"Mobi.getPreviewWindow().Mobi.setServiceTool();"}],4,!0)})),t.off("mouseout.ser").on("mouseout.ser",(function(){Fai.top._manageMode&&Mobi.removeModuleLayer(jm(this).attr("id"))})))},Mobi.createMallServicePanel=function(){2==Fai.top._mallService||Fai.top._openThemeV3?Mobi.mallServiceList():Mobi.notMallServiceList()},Mobi.mallServiceList=function(){var t,e=Fai.top._serviceList,i=[];if(e.forEach((function(t){1==t.showType&&i.push(t)})),1!=i.length){Mobi.mobiHideScroll();var o,n,a,r,s="<div class='serviceFullBg'></div>",l="",c="",d="";for(s+="<div id='J_serviceListPanel' class='serviceListPanel'>",o=0,n=i.length;o<n;o++)r=(a=i[o]).showType,l=a.classname,"true"==a.isFontIcon?(l=a.classname,d=""):(l="",d="background-image:url("+a.filePath+");"),c=a.color?"color:"+a.color+";":"",r&&(0==a.serviceType?(s+="<div class='serviceItem qqServiceLine'>",s+="<a id='qqServiceItem"+o+"' href='javascript: Mobi.openQQ(\""+a.serviceAccount+"\");'>",s+="<div class='serviceIcon'><span style='"+d+c+";' class=' serviceIconText "+l+"'></span></div>",s+="<div class='serviceName'><span class='serviceNameText'>"+a.showFont+"</span></div>",s+="<div class='serviceNumber'><span class='serviceNumberText'>"+a.serviceAccount+"</span></div>",s+="<div class='operationBox'><div class='operationIcon icon-operation'></div></div>",s+="</a>",s+="</div>"):1==a.serviceType?(s+="<div class='serviceItem weChatServiceLine'>",s+="<a id='weChatServiceItem"+o+"' href='javascript:;' onclick='Mobi.showWeChatService(\""+a.code+"\")'>",s+="<div class='serviceIcon'><span style='"+d+c+"' class=' serviceIconText "+l+"'></span></div>",s+="<div class='serviceName'><span class='serviceNameText'>"+a.showFont+"</span></div>",s+="<div class='serviceNumber'><span class='serviceNumberText'>点击咨询</span></div>",s+="<div class='operationBox'><div class='operationIcon icon-operation'></div></div>",s+="</a>",s+="</div>"):2==a.serviceType?(s+="<div class='serviceItem baiduBridgeServiceLine'>",s+="<a id='baiduBridgeServiceItem"+o+"' href='javascript:;' onclick='Mobi.showBaiduBridge()'>",s+="<div class='serviceIcon'><span style='"+d+c+";' class=' serviceIconText "+l+"'></span></div>",s+="<div class='serviceName'><span class='serviceNameText'>"+a.showFont+"</span></div>",s+="<div class='serviceNumber'><span class='serviceNumberText'>点击咨询</span></div>",s+="<div class='operationBox'><div class='operationIcon icon-operation'></div></div>",s+="</a>",s+="</div>"):(s+="<div class='serviceItem phoneServiceLine'>",s+="<a id='phoneServiceItem"+o+"' href='javascript:Mobi.triggerServiceNumber(1, \""+a.serviceAccount+"\");'>",s+="<div class='serviceIcon'><span style='"+d+c+"' class=' serviceIconText "+l+"'></span></div>",s+="<div class='serviceName'><span class='serviceNameText'>"+a.showFont+"</span></div>",s+="<div class='serviceNumber'><span class='serviceNumberText'>"+a.serviceAccount+"</span></div>",s+="<div class='operationBox'><div class='operationIcon icon-operation'></div></div>",s+="</a>",s+="</div>"));s+="<div id='cancleSer' class='cancleSer'>"+LS.cancel+"</div>",s+="</div>",jm(s).appendTo(jm("body")),jm(".serviceFullBg, .cancleSer").off("click.ser").on("click.ser",(function(){jm(window).off("scroll"),jm(".serviceFullBg").remove(),jm(".serviceSettingEntrance").remove(),jm(".serviceListPanel").remove(),jm("body").removeAttr("ontouchmove"),Mobi.mobiShowScroll(),Fai.top._manageMode&&Mobi.removeEditLayer(jm(".serviceListPanel"))})),jm(".serviceListPanel .qqServiceLine").off("click.log").on("click.log",(function(){Mobi.logDog(200171,1)})),jm(".serviceListPanel .baiduBridgeServiceLine").off("click.log").on("click.log",(function(){Mobi.logDog(200171,3)})),jm(".serviceListPanel .phoneServiceLine").off("click.log").on("click.log",(function(){Mobi.logDog(200171,2)})),Mobi.isPC()&&jm(".phoneServiceLine").off("click.ser").on("click.ser",(function(){Mobi.alert("该功能无法在桌面浏览器中启动！")}))}else if(0==(t=i[0]).serviceType)Mobi.openQQ(t.serviceAccount);else if(1==t.serviceType)Mobi.showWeChatService(t.code);else if(2==t.serviceType)Mobi.showBaiduBridge();else{if(Mobi.isPC())return void Mobi.alert("该功能无法在桌面浏览器中启动！");window.location.href="tel:"+t.serviceAccount}},Mobi.banScroll=function(t){jm(window).scroll((function(){jm(window).scrollTop(t)}))},Mobi.notMallServiceList=function(){var t=Fai.top._onlineServiceJson.phone,e=Fai.top._onlineServiceJson.qq,i=t&&t.phoneInfo&&t.phoneInfo.length>0,o=e&&e.qqInfo&&e.qqInfo.length>0;if(i||o||t.open||e.open){Mobi.mobiHideScroll();var n,a,r,s="<div class='serviceFullBg'></div>",l="",c="",d="";if(s+="<div id='J_serviceListPanel' class='serviceListPanel'>",i&&t.open)for(l=t.baseSetting.classname,2!=t.baseSetting.colIconType?l=t.baseSetting.classname+" icon-phoneServiceIcon":d="background-image:url("+t.baseSetting.iconFilePath+");",c=t.baseSetting.color?"background-color:"+t.baseSetting.color+";":"",n=0,a=t.phoneInfo.length;n<a;n++)s+="<div class='serviceItem phoneServiceLine'>",s+="<a id='phoneServiceItem"+n+"' href='tel:"+(r=t.phoneInfo[n]).number+"'>",s+="<div class='serviceIcon'><span style='"+d+c+"' class='phoneServiceIcon serviceIconText "+l+"'></span></div>",s+="<div class='serviceName'><span class='serviceNameText'>"+r.name+"</span></div>",s+="<div class='serviceNumber'><span class='serviceNumberText'>"+r.number+"</span></div>",s+="<div class='operationBox'><div class='operationIcon icon-operation'></div></div>",s+="</a>",s+="</div>";if(l="",0,l="","",d="",c="",o&&e.open)for(l=e.baseSetting.classname,2!=e.baseSetting.colIconType?l=e.baseSetting.classname+" icon-qqServiceIcon":d="background-image:url("+e.baseSetting.iconFilePath+");",c=e.baseSetting.color?"background-color:"+t.baseSetting.color+";":"",n=0,a=e.qqInfo.length;n<a;n++)s+="<div class='serviceItem qqServiceLine'>",s+="<a id='qqServiceItem"+n+"' href='javascript: Mobi.openQQ(\""+(r=e.qqInfo[n]).number+"\");'>",s+="<div class='serviceIcon'><span style='"+d+c+";' class='qqServiceIcon serviceIconText "+l+"'></span></div>",s+="<div class='serviceName'><span class='serviceNameText'>"+r.name+"</span></div>",s+="<div class='serviceNumber'><span class='serviceNumberText'>"+r.number+"</span></div>",s+="<div class='operationBox'><div class='operationIcon icon-operation'></div></div>",s+="</a>",s+="</div>";s+="<div id='cancleSer' class='cancleSer'>"+LS.cancel+"</div>",s+="</div>",jm(s).appendTo(jm("body")),jm(".serviceFullBg, .cancleSer").off("click.ser").on("click.ser",(function(){jm(window).off("scroll"),jm(".serviceFullBg").remove(),jm(".serviceSettingEntrance").remove(),jm(".serviceListPanel").remove(),Mobi.mobiShowScroll(),jm("body").removeAttr("ontouchmove"),Fai.top._manageMode&&Mobi.removeEditLayer(jm(".serviceListPanel"))})),Mobi.isPC()&&jm(".phoneServiceLine").off("click.ser").on("click.ser",(function(){Mobi.alert("该功能无法在桌面浏览器中启动！")})),jm(".serviceListPanel").mouseover((function(){Fai.top._manageMode&&Mobi.addModuleLayer(jm(this).attr("id"),[{text:"编辑客服",display:"text",className:"edit",evalScript:"Mobi.getPreviewWindow().Mobi.setServiceTool();"}],-1,!0)})),jm(".serviceListPanel").mouseout((function(){Fai.top._manageMode&&Mobi.removeModuleLayer(jm(this).attr("id"))}))}},Mobi.setServiceTool=function(){top.Fai.popupWindowVersionTwo.createPopupWindow({title:"设置客服",frameSrcUrl:"mobiServiceOnline.jsp",width:750,height:600,version:2,closeFunc:function(){jm(".serviceFullBg").remove(),jm(".serviceSettingEntrance").remove(),jm(".serviceListPanel").remove(),jm(window).off("scroll"),Mobi.bindServiceBtnEvent()}}),Mobi.logDog(200166,2)},Mobi.unLoadForWechat=function(){var t=document.querySelector("#customerServiceDiv");if(t){for(var e=t.querySelectorAll("a"),i=!1,o=0,n=e.length;o<n;o++)if(-1!==e[o].href.indexOf("mailto:")){i=!0;break}i&&(t.onclick=function(t){var e=t.target;if(-1!==jm(e).parents("a").attr("href").indexOf("mailto:")&&Mobi.getPreviewWindow().Mobi.isWechat()){var i=function(){r.style.display="none",s.style.display="none",r=null,s=null,a.ontouchmove=null,a=null,l.onclick=null,l=null};t.stopPropagation(),t.preventDefault();var o=window,n=document,a=n.querySelector("body"),r=n.querySelector(".fk-unloadForWechatBg"),s=r?r.querySelector(".fk-unloadForWechat"):null,l=s?s.querySelector(".f-cross"):null,c=o._htmlFontSize/40;a.ontouchmove=function(t){t.preventDefault()},null==r?("<div class='fk-unloadForWechatBg'>","  <div class='fk-unloadForWechat'>","      <div class='f-crossWrap'>","          <div class='f-cross'></div>","      </div>","      <div class='f-tipImgWrap'>","          <div class='f-tipImg'></div>","      </div>","      <p>微信暂不支持发送邮件功能</p>","      <p>请到浏览器打开！</p>","  </div>","</div>",jm("<div class='fk-unloadForWechatBg'>  <div class='fk-unloadForWechat'>      <div class='f-crossWrap'>          <div class='f-cross'></div>      </div>      <div class='f-tipImgWrap'>          <div class='f-tipImg'></div>      </div>      <p>微信暂不支持发送邮件功能</p>      <p>请到浏览器打开！</p>  </div></div>").appendTo(jm("body")),n=document,r=n.querySelector(".fk-unloadForWechatBg"),s=r.querySelector(".fk-unloadForWechat"),l=s.querySelector(".f-cross"),s.querySelector(".f-tipImg").style.transform="scale("+c+", "+c+") ",l.style.transform="scale("+c+", "+c+")",s.style.top=(o.screen.availHeight-s.clientWidth)/2-60+"px",s.style.left=(o.screen.availWidth-s.clientWidth)/2+"px",l.onclick=i):(r.style.display="block",s.style.display="block",l.onclick=i)}})}},Mobi.isOpenBaiduBridge=function(){var t=Fai.top.Mobi.getPreviewWindow()._hmt,e=!1;void 0!==t&&(void 0!==t.id&&(e=!0));return e},Mobi.showBaiduBridge=function(){if(Mobi.isOpenBaiduBridge())Mobi.showBaiduBridgeV2();else if(Fai.top._manageMode){var t=[];Fai.top._oem?t.push("<div id='baiduBridgeTips'>开启该功能需先接入百度商桥 <a href='"+Mobi.getOemViewUrl(589)+"' target='_blank'>接入教程</a></div>"):t.push("<div id='baiduBridgeTips'>开启该功能需先接入百度商桥 <a href='http://"+Fai.top._jzProUrl+"/blog/604' target='_blank'>接入教程</a></div>");var e=Fai.top.Fai.popupWindow({title:"温馨提示",divContent:t,width:374,height:88});Fai.top.Fai.addPopupWindowBtn(e,{id:"save",text:"知道了",extClass:"saveButton",click:function(){Fai.top.Fai.closePopupWindow(e)}})}else Mobi.alert("未接入百度商桥")},Mobi.showBaiduBridgeV2=function(){function t(){setTimeout((function(){jm("body").css("overflow",""),jm("body").attr("ontouchmove",""),jm("html").css("overflow","")}),0)}jm("ins#newBridge").show(),jm("ins#newBridge").find("#nb_icon_wrap").length&&jm("ins#newBridge").find("#nbWebImLightContainer").hide(),jm("ins#newBridge").find("#nb_icon_wrap").hide(),jm("ins#newBridge").find("#nb_nodeboard").hide(),jm("ins#newBridge").off("click","#nb_icon_wrap").on("click","#nb_icon_wrap",(function(){jm("ins#newBridge").find("#nbWebImLightContainer").show()})),jm("ins#newBridge").find("#nbWebImLightContainer").length>0?jm("ins#newBridge").find("#nb_invite_wrap").remove():jm("ins#newBridge").find("#nb_invite_wrap").show(),jm("ins#newBridge").find("#nb_toolbar_wrap").length>0&&!Fai.top._manageMode&&jm("ins#newBridge").find("#nb_toolbar_wrap").hide(),Fai.top.Mobi.getPreviewWindow().jm("#nb_icon_wrap").click(),jm("ins#newBridge").off("click","#nbwlToggle").on("click","#nbwlToggle",(function(){jm("ins#newBridge").hide()})),jm("ins#newBridge").off("click","#nb_nodeboard_close").on("click","#nb_nodeboard_close",(function(){jm("ins#newBridge").hide()})),jm("ins#newBridge").off("click","#sucess_close").on("click","#sucess_close",(function(){jm("ins#newBridge").hide()})),jm("ins#newBridge").off("click",".qiao-webimlite-head-close").on("click",".qiao-webimlite-head-close",t),jm("ins#newBridge").off("click","#nb_invite_cancel").on("click","#nb_invite_cancel",t),jm("ins#newBridge").off("click","#nb_invite_tool").on("click","#nb_invite_tool",t),window.addEventListener("popstate",(function(){t()}),!1)},Mobi.showWeChatService=function(t){if(Fai.top._manageMode&&top.Mobi.checkSaveBar())return!1;var e="";e+="<div class='weChatCodeBg' style='position:absolute;top:0;width:100%;height:100%;z-index:9998;'>",e+="<div class='weChatBg' style='position:absolute;top:0;width:100%;height:100%;background-color:rgba(0,0,0,0.7);'></div>",e+="</div>",e+="<div class='weChatCodePanel' style='top:0;width:100%;z-index: 9999;'>",e+="<div class='weChatBackground' style='z-index:9999;background:#fff;border-radius:0.25rem;width:10.9rem;height:11.9rem;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);transform:translate(-50%,-50%);'></div>",e+="<img class='weChatCode' style='z-index:9999;width:8rem;height:8rem;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);transform:translate(-50%,-50%);margin-top:-0.50rem;' src='"+t+"'>",e+="<span class='weChatCodeFont' style='z-index:9999;width:8rem;height:8rem;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);transform:translate(-50%,-50%);margin-top:7.925rem;font-size:0.65rem;text-align:center;'>"+(Mobi.isWechat()?LS.weChatCodeTip:LS.scanWeChatCodeTip)+"</span>",e+="</div>",jm("#g_web").append(e),jm("html,body").css("overflow","hidden"),jm("html,body").css("height","100%"),jm("#g_web").on("touchmove",(function(t){t.preventDefault()})),jm("#g_web").find(".weChatCodeBg, .weChatCodeFont").click((function(){jm("#g_web").find(".weChatCodeBg").hide(),jm("#g_web").find(".weChatCodePanel").hide(),jm("html,body").css("overflow",""),jm("#g_web").off("touchmove")}))},Mobi.showShare=function(t){var e=Fai.top.all_oks_LinkUrl,i=Fai.top._onlineServiceJson.oneKeySharing.shareLinkList,o=[];e.forEach((function(t){-1!=i.indexOf(t.icon)&&o.push(t)}));var n={shareLinkList:JSON.stringify(o),fromOks:!0},a={triggerId:"oneKeySharing",pageBg:!0,pageHtml:Mobi.sharePage(n),direction:"bottom",callback:function(){Mobi.showCommSharePanel("shareListShowSwipe2","page",t)},closeWebPage:"#shareListPanelBg2"};Fai.top._oneKeySharingChanged&&(a.redo=!0),null!=t&&""!=t&&(a.redo=!0),Mobi.showPanel(a)},Mobi.openQQ=function(t){if(Fai.top._manageMode)Fai.top.Fai.ing("管理态不支持跳转外部链接，请通过“预览”进行访问",!0);else{var e=i(t);window.location.href=e}}},137:function(t,e){Mobi.initLocater=function(){var t=jm("#multiLanguageCtrl ");if(!t)return!1;var e=jm("#lanSelect .lanContainer").find("div[currentlan]"),i=1===e.length?jm(e[0]).text():jm(e[1]).text(),o=1===e.length?jm(e[0]).attr("currentlan"):jm(e[1]).attr("currentlan");e.hide(),jm(t).addClass("Icon"+o),jm("#lanSelected").addClass("Icon"+o),t.find(".lanTitle").eq(0).text(i),jm("#lanSelected").find(".lanTitle").eq(0).text(i),jm(".lanItem ").click((function(t){jm("#lanSelect").length<1||0==parseInt(jm("#lanSelect").height())||(t.stopPropagation(),Fai.top._manageMode||(document.location.href=jm(this).attr("value")))})),jm(document).unbind("click").bind("click",(function(t){var e=t.target||t.srcElement;"multiLanguageCtrl"!==e.id&&(0==jm(e).closest("#lanSelect").length&&Mobi.closeLanSelect(),navigator.userAgent.toLowerCase().indexOf("sogoumobilebrowser")>-1||t.stopPropagation())})),jm("#lanSelect .lanContainer").height(0);var n=Mobi.getUrlParam(Mobi.getPreviewWindow().location.href,"returnUrl");n||(n=Mobi.getPreviewWindow().location.pathname+Mobi.getPreviewWindow().location.search),n=jm.encodeUrl(n);var a=jm("#topBarMemberSignup").attr("href");jm("#topBarMemberSignup").attr("href",a+n);var r=jm("#topBarMemberName").attr("href");jm("#topBarMemberName").attr("href",r+n)},Mobi.languageCtrl=function(){var t=function(t){return parseInt(jm("#lanSelect").height())>0?Mobi.closeLanSelect():(Fai.top._manageMode&&Mobi.removeAllEditLayer(),Mobi.openLanSelect()),t.stopPropagation(),!1};Fai.top._manageMode?setTimeout((function(){$(Mobi.getPreviewObject("multiLanguageCtrl")).unbind("click").bind("click",t),$(Mobi.getPreviewObject("lanSelected")).unbind("click").bind("click",t)}),2e3):(jm("#multiLanguageCtrl").unbind("click").bind("click",t),jm("#lanSelected").unbind("click").bind("click",t))},Mobi.closeLanSelect=function(){jm("#lanSelect").length<1||0==parseInt(jm("#lanSelect").height())||(jm("#bgm_icon").length>0&&jm("#bgm_icon").hasClass("bgm_rightUp")&&jm("#bgm_icon").css("visibility","visible"),jm("#lanSelect").height(0),jm("#lanSelect").css("opacity",.3),jm("#lanSelect .lanContainer").height(0),Fai.top._manageMode&&jm("#lanFixed").remove())},Mobi.openLanSelect=function(){if(!(jm("#lanSelect").length<1||parseInt(jm("#lanSelect").height())>0)){jm("#bgm_icon").length>0&&jm("#bgm_icon").hasClass("bgm_rightUp")&&jm("#bgm_icon").css("visibility","hidden"),jm("#lanSelect .lanContainer").height("");var t=parseFloat(jm("#lanSelected").height())+parseFloat(jm("#lanSelect .lanContainer").height()),e=jm(".multiLanguageCtrl ").css("margin-top");t+=e=e.indexOf("px")>0?parseFloat(e.substr(0,e.length-2)):parseFloat(e),jm("#lanSelect").height(t+"px"),jm("#lanSelect").css("opacity",1),Fai.top._manageMode&&jm("#webMultilingualArea").append("<div id='lanFixed' class='lanFixed'></div>")}},Mobi.removeLanSelectFlag=function(){jm("#lanSelect").removeClass("lanDisabled")},Mobi.addLanSelectFlag=function(){jm("#lanSelect").addClass("lanDisabled")},Mobi.initFooterLanguageEvent=function(){if(!(Fai.top.templateFrameId<2e3||Fai.top.templateFrameId>=3e3)){var t=jm("#footer"),e=t.find(".languageVis"),i=t.find(".languageFullBg"),o=t.find(".languageListPanel");1==t.find(".langItem").length&&t.find(".footLanguageItem").hide(),e.off("click.lang").on("click.lang",(function(){i.show(),o.addClass("langPanelUp")})),i.off("click.lang").on("click.lang",(function(){jm(this).hide(),o.removeClass("langPanelUp")}));var n=t.find(".langItem[currentlan='"+Fai.top._lcid+"']").text();t.find(".languageVis a").eq(0).text(2052==Fai.top._lcid?"中文版":n),Fai.top._manageMode?$(".langItem").unbind("click").bind("click",(function(){var t=Fai.top.document.location.href.split("/")[2],e=$(this).attr("value");-1!=e.indexOf("/h-index.html")?(e=e.split("/h-index.html")[0],Fai.top.document.location.href="//"+t+e+"/manage/mobiDesign.jsp"):Fai.top.document.location.href="//"+t+e+"manage/mobiDesign.jsp"})):jm(".langItem").click((function(t){t.stopPropagation(),document.location.href=jm(this).attr("value")}))}},Mobi.initFooterStyle=function(t){var e=jm("#footer"),i=t.rt.c,o=t.rt.s,n=e.find(".technicalSupport"),a=e.find(".footerMenu"),r=n.find("a"),s=n.eq(1).find(".footerSep"),l=t.gt.c,c=t.gt.s;0==t.fb.y?Mobi.removeCtrlStyleCssList("fixedAreaBoxStyle","",[{cls:"#footer",key:"background"}]):2==t.fb.y?Mobi.refreshFooterBg(t):Mobi.setCtrlStyleCssList("fixedAreaBoxStyle","",[{cls:"#footer",key:"background",value:"none"}]),0==t.rt.y?n.css({color:"#999",fontSize:"0.6rem"}):n.css({color:i,fontSize:o+"px"}),0==t.gt.y?(s.css({color:"#999",fontSize:"0.6rem"}),r.css({color:"#999",fontSize:"0.6rem"})):(s.css({color:l,fontSize:c+"px"}),r.css({color:l,fontSize:c+"px"}),a.find("a").css({color:l,fontSize:c+"px"}))},Mobi.refreshFooterBg=function(t){var e=t.fb,i={repeat:e.r,color:e.c,picScale:e.ps,imgPath:e.p,type:e.y},o="";if(1==i.type)o="none",Util.setAdvanceStyleList([{cls:".navbarV3",key:"background",value:o}]);else if(2==i.type){null!=i.color&&void 0!==i.color||(i.color="#000");var n=i.color;o="";var a=i.imgPath;if(a)if(o+="url("+a+") ",0==i.picScale)switch(i.repeat){case 3:o+="repeat center";break;case 5:o+="center top /100% repeat";break;case 11:o+="repeat-x top";break;case 1:o+="repeat-x center";break;case 12:o+="repeat-x bottom";break;case 21:o+="repeat-y left";break;case 2:o+="repeat-y center";break;case 22:o+="repeat-y right"}else if(1==i.picScale)switch(o+="no-repeat ",i.repeat){case 13:o+="left top";break;case 8:o+="center top";break;case 14:o+="right top";break;case 6:o+="center left";break;case 0:o+="center center";break;case 7:o+="center right";break;case 15:o+="bottom left";break;case 9:o+="bottom center";break;case 16:o+="bottom right"}else 2==i.picScale?o+="no-repeat center /cover":3==i.picScale?o+="no-repeat center top /100% 100%":4==i.picScale&&(o+="no-repeat center /contain");n.indexOf("linear-gradient")>=0&&a?o+=","+n:o+=" "+n,jm("#footer").css("background",o)}},Mobi.setFooterBg=function(t,e){var i=e,o="",n=!1,a=jm("#footer");4==i.fb.r?(o="100% 100%",n=!0):5==i.fb.r&&(o="100%",n=!0),a.css("background",t),n&&a.css("background-size",o)},Mobi.languageCtrlV3=function(){var t=jm("#languageSelect");function e(e){var o,n;if(!(t.find(".lanItem").length<1))return parseInt(jm("#languageSelect").height())>0?i():(Fai.top._manageMode&&Mobi.removeAllEditLayer(),o=parseFloat(t.find(".lanContainer").height()),n=jm("#languageSelect .lanContainer").find("div[currentlan]"),t.height(o+"px"),t.css("background","rgba(255,255,255,0.9)").css("overflow","unset"),n.addClass("current")),e.stopPropagation(),!1}function i(){t.height(0),t.css("background","rgba(255,255,255,0)").css("overflow","hidden")}Fai.top._manageMode?setTimeout((function(){$(Mobi.getPreviewObject("languaSwitch")).unbind("click").bind("click",e)}),2e3):jm("#languaSwitch").unbind("click").bind("click",e),t.find(".lanItem").length>0&&(t.find(".lanItem").unbind("click").bind("click",(function(t){jm("#languageSelect").length<1||0==parseInt(jm("#languageSelect").height())||(t.stopPropagation(),Fai.top._manageMode||(document.location.href=jm(this).attr("value")),jm(this).addClass("current"))})).unbind("mouseover").bind("mouseover",(function(){jm("#languageSelect").length<1||0==parseInt(jm("#languageSelect").height())||t.find(".lanItem").removeClass("current")})),jm("body").unbind("click").bind("click",(function(t){"languageSelect"!==(t.target||t.srcElement).id&&(i(),navigator.userAgent.toLowerCase().indexOf("sogoumobilebrowser")>-1||t.stopPropagation())})))}},138:function(module,exports,__webpack_require__){(function(module){function ownKeys(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(i),!0).forEach((function(e){_defineProperty(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function _defineProperty(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){throw t})),f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return r=t.done,t},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){s=!0,a=t})),f:function(){try{r||null==i.return||i.return()}finally{if(s)throw a}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function asyncGeneratorStep(t,e,i,o,n,a,r){try{var s=t[a](r),l=s.value}catch(t){return void i(t)}s.done?e(l):Promise.resolve(l).then(o,n)}function _asyncToGenerator(t){return function(){var e=this,i=arguments;return new Promise((function(o,n){var a=t.apply(e,i);function r(t){asyncGeneratorStep(a,o,n,r,s,"next",t)}function s(t){asyncGeneratorStep(a,o,n,r,s,"throw",t)}r(void 0)}))}}var FUNC;Mobi.decrease=function(){var t=parseInt(jm("#productNum").val());isNaN(t)&&(t=1),t>99999998&&(t=99999998),t<0&&(t=0),t+1>1&&jm("#g_decrease").removeClass("g_opacity50"),jm("#productNum").val(t+1)},Mobi.increase=function(){var t=parseInt(jm("#productNum").val());isNaN(t)&&(t=1),t<2&&(t=2),t-1==1&&jm("#g_decrease").addClass("g_opacity50"),jm("#productNum").val(t-1)},Mobi.decrease_pt=function(){var t=parseInt(jm("#productNum_pt").val());isNaN(t)&&(t=1),t>99999998&&(t=99999998),t<0&&(t=0),t+1>1&&jm("#g_decrease_pt").removeClass("g_opacity50"),jm("#productNum_pt").val(t+1)},Mobi.increase_pt=function(){var t=parseInt(jm("#productNum_pt").val());isNaN(t)&&(t=1),t<2&&(t=2),t-1==1&&jm("#g_decrease_pt").addClass("g_opacity50"),jm("#productNum_pt").val(t-1)},Mobi.decrease_im=function(){var t=parseInt(jm("#productNum_im").val());isNaN(t)&&(t=1),t>99999998&&(t=99999998),t<0&&(t=0),t+1>1&&jm("#g_decrease_im").removeClass("g_opacity50"),jm("#productNum_im").val(t+1)},Mobi.increase_im=function(){var t=parseInt(jm("#productNum_im").val());isNaN(t)&&(t=1),t<2&&(t=2),t-1==1&&jm("#g_decrease_im").addClass("g_opacity50"),jm("#productNum_im").val(t-1)},Mobi.decrease2=function(t,e){e=e||"";var i=parseInt(jm("#productMallOptionPanel"+t+" #productNum"+e).val());isNaN(i)&&(i=1),i>99999998&&(Mobi.ing("数量超出范围~",-1),i=99999998),i<0&&(i=0),i+1>1&&jm("#productMallOptionPanel"+t+" #g_decrease"+e).removeClass("g_opacity50"),jm("#productMallOptionPanel"+t+" #productNum"+e).val(i+1)},Mobi.increase2=function(t,e){e=e||"";var i=parseInt(jm("#productMallOptionPanel"+t+" #productNum"+e).val());isNaN(i)&&(i=1),i<2&&(Mobi.ing("数量低于范围~",-1),i=2),i-1==1&&jm("#productMallOptionPanel"+t+" #g_decrease"+e).addClass("g_opacity50"),jm("#productMallOptionPanel"+t+" #productNum"+e).val(i-1)},Mobi.removeMallTIps=function(){jm("#mallBuyTips").remove(),jm(".productDetailClose").each((function(){jm(this).click()})),document.getElementById("webLoading").style.display="none"},Mobi.MallAjaxErrno={ok:0,error:1,manager:2,login:3,idNotExist:4,orderSettle:5,noMall:6,toProductDetail:7,orderNotExist:8,networkError:9,outOfMallAmount:10,mallAmountZero:11,mallOptionStop:12,OutOfAllowAmount:13,notAdded:14,payDomainError:15,couponNotFound:16,couponUnavail:17,couponOverTime:18,authMemberNotAllow:19,maxItemList:20,optionOutOfDate:21,COMBINED_PURCHASE_STOCK_ZERO:22,COMBINED_PURCHASE_INVALID:23,secKillNotOpen:-809,secKillCanNotJoinAgain:-801,secKillFrequencyAddImme:-811,INTRA_CITY_SHIP_MIN_PRICE_NOT_ENOUGH:-1100,INTRA_CITY_SHIP_CLOSE:-1101,INTRA_CITY_DISTANCE_ERR:-1102,INTRA_CITY_TIME_NOT_OPEN:-1104,INTRA_CITY_TIME_ARGS_ERR:-1105,INTRA_CITY_TIME_INVALID:-1106},Mobi.currencyAbbrEnum=["_","RMB","HK","USD","EUR","NT","GBP","JPY"],FUNC=Mobi,jm,FUNC.isIntraCityAjaxError=function(t){return[Mobi.MallAjaxErrno.INTRA_CITY_SHIP_MIN_PRICE_NOT_ENOUGH,Mobi.MallAjaxErrno.INTRA_CITY_SHIP_CLOSE,Mobi.MallAjaxErrno.INTRA_CITY_DISTANCE_ERR,Mobi.MallAjaxErrno.INTRA_CITY_TIME_NOT_OPEN,Mobi.MallAjaxErrno.INTRA_CITY_TIME_ARGS_ERR,Mobi.MallAjaxErrno.INTRA_CITY_TIME_INVALID].includes(t)},FUNC.returnIntraCityShipErrorMsg=function(t){switch(t){case Mobi.MallAjaxErrno.INTRA_CITY_SHIP_CLOSE:var e=Fai.top._intraCityShipConf.cn||"同城配送";n("".concat(e,"服务已暂停，暂时无法提交订单。"));break;case Mobi.MallAjaxErrno.INTRA_CITY_SHIP_MIN_PRICE_NOT_ENOUGH:var i=Fai.top._currencyVal,o=Fai.top._intraCityShipConf.spd.gsp.mpfd;n("商品总额需满".concat(i).concat(o,"才能起送"));break;case Mobi.MallAjaxErrno.INTRA_CITY_DISTANCE_ERR:n("配送地址超出商家配送范围，请重新选择再提交订单。");break;case Mobi.MallAjaxErrno.INTRA_CITY_TIME_NOT_OPEN:e=Fai.top._intraCityShipConf.cn||"同城配送",n("".concat(e,"服务已暂停，暂时无法选择。"));break;case Mobi.mallAjaxErrno.INTRA_CITY_TIME_ARGS_ERR:case Mobi.mallAjaxErrno.INTRA_CITY_TIME_INVALID:n("当前送达时间已过期，请重新选择");break;default:Mobi.ing(LS.js_systemError)}function n(t){Mobi.ing(t)}},Mobi.returnMallErrorMsgV2=function(t,e,i){var o=t.rt;switch(parseInt(o)){case Mobi.MallAjaxErrno.error:Mobi.ing(LS.mallAjaxErrno_error);break;case Mobi.MallAjaxErrno.manager:1==e?Mobi.showMallTips(LS.mallAjaxErrno_manager,!1):Mobi.showMallTips(LS.addCartAjaxErrno_manager,!1);break;case Mobi.MallAjaxErrno.login:var n=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?returnUrl="+jm.encodeUrl(jm.getUrlRoot(location.href))+"&errno=11";location.href=n;break;case Mobi.MallAjaxErrno.idNotExist:Mobi.ing(LS.mallAjaxErrno_idNotExist);break;case Mobi.MallAjaxErrno.orderSettle:Mobi.ing(LS.mallAjaxErrno_orderSettle);break;case Mobi.MallAjaxErrno.noMall:Mobi.ing(LS.mallAjaxErrno_noMall);break;case Mobi.MallAjaxErrno.orderNotExist:Mobi.ing(LS.mallAjaxErrno_orderNotExist);break;case Mobi.MallAjaxErrno.networkError:Mobi.ing(LS.networkError);break;case Mobi.MallAjaxErrno.outOfMallAmount:i?Mobi.ing("该套餐部分商品已售罄，请联系商家补货"):Mobi.ing(LS.mallAmountOverFlow);break;case Mobi.MallAjaxErrno.mallAmountZero:case-11:i?Mobi.ing("该套餐部分商品已售罄，请联系商家补货"):Mobi.ing(LS.mallAmountZero);break;case Mobi.MallAjaxErrno.mallOptionStop:Mobi.ing(LS.mallOptionStop);break;case Mobi.MallAjaxErrno.OutOfAllowAmount:Mobi.ing("超过可购量");break;case Mobi.MallAjaxErrno.notAdded:Mobi.ing(LS.mallProductNotAdded);break;case Mobi.MallAjaxErrno.maxItemList:Mobi.ing("产品类型数量超过300，请减少产品类型后重试。");break;case Mobi.MallAjaxErrno.secKillNotOpen:Mobi.ing("秒杀活动已失效");break;case Mobi.MallAjaxErrno.secKillCanNotJoinAgain:Mobi.ing("不好意思，您已经参与过该秒杀活动");break;case Mobi.MallAjaxErrno.secKillFrequencyAddImme:Mobi.ing("您的操作太频繁了，请稍后再试");break;case Mobi.MallAjaxErrno.COMBINED_PURCHASE_STOCK_ZERO:Mobi.ing("该套餐已售罄，请联系商家补货");break;case Mobi.MallAjaxErrno.COMBINED_PURCHASE_INVALID:Mobi.ing("该套餐已失效");break;case Mobi.MallAjaxErrno.optionOutOfDate:Mobi.ing("该商品购物选项已更新，请重新下单");break;default:Mobi.ing(t.msg||LS.js_systemError)}},Mobi.returnMallErrorMsg=function(t,e,i){if(t=parseInt(t),Mobi.isIntraCityAjaxError(t))Mobi.returnIntraCityShipErrorMsg(t);else switch(parseInt(t)){case Mobi.MallAjaxErrno.error:Mobi.ing(LS.mallAjaxErrno_error);break;case Mobi.MallAjaxErrno.manager:1==e?Mobi.showMallTips(LS.mallAjaxErrno_manager,!1):Mobi.showMallTips(LS.addCartAjaxErrno_manager,!1);break;case Mobi.MallAjaxErrno.login:var o=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?returnUrl="+jm.encodeUrl(jm.getUrlRoot(location.href))+"&errno=11";location.href=o;break;case Mobi.MallAjaxErrno.idNotExist:Mobi.ing(LS.mallAjaxErrno_idNotExist);break;case Mobi.MallAjaxErrno.orderSettle:Mobi.ing(LS.mallAjaxErrno_orderSettle);break;case Mobi.MallAjaxErrno.noMall:Mobi.ing(LS.mallAjaxErrno_noMall);break;case Mobi.MallAjaxErrno.orderNotExist:Mobi.ing(LS.mallAjaxErrno_orderNotExist);break;case Mobi.MallAjaxErrno.networkError:Mobi.ing(LS.networkError);break;case Mobi.MallAjaxErrno.outOfMallAmount:i?Mobi.ing("该套餐部分商品已售罄，请联系商家补货"):Mobi.ing(LS.mallAmountOverFlow);break;case Mobi.MallAjaxErrno.mallAmountZero:case-11:i?Mobi.ing("该套餐部分商品已售罄，请联系商家补货"):Mobi.ing(LS.mallAmountZero);break;case Mobi.MallAjaxErrno.mallOptionStop:Mobi.ing(LS.mallOptionStop);break;case Mobi.MallAjaxErrno.OutOfAllowAmount:Mobi.ing("超过可购量");break;case Mobi.MallAjaxErrno.notAdded:Mobi.ing(LS.mallProductNotAdded);break;case Mobi.MallAjaxErrno.maxItemList:Mobi.ing("产品类型数量超过300，请减少产品类型后重试。");break;case Mobi.MallAjaxErrno.secKillNotOpen:Mobi.ing("秒杀活动已失效");break;case Mobi.MallAjaxErrno.secKillCanNotJoinAgain:Mobi.ing("不好意思，您已经参与过该秒杀活动");break;case Mobi.MallAjaxErrno.secKillFrequencyAddImme:Mobi.ing("您的操作太频繁了，请稍后再试");break;case Mobi.MallAjaxErrno.COMBINED_PURCHASE_STOCK_ZERO:Mobi.ing("该套餐已售罄，请联系商家补货");break;case Mobi.MallAjaxErrno.COMBINED_PURCHASE_INVALID:Mobi.ing("该套餐已失效");break;case Mobi.MallAjaxErrno.optionOutOfDate:Mobi.ing("该商品购物选项已更新，请重新下单");break;default:Mobi.ing(LS.js_systemError)}},Mobi.initOptionsStr=function(t,e){"number"!=typeof e&&(e=""),Mobi.optionsStr["oldOptionsStr"+e]=t},Mobi.optionsStr={},Mobi.mallBuying={},Mobi.mallBuy=function(t,e,i,o,n,a,r){var s=(r=r||{}).isGroupBuy||!1,l=r.groupBuyId||0,c=r.groupBuyDetailId||0,d=r.isSecKill||0,m=d&&r.secKillId||0,p=r.isIntegralMall||!1,u=r.integralMallId||0,f=r.isEarnestSale||!1,h=r.earnestSaleId||0,g=r.isCpOrder||!1,v=r.combinedPurchaseId||0,b=r.communityGroupId||0,_=r.pdInfoList||[],j=r.hideAddCartTips||!1,M=r.fromCommunityGroup||!1,y=r.isReselect||!1,w=r.reelectItemId||-1,S=r.cb||0;g?void 0===Mobi.mallBuying["cp"+v]&&(Mobi.mallBuying["cp"+v]=!1):void 0===Mobi.mallBuying[t]&&(Mobi.mallBuying[t]=!1);var I=!1;if(jm.each(Mobi.mallBuying,(function(t,e){if(e)return I=!0,!1})),!I){g?Mobi.mallBuying["cp"+v]=!0:Mobi.mallBuying[t]=!0;var C="";s&&jm(".J_productNumberContent_pt").length>0&&"none"!=jm(".J_productNumberContent_pt").css("display")&&(C="_pt"),p&&jm(".J_productNumberContent_im").length>0&&"none"!=jm(".J_productNumberContent_im").css("display")&&(C="_im"),jm("#productNum"+C).change();var P="id="+t+"&fromDetail=true",x=[],k=jm(".J-op"),L=0,F=!0;if(g)P="combinedPurchaseId="+v+"&isCpOrder=true";else{1==i&&(k=jm("#productMallOptionPanel"+t+"[moduleId='"+o+"'] .J-op"));var T=!1;if(n&&!jm.isEmptyObject(n))P+="&optionList="+jm.encodeUrl(jm.toJSON(n));else{jm(k).each((function(t){if(!T){var e=jm(this),i=e.attr("option_name"),o=e.attr("data"),n=e.attr("type"),a=e.attr("option_data");if("true"===e.attr("isTime")){var r=Mobi.priceCalendar.getSelected();if(null==r||""===r||void 0===r)return Mobi.ing(jm.format(LS.mallCartChoiceItemError,jm.encodeHtml(i))),T=!0,F=!1,!1;(s={}).name=o,s.value=r,null!=n&&(s.name=o.replace(/^opIndept/,""),s.type=parseInt(n)),x.push(s),T=!1}else{if(!a)return Mobi.ing(jm.format(LS.mallCartChoiceItemError,jm.encodeHtml(i))),T=!0,F=!1,!1;var s;(s={}).name=o,s.value=parseInt(a),s.prop=i,s.selected=jm(".isSelected")[t].innerText,null!=n&&(s.name=o.replace(/^opIndept/,""),s.type=parseInt(n)),x.push(s),T=!1}}}));var A="oldOptionsStr";if(1==i&&(A+=t),"null"!=Mobi.optionsStr[A]&&Mobi.optionsStr[A]){for(var B=Mobi.optionsStr[A].split("_"),D=[],O=0;O<B.length;O++)if("timeOption"===B[O])for(var N=0;N<x.length;N++)5!=x[N].type&&17!=x[N].type||D.push(x[N]);else for(var E=0;E<x.length;E++)x[E].name==B[O]&&D.push(x[E]);x=D}if(!F)return Mobi.mallBuying[t]=!1,!1;x.length>0&&(P+="&optionList="+jm.encodeUrl(jm.toJSON(x)))}var R=jm("#productNum"+C);0!=jm("#productMallOptionPanel"+t+" #productNum"+C).length&&(R=jm("#productMallOptionPanel"+t+" #productNum"+C));var U=R.val();L=1;jm.isInteger(U)&&(L=parseInt(U)),L<1?L=1:L>9999999&&(L=9999999),R.val(L),a&&(L=a),P+="&amount="+L}var J,H="addWafCk_addCartItem";if(M)return Mobi.mallBuying["cp"+v]=!1,Mobi.mallBuying[t]=!1,Mobi.removeMallTIps(),void(S&&S(x,L));y&&(P+="&isReselect=true&itemId="+w);H="addWafCk_addCartItem";if(1===e){var W={pid:t,amount:L,optList:jm.toJSON(n),isGroupBuy:s,groupBuyId:l,secKillId:m,isIntegralMall:p,integralMallId:u,isEarnestSale:f,earnestSaleId:h,pdInfoList:_,isCpOrder:g,combinedPurchaseId:v,communityGroupId:b};null!=W.optList&&0!=W.optList.length&&W.optList&&"null"!=W.optList||(W.optList=jm.toJSON(x)),J=W,H="addWafCk_addIme",P+="&codata="+jm.encodeUrl(jm.toJSON(W))}1==e?_asyncToGenerator(regeneratorRuntime.mark((function i(){var o,n,a,c,b,M,y,w,I;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o={active:0,marketingType:1,marketingId:2,marketingDetailId:3},n={isGroupBuy:[s,Mobi.MarketingType.GROUP_BUY,l,r.groupBuyDetailId],isIntegralMall:[p,Mobi.MarketingType.INTEGRAL_MALL,u,0],isEarnestSale:[f,Mobi.MarketingType.EARNEST_SALE,h,0],isCpOrder:[g,Mobi.MarketingType.COMBINED_PURCHASE,v,0],isSecKill:[d,Mobi.MarketingType.SEC_KILL,m,0]},a=0,c=0,b=0,Object.keys(n).some((function(t){var e=n[t];if(e[o.active])return a=e[o.marketingType],c=e[o.marketingId],b=e[o.marketingDetailId],!0})),i.prev=4,M="[]",J&&J.optList&&(M=J.optList),y={fromDetail:!0,productId:t,amount:L,optionList:JSON.parse(M)||[],pdInfoList:_,marketingType:a,marketingId:c,marketingDetailId:b},i.next=10,Mobi.Ajax.addImmePreOrder(y);case 10:w=i.sent,(I=w).success?(1===e?("",s?Mobi.logDog(200479,0):d||p||f&&Mobi.logDog(201085,1),location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"mstl.jsp?preOrderId=".concat(I.preOrderId)):j?Mobi.removeMallTIps():Mobi.showMallTips(LS.addToMallCatSuccess,!0),Mobi.refreshMallCartNum(),S&&S(),Mobi.mallBuying["cp"+v]=!1,Mobi.mallBuying[t]=!1):V(I,!0),i.next=19;break;case 15:i.prev=15,i.t0=i.catch(4),console.log("e",i.t0),q();case 19:case"end":return i.stop()}}),i,null,[[4,15]])})))():jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd="+H,data:P,error:function(){q()},success:function(i){var o=jm.parseJSON(i);o.success?function(i){if(1===e){var o="";s?(o+="&isGroupBuy="+s,o+="&groupBuyId="+l,o+="&groupBuyDetailId="+c,Mobi.logDog(200479,0)):d?o+="&secKillId="+m:p?(o+="&isIntegralMall="+p,o+="&integralMallId="+u):f?(o+="&isEarnestSale="+f,o+="&earnestSaleId="+h,Mobi.logDog(201085,1)):g&&(o+="&isCpOrder="+g,o+="&combinedPurchaseId="+v),window.self!=window.top&&/(iPhone|iPad|iPod|safari)/i.test(navigator.userAgent.toLowerCase())?location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"mstl.jsp?immeData="+jm.encodeUrl(jm.toJSON(W))+o:location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"mstl.jsp?imme"+o}else j?Mobi.removeMallTIps():Mobi.showMallTips(LS.addToMallCatSuccess,!0);Mobi.refreshMallCartNum(),S&&S(),Mobi.mallBuying["cp"+v]=!1,Mobi.mallBuying[t]=!1}():V(o)}})}function V(n){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n.rt==Mobi.MallAjaxErrno.authMemberNotAllow)Mobi.ing(n.data+LS.authLevelBuy),1===e?Mobi.logMonitor(5953,!0):Mobi.logMonitor(5955,!0);else if([Mobi.MallAjaxErrno.login,-503].includes(n.rt)){1===e?Mobi.logMonitor(5953,!0):Mobi.logMonitor(5955,!0);var s={};s.buyType=e,s.productId=t,s.entry=i,s.moduleId=o,s.option=jm.toJSON(x),s.count=L,s.options=r,localStorage.setItem("mallBuyCallBack",jm.toJSON(s));var l=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?returnUrl="+jm.encodeUrl(jm.getUrlRoot(location.href))+"&errno=11";location.href=l}else 1===e?Mobi.logMonitor(5952,!0):Mobi.logMonitor(5954,!0),g&&n.rt==Mobi.MallAjaxErrno.OutOfAllowAmount&&jm("#productBuy").data("max-amount",n.maxAmount||0),a?Mobi.returnMallErrorMsgV2(n,e,g):Mobi.returnMallErrorMsg(n.rt,e,g);Mobi.mallBuying["cp"+v]=!1,Mobi.mallBuying[t]=!1}function q(){Mobi.ing(LS.js_systemError),Mobi.mallBuying[t]=!1,1===e?Mobi.logMonitor(5952,!0):Mobi.logMonitor(5954,!0)}},Mobi.initBuyNumber=function(t,e,i,o){jm(".mall_product").eq(0).css("border-top","1px solid #fff");var n=jm(".itemLine"+t);e==i&&n.find(".icon-minisIcon").addClass("g_opacity50"),e==o&&n.find(".icon-plusIcon").addClass("g_opacity50")},Mobi.ajaxChangeAmount=function(t,e,i){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=setWafCk_setItem&orderId="+e,data:"itemId="+i+"&amount="+t,error:function(){Mobi.ing(LS.mallCartUpdateError)},success:function(e){return(e=jm.parseJSON(e)).success?(Mobi.setAcSaleList(i,t),Mobi.reCtOrderMoney(),!0):(-3==e.rt?Mobi.ing(LS.mallCartUpdateNotFound):-9==e.rt?Mobi.ing(LS.mallCartUpdateStatusError):Mobi.ing(LS.mallCartUpdateError),!1)}})},Mobi.mallCartAmountChange=function(t,e,i,o,n,a,r){var s=jm(".itemLine"+t),l=s.find(".buyNumber"),c=l.val(),d=1;if(jm.isInteger(c)&&(d=parseInt(c)),d<o||d==o?(d=o,s.find(".icon-minisIcon").addClass("g_opacity50"),s.find(".icon-plusIcon").removeClass("g_opacity50")):(d>n||d==n)&&0!=n?(d=n,Mobi.ing(LS.mallAmountOverFlow,!0),s.find(".icon-plusIcon").addClass("g_opacity50"),s.find(".icon-minisIcon").removeClass("g_opacity50")):d>a&&r?(d=a,s.find(".icon-plusIcon").addClass("g_opacity50"),s.find(".icon-minisIcon").removeClass("g_opacity50")):d>9999998&&(d=9999999),!(isNaN(d)||d<=0||d>9999999))return Mobi.ajaxChangeAmount(d,e,i),l.val(d),d>1?s.find(".icon-minisIcon").removeAttr("disabled"):s.find(".icon-minisIcon").attr("disabled","true"),d;Mobi.ing(LS.mallCartAmountError)},Mobi.mallCartAmountPlus=function(t,e,i,o,n,a,r,s){var l=jm(".itemLine"+e),c=l.find(".buyNumber"),d=c.val();if(jm.isInteger(d)&&(d=parseInt(d)+1),d<2?d=1:(d>a||d==a)&&0!=a?(d>a&&Mobi.ing("数量超出范围~",-1),d=a,l.find(".icon-plusIcon").addClass("g_opacity50 "),n!=a&&l.find(".icon-minisIcon").removeClass("g_opacity50")):s&&d>r?(d=r,Mobi.ing(LS.mallAmountOverFlow,!0),l.find(".icon-plusIcon").addClass("g_opacity50 "),n!=r&&l.find(".icon-minisIcon").removeClass("g_opacity50")):d>9999998&&(d=9999999),d>n&&l.find(".icon-minisIcon").removeClass("g_opacity50"),!(isNaN(d)||d<=0||d>9999999)){Mobi.ajaxChangeAmount(d,i,o),c.val(d);var m=LS.pay,p=Mobi.countSelectNum();return 0!=jm(".J_select").length&&jm(".cartSettle").val(m+"("+p+")"),d>1?l.find(".icon-minisIcon").removeAttr("disabled"):l.find(".icon-minisIcon").attr("disabled","true"),d}Mobi.ing(LS.mallCartAmountError)},Mobi.mallCartAmountMinis=function(t,e,i,o,n,a){var r=jm(".itemLine"+e),s=r.find(".buyNumber"),l=s.val();if(jm.isInteger(l)&&(l=parseInt(l)-1),0!=l){if(r.find(".icon-plusIcon").removeClass("g_opacity50"),l<n||l==n?(l<n&&Mobi.ing("数量低于范围~",-1),l=n,r.find(".icon-minisIcon").addClass("g_opacity50"),n!=a&&r.find(".icon-plusIcon").removeClass("g_opacity50")):l<=1?(l=1,r.find(".icon-minisIcon").addClass("g_opacity50")):l>9999998&&(l=9999999),l<a&&r.find(".icon-plusIcon").removeClass("g_opacity50"),!(isNaN(l)||l<=0||l>9999999)){Mobi.ajaxChangeAmount(l,i,o),s.val(l);var c=LS.pay,d=Mobi.countSelectNum();return 0!=jm(".J_select").length&&jm(".cartSettle").val(c+"("+d+")"),l>1?r.find(".icon-minisIcon").removeAttr("disabled"):r.find(".icon-minisIcon").attr("disabled","true"),l}Mobi.ing(LS.mallCartAmountError)}else Mobi.ing("数量低于范围~",-1)},Mobi.acSaleProShowList={},Mobi.initAcSaleList=function(t){Mobi.acSaleProShowList=jm.parseJSON(t)},Mobi.removeAcSaleList=function(t){if(!isNaN(t)){var e=Mobi.acSaleProShowList;if(!(e.length<=0))for(var i=!1,o=0;o<e.length&&0==i;o++){var n=e[o].acList;if(void 0!==n&&null!=n)for(var a=0;a<n.length;a++)if(n[a].id==t){n.splice(a,1),i=!0;break}}}},Mobi.setAcSaleList=function(t,e){if(!isNaN(t)){var i=Mobi.acSaleProShowList;if(!(i.length<=0))for(var o=!1,n=0;n<i.length&&0==o;n++){var a=i[n].acList;if(void 0!==a&&null!=a)for(var r=0;r<a.length;r++)if(a[r].id==t){a[r].amount=e,o=!0;break}}}},Mobi.countItsSaveMoney=function(){var t=0,e=[];return jm(".J_select").each((function(){var i=jm.parseJSON(jm(this).attr("saleInfo"));if(null!=i&&"{}"!=i&&i!={}&&void 0!==i&&null!=i&&Mobi.checkSaleProVal(i)){var o=i.other.ruleData.d,n=i.id;if(2==i.saleType&&"1"==i.other.ruleData.s){var a=jm(this).find(".buyNumber").val()||1,r=jm(this).find(".mall_product").attr("price")||0,s=parseFloat(a)*parseFloat(r),l=0;jm.each(o,(function(t,e){s>=e.m&&(l=e.n)})),t+=l}else if(2==i.saleType&&"2"==i.other.ruleData.s&&jm.inArray(i.id,e)<0){var c=0;e.push(n),jm(".J_select[promotionid='"+n+"']").each((function(){var t=jm(this).find(".buyNumber").val()||1,e=jm(this).find(".mall_product").attr("price")||0,i=parseInt(t)*parseFloat(e);c+=i}));for(var d=0,m=0,p=0;p<o.length;p++){var u=parseFloat(o[p].m),f=parseFloat(o[p].n);u<=0&&(u=0,f=0),c>=u&&u>d&&(d=u,m=f)}t+=m}}})),t},Mobi.checkSaleProVal=function(t){return void 0!==t.other&&void 0!==t.other.ruleData&&void 0!==t.other.ruleData.s&&void 0!==t.other.ruleData.d&&null!=t.other.ruleData.d&&t.other.ruleData.d.length>0},Mobi.countFoldOfSigle=function(t,e,i){for(var o=0,n=0,a=0;a<t.length;a++){var r=t[a],s=r.m,l=r.n;s<=0&&(s=0,l=0),e>=s&&s>o&&(o=s,n=l)}return n>0&&e>=o&&e>=n&&(i+=n),i},Mobi.reCtOrderMoney=function(){var t=jm(".J_select .mall_product"),e=0;t.each((function(){var t=parseFloat(jm(this).attr("price"),2),i=parseInt(jm(this).find(".buyNumber").val());isNaN(i)&&(i=0),e+=t*i}));var i=Mobi.countItsSaveMoney();i=parseFloat(i),0!=e&&(e-=i);var o,n=jm("#count"),a=n.attr("choiceCurrencyVal");o=e<1e11?e.toFixed(2):e<1e12?e.toFixed(1):e.toFixed(0),n.html(isNaN(o)?a+"0.00":a+o),jm(".saleSaveMoney").html(isNaN(i.toFixed(2))?a+"0.00":a+i.toFixed(2))},Mobi.mallCartSmItemDel=function(t,e){if(!(t<0)){var i={content:LS.ARE_YOU_WANT_REMOVE_PROD_IN_CART,textClass:"confirm",callback:function(){Mobi.ing(LS.mallCartUpdating);var i=[],o=jm(".J_noSelect[smid = '"+t+"'],.J_select[smid = '"+t+"'],.invalidItem[smid = '"+t+"']")||[];jm(o).each((function(){var t=parseInt(jm(this).attr("itemid"));i.push(t)})),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=delWafCk_delItem&orderId="+e,data:{itemIds:jm.toJSON(i)},error:function(){Mobi.ing(LS.mallCartUpdateError)},success:function(e){(e=jm.parseJSON(e)).success?(Mobi.ing(LS.mallCartUpdateOk,1),jm(o).each((function(){var t=parseInt(jm(this).attr("itemid"));jm(this).remove(),Mobi.removeAcSaleList(t)})),jm(".mallCart .smInfo[smid = '"+t+"']").remove(),0==jm(".mall_product").length?Fai.top.location.reload():Mobi.reCtOrderMoney()):-3==e.rt?Mobi.ing(LS.mallCartUpdateNotFound):-9==e.rt?Mobi.ing(LS.mallCartUpdateStatusError):Mobi.ing(LS.mallCartUpdateError);var i=LS.pay,n=Mobi.countSelectNum();jm(".cartSettle").val(i+"("+n+")"),Mobi.reCtOrderMoney()}})}};Mobi.prompt(i)}},Mobi.mallCartSmSelectSwitch=function(t){if(!(t<0)){var e=jm(".mallCart .smInfo[smid='"+t+"'] .selectSmItemCheck");if(jm(e).hasClass("faisco-icons-right"))jm(e).removeClass("faisco-icons-right").addClass("faisco-icons-shape11").addClass("g_color g_main_color_v3").css("font-size","1rem"),(jm(".J_noSelect[smid = '"+t+"'],.J_select[smid = '"+t+"']")||[]).each((function(){var t=parseInt(jm(this).attr("itemid"))||0;jm("#selectBtn"+t).hasClass("faisco-icons-right")&&jm("#selectBtn"+t).click()}));else jm(e).removeClass("faisco-icons-shape11").addClass("faisco-icons-right").addClass("g_color g_main_color_v3").css("font-size","0.74rem"),(jm(".J_noSelect[smid = '"+t+"'],.J_select[smid = '"+t+"']")||[]).each((function(){var t=parseInt(jm(this).attr("itemid"))||0;jm("#selectBtn"+t).hasClass("faisco-icons-shape11")&&jm("#selectBtn"+t).click()}))}},Mobi.mallCartItemDel=function(t,e,i){var o={content:LS.ARE_YOU_WANT_REMOVE_PROD_IN_CART,textClass:"confirm",callback:function(){Mobi.ing(LS.mallCartUpdating),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=delWafCk_delItem&orderId="+e,data:"itemIds=["+i+"]",error:function(){Mobi.ing(LS.mallCartUpdateError)},success:function(e){if((e=jm.parseJSON(e)).success){Mobi.ing(LS.mallCartUpdateOk,1);var o=jm(document.getElementsByClassName("itemLine"+t)[0].parentNode.previousSibling),n=jm(".itemLine"+t).parent().attr("smid");jm(".itemLine"+t).parent().remove();var a=jm(".J_noSelect[smid = '"+n+"'],.J_select[smid = '"+n+"']");o.hasClass("smInfo")&&0==a.length?o.remove():o.find(".mobiCartGreyLine").remove(),Mobi.removeAcSaleList(i),0==jm(".mall_product").length?Fai.top.location.reload():(Mobi.reCtOrderMoney(),jm(".mall_product").eq(0).css("border-top","1px solid #fff"))}else-3==e.rt?Mobi.ing(LS.mallCartUpdateNotFound):-9==e.rt?Mobi.ing(LS.mallCartUpdateStatusError):Mobi.ing(LS.mallCartUpdateError);var r=LS.pay,s=Mobi.countSelectNum();jm(".cartSettle").val(r+"("+s+")"),Mobi.reCtOrderMoney()}})}};Mobi.prompt(o)},Mobi.selectInMallCart=function(t){var e=LS.pay,i=!1,o=!1;if(jm("div[id^='selectBtn']").each((function(){var t=jm(this).attr("pdtype");1==t&&jm(this).hasClass("faisco-icons-right")&&(i=!0),0==t&&jm(this).hasClass("faisco-icons-right")&&(o=!0)})),jm("#selectBtn"+t).hasClass("faisco-icons-right")){jm("#selectBtn"+t).removeClass().addClass("faisco-icons-shape11").addClass("g_color g_main_color_v3").css("font-size","1rem"),jm("#selectBtn"+t).parent().parent().removeClass().addClass("J_noSelect"),jm("#selectAllInMallCart").hasClass("faisco-icons-right")&&jm("#selectAllInMallCart").removeClass().addClass("faisco-icons-shape11").addClass("g_color g_main_color_v3").css("font-size","1rem"),0==(a=Mobi.countSelectNum())?jm(".cartSettle").val(e):jm(".cartSettle").val(e+"("+a+")")}else{var n=jm("#selectBtn"+t).attr("pdtype");if(i&&0==n)return void Mobi.ing("实物产品不能与卡密产品一起结算");if(o&&1==n)return void Mobi.ing("卡密产品不能与实物产品一起结算");jm("#selectBtn"+t).removeClass().addClass("faisco-icons-right").addClass("g_color g_main_color_v3").css("font-size","0.74rem"),jm("#selectBtn"+t).parent().parent().removeClass().addClass("J_select"),0==jm(".J_noSelect").length&&0!=jm(".J_select").length&&jm("#selectAllInMallCart").removeClass().addClass("faisco-icons-right").addClass("g_color g_main_color_v3").css("font-size","0.74rem");var a=Mobi.countSelectNum();jm(".cartSettle").val(e+"("+a+")")}Mobi.reCtOrderMoney();var r=jm(".J_noSelect[itemid = '"+t+"'],.J_select[itemid = '"+t+"']")||[];if(r.length>0){var s=parseInt(r.attr("smid"));if(!isNaN(s)){var l=jm(".J_noSelect[smid = '"+s+"'],.J_select[smid = '"+s+"']")||[],c=!0;l.each((function(){var t=jm(this).attr("itemid");jm(this).find("#selectBtn"+t).hasClass("faisco-icons-shape11")&&(c=!1)})),c?jm(".smInfo[smid='"+s+"'] .selectSmItemCheck").removeClass("faisco-icons-shape11").addClass("faisco-icons-right").addClass("g_color g_main_color_v3").css("font-size","0.74rem"):jm(".smInfo[smid='"+s+"'] .selectSmItemCheck").removeClass("faisco-icons-right").addClass("faisco-icons-shape11").addClass("g_color g_main_color_v3").css("font-size","1rem")}}},Mobi.selectAllInMallCart=function(){var t=LS.pay,e="true"==jm("#selectAllInMallCart").attr("hasVpd"),i=jm("div[id^='selectBtn']").length||0;if(jm("#selectAllInMallCart").hasClass("faisco-icons-right"))jm("#selectAllInMallCart").removeClass().addClass("faisco-icons-shape11").addClass("g_color g_main_color_v3").css("font-size","1rem"),jm(".mallCart .selectSmItemCheck").removeClass("faisco-icons-right").addClass("faisco-icons-shape11").addClass("g_color g_main_color_v3").css("font-size","1rem"),jm("div[id^='selectBtn']").each((function(){jm(this).removeClass().addClass("faisco-icons-shape11").addClass("g_color g_main_color_v3").css("font-size","1rem"),jm(this).parent().parent().removeClass().addClass("J_noSelect")})),jm(".cartSettle").val(t);else{var o=0;jm("div[id^='selectBtn']").each((function(){e?1==jm(this).attr("pdtype")?(jm(this).removeClass().addClass("faisco-icons-right").addClass("g_color g_main_color_v3").css("font-size","0.74rem"),jm(this).parent().parent().removeClass().addClass("J_select"),o++):(jm(this).removeClass().addClass("faisco-icons-shape11").addClass("g_color g_main_color_v3").css("font-size","1rem"),jm(this).parent().parent().removeClass().addClass("J_noSelect")):(jm(this).removeClass().addClass("faisco-icons-right").addClass("g_color g_main_color_v3").css("font-size","0.74rem"),jm(this).parent().parent().removeClass().addClass("J_select"),o++)})),o==i&&(jm("#selectAllInMallCart").removeClass().addClass("faisco-icons-right").addClass("g_color g_main_color_v3").css("font-size","0.74rem"),jm(".mallCart .selectSmItemCheck").removeClass("faisco-icons-shape11").addClass("faisco-icons-right").addClass("g_color g_main_color_v3").css("font-size","0.74rem")),e&&o!=i&&Mobi.ing("实物产品不能与卡密产品一起结算");var n=Mobi.countSelectNum();jm(".cartSettle").val(t+"("+n+")")}Mobi.reCtOrderMoney()},Mobi.countSelectNum=function(){var t=0;return jm(".mallCart .J_select").each((function(){t+=parseInt(jm(this).find(".buyNumber").val())})),t},Mobi.showMallTips=function(t,e){if(Fai.top._templateFrameId>=2e3||Fai.top._openThemeV3)null==e&&(e=!0),Mobi.removeMallTIps(),Mobi.ing(t,e);else{document.getElementById("webLoading").style.display="block";var i=Mobi.preprocessUrl({path:"",oldPath:""})+"mcart.jsp",o=document.getElementById("webLoading"),n="<div id='mallBuyTips' class='mallTips'><div class='top wekitBox'><div class='topIcon'></div><div class='topText flex1'>"+t+"</div></div><div class='bottom wekitBox'><div class='left flex1' onclick='Mobi.removeMallTIps();'>"+LS.mallContinueShopping+"</div><a href='"+i+"' class='right flex1'>"+LS.mallToCartCount+"</a></div></div>";o.innerHTML=n}},Mobi.SelfRaisingList=[],Mobi.initSelfRaisingSelect=function(t){Mobi.SelfRaisingList=t,jm.cookie("_selfRaisingMapAuthSetting")&&Mobi.computeSelfRaisingPointAndSort(Mobi.SelfRaisingList,(function(){var t="距您"+Mobi.SelfRaisingList[0].distance+"m";Mobi.SelfRaisingList[0].distance>=1e3&&(t="距您"+Mobi.SelfRaisingList[0].distanceKilometer+"km"),jm("#selfRaisingPoint").attr("_pointid",Mobi.SelfRaisingList[0].id).html(jm.encodeHtml(Mobi.SelfRaisingList[0].name)),jm(".j_selfRaisingPointDistance").html(t).show(),Mobi.SelfRaisingList.forEach((function(t,e){var i=t.distance+"m";t.distance>=1e3&&(i=t.distanceKilometer+"km");var o=jm(".j_selfRaisingPointPanel"+e);o.attr("_pointId",t.id),o.find(".pointName").html(jm.encodeHtml(t.name)),o.find(".pointAddr").html(jm.encodeHtml(t.ais)),o.find(".pointPhoner").html(jm.encodeHtml(t.phone)),o.find(".distance").html(i),o.find(".distanceTipContain").removeClass("noneDistanceTipContain"),o.find(".j_distanceTipContain").attr("_pointId",t.id),0==e?(o.find(".selfRaisingSelect").show(),o.find(".selfRaisingUnSelect").hide()):(o.find(".selfRaisingSelect").hide(),o.find(".selfRaisingUnSelect").show())}))})),jm("#selfRaisingMsg").length>0&&"none"!==jm("#selfRaisingMsg").css("display")&&jm(".earnestSaleshipDays").hide();var e=!1,i={triggerId:"mstlTopTipContain",pageBg:!0,pageHtml:Mobi.createMapAuthSetting(),direction:"bottom",callback:function(){Mobi.logDog(201032,1),jm(".j_mapAuthSettingAccess").click((function(){Mobi.logDog(201032,2),e=!0,jm(".j_mapAuthSettingClose").click(),jm.cookie("_selfRaisingMapAuthSetting",!0,{path:"/",expires:365}),jm("#mstlTopTipContain").hide(),Mobi.initSelfRaisingSelect(t)}))},closeCallBack:function(){e||Mobi.logDog(201032,3),Mobi._tempShowMapAuthSetting||(e||jm("#mstlTopTipContain").show(),Mobi._tempShowMapAuthSetting=!0)},closeWebPage:".j_mapAuthSettingClose"};Mobi.initWebPage(i),jm(".j_distanceTipContain").click((function(t){t.stopPropagation();var e,i={},o=jm(this).attr("_pointId");Mobi.SelfRaisingList.some((function(t){if(t.id==o)return e=t.ais,i={lat:t.pp.lat,lng:t.pp.lng,pt:t.pp.pt||0},!0}));Mobi.openQQMap(e,i,!1)})),jm("#selfRaisingPointInfo").delegate(".selfRaisingPointPanel","click",(function(){var e=jm(".selfRaisingPointName").attr("_pointId"),i=jm(this).attr("_pointId"),o="",n="",a="";if(e!=i){jm("#selfRaisingPointInfo").find(".faisco-icons-right").hide(),jm("#selfRaisingPointInfo").find(".faisco-icons-shape11").show(),jm(this).find(".faisco-icons-right").show(),jm(this).find(".faisco-icons-shape11").hide();for(var r=0;r<t.length;r++)if(t[r].id==i){o=t[r].name,n=t[r].distance,a=t[r].distanceKilometer;break}var s=jm("#selectSelfRaisingPoint");if(s.find(".selfRaisingPointName").attr("_pointId",i).html(jm.encodeHtml(o)),jm.cookie("_selfRaisingMapAuthSetting")){var l="距您"+n+"m";n>=1e3&&(l="距您"+a+"km"),s.find(".j_selfRaisingPointDistance").html(l)}jm("#editPointInfo").removeClass("webPagePanelShow")}}))},Mobi,jm,Mobi.initSelfRaisingTopTip=function(){},function(t,e){jm((function(){t.$Bus=new Vue({})}));t.initShipTabList=function(t){Fai.top.shipTabListVm=new Vue({el:"#propListTab",data:function(){var e=t.defaultShipType,i=0;if(t.tabOpenList.length>0){var o,n=!1,a=_createForOfIteratorHelper(t.tabOpenList);try{for(a.s();!(o=a.n()).done;){var r=o.value;if(r.id===e){i=r.id,n=!0;break}}}catch(t){a.e(t)}finally{a.f()}n||(i=t.tabOpenList[0].id)}return{intraCityShipConf:Fai.top._intraCityShipConf,checkedId:i,shipTabListData:t,order:Fai.top._order,hideTab:Fai.top._order.tmpImmeData&&Fai.top._order.tmpImmeData.isCgOrder}},computed:{bdColor:function(){return this.shipTabListData.bdColor},tabOpenList:function(){return this.shipTabListData.tabOpenList},tabOpenIdList:function(){return this.tabOpenList.map((function(t){return t.id}))},nameCls:function(){return["innerTitle",this.bdColor]},orderOriginPrice:function(){return parseFloat(jm("#cartTotalPrice").attr("totalPrice"))||0},totalPrice:function(){var t=0;return this.order.itemList.forEach((function(e){t+=e.cPrice*e.amount})),t},intraCityPrice:function(){if(this.isOverShipDistance)return 0;var t=this.intraCityShipConf;if(!t||!t.spd)return 0;var e=t.spd.ofs,i=t.spd.fsp;return 1==e&&this.totalPrice>=i?0:1===t.spd.olp?this.ladderPrice:t.spd.gsp.sp},ladderPrice:function(){var t=this.intraCityShipConf.ail||[],e={};t.length>0&&(e=t[0].ma.setting.loc||{});var i=e.pp,o=Fai.top.intraCityShipPanelVm.addrInfo.addr_info.pos,n=Mobi.calculateIntraCityShipDistanceKm(i,o),a=this.intraCityShipConf,r=a.spd.lsp,s=r.dr,l=a.spd.gsp.sp,c=n-s,d=r.id,m=r.isp;return n<=s?l:l+c/d*m},shipPrice:function(){if(1!==this.checkedId)return 2===this.checkedId?0:3===this.checkedId?this.intraCityPrice:0},isOverShipDistance:function(){if(!Fai.top.intraCityShipPanelVm.addrInfo)return!0;var t=Fai.top.intraCityShipPanelVm.addrInfo,e=this.intraCityShipConf.ail||[],i={},o={};e.length>0&&(o=(i=e[0]).ma.setting.loc||{});var n=o.pp,a=t.addr_info.pos;if(!n||!a)return!0;var r=Mobi.calculateIntraCityShipDistanceKm(n,a);this.intraCityShipConf;return r>i.sr.dr}},watch:{checkedId:function(t){1===t&&Mobi.$Bus.$emit("onMallShipPanelShow")}},mounted:function(){var t=this;1===this.checkedId?(Mobi.$Bus.$emit("onMallShipPanelShow"),Vue.nextTick((function(){t.refresh()}))):Vue.nextTick((function(){t.refresh()}))},methods:{genItemCls:function(){return[]},onTabClick:function(t){var e=this;this.checkBeforeClick(t).then((function(){e.changeShipById(t)})).catch((function(t){jm.isFunction(t)?t():console.log("res",t)}))},refresh:function(){this.changeShipById(this.checkedId)},changeShipById:function(t){var e=this;this.resetShipDom(),this.checkedId=t,Mobi.$Bus.$emit("onShipTabChanged",t),Vue.nextTick((function(){1==t||0==t?(Mobi.logDog(9201556,2),e.changeShipToMallShip()):2==t?(Mobi.logDog(9201556,3),e.changeShipToSelfTaking()):3==t&&(Mobi.logDog(9201556,1),e.changeShipToIntraCity()),Mobi.recheckItg(),Mobi.mallStlCalcTotal(),e.calculateFooterPrice()}))},calculateFooterPrice:function(){var t=jm("#mobiMstlFooterPrice");if(t.length){var e=parseFloat(t.data("balanceprice"))||0,i=this.shipPrice||parseFloat(jm("#shipPrice").attr("value"))||0;t.text(Fai.top._choiceCurrencyVal+Mobi.calculate(e,i,0).toFixed(2))}},checkBeforeClick:function(t){var e=this;return new Promise((function(i,o){return e.checkedId===t?o():3===t&&Fai.top.intraCityShipTimePanelVM.isOpenTimeSetting&&Fai.top.intraCityShipTimePanelVM.isTimeOver?o((function(){var t=Fai.top._intraCityShipConf.cn||"同城配送",e="".concat(t,"服务已暂停，暂时无法提交订单。");Mobi.ing(e)})):void i()}))},changeShipToMallShip:function(){var t=jm("#shipTplLine"),e=this.shipPrice||parseFloat(jm("#shipPrice").attr("value"))||0;Fai.top._mstlMerchantProductListVm&&Fai.top._mstlMerchantProductListVm.isMerchantProductExist()&&(e+=Fai.top._mstlMerchantProductListVm.totalShipPrice());var i=this.orderOriginPrice+e;if(i.toFixed(2)+"",jm("#totalValue").text(i),jm(".orderAssign_line").show(),jm("#mstlTopTipContain").hide(),0!=t.length&&t.show(),jm(".f_earnestSale").length>0){var o=Fai.top._choiceCurrencyVal;jm(".earnestSaleshipDays").show();var n=jm(".f_earnestSale").find(".innerBottomContain .second"),a=n.html().split(o)[1];n.text(o+Mobi.calculate(a,this.shipPrice,0)),jm("#totalValue").text(Fai.top._earnestSaleTotalValue)}},changeShipToSelfTaking:function(){var t=jm("#shipTplLine"),e=Mobi.calculate(this.orderOriginPrice,this.shipPrice,1),i=parseFloat(e)||0;if(jm("#totalValue").text(i.toFixed(2)),jm("#selfRaisingMsg").show(),jm.cookie("_selfRaisingMapAuthSetting")||jm("#mstlTopTipContain").show(),0!=t.length&&t.hide(),Mobi._tempShowMapAuthSetting||jm.cookie("_selfRaisingMapAuthSetting")||(jm("#mstlTopTipContain").hide(),Mobi.SelfRaisingList.length>1&&jm("#mstlTopTipContain").click()),jm(".f_earnestSale").length>0){var o=Fai.top._choiceCurrencyVal;jm(".earnestSaleshipDays").hide();var n=jm(".f_earnestSale").find(".innerBottomContain .second"),a=n.html().split(o)[1];n.text(o+Mobi.calculate(a,this.shipPrice,1)),jm("#totalValue").text(Fai.top._earnestSaleTotalValue)}},changeShipToIntraCity:function(){jm("#mstlTopTipContain").hide(),jm(".J_intraCityShipAddr").show();var t=this.orderOriginPrice+this.shipPrice;jm("#totalValue").text(t.toFixed(2))},resetShipDom:function(){jm("#selfRaisingMsg").hide(),jm(".orderAssign_line").hide(),jm(".J_intraCityShipAddr").hide()}},template:'\n\t\t\t\t<div id=\'propListTab\' class=\'propListTab fk_shipTabList\' :checked-id="checkedId" :idList="tabOpenIdList" :count="tabOpenList.length" v-if="tabOpenList.length>1 && !hideTab">\n\t\t\t\t\t<div class=\'outContain fk_shipTabItem J_outContain\' :active="checkedId===item.id" :_mode=\'item.id\' v-for="(item, index) in tabOpenList" @click="onTabClick(item.id)">\n\t\t\t\t\t\t<div :class=\'nameCls\'>{{item.name}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'})}}(Mobi),function(t,e){t.initIntraCityShip=function(t){e((function(){Fai.top.intraCityShipPanelVm=new Vue({el:"#intraCityShipAddr",data:function(){var e=-1;return Fai.top._addrInfoList.forEach((function(t,i){t.isIntraCity&&t.isIntraDefault&&(e=i)})),{visible:!1,shipTimeItem:null,checkedAddrIndex:e,intraCityShipData:t,addrInfoList:Fai.top._addrInfoList,addrPropInfoList:Fai.top._addrPropInfoList,OrderPropTypeDef:Fai.top._OrderPropTypeDef}},computed:{isOpenNameProp:function(){return Mobi.isOpenAddrPropByType(this.OrderPropTypeDef.SYS_NAME)},isOpenMobileProp:function(){return Mobi.isOpenAddrPropByType(this.OrderPropTypeDef.SYS_MOBILE)},shipTimeVisible:function(){return!(1!==Fai.top._intraCityShipConf.ts.ota||intraCityShipTimePanelVM.isTimeOver)},shipTimeText:function(){if(this.shipTimeItem){var t=this.shipTimeItem.timestamp;return Mobi.DateUtil.getDayTextForNow(t)+" "+this.shipTimeItem.text}return"请选择送达时间"},shipTimeValue:function(){},bgColor:function(){return this.intraCityShipData.bgColor},defaultCls:function(){return["fk_intraCityShipAddr_user_phone_label",this.bgColor]},addrInfo:function(){return this.addrInfoList[this.checkedAddrIndex]},isVisitor:function(){return 0===Fai.top.sessionMemberId}},watch:{checkedAddrIndex:function(){Vue.nextTick((function(){Mobi.recheckItg()}))},addrInfo:{deep:!0,handler:function(){Fai.top.shipTabListVm&&(Fai.top.shipTabListVm.refresh(),Vue.nextTick((function(){Mobi.recheckItg()})))}}},beforeMount:function(){var t=3===Fai.top.shipTabListVm.checkedId;this.visible=t},created:function(){Mobi.$Bus.$off("onCheckedIntraCityAddrInfo",this.onCheckedIntraCityAddrInfo).$on("onCheckedIntraCityAddrInfo",this.onCheckedIntraCityAddrInfo),Mobi.$Bus.$off("onVisitorSaveIntraCityAddr",this.onVisitorSaveIntraCityAddr).$on("onVisitorSaveIntraCityAddr",this.onVisitorSaveIntraCityAddr),Mobi.$Bus.$off("onShipTimePanelConfirm",this.onShipTimePanelConfirm).$on("onShipTimePanelConfirm",this.onShipTimePanelConfirm)},methods:{onShipTimePanelConfirm:function(t){this.shipTimeItem=t},onVisitorSaveIntraCityAddr:function(t,e){this.isVisitor&&(this.checkedAddrIndex=e)},onCheckedIntraCityAddrInfo:function(t){this.addrInfoList[t]?this.checkedAddrIndex=t:this.checkedAddrIndex=-1},gotoAddrListPage:function(){this.isVisitor?-1===this.checkedAddrIndex?Mobi.showAddrAddPage():Mobi.showAddrEditPage(this.checkedAddrIndex):Mobi.showAddrListPage()},callShipTimePanel:function(t){Mobi.$Bus.$emit("onShipTimePanelOpen"),t.stopPropagation()}},template:'\n\t\t\t\t\t<div class=\'fk_intraCityShipAddr J_intraCityShipAddr\' id=\'intraCityShipAddr\' v-show="visible">\n\t\t\t\t\t    <div class="fk_intraCityShipAddr_wrap" id="editIntraCityAddr"  @click="gotoAddrListPage">\n\t\t\t\t\t\t\t<div v-if="addrInfo">\n\t\t\t\t\t\t\t\t<div class="fk_intraCityShipAddr_address" v-if="addrInfo">\n\t\t\t\t\t\t\t\t\t<svg role="img" class="jzm-v39 fk_mstl_icon fk_intraCityShipAddr_address_icon">\n\t\t\t\t\t\t\t\t\t  <use xlink:href="#jzm-v39"></use>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<div class="fk_intraCityShipAddr_address_text">\n\t\t\t\t\t\t\t\t\t\t<div class="fk_intraCityShipAddr_address_text_content">{{addrInfo.addr}}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<svg role="img" class="jzm-v2 fk_mstl_icon fk_intraCityShipAddr_user_phone_arrow">\n\t\t\t\t\t\t\t\t\t  <use xlink:href="#jzm-v2"></use>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="fk_intraCityShipAddr_user" v-if="isOpenNameProp || isOpenMobileProp">\n\t\t\t\t\t\t\t\t\t<div class="fk_intraCityShipAddr_user_name" v-if="isOpenNameProp">{{addrInfo.name || \'-\'}}</div>\n\t\t\t\t\t\t\t\t\t<div class="fk_intraCityShipAddr_user_mobile" v-if="isOpenMobileProp">{{addrInfo.mobile}}</div>\n\t\t\t\t\t\t\t\t\t<div class="fk_intraCityShipAddr_user_phone">\n\t\t\t\t\t\t\t\t\t\t\x3c!--<div :class="defaultCls">默认</div>--\x3e\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t\t\t<div class="fk_intraCityShipAddr_address">\n\t\t\t\t\t\t\t\t\t<svg role="img" class="jzm-v39 fk_mstl_icon fk_intraCityShipAddr_address_icon">\n\t\t\t\t\t\t\t\t\t  <use xlink:href="#jzm-v39"></use>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<div class="fk_intraCityShipAddr_address_text">\n\t\t\t\t\t\t\t\t\t\t<div class="fk_intraCityShipAddr_address_text_content">请选择收货人地址</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<svg role="img" class="jzm-v2 fk_mstl_icon fk_intraCityShipAddr_user_phone_arrow">\n\t\t\t\t\t\t\t\t\t  <use xlink:href="#jzm-v2"></use>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class="fk_intraCityShipAddr_shipTime" v-if="shipTimeVisible"  @click="callShipTimePanel">\n\t\t\t\t\t\t\t\t<div class="fk_intraCityShipAddr_icon_label">\n\t\t\t\t\t\t\t\t\t<svg role="img" class="jzm-v40 fk_mstl_icon fk_intraCityShipAddr_shipTime_icon">\n\t\t\t\t\t\t\t\t\t    <use xlink:href="#jzm-v40"></use>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<div class="fk_intraCityShipAddr_shipTime_label">送达时间</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="fk_intraCityShipAddr_shipTime_value">\n\t\t\t\t\t\t\t\t\t<span class="fk_intraCityShipAddr_shipTime_value_text">{{shipTimeText}}</span>\n\t\t\t\t\t\t\t\t\t<svg role="img" class="jzm-v2  fk_mstl_icon fk_intraCityShipAddr_shipTime_value_icon">\n\t\t\t\t\t\t\t\t\t  <use xlink:href="#jzm-v2"></use>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t    <div class=\'shipTopBg\'></div>\n\t\t\t\t\t</div>\n\n\t\t\t\t'})}))},Mobi.getAddrListPageOptions=function(){return{triggerId:"addrListPage",panelId:"editCusInfo",callback:function(){Mobi.fixTouchPenetrate("editCusInfo","addrListPage")},closeWebPage:"#editCusInfo .g_close"}},Mobi.showAddrListPage=function(){var t=Mobi.getAddrListPageOptions();Mobi.showPageWithInit(t),setTimeout((function(){jm("#editCusInfo").css("overflow-y","auto"),jm("#editCusInfo").css("height","100%"),jm("#editCusInfo").addClass("webPagePanelShow")}),400)},Mobi.hideAddrListPage=function(){var t=Mobi.getAddrListPageOptions();Mobi.hidePage(t),e("#g_body").css("overflow-y","")},Mobi.showAddrEditPage=function(t){Mobi.showAddrAddOrEditPage(),Mobi.$Bus.$emit("onAddrEditPageShow",t)},Mobi.showAddrAddPage=function(){Mobi.showAddrAddOrEditPage(),Mobi.$Bus.$emit("onAddrAddPageShow")},Mobi.getAddrAddOrEditOption=function(){return{triggerId:"addrEditPage",panelId:"editAddrInfo",callback:function(){t.fixTouchPenetrate("editAddrInfo","addrEditPage")},closeWebPage:"#editAddrInfo .g_close"}},Mobi.initedAllAddrPos=!1,Mobi.showAddrAddOrEditPage=function(){Mobi.initedAllAddrPos||(site_cityUtil.getAllCityInfo(_lcid),Mobi.initedAllAddrPos=!0);var t=Mobi.getAddrAddOrEditOption();Mobi.showPageWithInit(t),e("#editAddrInfo").hide(),e("#editAddrInfo").removeClass("webPagePanelShow"),e("#editAddrInfo").show(),e("#editAddrInfo").addClass("webPagePanelShow")},Mobi.hideAddrOrEditPage=function(){var t=Mobi.getAddrAddOrEditOption();Mobi.hidePage(t)},Mobi.showPageWithInit=function(t){var i=e("#webPagePanel"+t.panelId),o=e("#webPagePanel"+t.triggerId);o.length||(Mobi.showPanel(t,!0),i=e("#webPagePanel"+t.panelId),o=e("#webPagePanel"+t.triggerId)),i.css("z-index",1e3),o.css("z-index",1e3),o.show(),i.hide(),i.show(),i.addClass("webPagePanelShow"),setTimeout((function(){t.panelId&&e("#"+t.panelId).addClass("webPagePanelShow")}))},Mobi.hidePage=function(t){var i=e("#webPagePanel"+t.panelId);e("#webPagePanel"+t.triggerId).hide(),i.hide(),i.removeClass("webPagePanelShow"),e("#g_body").css("overflow-y",""),t.panelId&&e("#"+t.panelId).removeClass("webPagePanelShow")}}(Mobi,jm),function(t){t.showShipTemplateDetailPage=function(){var e={triggerId:"shipTplLinePage",panelId:"shiptemplatedetailPanel",callback:function(){Mobi.changeShipType(),Mobi.fixTouchPenetrate("shiptemplatedetailPanel","shipTplLinePage")},closeWebPage:"#modifyShipTemplate .g_close",direction:"bottom",pageBg:!0};t.showPageWithInit(e)},t.hideShipTemplateDetailPage=function(){t.hidePage(options)}}(Mobi,jm),function(t,i){jm((function(){Vue.component("com-shiptemplatedetail",{props:{data:Object},data:function(){return this.data},computed:{shipPriceId:function(){return"tmpType_"+this.tmpShipType},headerCls:function(){return["ShipDetailsHeader","webHeaderBg",this.themeV3Bgcolor]}},template:"\n\t\t\t\t<div id=\"shiptemplatedetailPanel\" style=\"display:none;\">\n\t\t\t\t\t<div id='modifyShipTemplate'  class='modifyShipDetails' style='background-color:inherit;'>\n\t\t\t\t\t \t<div class='g_close' style='width:100%;height:100%;'></div>\n\t\t\t\t\t \t<div class=\"headerCls\" style='display:none'>\n\t\t\t\t\t \t\t<span class='title pageTitle'>{{mallStlShipListTitle}}</span></div>\n\t\t\t\t\t \t<div class='profileContent'>\n\t\t\t\t\t\t\t<div class='count_line wekitBox ShipItem' id=''>\n\t\t\t\t\t\t\t\t<div class='left flex1 J_shipName'>{{tmpShipName}}</div>\n\t\t\t\t\t\t \t<div class='left flex1 J_shipPrice' :id='shipPriceId' value='0' :shipType='tmpShipType'>{{choiceCurrencyVal}}0.0</div>\n\t\t\t\t\t\t\t\t<span class='faisco-icons-shape11' style='font-size: 1rem;height: 2.5rem;line-height: 2.5rem;float: right;'></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t \t</div>\n\t\t\t\t\t </div>\n\t\t\t\t</div>\n\t\t\t"}),Vue.component("comp-merchant-total-ship",{props:{data:Object},computed:{merchantTotalShipPrice:function(){return Fai.top._mstlMerchantProductListVm.totalShipPrice()},fColor:function(){return Fai.top._fColor},choiceCurrencyVal:function(){return Fai.top._choiceCurrencyVal},finalPrice:function(){return this.merchantTotalShipPrice+this.selfShipPrice()}},created:function(){Fai.top._totalShipVm=this},mounted:function(){this.$forceUpdate()},methods:{selfShipPrice:function(){return parseFloat(jm("#shipPrice").attr("value"))||0}},template:"\n\t\t\t\t<div class='ship_line'>\n\t\t\t\t\t<div class='count_line wekitBox'>\n\t\t\t\t\t\t<div class='linetitle'>\n\t\t\t\t\t\t\t<span>总配送费</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class='selectship flex1'>\n\x3c!--\t\t\t\t\t\t\t<span  :class=\"fColor\">{{ choiceCurrencyVal + finalPrice }}</span>--\x3e\n\t\t\t\t\t\t\t<fai-price-comp :class=\"fColor\" :currency=\"choiceCurrencyVal\" :number=\"finalPrice\"></fai-price-comp>\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"}),Vue.component("comp-shiptplline",{props:{data:Object},data:function(){var t=Object.assign(this.data,{});return t.addrInfoList=Fai.top._addrInfoList,t.addrPropList=Fai.top._addrPropList,t.checkedAddrIndex=-1,t},computed:{fColor:function(){return Fai.top._fColor},isMerchantsSelfSaleEmpty:function(){return 1===Fai.top.shipTabListVm.checkedId&&Fai.top._mstlMerchantProductListVm.isSelfSaleEmpty()},expressShipPrice:function(){return parseInt(i("#shipPrice").attr("value"))||0},expressAddrInfoList:function(){return this.combineAddrInfoList.filter((function(t){return!t.addrInfo.isIntraCity}))},combineAddrInfoList:function(){return this.addrInfoList.map((function(t,e){return{addrInfo:t,index:e}}))},addrInfo:function(){return Fai.top._addrInfoList[this.checkedAddrIndex]}},watch:{checkedAddrIndex:function(){this.callCalculateShipPrice()}},created:function(){Mobi.$Bus.$off("onCheckedExpressAddrInfo",this.onCheckedExpressAddrInfo),Mobi.$Bus.$on("onCheckedExpressAddrInfo",this.onCheckedExpressAddrInfo),Mobi.$Bus.$off("onVisitorSaveExpressAddr",this.onVisitorSaveExpressAddr),Mobi.$Bus.$on("onVisitorSaveExpressAddr",this.onVisitorSaveExpressAddr),Mobi.$Bus.$off("onMallShipPanelCheckedAddrIndexChanged",this.onMallShipPanelCheckedAddrIndexChanged),Mobi.$Bus.$on("onMallShipPanelCheckedAddrIndexChanged",this.onMallShipPanelCheckedAddrIndexChanged)},methods:{isAddrExist:function(){return Fai.top._addrInfoList[this.checkedAddrIndex]},callCalculateShipPrice:function(){this.addrInfoList[this.checkedAddrIndex]&&Mobi.calculateMallShipTplByAddrInfo(this.addrInfoList[this.checkedAddrIndex])},onMallShipPanelCheckedAddrIndexChanged:function(t){this.checkedAddrIndex=t,this.callCalculateShipPrice()},onCheckedExpressAddrInfo:function(t){this.checkedAddrIndex=t},onVisitorSaveExpressAddr:function(t){this.checkedAddrIndex=t},callShipTemplateDetailPage:function(){Mobi.showShipTemplateDetailPage()}},template:"\n\t\t\t\t<div>\n\t\t\t\t\t<div class='ship_line' id='shipTplLine' @click=\"callShipTemplateDetailPage\" v-if=\"checkedAddrIndex==-1\">\n\t\t\t\t\t\t<div class='count_line wekitBox'>\n\t\t\t\t\t\t\t<div class='linetitle'>\n\t\t\t\t\t\t\t\t<span>{{mallStlShipListTitle}}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='selectship flex1'>\n\t\t\t\t\t\t\t\t<span id='shipValue' :shipType='tmpShipType' provinceCode='' cityCode='' countyCode=''>\n\t\t\t\t\t\t\t\t\t<template v-if=\"isAddrExist()\">{{tmpShipName}}</template>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<span id='shipPrice' :currency='choiceCurrencyVal' value='0'>\n\t\t\t\t\t\t\t\t\t<template v-if=\"isAddrExist()\">\n\t\t\t\t\t\t\t\t\t {{freeShipping}}\n\t\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t </span>\n\t\t\t\t\t\t\t\t<svg role='img' class='jzm-v2 fk_mstl_icon'><use xlink:href='#jzm-v2'></use></svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\n\t\t\t"}),Vue.component("comp-shipdetail",{data:function(){return{shipList:Fai.top._shipList,choiceCurrencyVal:Fai.top._choiceCurrencyVal,shipListData:Fai.top._shipListData}},computed:{checkedIndex:function(){return this.shipListData.shipLineData.selectIdx}},mounted:function(){Mobi.changeShipType()},methods:{onShipItemClick:function(t){Mobi.hideShipDetailPage(),this.shipListData.shipLineData.selectIdx=t,this.shipListData.shipLineData.shipType=this.shipList[t].type,this.shipListData.shipLineData.price=this.shipList[t].price,Mobi.onShipTypeChange(jm('[ship-item="'+t+'"]'))}},template:"\n\t\t\t\t\t<div id='modifyShipDetails' class='modifyShipDetails' style='background-color: inherit;'>\n\t\t\t\t\t\t<div class='g_close' style='width: 100%;height: 100%;'></div>\n\t\t\t\t\t\t<div class='profileContent'>\n\t\t\t\t\t\t\t<div v-for='(item,index) in shipList' v-if='item.show'>\n\t\t\t\t\t\t\t\t<div class='count_line wekitBox ShipItem' :ship-item=\"index\" @click=\"onShipItemClick(index)\">\n\t\t\t\t\t\t\t\t\t<div class='left J_shipName'>{{item.type}}</div>\n\t\t\t\t\t\t\t\t\t<div class='flex1 J_shipPrice' :value='item.price' :shipType='index'>{{choiceCurrencyVal + item.price}}</div>\n\t\t\t\t\t\t\t\t\t<i v-if=\"index === checkedIndex\" class='faisco-icons-right g_color g_main_color_v3 J_selectShip' style='height: 2.5rem;line-height: 2.5rem;float: right;margin-right: 0.15rem;'></i>\n\t\t\t\t\t\t\t\t \t<i v-else class='faisco-icons-shape11' style='font-size: 1rem;height: 2.5rem;line-height: 2.5rem;float: right;'></i>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t"});var t={props:{data:Object,totalPrice:Number},computed:{priceVisible:function(){return!this.isOverShipDistance},isIntraCity:function(){return 3===Fai.top.shipTabListVm.checkedId},isExpress:function(){return 1===Fai.top.shipTabListVm.checkedId},isVisible:function(){return[1,3].includes(Fai.top.shipTabListVm.checkedId)},mallStlShipListTitle:function(){return this.shipLineData.mallStlShipListTitle},selectIdx:function(){return this.shipLineData.selectIdx},shipType:function(){return this.shipLineData.shipType},choiceCurrencyVal:function(){return this.shipLineData.choiceCurrencyVal},price:function(){return this.shipLineData.price},isOverShipDistance:function(){if(!Fai.top.intraCityShipPanelVm.addrInfo)return!0;var t=Fai.top.intraCityShipPanelVm.addrInfo,e=this.intraCityShipConf.ail||[],i={},o={};e.length>0&&(o=(i=e[0]).ma.setting.loc||{});var n=o.pp,a=t.addr_info.pos;if(!n||!a)return!0;var r=Mobi.calculateIntraCityShipDistanceKm(n,a);this.intraCityShipConf;return r>i.sr.dr},isFreeShip:function(){var t=this.intraCityShipConf;if(!t||!t.spd)return!1;if(!this.isMerchantProductExist()){var e=t.spd.ofs,i=t.spd.fsp;if(1==e&&this.totalPrice>=i)return!0}return!1},intraCityPrice:function(){if(this.isOverShipDistance)return 0;var t=this.intraCityShipConf;return t&&t.spd?1===t.spd.olp?this.ladderPrice:t.spd.gsp.sp:0},ladderPrice:function(){var t=this.intraCityShipConf.ail||[],e={};t.length>0&&(e=t[0].ma.setting.loc||{});var i=e.pp,o=Fai.top.intraCityShipPanelVm.addrInfo.addr_info.pos,n=Mobi.calculateIntraCityShipDistanceKm(i,o),a=this.intraCityShipConf,r=a.spd.lsp,s=r.dr,l=a.spd.gsp.sp,c=n-s,d=r.id,m=r.isp;return n<=s?l:l+c/d*m},shipPrice:function(){return 2===Fai.top.shipTabListVm.checkedId?0:3===Fai.top.shipTabListVm.checkedId?this.intraCityPrice:parseInt(100*this.price)/100},isOpenExpress:function(){return 1===Fai.top.shipTabListVm.checkedId}},methods:{stopPropagation:function(t){this.isIntraCity&&t.stopPropagation()},callPanel:function(){Mobi.showShipDetailPage()},isMerchantProductExist:function(){return Fai.top._mstlMerchantProductListVm.isMerchantProductExist()}}};Vue.component("comp-intra-shipline",{mixins:[t],props:{data:Object,totalPrice:Number},data:function(){return{shipLineData:this.data,intraCityShipConf:Fai.top._intraCityShipConf}},template:"\n\t\t\t\t<div v-if=\"isIntraCity && priceVisible\" class='ship_line' id=\"shipLine\">\n\t\t\t\t\t<div class='count_line wekitBox' @click=\"stopPropagation\">\n\t\t\t\t\t\t<div class='linetitle'>\n\t\t\t\t\t\t\t<span>配送费</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class='selectship flex1' >\n\t\t\t\t\t\t\t<span id='shipValue' :shipType=\"selectIdx\"></span>\n\t\t\t\t\t\t\t<template v-if='isFreeShip && intraCityPrice > 0'>\n\t\t\t\t\t\t\t\t<span class='lineShipPrice' :currency='choiceCurrencyVal' :value='intraCityPrice'>{{(choiceCurrencyVal +  intraCityPrice.toFixed(2))}}</span>\n\t\t\t\t\t\t\t\t<span id='shipPrice' :currency='choiceCurrencyVal' :value='0.00'>{{choiceCurrencyVal}}0.00</span>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<span v-else id='shipPrice' :currency='choiceCurrencyVal' :value='intraCityPrice'>{{(choiceCurrencyVal +  intraCityPrice.toFixed(2))}}</span>\n\t\t\t\t\t\t\t<svg role='img' class='jzm-v2 fk_mstl_icon'><use xlink:href='#jzm-v2'></use></svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"}),Vue.component("comp-mallship-shipline",{mixins:[t],props:{data:Object},data:function(){return{shipLineData:this.data,intraCityShipConf:Fai.top._intraCityShipConf}},template:"\n\t\t\t\t<div v-else-if=\"isExpress\" class='count_line wekitBox' id=\"shipLine\">\n\t\t\t\t\t<div class='linetitle'>\n\t\t\t\t\t\t<span>{{mallStlShipListTitle}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='selectship flex1' @click=\"callPanel\">\n\t\t\t\t\t\t<span id='shipValue' :shipType=\"selectIdx\" v-text=\"shipType\" ></span>\n\t\t\t\t\t\t\x3c!--这里id保持一致，是以为外界需要抓取这里的价格，计算总费用--\x3e\n\t\t\t\t\t\t<span id='shipPrice' :currency='choiceCurrencyVal' :value='price'>{{(choiceCurrencyVal +  price)}}</span>\n\t\t\t\t\t\t<svg role='img' class='jzm-v2 fk_mstl_icon'><use xlink:href='#jzm-v2'></use></svg>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"}),Vue.component("comp-shipline",{data:function(){return{shipLineData:this.data,intraCityShipConf:Fai.top._intraCityShipConf}},mounted:function(){},template:"\n\n\n\t\t\t"}),Vue.component("comp-noaddr-propInfo-contain",{props:{data:Object,checkedAddrIndex:Number,inputedAddrInfo:Object},data:function(){var t=this.inputedAddrInfo;return Fai.top._addrPropList.forEach((function(e){void 0===t[e.fieldKey]&&(t[e.fieldKey]="")})),Object.assign({OrderPropTypeDef:Fai.top._OrderPropTypeDef,addrPropList:Fai.top._addrPropList,serWeekTo:Fai.top._serWeekTo},this.data)},mounted:function(){},methods:{getValue:function(t){return Mobi.Address.getPropVal(t,this.inputedAddrInfo)},getAddrInfoCusDate:function(t){var e=this.getValue(t);return{s:e.s,e:e.e}},genDateCls:function(t){return[1==t.dateType?"fk-startDateInput":"","mobiCalendarPlugins"]},genMobiIdAttr:function(t){return"Mobi"+this.moduleId+"Calendar"+t.id+"Plugins"},genMobiEndIdAttr:function(t){return"Mobi"+this.moduleId+"Calendar"+t.id+"Plugins_end"},genInputIdAttr:function(t){return"edit_"+t.field},genInputValue:function(t){return this.info[t.field]},genBoxIdAttr:function(t){return"orderPropId"+t.id},gotoAddrEditPage:function(){-1==this.checkedAddrIndex?Mobi.showAddrAddPage():Mobi.showAddrEditPage(this.checkedAddrIndex)}},template:"\n\t\t\t\t<div class='noAddrPropInfoContain' id='noAddrPropInfoContain'>\n\t\t\t\t    \x3c!-- 3项以上，走地址编辑的流程 --\x3e\n\t\t\t\t    <div v-if=\"addrPropList.length>3\">\n\t\t\t\t\t\t<div class=\"noAddrPanel\" @click=\"gotoAddrEditPage\">\n\t\t\t\t\t\t    <div v-for=\"(item, index) in addrPropList\" v-show=\"index<3\">\n\t\t\t\t\t\t\t\t<div class='noAddrLine'>\n\t\t\t\t\t\t\t\t\t<span style='color:#333'>{{item.name}}：</span>\n\t\t\t\t\t\t\t\t\t<span v-if=\"item.type === OrderPropTypeDef.CUS_DATE\" class='noAddr_prop'>\n\t\t\t\t\t\t\t\t\t\t<template v-if=\"getAddrInfoCusDate(item).s\">{{getAddrInfoCusDate(item).s}}</template>\n\t\t\t\t\t\t\t\t\t\t<template v-if=\"getAddrInfoCusDate(item).e\">{{serWeekTo}}{{getAddrInfoCusDate(item).e}}</template>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span v-else class='noAddr_prop'>{{getValue(item)}}</span>\n\t\t\t\t\t\t\t    </div>\n\n\t\t\t\t\t\t    </div>\n\t\t\t\t\t\t\t<svg v-if=\"addrPropList.length>=2\" role=\"img\" class=\"jzm-v2 fk_mstl_icon fk_mstl_icon_noAddr\"><use xlink:href=\"#jzm-v2\"></use></svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t    </div>\n\t\t\t\t    \x3c!-- 3项以内，可以在界面上编辑 --\x3e\n\t\t\t\t\t<div v-else class='edit_line noAddrEditLineItem' v-for=\"(item, index) in addrPropList\">\n\t\t\t\t\t\t<div class='propName'>\n\t\t\t\t\t\t\t<span>{{item.name}}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class='wekitBox propValueWrap' :date-type=\"item.type === CUS_DATE\" :id='genBoxIdAttr(item)'>\n\t\t\t\t\t\t    <div  v-if=\"item.type === CUS_DATE\" style=\"width:12rem\">\n\t\t\t\t\t\t\t\t<comp-timepicker :addrProp=\"item\" :addrInfo=\"inputedAddrInfo\" :data=\"item.timePickerData\"></comp-timepicker>\n\t\t\t\t\t\t    </div>\n\n\t\t\t\t\t\t\t<input v-else-if=\"item.type === OrderPropTypeDef.SYS_NAME\" :_field='item.field'  :id='genInputIdAttr(item)' v-model.lazy=\"inputedAddrInfo.name\"  :_prop='item.name' class='propItemValue' :_required='(item.required ? 1 : 0)' type='text'  :maxlength='FIELD_MAXLEN' :placeholder='item.placeholderStr'  :propType='item.type'/>\n\n\t\t\t\t\t\t\t<input v-else-if=\"item.type === OrderPropTypeDef.SYS_MOBILE\" :_field='item.field'  :id='genInputIdAttr(item)' v-model.lazy=\"inputedAddrInfo.mobile\"  :_prop='item.mobile' class='propItemValue' :_required='(item.required ? 1 : 0)' type='text'  :maxlength='FIELD_MAXLEN' :placeholder='item.placeholderStr'  :propType='item.type'/>\n\n\t\t\t\t\t\t\t<input v-else v-model.lazy=\"inputedAddrInfo[item.fieldKey]\" :_field='item.field' :id='genInputIdAttr(item)'   :_prop='item.name' class='propItemValue' :_required='(item.required ? 1 : 0)' type='text'  :maxlength='FIELD_MAXLEN' :placeholder='item.placeholderStr'  :propType='item.type'/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"}),Vue.component("comp-assign-itemline",{props:{addrInfoItem:Object,data:Object},data:function(){return Object.assign(this.data,{addrInfoList:Fai.top._addrInfoList,addrPropInfoList:Fai.top._addrPropInfoList,OrderPropTypeDef:Fai.top._OrderPropTypeDef})},computed:{isOpenNameProp:function(){return Mobi.isOpenAddrPropByType(this.OrderPropTypeDef.SYS_NAME)},isOpenMobileProp:function(){return Mobi.isOpenAddrPropByType(this.OrderPropTypeDef.SYS_MOBILE)},addrFieldIdAttr:function(){return"info_"+this.addrField},addrInfo:function(){return this.addrInfoItem.addrInfo}},created:function(){},beforeMount:function(){},methods:{genItemCls:function(t){return["addr_value flex1 info_"+t.fieldKey]},genItemIdAttr:function(t){return"info_"+t.fieldKey},isNameItem:function(t){return"name"===t.fieldKey},addrFieldCls:function(){return"info_"+this.addrField},gotoAddrListPage:function(){this.$emit("callAddrList")}},template:'\n\t\t\t\t<div class=\'assignItem_line fk_mallShipPanel\' id=\'assignItemline\' :_index=\'addrInfoItem.index\'  @click="gotoAddrListPage">\n\t\t\t\t    <div class=\'receiverLine\'>\n\n\t\t\t\t\t    \x3c!--地址信息--\x3e\n\t\t\t\t\t    <div class=\'item_value flex1 fk_mallShipPanel_addrInfo\' v-if="addrInfo">\n\t\t\t\t\t\t\t<svg role="img"  class="jzm-v39 fk_mstl_icon fk_mallShipPanel_addrInfo_icon">\n\t\t\t\t\t\t\t  <use xlink:href="#jzm-v39"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t<div class="fk_mallShipPanel_addrInfo_addr">\n\t\t\t\t\t\t\t\t<div class="fk_mallShipPanel_addrInfo_addr_content">{{addrInfo.addr}}</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t    \t\x3c!--跳转箭头--\x3e\n\t\t\t\t\t\t\t<svg role="img" class="jzm-v2 fk_mstl_icon fk_mallShipPanel_addrInfo_arrow"><use xlink:href="#jzm-v2"></use></svg>\n\n\t\t\t\t\t\t\t\x3c!--<span v-show="false" :class=\'addrFieldCls\'  :id=\'addrFieldIdAttr\' :isMallTheme="isMallTheme">{{addrInfo.addr}}</span>--\x3e\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\x3c!-- 个人信息要依据后台是否设置开启，进行展示 --\x3e\n\t\t\t\t\t    <div v-if="addrInfo">\n\t\t\t\t\t\t\t<span  class=\'addr_value flex1 info_addr\' v-if="isOpenNameProp || isOpenMobileProp">\n\t\t\t\t\t\t\t    \x3c!--<span class=\'receiverkey\'>{{order_prop_receiver}}：</span>--\x3e\n\t\t\t\t\t\t        <span class="info_addr_name" v-if="isOpenNameProp">{{addrInfo.name || \'-\'}}</span>\n\t\t\t\t\t\t        <span class="info_addr_mobile" v-if="isOpenMobileProp">{{addrInfo.mobile}}</span>\n\t\t\t\t\t\t    </span>\n\t\t\t\t\t    </div>\n\t\t\t\t    </div>\n\n\t\t\t\t</div>\n\t\t\t'}),Vue.component("comp-noaddrlistinfo",{props:{data:Object},data:function(){return Object.assign({},this.data)},methods:{genItemIdAttr:function(t){return"info_"+t.field}},template:"\n\t\t\t\t<div id='noAddrListInfo' style='background-color:#fafafa;'>\n\t\t\t\t    <div class='assignItem_line' id='assignItemline' :_index='info._index'></div>\n\t\t\t\t    <div class='noAddrPanel'>\n\t\t\t\t\t\t<div v-for=\"(item, index) in propDataList\">\n\t\t\t\t\t\t\t<div class='noAddrLine'>\n\t\t\t\t\t\t\t\t<span style='color:#333'>{{item.name}}：</span>\n\t\t\t\t\t\t\t    <span class='noAddr_prop' :propType='item.type' :id='genItemIdAttr(item)'>{{item.noAddr_propValue}}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span v-if=\"index>3\" class='icon-rightIcon rightToward'></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t    </div>\n\t\t\t\t</div>\n\t\t\t"})})),t.initMallShipPanel=function(t){Fai.top.mallShipPanelVm=new Vue({el:"#mallShipPanel",data:function(){var e=-1;Fai.top._addrInfoList.forEach((function(t,i){1===t.isDefault&&(e=i)}));var i=Fai.top._addrInfoList[e]||{},o=Object.assign(t,{checkedAddrIndex:e,addrInfoList:Fai.top._addrInfoList,addrPropList:Fai.top._addrPropList,inputedAddrInfo:i});return o.addrInfoList=Fai.top._addrInfoList,o},computed:{linetitle1Cls:function(){return["linetitle1",this.mallShiplinetitle1Data.noAddrMsgListClass]},addrPropListExist:function(){return this.addrPropList.length>0},expressAddrInfoList:function(){return this.combineAddrInfoList.filter((function(t){return!t.addrInfo.isIntraCity}))},combineAddrInfoList:function(){return this.addrInfoList.map((function(t,e){return{addrInfo:t,index:e}}))},addrInfo:function(){return this.isOpenAddrProp?this.addrInfoList[this.checkedAddrIndex]:this.inputedAddrInfo},addrInfoItem:function(){return{index:this.checkedAddrIndex,addrInfo:this.addrInfo}},isVisitor:function(){return 0===Fai.top.sessionMemberId}},watch:{checkedAddrIndex:function(){var t=this;Vue.nextTick((function(){Mobi.promiseCalculateMallShipTplByAddrInfo(t.addrInfo).then((function(){Mobi.recheckItg()}))})),Mobi.$Bus.$emit("onMallShipPanelCheckedAddrIndexChanged",this.checkedAddrIndex)},addrInfo:{deep:!0,handler:function(){[0,1].includes(Fai.top.shipTabListVm.checkedId)&&this.addrInfo&&Mobi.promiseCalculateMallShipTplByAddrInfo(this.addrInfo)}}},mounted:function(){var t=this;Vue.nextTick((function(){Mobi.$Bus.$emit("onMallShipPanelCheckedAddrIndexChanged",t.checkedAddrIndex)}))},created:function(){Mobi.$Bus.$off("onCheckedExpressAddrInfo",this.onCheckedExpressAddrInfo),Mobi.$Bus.$on("onCheckedExpressAddrInfo",this.onCheckedExpressAddrInfo),Mobi.$Bus.$off("onVisitorSaveExpressAddr",this.onVisitorSaveExpressAddr).$on("onVisitorSaveExpressAddr",this.onVisitorSaveExpressAddr),Mobi.$Bus.$off("onMallShipPanelShow",this.onMallShipPanelShow).$on("onMallShipPanelShow",this.onMallShipPanelShow)},methods:{onMallShipPanelShow:function(){this.addrInfo&&Mobi.promiseCalculateMallShipTplByAddrInfo(this.addrInfo)},onVisitorSaveExpressAddr:function(t,e){this.checkedAddrIndex=e,this.inputedAddrInfo=this.addrInfoList[e]},onCheckedExpressAddrInfo:function(t){this.addrInfoList[t]?this.checkedAddrIndex=t:this.checkedAddrIndex=-1},gotoAddrListPage:function(){this.isVisitor?-1==this.checkedAddrIndex?Mobi.showAddrAddPage():Mobi.showAddrEditPage(this.checkedAddrIndex):Mobi.showAddrListPage()}},template:'\n\t\t\t\t<div class=\'orderAssign_line\' :class="{fk_mallShipPanel_visitor:isVisitor}" v-if="addrPropListExist" :id=\'editAddrIdAttr\'>\n\t\t\t\t    \x3c!-- 开启了地址项 --\x3e\n\t\t\t\t    <div v-if="isOpenAddrProp">\n\t\t\t\t    \t\x3c!-- 地址不为空(地址必定存在，才会出这个界面) --\x3e\n\t\t\t\t\t\t<comp-assign-itemline v-if="expressAddrInfoList.length>0 && addrInfo" :addrInfoItem="addrInfoItem" :data="assignItemlineData" v-on:callAddrList="gotoAddrListPage"></comp-assign-itemline>\n\t\t\t\t    \t\x3c!-- 地址为空 --\x3e\n\t\t\t\t\t\t<div v-else :class=\'linetitle1Cls\' id=\'linetitle1\' @click="gotoAddrListPage">\n\t\t\t\t\t\t\t<svg role="img" class="jzm-v39 fk_mstl_icon fk_intraCityShipAddr_address_icon"><use xlink:href="#jzm-v39"></use></svg>\n\t\t\t\t\t\t\t<span>{{mallShiplinetitle1Data.moduleName}}</span>\n\t\t\t\t\t\t\t<svg role="img" class="jzm-v2 fk_mstl_icon" style="float:right">\n\t\t\t\t\t\t\t  <use xlink:href="#jzm-v2"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t    </div>\n\t\t\t\t    \x3c!-- 开启了关闭地址项 --\x3e\n\t\t\t\t\t<comp-noaddr-propInfo-contain v-else :data="noAddrPropInfoContainData" :inputedAddrInfo="inputedAddrInfo" :checkedAddrIndex="checkedAddrIndex"></comp-noaddr-propInfo-contain>\n\t\t\t\t    <div class=\'shipTopBg\'></div>\n\t\t\t\t</div>\n\t\t\t'})},t.showShipDetailPage=function(){var e=t.getShipDetailOption();t.showPageWithInit(e),i("#webPagePanelshipLinePage").css("z-index",999),i("#modifyShipDetailsPanel").removeClass("webPagePanelBottom")},t.hideShipDetailPage=function(){var e=t.getShipDetailOption();t.hidePage(e),i("#webPagePanelshipLinePage").css("z-index",""),i("#modifyShipDetailsPanel").removeClass("webPagePanelBottom"),i("#g_body").css("overflow-y","")},t.getShipDetailOption=function(){return{triggerId:"shipLinePage",panelId:"modifyShipDetailsPanel",callback:function(){Mobi.fixTouchPenetrate("shipLinePage","modifyShipDetailsPanel")},closeWebPage:"#modifyShipDetailsPanel .g_close",direction:"bottom",pageBg:!0}},jm((function(){Vue.component("comp-addritem",{props:{item:Object,disabled:Boolean,index:Number,editText:{type:String,required:!0},delText:{type:String,required:!0},cancelDefaultText:{type:String,required:!0},setDefaultText:{type:String,required:!0},isIntraCity:Boolean},data:function(){return{OrderPropTypeDef:Fai.top._OrderPropTypeDef}},computed:{defaultAddrIndex:function(){var t=-1;if(this.isIntraCity){var e=this.intraCityAddrInfoList.filter((function(t){return t.addrInfo.isIntraDefault}));e&&(t=e[0].index)}else{var i=this.expressAddrInfoList.filter((function(t){return t.addrInfo.isDefault}));i&&(t=i[0].index)}return t},isCurrChecked:function(){return this.item.addrInfo.isIntraCity?Fai.top.intraCityShipPanelVm.checkedAddrIndex===this.item.index:!!Fai.top.mallShipPanelVm&&Fai.top.mallShipPanelVm.checkedAddrIndex===this.item.index},isOpenNameProp:function(){return Mobi.isOpenAddrPropByType(this.OrderPropTypeDef.SYS_NAME)},isOpenMobileProp:function(){return Mobi.isOpenAddrPropByType(this.OrderPropTypeDef.SYS_MOBILE)},isDefault:function(){return this.item.addrInfo.isIntraCity?this.item.addrInfo.isIntraDefault:1==this.item.addrInfo.isDefault},expressAddrInfoList:function(){return this.combineAddrInfoList.filter((function(t){return!t.addrInfo.isIntraCity}))},intraCityAddrInfoList:function(){return this.combineAddrInfoList.filter((function(t){return t.addrInfo.isIntraCity}))},combineAddrInfoList:function(){return Fai.top._addrInfoList.map((function(t,e){return{addrInfo:t,index:e}}))},nameCls:function(){return[this.isDefault?"":"middle","info_name"]}},methods:{genSelectedDivText:function(){return this.isDefault?this.setDefaultText:this.cancelDefaultText},edit:function(){Mobi.showAddrEditPage(this.item.index)},remove:function(t){Mobi.prompt({textClass:"confirm",content:"确定要删除该收货人信息吗？",callback:this.onRemoveConfirm}),t.stopPropagation()},onRemoveConfirm:function(){var t=this,e=this.item.index,i={opera:"delAddr",_item:e+""},o=this.defaultAddrIndex;jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_set&id="+Fai.top.sessionMemberId,data:"info="+jm.encodeUrl(jm.toJSON(i)),error:function(){Mobi.ing(LS.systemError)},success:function(i){var n=jm.parseJSON(i);n.success?(jm("#mobiPrompt").remove(),jm("#mobiPrompt_Bg").remove(),t.isCurrChecked&&t.callCheckedAddr(parseInt(o)),Vue.nextTick((function(){Fai.top._addrInfoList.splice(e,1)}))):Mobi.ing(n.msg)}})},setDefault:function(t){if(this.isIntraCity){if(this.item.isIntraDefault)return}else if(1==this.item.isDefault)return;var e=this.item.index+"",i=Mobi.deepCopy(this.item.addrInfo);this.isIntraCity?i.isIntraDefault=!0:i.isDefault=1,i=Mobi.replaceCusDateStrToObj(i);var o={opera:"setDefault"};o._item=e,o.addrInfo=i;var n=this;jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_set&id="+Fai.top.sessionMemberId,data:{info:jm.toJSON(o)},error:function(){Mobi.ing(LS.memberProfileError)},success:function(t){var e=jm.parseJSON(t);e.success?n.isIntraCity?(n.intraCityAddrInfoList.forEach((function(t){t.addrInfo.isIntraDefault=!1})),n.item.addrInfo.isIntraDefault=!0):(n.expressAddrInfoList.forEach((function(t){t.addrInfo.isDefault=0})),n.item.addrInfo.isDefault=1):Mobi.ing(e.msg)}}),t.stopPropagation()},checkedAddrHandler:function(t){this.item.addrInfo.isIntraCity&&this.disabled||(this.callCheckedAddr(this.item.index),Mobi.hideAddrListPage()),t.stopPropagation()},callCheckedAddr:function(t){if(this.item.addrInfo.isIntraCity){if(this.disabled)return void e.stopPropagation();Mobi.$Bus.$emit("onCheckedIntraCityAddrInfo",t)}else Mobi.$Bus.$emit("onCheckedExpressAddrInfo",t)}},template:"\n\t\t\t\t<div class='addrInfo' :_item='item.index' @click=\"checkedAddrHandler\">\n\t\t\t\t\t<div :class=\"nameCls\" style='width:100%;'>\n\t\t\t\t\t\t<div class='nameAndPhone' v-if=\"isOpenNameProp || isOpenMobileProp\">\n\t\t\t\t\t\t\t<span class='name' v-if=\"isOpenNameProp\">\n\t\t\t\t\t\t\t\t<span class=\"name_text\">{{item.addrInfo.name || '-'}}</span>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class='phone' v-if=\"isOpenMobileProp\">{{item.addrInfo.mobile}}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class='address'>\n\t\t\t\t\t\t\t<span id='addr'>{{item.addrInfo.addr}}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='selectedArea'>\n\t\t\t\t\t\t<div class='left'>\n\t\t\t\t\t  \t\t<div class='selectedDiv' @click=\"setDefault\">\n\t\t\t\t  \t\t\t\t<label :for='(\"input\"+ item.index )'>\n\t\t\t\t  \t\t\t\t\t<input type='radio' :checked=\"isDefault\" class='checkbox-comp' :id='( \"input\"+ item.index )' name='defaultLogo'>\n\t\t\t\t  \t\t\t\t\t<span class=\"radio_box\" :class=\"{ g_bdColor:isDefault, g_bgColor:isDefault,  g_main_bgColor_v3:isDefault}\"></span>\n\t\t\t\t  \t\t\t\t\t<span class='text'>{{genSelectedDivText(item)}}</span>\n\t\t\t\t  \t\t\t\t</label>\n\t\t\t\t  \t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t \t<div class='right'>\n\t\t\t\t\t \t\t<div class='edit' :_index=\"item.index\" @click=\"edit\">\n\t\t\t\t\t \t\t\t<span>{{editText}}</span>\n\t\t\t\t\t \t\t</div>\n\t\t\t\t\t \t\t<div @click=\"remove\" class='cutOut' v-if=\"!isDefault\">\n\t\t\t\t\t \t\t\t<span>{{delText}}</span>\n\t\t\t\t\t \t\t</div>\n\t\t\t\t\t \t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"}),Vue.component("comp-addrinfolist",{props:{data:Object,isIntraCity:{required:!0,type:Boolean}},data:function(){var t=Object.assign(this.data,{intraCityShipConf:Fai.top._intraCityShipConf,addrInfoList:Fai.top._addrInfoList});return t},computed:{expressAddrInfoList:function(){return this.combineAddrInfoList.filter((function(t){return!t.addrInfo.isIntraCity}))},intraCityAddrInfoList:function(){return this.combineAddrInfoList.filter((function(t){return t.addrInfo.isIntraCity}))},combineAddrInfoList:function(){return this.addrInfoList.map((function(t,e){return{addrInfo:t,index:e}}))},currAddrInfoList:function(){return this.isIntraCity?this.intraCityAddrInfoList:this.expressAddrInfoList},intraCityEabledAddrInfoList:function(){var t=this.intraCityShipConf.ail||[],e={},i={};t.length>0&&(i=(e=t[0]).ma.setting.loc||{});var o=i.pp,n=e.sr.dr;return this.intraCityAddrInfoList.filter((function(t){var e=t.addrInfo.addr_info.pos;return!!e&&Mobi.syncComputeDistanceBetween({latitude:e.lat,longitude:e.lng},{latitude:o.lat,longitude:o.lng})/1e3<=n}))},intraCityDisableAddrInfoList:function(){var t=this.intraCityShipConf.ail||[],e={},i={};t.length>0&&(i=(e=t[0]).ma.setting.loc||{});var o=i.pp,n=e.sr.dr;return this.intraCityAddrInfoList.filter((function(t){var e=t.addrInfo.addr_info.pos;return!e||Mobi.syncComputeDistanceBetween({latitude:e.lat,longitude:e.lng},{latitude:o.lat,longitude:o.lng})/1e3>n}))}},created:function(){Mobi.$Bus.$off("onShipTabChanged",this.onShipTabChanged),Mobi.$Bus.$on("onShipTabChanged",this.onShipTabChanged)},methods:{onShipTabChanged:function(){}},template:'\n\t\t\t\t<div>\n\t\t\t\t\t\x3c!--同城配送的地址--\x3e\n\t\t\t\t    <div v-if="isIntraCity">\n\t\t\t\t\t\t\x3c!--同城配送的地址-可选择--\x3e\n\t\t\t\t\t\t<div class="fk_intraCityAddrList_enable">\n\t\t\t\t\t\t\t<comp-addritem\n\t\t\t\t\t\t\t\t:delText="g_del"\n\t\t\t\t\t\t\t\t:isDefault="item.addrInfo.isIntraDefault"\n\t\t\t\t\t\t\t\t:setDefaultText="addrInfo_defaultAddr"\n\t\t\t\t\t\t\t\t:cancelDefaultText="mobi_mall_SetDefault"\n\t\t\t\t\t\t\t\t:editText="mobi_mall_edit"\n\t\t\t\t\t\t\t\t:item="item"\n\t\t\t\t\t\t\t\tv-for="item in intraCityEabledAddrInfoList"\n\t\t\t\t\t\t\t\t:isIntraCity="isIntraCity"\n\t\t\t\t\t\t\t></comp-addritem>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div class="fk_intraCityAddrList_disable" v-if="intraCityDisableAddrInfoList.length>0">\n\t\t\t\t\t\t\t<div class="fk_intraCityAddrList_disable_title">以下为超配送范围地址：</div>\n\t\t\t\t\t\t\t<comp-addritem\n\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t:delText="g_del"\n\t\t\t\t\t\t\t\t:isDefault="item.addrInfo.isIntraDefault"\n\t\t\t\t\t\t\t\t:setDefaultText="addrInfo_defaultAddr"\n\t\t\t\t\t\t\t\t:cancelDefaultText="mobi_mall_SetDefault"\n\t\t\t\t\t\t\t\t:editText="mobi_mall_edit"\n\t\t\t\t\t\t\t\t:item="item"\n\t\t\t\t\t\t\t\tv-for="item in intraCityDisableAddrInfoList"\n\t\t\t\t\t\t\t\t:isIntraCity="isIntraCity"\n\t\t\t\t\t\t\t></comp-addritem>\n\t\t\t\t\t\t</div>\n\t\t\t\t    </div>\n\t\t\t\t\t\x3c!--快递发货的地址--\x3e\n\t\t\t\t    <div v-else>\n    \t\t\t\t\t<comp-addritem\n    \t\t\t\t\t\t:delText="g_del"\n    \t\t\t\t\t\t:isDefault="item.addrInfo.isDefault==1"\n    \t\t\t\t\t\t:setDefaultText="addrInfo_defaultAddr"\n    \t\t\t\t\t\t:cancelDefaultText="mobi_mall_SetDefault"\n    \t\t\t\t\t\t:editText="mobi_mall_edit"\n    \t\t\t\t\t\t:item="item"\n    \t\t\t\t\t\tv-for="item in expressAddrInfoList"\n    \t\t\t\t\t></comp-addritem>\n\t\t\t\t    </div>\n\t\t\t\t</div>\n\t\t\t'}),Vue.component("comp-addrlistpage",{props:{data:Object,isIntraCity:{required:!0,type:Boolean}},data:function(){return this.data},computed:{showAddrAddBtn:function(){var t=this,e=Fai.top._addrInfoListLimit||30;return this.data.mallShipAddrInfo.addrInfoList.filter((function(e){return t.isIntraCity?e.isIntraCity:!e.isIntraCity})).length<e}},watch:{"data.mallShipAddrInfo.addrInfoList":function(){}},methods:{gotoAddrAddPage:function(t){Mobi.showAddrAddPage(),t.stopPropagation()}},template:"\n\t\t\t\t<div id='addrInfo' class='addressList'>\n\t\t\t\t\t<comp-addrinfolist :isIntraCity=\"isIntraCity\" ref=\"addrinfolist\" :data=\"mallShipAddrInfo\"></comp-addrinfolist>\n\t\t\t\t\t<div v-show='showAddrAddBtn' id='orderAddAddrInfo' class='g_button orderAddAddrInfo g_main_bgColor_v3' @click=\"gotoAddrAddPage\">{{mobi_newAddrInfo}}</div>\n\t\t\t\t</div>\n\t\t\t"}),Vue.component("comp-provinceform",{props:{provinceText:String,provinceData:Object,addrInfo:Object},template:"\n\t\t\t\t<div>\n\t\t\t\t\t<div class='edit_line' style='display:none'>\n\t\t\t   \t\t\t<div class='linetitle'>\n\t\t\t\t\t\t\t<span>{{provinceText}}</span>\n\t\t\t\t\t\t\t<span class='icon-addrSelect icon-select'></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\x3c!-- //隐藏不用就好。不能删掉，因为还有部分逻辑用它来判断是否开痛了运费模版 --\x3e\n\t\t\t\t\t\t<select class='g_selectTag' id='mallShipTemplate_province' style='display:none;' ></select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<comp-province-city-county :addrInfo=\"addrInfo\" :data='provinceData'></comp-province-city-county>\n\t\t\t\t</div>\n\t\t\t"}),Vue.component("comp-province-city-county",{props:{data:Object,addrInfo:Object},data:function(){return Object.assign(Fai.top._provinceCityCountyData,{area:"",regionTabIndex:0,cusRegionTabIndex:0,hasAttr:!1,inited:!1,allCusAreaList:Fai.top._allCusAreaList})},computed:{cusAddrPanelVisible:function(){return this.addrInfo.addr_info.isCus||this.cusAreaVisible},areaUIVisible:function(){var t=this.area.trim();return""!==t.trim()&&"os"!==t},cusAreaVisible:function(){var t=this.area.trim();return""!==t&&"os"!==t&&"cn"!==t},ssqVisible:function(){return"cn"===this.area},codeAddress:function(){return this.getAddress()},diffStr:function(){return this.hasAttr?"":"mallShipTemplate_"},allAreaIdAttr:function(){return this.diffStr+this.allAreaIdStr},areaBoxInputIdAttr:function(){return this.diffStr+this.areaBoxInputIdStr},areaBoxIdAttr:function(){return this.diffStr+this.areaBoxIdStr},areaBoxCloseIdAttr:function(){return this.diffStr+this.areaBoxCloseIdStr},areaBox1IdAttr:function(){return this.diffStr+this.areaBox1IdStr},province_boxIdAttr:function(){return this.diffStr+this.province_boxIdStr},city_boxIdAttr:function(){return this.diffStr+this.city_boxIdStr},county_boxIdAttr:function(){return this.diffStr+this.county_boxIdStr},street_boxIdAttr:function(){return this.diffStr+this.street_boxIdStr},areaBox2IdAttr:function(){return this.diffStr+this.areaBox2IdStr},sec_boxIdAttr:function(){return this.diffStr+this.sec_boxIdStr},thd_boxIdAttr:function(){return this.diffStr+this.thd_boxIdStr},addrSaveIdAttr:function(){return this.hasAttr?"edit_addrDetal":"addrInfo_street"},isCn:function(){var t=Fai.top._lcid;return 2052==t||1028==t},provinceContent:function(){var t=this;return Object.values(site_cityUtil.getAreaGroupsPinYin()).map((function(e){var i=e[0],o="OS"==i,n=e[1];return{isOs:o,head:i,content:n=n.map((function(e){return t.getProvinceInfo(e)}))}}))},cityContent:function(){if(!this.addrInfo.addr_info.provinceCode)return[];var t=[];return t=this.isCn?site_cityUtil.getCities(this.addrInfo.addr_info.provinceCode):site_cityUtil.getCitiesEn(this.addrInfo.addr_info.provinceCode),this.genLocList(t)},countyContent:function(){if(!this.addrInfo.addr_info.cityCode)return[];var t=[];return t=this.isCn?site_cityUtil.getCounty(this.addrInfo.addr_info.cityCode):site_cityUtil.getCountyEn(this.addrInfo.addr_info.cityCode),this.genLocList(t)},streetContent:function(){if(!this.addrInfo.addr_info.countyCode)return[];var t=[];return t=this.isCn?site_cityUtil.getStreet(this.addrInfo.addr_info.countyCode):site_cityUtil.getStreetEn(this.addrInfo.addr_info.countyCode),this.genLocList(t)},cusAreaProvinceList:function(){return this.allCusAreaList.filter((function(t){return 0===t.parentId}))},cusAreaCityList:function(){var t=this.addrInfo.addr_info.provinceCode;return this.allCusAreaList.filter((function(e){return e.parentId===t&&0!==e.parentId}))},cusAreaCountyList:function(){var t=this.addrInfo.addr_info.cityCode;return this.allCusAreaList.filter((function(e){return e.parentId===t&&0!==e.parentId}))}},watch:{"addrInfo.addr_info":{deep:!0,handler:function(){var t=[];this.codeAddress&&t.push(this.codeAddress),this.addrInfo.addr_info.streetAddr&&t.push(this.addrInfo.addr_info.streetAddr.trim()),99e4===this.addrInfo.addr_info.provinceCode?this.addrInfo.addr=this.osLocale+this.addrInfo.addr_info.streetAddr.trim():this.addrInfo.addr=t.join("")}},addrInfo:function(t){this.setAreaForInit(t)},area:function(){}},created:function(){Mobi.$Bus.$off("onLocationPanelInited",this.onLocationPanelInited).$on("onLocationPanelInited",this.onLocationPanelInited)},methods:{onLocationPanelInited:function(){this.inited=!0},stopPropagation:function(){return!1},checkCusAreaTab:function(t){this.cusRegionTabIndex=t},checkedRegionTab:function(t){this.regionTabIndex=t},hide:function(){this.regionTabIndex=0,Mobi.hideRegionPanel()},onAreaChange:function(t){var e=t.target.value,i=parseInt(e);isNaN(i)?(this.addrInfo.addr_info.provinceCode="os"==e?99e4:void 0,this.addrInfo.addr_info.isCus=!1):(this.addrInfo.addr_info.isCus=!0,this.setCusProvince(i)),this.area=e,this.$forceUpdate()},setAreaForInit:function(t){var e=t.addr_info;if(e.isCus){var i=this.cusAreaProvinceList.filter((function(t){return t.id===e.provinceCode}))[0];this.area=i?i.id+"":""}else 99e4==e.provinceCode?this.area="os":e.provinceCode?this.area="cn":this.area=""},onShipTabChanged:function(){},callRegionPanel:function(){this.inited?this.cusAddrPanelVisible&&this.checkCusAreaEmpty()||Mobi.showRegionPanel():this.cusAddrPanelVisible&&this.checkCusAreaEmpty()||this.callRegionPanelFirstly()},callRegionPanelFirstly:function(){Mobi.ing("加载地址中..."),setTimeout((function(){site_cityUtil.initProvinces(Fai.top._lcid),Mobi.$Bus.$emit("onLocationPanelInited"),Vue.nextTick((function(){Mobi.showRegionPanel(),Mobi.ing("加载完毕...")}))}))},checkCusAreaEmpty:function(){return 0===this.cusRegionTabIndex&&0===this.cusAreaCityList.length||1===this.cusRegionTabIndex&&0===this.cusAreaCountyList.length},setCusProvince:function(t){this.addrInfo.addr_info.provinceCode=t,this.checkCusAreaTab(0),this.resetForProvince()},setCusCity:function(t){this.addrInfo.addr_info.cityCode=t,this.resetForCity(),this.cusAreaCountyList.length?this.checkCusAreaTab(1):this.hide()},setCusCounty:function(t){this.addrInfo.addr_info.countyCode=t,this.resetForCounty(),this.hide()},resetForProvince:function(){var t=this.addrInfo.addr_info;t.cityCode=void 0,t.countyCode=void 0,t.streetCode=void 0},resetForCity:function(){var t=this.addrInfo.addr_info;t.countyCode=void 0,t.streetCode=void 0},resetForCounty:function(){this.addrInfo.addr_info.streetCode=void 0},setProvince:function(t){this.addrInfo.addr_info.provinceCode=t,this.checkedRegionTab(1),this.resetForProvince(),0===this.cityContent.length&&this.hide()},setCity:function(t){this.addrInfo.addr_info.cityCode=t,this.checkedRegionTab(2),this.resetForCity(),0===this.countyContent.length&&this.hide()},setCounty:function(t){this.addrInfo.addr_info.countyCode=t,this.checkedRegionTab(3),this.resetForCounty(),0===this.streetContent.length&&this.hide()},setStreet:function(t){this.addrInfo.addr_info.streetCode=t,this.hide()},genLocList:function(t){var e=this;return t.map((function(t){return e.getLocInfo(t.id)}))},getProvinceInfo:function(t){var e="",i="";return this.isCn?(e=site_cityUtil.getInfo(t).name,i=site_cityUtil.simpleProvinceNameStr(e)):(e=site_cityUtil.getInfoEn(t).name,i=site_cityUtil.simpleProvinceNameStrEn(e)),{id:t,name:e,simpleName:i}},getLocInfo:function(t){var e="",i="";return this.isCn?(e=site_cityUtil.getInfo(t).name,i=site_cityUtil.simpleCityNameStr(e)):(e=site_cityUtil.getInfoEn(t).name,i=site_cityUtil.simpleCityNameStrEn(e)),{id:t,name:e,simpleName:i}},getAddressWithSplitChar:function(t){t=t||"";var e=[],i=this.addrInfo.addr_info||{};if(i.isCus)return this.getCusAddress(t);var o=this.getProvinceInfo(i.provinceCode||-1);return-1===o.id?e.join(t):(e.push(o.name),-1===(o=this.getLocInfo(i.cityCode||-1)).id?e.join(t):(e.push(o.name),-1===(o=this.getLocInfo(i.countyCode||-1)).id?e.join(t):(e.push(o.name),-1===(o=this.getLocInfo(i.streetCode||-1)).id||e.push(o.name),e.join(t))))},getAddress:function(){return this.getAddressWithSplitChar()},getCusAddress:function(){return this.getCusAddressWithSplitChar()},getCusAddressWithSplitChar:function(t){t=t||"";var e=this.addrInfo.addr_info,i=e.provinceCode,o=e.cityCode,n=e.countyCode,a=[],r=null;return(r=this.cusAreaProvinceList.filter((function(t){return t.id==i}))[0])?(a.push(r.name),(r=this.cusAreaCityList.filter((function(t){return t.id==o}))[0])?(a.push(r.name),(r=this.cusAreaCountyList.filter((function(t){return t.id==n}))[0])?(a.push(r.name),a.join(t)):a.join(t)):a.join(t)):a.join(t)}},template:"\n\t\t\t\t<div class=\"locationPanel\">\n\t\t\t\t\t\x3c!--区域选项--\x3e\n\t\t\t\t\t<div class='edit_line' v-show=\"!addrNotExist\">\n\t\t\t\t\t\t<div class='linetitle'>\n\t\t\t\t\t\t\t<span class='editLineItem'>{{Region}}</span>\n\t\t\t\t\t\t\t<span class='icon-addrSelect icon-select'></span>\n\t\t\t\t\t    </div>\n\t\t\t\t\t\t<select class='g_selectTag' :id='allAreaIdStr' :value=\"area\" @change=\"onAreaChange\">\n\t\t\t\t\t\t    <option value=''>------</option>\n\t\t\t\t\t\t    <option value='cn' v-if=\"showChina\">{{cnLocale}}</option>\n\t\t\t\t\t\t    <option value='os' v-if=\"showOversea\">{{osLocale}}</option>\n\t\t\t\t\t\t    <option :value='item.id' v-for=\"item in cusAreaProvinceList\">{{item.name}}</option>\n\t\t\t\t\t\t</select>\n\t\t     \t\t</div>\n\n\t\t\t\t\t\x3c!--【行政区域】或【省市县】的 控件--\x3e\n\t\t            <div v-show=\"areaUIVisible\">\n\t\t\t\t\t\t<div class='edit_line'>\n\t\t\t\t\t\t\t\x3c!--表单字段--\x3e\n\t\t\t\t\t\t\t<div class='linetitle'>\n\t\t\t                     <span v-show=\"cusAreaVisible\" class='J_administrativeRegion editLineItem'>{{administrativeRegion}}</span>\n\t\t\t                     <span v-show=\"ssqVisible\" class='J_ssq editLineItem' >{{mobi_ssq}}</span>\n\t\t\t                </div>\n\n\t\t\t\t\t\t\t\x3c!--省、市、区 表单字段--\x3e\n\t\t\t \t\t\t\t<input type='text' :id='areaBoxInputIdAttr' :value=\"getAddressWithSplitChar('-')\" @click=\"callRegionPanel\" class='g_input propItemValue' placeholder='------' readOnly='true' isCn isOs isCus area1 area2 area3/>\n\n\t\t\t\t\t\t\t<div class=\"panel_container\" v-if=\"inited\">\n\t\t\t\t\t\t\t\t\x3c!--省、市、区 面板--\x3e\n\t\t\t\t \t\t\t\t<div :id='areaBoxIdAttr' class='areaBox' style='display:none;'>\n\t\t\t\t \t\t\t\t\t<div :id='areaBoxCloseIdAttr' style='height:100%'></div>\n\n\t\t\t\t\t\t\t\t\t\x3c!-- 自定义区域的地址面板 --\x3e\n\t\t\t\t \t\t\t\t\t<div v-if=\"cusAddrPanelVisible\" :id='areaBox2IdAttr' class='areaBox2'>\n\t\t\t\t \t\t\t\t\t\t<div :id='sec_boxIdStr' class='sec_box'>\n\t\t\t\t \t\t\t\t\t\t\t<div class='sec_head J_areaHead2'>\n\t\t\t\t \t\t\t\t\t\t\t\t<div class='sec_sec sec item' :active=\"cusRegionTabIndex==0\" @click=\"checkCusAreaTab(0)\">{{firstRegion}}</div>\n\t\t\t\t \t\t\t\t\t\t\t\t<div class='sec_thd thd item' :active=\"cusRegionTabIndex==1\" @click=\"checkCusAreaTab(1)\">{{secRegion}}</div>\n\t\t\t\t \t\t\t\t\t\t\t</div>\n\t\t\t\t \t\t\t\t\t\t\t<div class='sec_content'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div v-if=\"cusRegionTabIndex===0\"\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='group_item' :cid='item.id' :cname='item.name' v-for=\"item in cusAreaCityList\" @click=\"setCusCity(item.id)\">{{item.name}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div v-else-if=\"cusRegionTabIndex===1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class='group_item' :cid='item.id' :cname='item.name' v-for=\"item in cusAreaCountyList\" @click=\"setCusCounty(item.id)\">{{item.name}}</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t \t\t\t\t\t\t\t</div>\n\t\t\t\t \t\t\t\t\t\t</div>\n\t\t\t\t \t\t\t\t\t</div>\n\t\t\t\t \t\t\t\t\t\x3c!-- 中国省市区的面板 --\x3e\n\t\t\t\t \t\t\t\t\t<div v-else :id='areaBox1IdAttr' class='areaBox1' @click=\"stopPropagation\">\n\n\t\t\t \t\t\t\t\t\t\t<div class='pv_head J_areaHead'>\n\t\t\t \t\t\t\t\t\t\t\t<div @click=\"checkedRegionTab(0)\" :active=\"regionTabIndex===0\" class='pv_head_item pv_pv pv'>{{province}}</div>\n\t\t\t \t\t\t\t\t\t\t\t<div @click=\"checkedRegionTab(1)\" :active=\"regionTabIndex===1\" class='pv_head_item pv_city city'>{{city}}</div>\n\t\t\t \t\t\t\t\t\t\t\t<div @click=\"checkedRegionTab(2)\" :active=\"regionTabIndex===2\" class='pv_head_item pv_county county'>{{county}}</div>\n\t\t\t \t\t\t\t\t\t\t\t<div @click=\"checkedRegionTab(3)\" :active=\"regionTabIndex===3\" class='pv_head_item pv_street street'>{{street}}</div>\n\t\t\t \t\t\t\t\t\t\t</div>\n\n\t\t\t\t \t\t\t\t\t\t<div v-if=\"regionTabIndex===0\" :id='province_boxIdAttr' class='province_box'>\n\t\t\t\t \t\t\t\t\t\t\t<div class='pv_content'>\n\t\t\t\t \t\t\t\t\t\t\t\t<div v-if=\"area==='os'\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div v-for='item in provinceContent' class='pv_group' v-show='item.isOs'>\n\t\t\t\t\t\t\t\t\t\t \t\t\t\t<div class='group_head'>{{item.head}}</div>\n\t\t\t\t\t\t\t\t\t\t \t\t\t\t<div class='group_content'>\n\t\t\t\t\t\t\t\t\t\t \t\t\t\t\t<div v-for='contentItem in item.content' class='group_item' @click=\"setProvince(contentItem.id)\" :pid='contentItem.id' :pname='contentItem.name'>{{contentItem.simpleName}}</div>\n\t\t\t\t\t\t\t\t\t\t \t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t \t\t\t</div>\n\t\t\t\t \t\t\t\t\t\t\t\t</div>\n\t\t\t\t \t\t\t\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div v-for='item in provinceContent' class='pv_group' v-show='!item.isOs'>\n\t\t\t\t\t\t\t\t\t\t \t\t\t\t<div class='group_head'>{{item.head}}</div>\n\t\t\t\t\t\t\t\t\t\t \t\t\t\t<div class='group_content'>\n\t\t\t\t\t\t\t\t\t\t \t\t\t\t\t<div v-for='contentItem in item.content' class='group_item' :pid='contentItem.id' :pname='contentItem.name' @click=\"setProvince(contentItem.id)\">{{contentItem.simpleName}}</div>\n\t\t\t\t\t\t\t\t\t\t \t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t \t\t\t</div>\n\t\t\t\t \t\t\t\t\t\t\t\t</div>\n\t\t\t\t \t\t\t\t\t\t\t</div>\n\t\t\t\t \t\t\t\t\t\t</div>\n\t\t\t\t \t\t\t\t\t\t<div v-else-if=\"regionTabIndex===1\" :id='city_boxIdAttr' class='city_box' >\n\t\t\t\t \t\t\t\t\t\t\t<div class='city_content'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class='group_item' @click=\"setCity(item.id)\" :cid='item.id' :cname='item.name' v-for='item in cityContent' >{{item.simpleName}}</div>\n\t\t\t\t \t\t\t\t\t\t\t</div>\n\t\t\t\t \t\t\t\t\t\t</div>\n\t\t\t\t \t\t\t\t\t\t<div v-else-if=\"regionTabIndex===2\" :id='county_boxIdAttr' class='county_box'>\n\t\t\t\t \t\t\t\t\t\t\t<div class='county_content'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class='group_item' @click=\"setCounty(item.id)\" :cid='item.id' :cname='item.name' v-for='item in countyContent' >{{item.simpleName}}</div>\n\t\t\t\t \t\t\t\t\t\t\t</div>\n\t\t\t\t \t\t\t\t\t\t</div>\n\t\t\t\t \t\t\t\t\t\t<div v-else-if=\"regionTabIndex===3\" :id='street_boxIdAttr' class='street_box'>\n\t\t\t\t \t\t\t\t\t\t\t<div class='street_content'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class='group_item' @click=\"setStreet(item.id)\" :cid='item.id' :cname='item.name' v-for='item in streetContent' >{{item.simpleName}}</div>\n\t\t\t\t \t\t\t\t\t\t\t</div>\n\t\t\t\t \t\t\t\t\t\t</div>\n\t\t\t\t \t\t\t\t\t</div>\n\t\t\t\t \t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t    <div class='edit_line'>\n\t\t\t\t        <div class='linetitle'>\n\t\t\t\t            <span class='editLineItem'>{{mobi_mall_Address}}</span>\n\t\t\t\t        </div>\n\t\t\t\t        <textarea :id='addrSaveIdAttr' v-model.lazy=\"addrInfo.addr_info.streetAddr\" _field='addrDetail' :_required='(required ? 1 : 0)' :_prop='mobi_mall_Address' class='propItemValue g_textArea' :maxlength='ADDR_MAXLEN' :placeholder='placeholderStr'></textarea>\n\t\t\t\t    </div>\n\t\t\t\t</div>\n\t\t\t"}),Vue.component("comp-timepicker",{props:{data:Object,addrProp:Object,addrInfo:Object},data:function(){return Object.assign({},this.data)},computed:{initedTimeInfo:function(){var t=this.addrInfo[this.addrProp.fieldKey],e=null;try{var i=null;i="string"===Mobi.typeOf(t)?JSON.parse(t):t,e=i=Object.assign({e:"",s:""},i)}catch(t){e={s:"",e:""}}return e},pluginsStartCls:function(){return[1==this.dateType?"fk-startDateInput":"","mobiCalendarPlugins"]},idStartAttr:function(){return"Mobi"+this.moduleId+"Calendar"+this.id+"Plugins"},idEndAttr:function(){return"Mobi"+this.moduleId+"Calendar"+this.id+"Plugins_end"}},watch:{addrInfo:function(){this.onTimePickerAddrInfoChange()}},mounted:function(){Mobi.initOrderPropDateType(this.data.options),Mobi.$Bus.$off("onTimePickerAddrInfoChange",this.onTimePickerAddrInfoChange).$on("onTimePickerAddrInfoChange",this.onTimePickerAddrInfoChange)},methods:{onTimePickerAddrInfoChange:function(){var t=i(this.$el).find("input").eq(0),e=i(this.$el).find("input").eq(1);t.length&&t.val(this.initedTimeInfo.s),e.length&&e.val(this.initedTimeInfo.e)},getTimeInfoString:function(){var t=this.$el.querySelectorAll("input"),e=t[0].value||"",i="";return t.length>1&&(i=t[1].value||""),JSON.stringify({s:e,e:i})}},template:"\n\t\t\t\t<div class=\"fk_addrProp_timepicker\">\n\t\t\t\t\t<div :id='idStartAttr' :class='pluginsStartCls' :val='initedTimeInfo.s' ></div>\n\t\t\t\t\t<div :id='idEndAttr' v-show=\"dateType==1\"  class='fk-endDateInput mobiCalendarPlugins'  :val='initedTimeInfo.e' ></div>\n\t\t\t\t</div>\n\t\t\t"}),Vue.component("comp-addrpropitem",{props:{item:Object,isAddAddr:Boolean,addrInfo:Object},data:function(){return{OrderPropTypeDef:Fai.top._OrderPropTypeDef,addrPropList:Fai.top._addrPropList}},computed:{isCusTimeVisibie:function(){return this.addrPropList.length>3||Mobi.isOpenAddrPropByType(this.OrderPropTypeDef.SYS_ADDR)},field:function(){return this.item.fieldKey},isSysMobile:function(){return this.OrderPropTypeDef.SYS_MOBILE===this.item.type},isMobile:function(){var t=this.OrderPropTypeDef;return[t.SYS_MOBILE,t.CUS_MOBILE].includes(this.item.type)},isSysAddr:function(){return this.item.type===this.OrderPropTypeDef.SYS_ADDR},isCusDate:function(){return this.item.type===this.OrderPropTypeDef.CUS_DATE},isSysName:function(){return this.item.type===this.OrderPropTypeDef.SYS_NAME},editField:function(){return"edit_"+this.item.fieldKey},requiredInt:function(){return this.item.required?1:0},orderPropIdAttr:function(){return"orderPropId"+this.item.id}},mounted:function(){!this.isSysAddr&&this.isMobile&&Mobi.siteFormPhoneValidate(this.editField)},methods:{getTimeInfoString:function(){return this.$refs.timepicker.getTimeInfoString()}},template:"\n\t\t\t    <div>\n\n\t\t\t        \x3c!--地址项--\x3e\n\t\t\t\t\t<comp-province-city-county v-if=\"isSysAddr\" :addrInfo=\"addrInfo\"></comp-province-city-county>\n\n\t\t\t        \x3c!--其它项--\x3e\n\t\t\t\t\t<div v-else class='edit_line'>\n\t\t\t        \t\x3c!--项的名称--\x3e\n\t\t\t\t\t    <div class='linetitle'>\n\t\t\t\t\t    \t<span class='editLineItem'>{{item.name}}</span>\n\t\t\t\t\t    </div>\n\n\t\t\t        \t\x3c!--项的值--\x3e\n\t\t\t\t\t\t<div class='wekitBox' :id='orderPropIdAttr'>\n\t\t\t\t\t\t\t\x3c!--姓名--\x3e\n\t\t\t\t\t        <input v-if=\"isSysName\" :_field='field' :id='editField' v-model=\"addrInfo.name\"  :_prop='item.name' class='g_input propItemValue ' :_required='requiredInt' type='text'  :maxlength='item.maxLength' :placeholder='item.placeholderStr' :propType='item.type'/>\n\n\t\t\t\t\t\t\t\x3c!--手机号--\x3e\n\t\t\t\t\t        <input v-else-if=\"isSysMobile\" :_field='field' :id='editField' v-model=\"addrInfo.mobile\"  :_prop='item.name' class='g_input propItemValue' :_required='requiredInt' type='number'  maxlength='11' :placeholder='item.placeholderStr' :propType='item.type'/>\n\n\t\t\t\t\t\t\t\x3c!--日期--\x3e\n\t\t\t\t\t\t\t<template v-else-if=\"isCusDate\">\n\t\t\t\t\t        \t<comp-timepicker v-if=\"isCusTimeVisibie\" ref=\"timepicker\"  :data='item.timePickerData' :addrProp=\"item\" :addrInfo=\"addrInfo\"></comp-timepicker>\n\t\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t\t\x3c!--其他的表单项--\x3e\n\t\t\t\t\t        <input v-else :_field='field' :id='editField'  :_prop='item.name' class='g_input propItemValue ' :_required='requiredInt' type='text' v-model.lazy=\"addrInfo[item.fieldKey]\"  :maxlength='item.maxLength' :placeholder='item.placeholderStr' :propType='item.type'/>\n\t\t\t\t\t    </div>\n\t\t\t\t\t</div>\n\t\t\t    </div>\n\n\t\t\t"}),Vue.component("comp-addredit",{props:{saveBtnText:String,isIntraCity:{required:!0,type:Boolean}},data:function(){var t=this.initFormAddrInfo({addr_info:{}});return{isAddAddr:!1,addrInfoList:Fai.top._addrInfoList,addrPropList:Fai.top._addrPropList,formAddrInfo:t,OrderPropTypeDef:Fai.top._OrderPropTypeDef}},computed:{isVisitor:function(){return 0===Fai.top.sessionMemberId},expressAddrInfoList:function(){return this.combineAddrInfoList.filter((function(t){return!t.addrInfo.isIntraCity}))},intraCityAddrInfoList:function(){return this.combineAddrInfoList.filter((function(t){return t.addrInfo.isIntraCity}))},combineAddrInfoList:function(){return this.addrInfoList.map((function(t,e){return{addrInfo:t,index:e}}))}},mounted:function(){Mobi.$Bus.$off("onAddrEditPageShow",this.onAddrEditPageShow).$on("onAddrEditPageShow",this.onAddrEditPageShow),Mobi.$Bus.$off("onAddrAddPageShow",this.onAddrAddPageShow).$on("onAddrAddPageShow",this.onAddrAddPageShow)},methods:{setTimeInfo:function(){var t=this.formAddrInfo;Array.isArray(this.$refs.timepicker)&&this.$refs.timepicker.forEach((function(e){var i=e.getTimeInfoString();t[e.item.fieldKey]=JSON.parse(i)}))},saveAddrInfo:function(t){t.stopPropagation(),this.isVisitor?this.saveAddrInfoForVisitor():this.saveAddrInfoForMember()},saveAddrInfoForVisitor:function(){var t=this;return this.checkAndSetDataBeforeSave().then((function(){var e=t.getDataForSave().info;t.onSaveSuccess(e)})).catch(this.saveErrorHandler)},onSaveSuccess:function(t){this.isAddAddr?this.onSaveSuccessForAdd(t):this.onSaveSuccessForEdit(t),Mobi.hideAddrOrEditPage(),this.isVisitor&&Mobi.hideAddrListPage()},onSaveSuccessForEdit:function(t){var e=this;Vue.set(Fai.top._addrInfoList,e.editIndex,t),this.isIntraCity?Mobi.$Bus.$emit("onVisitorSaveIntraCityAddr",t,e.editIndex):Mobi.$Bus.$emit("onVisitorSaveExpressAddr",t,e.editIndex)},onSaveSuccessForAdd:function(t){Fai.top._addrInfoList.push(t);var e=Fai.top._addrInfoList.length-1;this.isIntraCity?Mobi.$Bus.$emit("onVisitorSaveIntraCityAddr",t,e):Mobi.$Bus.$emit("onVisitorSaveExpressAddr",t,e)},checkAddrCount:function(){var t=this;return new Promise((function(e,i){if(t.isAddAddr){var o=Fai.top._addrInfoListLimit||30;(t.isIntraCity?t.intraCityAddrInfoList.length>=o:t.expressAddrInfoList.length>=o)?i((function(){Mobi.ing(LS.mallAddrInfoAmountLimit,!0)})):e()}else e()}))},checkForm:function(){var t=this;return new Promise((function(e,o){var n=t.formAddrInfo,a=Mobi.Address.getErrPropWithIng({addrInfo:n,propList:Fai.top._addrPropList});a?o((function(){var t=i("#orderPropId"+a.id+" input")[0],e=i("#orderPropId"+a.id+" select")[0];t?t.focus():e&&e.focus()})):e()}))},setFormAddrInfoPos:function(){var t=this;return new Promise((function(e,i){t.isIntraCity?Mobi.getLocationByAddress(t.formAddrInfo.addr).then((function(i){t.formAddrInfo.addr_info.pos=i,e()}),(function(){i((function(){Mobi.ing("查询不到地址")}))})):e()}))},getDataForSave:function(){var t=this,e=t.editIndex+"",i=this.isIntraCity,o=t.formAddrInfo,n=0,a=!1;i?t.isAddAddr?0===this.intraCityAddrInfoList.length&&(a=!0):a=this.combineAddrInfoList[e].addrInfo.isIntraDefault:t.isAddAddr?0===this.expressAddrInfoList.length&&(n=1):n=this.combineAddrInfoList[e].addrInfo.isDefault;var r={},s=t.formAddrInfo,l=jm("#allArea"),c=!("os"==l.val()||"cn"==l.val());r.isCus=c,o.addr_info.isCus||99e4!==o.addr_info.provinceCode||Vue.set(o.addr_info,"cityCode",990100),r.provinceCode=o.addr_info.provinceCode||-1,r.cityCode=o.addr_info.cityCode||-1,r.countyCode=o.addr_info.countyCode||-1,r.streetCode=o.addr_info.streetCode||-1,r.streetAddr=o.addr_info.streetAddr,s.addr_info=o.addr_info,s.addr=o.addr,s.isDefault=n,s.isIntraDefault=a,s.isIntraCity=i;var d={};return d.opera=t.isAddAddr?"addAddr":"editAddr",d._item=e+"",d.addrInfo=s,{memberInfo:d,info:s}},onAddrEditPageShow:function(t){this.isAddAddr=!1;var e=this.addrInfoList[t];this.editIndex=t,this.setFormAddrInfo(e)},onAddrAddPageShow:function(){this.isAddAddr=!0;var t=this.initFormAddrInfo({addr_info:{}});this.formAddrInfo=t},setFormAddrInfo:function(t){t=Mobi.deepCopy(t),t=this.initFormAddrInfo(t),this.formAddrInfo=t},initFormAddrInfo:function(t){return t.addr=t.addr||"",t.addr_info=Object.assign({cityCode:void 0,countyCode:void 0,isCus:!1,provinceCode:void 0,streetAddr:"",streetCode:void 0},t.addr_info),t},saveErrorHandler:function(t){jm.isFunction(t)?t():console.log("res",t)},checkAndSetDataBeforeSave:function(){var t=this;return t.setTimeInfo(),this.checkAddrCount().then((function(){return t.checkForm()})).then((function(){return t.setFormAddrInfoPos()}))},saveAddrInfoForMember:function(){var t=this;return this.checkAndSetDataBeforeSave().then((function(){var e=t.getDataForSave(),i=e.info,o=e.memberInfo;jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_set&id="+Fai.top.sessionMemberId,data:"info="+jm.encodeUrl(jm.toJSON(o)),error:function(){Mobi.ing(LS.memberProfileError)},complete:function(){},success:function(e){var o=jm.parseJSON(e);o.success?t.onSaveSuccess(i):Mobi.ing(o.msg)}})})).catch(this.saveErrorHandler)}},template:'\n\t\t\t\t<div class=\'addrSettle\'>\n\t\t\t\t\t<div class=\'editPanel\'>\n\t\t\t\t\t\t<div  v-for=\'item in addrPropList\'>\n\t\t\t\t\t\t\t\x3c!--对日期项进行一个特殊处理--\x3e\n\t\t\t\t\t\t\t<comp-addrpropitem v-if="item.type===OrderPropTypeDef.CUS_DATE" ref="timepicker" :isAddAddr="isAddAddr" :addrInfo="formAddrInfo" :item="item"></comp-addrpropitem>\n\t\t\t\t\t\t\t<comp-addrpropitem v-else :isAddAddr="isAddAddr" :addrInfo="formAddrInfo" :item="item"></comp-addrpropitem>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\'g_button orderSaveAddrInfo g_main_bgColor_v3\' @click="saveAddrInfo">{{saveBtnText}}</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t\x3c!--这个要确认废弃才能删除掉<comp-provinceform v-if="isOpenMallTemplate" :provinceText="mobi_mall_Province":addrInfo="formAddrInfo"></comp-provinceform>--\x3e\n\t\t\t    </div>\n\t\t\t'})})),t.initAddrEditPage=function(t){new Vue({el:"#editAddrInfo",data:function(){return t},computed:{isIntraCity:function(){return 3===Fai.top.shipTabListVm.checkedId}},methods:{},template:"\n\t\t\t\t<div id='editAddrInfo' class='modifyProfile J_cusBack'>\n\t\t\t\t    <div class='loginHeader webHeaderBg g_main_bgColor_v3'>\n\t\t\t\t        <span class='g_close icon-gClose'></span>\n\t\t\t\t        <span class='title pageTitle'>{{mobi_editAddrInfo}}</span>\n\t\t\t\t    </div>\n\t\t\t\t    <comp-addredit :isIntraCity=\"isIntraCity\" :saveBtnText=\"mobi_avatarSave\"></comp-addredit>\n\t\t\t\t</div>\n\t\t\t"})},t.initProfileAddrEditPage=function(t){new Vue({el:"#profileAddrEditPage",data:function(){return t},template:"\n\t\t\t    <div id='profileAddrEditPage'>\n\t\t\t\t\t<div id='editAddrInfo' class='modifyProfile J_cusBack'>\n\t\t\t\t\t    <div class='loginHeader webHeaderBg g_main_bgColor_v3'>\n\t\t\t\t\t        <span class='g_close icon-gClose'></span>\n\t\t\t\t\t        <span class='title pageTitle'>{{mobi_editAddrInfo}}</span>\n\t\t\t\t\t    </div>\n\t\t\t\t\t    <comp-addredit :isIntraCity=\"false\" :saveBtnText=\"mobi_avatarSave\"></comp-addredit>\n\t\t\t\t\t</div>\n\t\t\t    </div>\n\n\t\t\t"})},t.initAddrListPage=function(t){Fai.top.addrListPageVm=new Vue({el:"#editCusInfo",data:function(){return Object.assign(t,{addrInfoList:Fai.top._addrInfoList,addrPropInfoList:Fai.top._addrPropInfoList})},computed:{isIntraCity:function(){return 3===(Fai.top.shipTabListVm||{}).checkedId},headerCls:function(){return["loginHeader","webHeaderBg"+(this.openThemeV3?" g_main_bgColor_v3":"")]},listPageData:function(){return{mallShipAddrInfo:this.mallShipAddrInfo,mobi_newAddrInfo:this.mobi_newAddrInfo}},save:function(){this.isAddAddr?this.saveAddrForAdd():this.saveAddrForEdit()},saveAddrForAdd:function(){},saveAddrForEdit:function(){var t;t="edit"==jm(this).attr("class")?jm(this).attr("_index"):jm(this).parent().attr("_item"),window.opera="editAddr";var e=addrInfoListTmp[t];jm("#editAddrInfo").find(".propItemValue").each((function(){var t=jm(this).attr("_field"),i=jm(this).attr("proptype"),o=jm(this).attr("id")||"";if(9==i){var n=e[t];""!=n&&null!=n||(n={});var a=n;if(jm(this).val(a.s),null!=a.e){var r=o.replace("input","")+"_endinput";jm("#"+r).val(a.e)}}else jm(this).val(e[t])}));var i=e.addr_info;null!=i?(i.isCus?(jm("#allArea").val(i.provinceCode),jm("#allArea").change(),jm("#areaBox2 .group_item[cid='"+i.cityCode+"']").click(),jm("#areaBox2 .group_item[cid='"+i.countyCode+"']").click()):(this.getCodeNameMap(e,Lcid),99e4==i.provinceCode?(jm("#areaBoxInput").attr("isOs",1),jm("#allArea").val("os"),jm("#allArea").change()):(jm("#areaBoxInput").attr("isCn",1),jm("#allArea").val("cn"),jm("#allArea").change()),jm("#areaBoxInput").attr("area1",i.provinceCode),jm("#areaBoxInput").attr("area2",i.cityCode),jm("#areaBoxInput").attr("area3",i.countyCode),jm("#areaBoxInput").attr("area4",i.streetCode),jm("#areaBox1 .group_item[pid='"+i.provinceCode+"']").click(),jm("#areaBox1 .group_item[cid='"+i.cityCode+"']").click(),jm("#areaBox1 .group_item[cid='"+i.countyCode+"']").click(),jm("#areaBox1 .group_item[cid='"+i.streetCode+"']").click()),jm("#addrInfo_street").val(i.streetAddr)):jm("#addrInfo_street").val(e.addr)}},mounted:function(){Mobi.$Bus.$off("onAddrListPageShow").$on("onAddrListPageShow",this.onAddrListPageShow)},methods:{onAddrListPageShow:function(){this.goToAddrAddPageWhenAddrEmpty()},getCodeNameMap:function(){var t,e,i,o,n=Fai.top._lcid;return 2052==n||1028==n?(t=site_cityUtil.getInfo(addr_info.streetCode).name,e=site_cityUtil.getInfo(addr_info.countyCode).name,i=site_cityUtil.getInfo(addr_info.cityCode).name,o=site_cityUtil.getInfo(addr_info.provinceCode).name):(t=site_cityUtil.getInfoEn(addr_info.streetCode).name,e=site_cityUtil.getInfoEn(addr_info.countyCode).name,i=site_cityUtil.getInfoEn(addr_info.cityCode).name,o=site_cityUtil.getInfoEn(addr_info.provinceCode).name),{streetName:t,countyName:e,cityName:i,provinceName:o}},gotoAddrAddPage:function(){Mobi.showAddrAddPage()},goToAddrAddPageWhenAddrEmpty:function(){var t=3===(Fai.top.shipTabListVm||{}),e=Fai.top.addrListPageVm.$refs.addrlistpage.$refs.addrinfolist;t?0===e.intraCityAddrInfoList.length&&this.gotoAddrAddPage():0===e.expressAddrInfoList.length&&this.gotoAddrAddPage()}},template:"\n\t\t\t\t<div id='editCusInfo' class='editCusInfo'>\n\t\t\t\t\t<div :class='headerCls'>\n\t\t\t\t\t\t<span class='g_close icon-gClose'></span>\n\t\t\t\t\t\t<span class='title pageTitle'>{{orderModuleName}}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class='orderSettle'>\n\n\t\t\t\t\t\t<div style='display:none'>\n\t\t\t\t\t\t    <div v-for=\"item in viewPropList\">\n\t\t\t\t\t\t\t\t<input v-if=\"item.isCusDate\" :_field='item.field' :id='item.startInputId' :propType=\"item.type\" :_prop='item.itemName' class='g_input propItemValue' :_required=\" (item.required ? 1 : 0) \"/>\n\t\t\t\t\t\t\t\t<input v-if=\"item.isRange\" :_field='item.field' :id='item.endInputId'/>\n\t\t\t\t\t\t\t\t<input v-if=\"!item.isCusDate\" :_field='item.field' :propType=\"item.type\" :_prop='item.itemName' class='g_input propItemValue' :_required='(item.required ? 1 : 0)'/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id='addrInfoList'>\n\t\t\t\t\t\t    <comp-addrlistpage :isIntraCity=\"isIntraCity\" ref=\"addrlistpage\" :data=\"listPageData\"></comp-addrlistpage>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"})},t.initShipListVm=function(t,e){Fai.top.shipListVm=new Vue({el:"#shipListVm",data:function(){return Object.assign({addrInfoList:Fai.top._addrInfoList,addrPropList:Fai.top._addrPropList,checkedAddrIndex:-1,totalPrice:e},t)},computed:{isIntraCity:function(){return 3===(Fai.top.shipTabListVm||{}).checkedId},isExpress:function(){return 1===(Fai.top.shipTabListVm||{}).checkedId},shipLineVm:function(){return this.isIntraCity?this.$refs.intraShipLine:this.isOpenMallTemplate?this.$refs.mallshippaneltpl:this.$refs.shipLine},shipPrice:function(){return this.isMallShipListClose||this.isOpenMallTemplate?0:this.$refs.shipline?this.$refs.shipline.shipPrice:0}},methods:{isCombinedPurchaseFreeShopping:function(){return Fai.top._isCombinedPurchaseFreeShopping},openExpressDelivery:function(){return Fai.top._openExpressDelivery},isMerchantProductExist:function(){return Fai.top._mstlMerchantProductListVm.isMerchantProductExist()},isSelfSaleEmpty:function(){return Fai.top._mstlMerchantProductListVm.isSelfSaleEmpty()}},template:'\n\t\t\t    <div>\n\t\t\t    \t<template v-if="!isSelfSaleEmpty()">\n\t\t\t\t    \t<comp-intra-shipline v-if="isIntraCity" ref="intraShipLine" :data="shipLineData" :totalPrice="totalPrice" class=\'ship_line\'></comp-intra-shipline>\n\t\t\t\t\t\t<comp-shiptplline v-else-if="isExpress && isOpenMallTemplate" ref="mallshippaneltpl" :data="mallShipPanelTplData"></comp-shiptplline>\n\t\t\t\t\t\t<comp-mallship-shipline v-else-if="isExpress && !isOpenMallTemplate" :data="shipLineData" class=\'ship_line\' ref="shipline"></comp-mallship-shipline>\n\t\t\t    \t</template>\n\t\t\t\t\t<comp-merchant-total-ship v-if="isMerchantProductExist() && openExpressDelivery() && !isCombinedPurchaseFreeShopping()"></comp-merchant-total-ship>\n\n\t\t\t\t\t\x3c!--运费模板的ui--\x3e\n\t\t\t        <div v-if="isOpenMallTemplate">\n\t\t\t\t        <div id="mallShipTemplateDetail">\n\t                        <com-shiptemplatedetail :data="mallShipPanelTplData"></com-shiptemplatedetail>\n\t\t\t\t\t\t</div>\n\t\t\t        </div>\n\t\t\t        <div v-else>\x3c!--普通运费的ui--\x3e\n\t\t\t\t\t\t<div id="modifyShipDetailsPanel" style="display:none;">\n\t\t\t\t\t\t    <comp-shipdetail></comp-shipdetail>\n\t\t\t\t\t\t</div>\n\t\t\t        </div>\n\t\t\t    </div>\n\t\t\t'})},t.initProfileAddrListPage=function(t){new Vue({el:"#profileAddrListPage",data:function(){return t},methods:{onClose:function(){jm("#addrInfoList").hide(),jm("#profile").show()},onBackHome:function(){window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"index.jsp"}},template:"\n\t\t\t    <div id='profileAddrListPage' class='profileAddrListPage'>\n\t\t\t\t\t<div id='addrInfoList'  class='J_cusBack modifyProfile'>\n\t\t\t\t\t\t<div class='loginHeader webHeaderBg'>\n\t\t\t\t\t\t\t<span onclick=\"jm('#addrInfoList').hide();jm('#profile').show();\" class='g_close icon-gClose'></span>\n\t\t\t\t\t\t\t<span class='title pageTitle'></span>\n\t\t\t\t\t\t\t<span @click=\"onBackHome\" class='homeIcon icon-homeIcon'></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id='memberDeliveryAddress'>\n\t\t\t\t\t\t    <comp-addrlistpage :isIntraCity=\"false\" :data=\"deliveryAddressData\"></comp-addrlistpage>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t    </div>\n\t\t\t"})}}(Mobi,jm),function(t,e){function i(t,e,i){var o=t.name;return e&&""!=e?t.type===Fai.top._OrderPropTypeDef.CUS_DATE&&""==e.s?(i(jm.format(LS.memberSignupUserAddItemCorrect,o)),!1):a(t,e,i):(i(jm.format(LS.memberSignupUserAddItemCorrect,o)),!1)}function o(t,e){return e[n(t)]}function n(t){var e=Fai.top._OrderPropTypeDef;return t.type===e.SYS_NAME?"name":t.type===e.SYS_EMAIL?"email":t.type===e.SYS_ADDR?"addr":t.type===e.SYS_ZIP?"zip":t.type===e.SYS_PHONE?"phone":t.type===e.SYS_MSG?"msg":t.type===e.SYS_MOBILE?"mobile":(t.type,e.CUS_MOBILE,t.fieldKey)}function a(t,e,i){var o=Fai.top._OrderPropTypeDef,n=t.name,a=t.type,r=e;if(r){if(a==o.SYS_EMAIL||a==o.CUS_EMAIL)if(!jm.isEmail(r))return i(LS.mallStlSubmitInput2+n),!1;if(a==o.SYS_MOBILE&&!jm.isNationMobile(r))return i(LS.mobileNumRegular),!1;if(a==o.CUS_MOBILE)if(!jm.isNationMobile(r))return i(n+LS.mobileNumDefRegular),!1;if(a==o.CUS_IDENTITY)if(!jm.isCardNo(r))return i(LS.mallStlSubmitInput2+n),!1;if(a==o.CUS_DATE){var s=r;if("[object String]"===Object.prototype.toString.call(s)&&(s=jm.parseJSON(s)),1==t.other.dateSetting.type)if("选择日期"==s.s||"开始日期"==s.s||null==s.e)return i(LS.mallStlSubmitInput2+n),!1}}return!0}function r(t,e,i){var o=Fai.top._OrderPropTypeDef;if(t.type==o.SYS_ADDR&&t.required){if(e.isCus){if(!e.provinceCode)return i(LS.mallStlSubmitAddrErr,1),!1}else{if(!e.provinceCode)return i(LS.placeChoiceArea,1),!1;if(99e4==e.provinceCode);else if(!e.cityCode)return i(LS.mallStlSubmitAddrErr,1),!1}if(!e.streetAddr)return i(LS.placeInputDetailedAddress,1),!1}return!0}Mobi.Address={check:function(t){return null===this.getErrProp(t)},checkWithIng:function(t){return t=this.getIngOption(t),this.check(t)},getIngOption:function(t){return Object.assign({_showToast:Mobi.ing},t)},getErrProp:function(t){for(var e=Fai.top._OrderPropTypeDef,n=t.addrInfo,s=t.propList,l=t._showToast||function(){},c=0;c<s.length;c++){var d=s[c],m=o(d,n),p=d.type===e.SYS_ADDR,u=d.flag;if(!(Mobi.checkBit(u,2)?p?r(d,n.addr_info,l):i(d,m,l):p?r(d,n.addr_info,l):a(d,m,l)))return d}return null},getErrPropWithIng:function(t){return t=this.getIngOption(t),this.getErrProp(t)},getPropVal:o,getPropField:n}}(jm),Mobi.createMapAuthSetting=function(){return"<div class='f_mapAuthSetting' id='mapAuthSetting'><div id='mapAuthSettingnBg' style='height:100%;'></div><div class='mapAuthSettingContent'><div class='closeBtn j_mapAuthSettingClose'></div><div class='img'></div><div class='title'>网站想要访问您的地理位置</div><div class='message'>提供您的位置，我们将为您更精确地匹配自提点。</div><div class='btnContain'><div class='cancel j_mapAuthSettingClose'>不允许</div><div class='access j_mapAuthSettingAccess'>好</div></div></div></div>","<div class='f_mapAuthSetting' id='mapAuthSetting'><div id='mapAuthSettingnBg' style='height:100%;'></div><div class='mapAuthSettingContent'><div class='closeBtn j_mapAuthSettingClose'></div><div class='img'></div><div class='title'>网站想要访问您的地理位置</div><div class='message'>提供您的位置，我们将为您更精确地匹配自提点。</div><div class='btnContain'><div class='cancel j_mapAuthSettingClose'>不允许</div><div class='access j_mapAuthSettingAccess'>好</div></div></div></div>"},Mobi.computeSelfRaisingPointAndSortInfo={pointListMap:{}},Mobi.computeSelfRaisingPointAndSort=function(t,e){var i=arguments.length>3?arguments[3]:void 0;function o(){var e=new qq.maps.LatLng(39.984104,116.307503);new qq.maps.Map(document.getElementById("allmap"),{zoom:12,center:e});new qq.maps.Geolocation("TJ7BZ-JZKWD-XZ44I-HEYDM-RDJJJ-WHFVL","fkApp").getLocation((function(e){Mobi.computeSelfRaisingPointAndSortInfo.latCurrent=e.lat,Mobi.computeSelfRaisingPointAndSortInfo.lngCurrent=e.lng;var o="";t.forEach((function(e,i){o+=e.pp.lat+","+e.pp.lng,i!=t.length-1&&(o+=";")})),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mall_h.jsp?cmd=getWafNotCk_getTxMapDistance",data:{startLat:e.lat,startLng:e.lng,destinationsStrs:o},error:function(){},success:function(t){t=jm.parseJSON(t),Mobi.routematrixSuccessCallback.distanceCallBack(t,i)}})}),(function(){Mobi.ing("获取定位失败，如使用微信浏览器请选择其它浏览器打开")}),{failTipFlag:!0})}o(),i||(i=0),Mobi.computeSelfRaisingPointAndSortInfo.pointListMap[i]={},Mobi.computeSelfRaisingPointAndSortInfo.pointListMap[i].pointList=t,Mobi.computeSelfRaisingPointAndSortInfo.pointListMap[i].callback=e},Mobi.routematrixSuccessCallback={baiduCallBack:function(){},translateCallBack:function(t){var e="";t.locations.forEach((function(i,o){e+=i.lat+","+i.lng,o!=t.locations.length-1&&(e+=";")})),jm.ajax({type:"get",url:"https://apis.map.qq.com/ws/distance/v1/?mode=driving&from="+Mobi.computeSelfRaisingPointAndSortInfo.latCurrent+","+Mobi.computeSelfRaisingPointAndSortInfo.lngCurrent+"&to="+e+"&output=jsonp&callback=Mobi.routematrixSuccessCallback.distanceCallBack&key=TJ7BZ-JZKWD-XZ44I-HEYDM-RDJJJ-WHFVL",dataType:"jsonp",jsonpCallback:"Mobi.routematrixSuccessCallback",error:function(){},success:function(){}})},distanceCallBack:function(t,e){e||(e=0);var i=t.result.elements;i&&i.length>0&&(Mobi.computeSelfRaisingPointAndSortInfo.pointListMap[e].pointList.forEach((function(t,e){t.distance=i[e].distance,t.distanceKilometer=(i[e].distance/1e3).toFixed(1)})),Mobi.computeSelfRaisingPointAndSortInfo.pointListMap[e].pointList.sort((function(t,e){return t.distance-e.distance})),Mobi.logDog(201032,4)),Mobi.computeSelfRaisingPointAndSortInfo.pointListMap[e].callback()}},Mobi.openQQMap=function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=new qq.maps.LatLng(39.984104,116.307503),n=(new qq.maps.Map(document.getElementById("allmap"),{zoom:12,center:o}),new qq.maps.Geolocation("TJ7BZ-JZKWD-XZ44I-HEYDM-RDJJJ-WHFVL","fkApp"));n.getLocation((function(o){var n=new qq.maps.LatLng(o.lat,o.lng),a=new qq.maps.LatLng(e.lat,e.lng),r=[a];if(i)qq.maps.convertor.translate(r,3,(function(e){a=e[0];var i="https://apis.map.qq.com/tools/routeplan/eword="+jm.encodeUrl(t);i+="&spointy="+n.lat+"&spointx="+n.lng,i+="&epointy="+a.lat+"&epointx="+a.lng,i+="?referer=fkapp&key=TJ7BZ-JZKWD-XZ44I-HEYDM-RDJJJ-WHFVL",window.location.href=i}));else{var s="https://apis.map.qq.com/tools/routeplan/eword="+jm.encodeUrl(t);s+="&spointy="+n.lat+"&spointx="+n.lng,s+="&epointy="+a.lat+"&epointx="+a.lng,s+="?referer=fkapp&key=TJ7BZ-JZKWD-XZ44I-HEYDM-RDJJJ-WHFVL",window.location.href=s}}),(function(){Mobi.openBaiDuMap(t,e)}),{failTipFlag:!0})},Mobi.openBaiDuMap=function(t,e){var i=new BMap.Map("allmap");i.enableScrollWheelZoom();var o=new BMap.Geolocation;o.enableSDKLocation(),o.getCurrentPosition((function(o){if(this.getStatus()==BMAP_STATUS_SUCCESS){var n=new BMap.Marker(o.point);i.addOverlay(n),i.panTo(o.point);var a="http://api.map.baidu.com/direction?";a+="origin="+o.point.lat+","+o.point.lng,a+="&destination=name:"+jm.encodeUrl(t)+"|latlng:"+e.lat+","+e.lng,a+="&region=北京&mode=driving&output=html",window.location.href=a}else Mobi.ing("定位失败")}),{enableHighAccuracy:!0})},Mobi.initOrderRaisingPanel=function(t,e,i){if("string"==typeof t&&(t=JSON.parse(t)),jm(".shippingItem").hide(),jm("#MDPointInfo").click((function(){var t=!1;i.pt&&1==i.pt||(t=!0),Mobi.openQQMap(e,i,t)})),jm.cookie("_selfRaisingMapAuthSetting")){var o=[t];Mobi.computeSelfRaisingPointAndSort(o,(function(){var t=o[0].distance+"m";o[0].distance>=1e3&&(t=o[0].distanceKilometer+"km");var e=jm("#showPointInfo");e.find(".distance").html(t),e.find(".distanceTipContain").removeClass("noneDistanceTipContain")}))}else{var n={triggerId:"showMapAuth",pageBg:!0,pageHtml:Mobi.createMapAuthSetting(),direction:"bottom",callback:function(){jm(".j_mapAuthSettingAccess").click((function(){jm.cookie("_selfRaisingMapAuthSetting",!0,{path:"/",expires:365}),jm(".j_mapAuthSettingClose").click(),Mobi.initOrderRaisingPanel(t,e,i)}))},closeWebPage:".j_mapAuthSettingClose"};Mobi.initWebPage(n)}},Mobi.addrInfo=function(t){Mobi.addr_info=t},Mobi.initModuleMallAddrInfo=function(){},function(t,e){function i(){var t="unknow";return e("#mallShipTemplate_areaBox").length?t="mallShipTemplate_areaBox":e("#areaBox").length&&(t="areaBox"),{triggerId:"addrLocation",panelId:t,pageBg:!0,direction:"bottom",closeWebPage:"#mallShipTemplate_areaBoxClose"}}Mobi.checkIntraCityAddrSaveWithErrorTip=function(){return!0},Mobi.showRegionPanel=function(){var t=i();Mobi.showPageWithInit(t),e("#"+t.panelId).addClass("webPagePanelShow")},Mobi.hideRegionPanel=function(){var t=i();Mobi.hidePage(t)}}(Mobi,jm),Mobi.isCalTpl=!0,Mobi.initModuleMallShipTemplate=function(t){var e=(t=t||{}).Lcid;site_cityUtil.initProvinces(e);var i=jm("#shipValue").attr("shiptype");jm(".modifyShipDetails .faisco-icons-shape11").each((function(){jm(this).parent().find(".J_shipPrice").attr("shiptype")==i&&jm(this).removeAttr("style").attr("style","margin-right:0.15rem;height:2.5rem;line-height:2.5rem;float:right;").removeAttr("class").attr("class","faisco-icons-right g_color J_selectShip")}))},Mobi.calculateMallShipTplByAddrInfo=function(t){var e=Mobi.getCalculateMallShipTplOptionByAddrInfo(t);Mobi.calculateMallShipTpl(e)},Mobi.getCalculateMallShipTplOptionByAddrInfo=function(t){var e,i=t.addr_info;return i.isCus?[i.provinceCode,i.cityCode,i.countyCode].every((function(t){return t>=0&&(e=t,!0)})):e=99e4===i.provinceCode?i.cityCode||i.provinceCode:i.cityCode,{isStatic:!i.isCus,areaId:e,choiceCurrencyVal:Fai.top._choiceCurrencyVal,pdItemList:Fai.top._contentOrder.itemList,mallStlCalcTotal:Mobi.mallStlCalcTotal}},Mobi.promiseCalculateMallShipTplByAddrInfo=function(t){var e=Mobi.getCalculateMallShipTplOptionByAddrInfo(t);return Mobi.promiseCalculateMallShipTpl(e)},Mobi.promiseCalculateMallShipTpl=function(t){return new Promise((function(e,i){if(Fai.top._isOpenMallTemplate&&t.areaId){var o=t.isStatic,n=t.areaId,a=t.pdItemList||[],r=t.mallStlCalcTotal||function(){};jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mall_h.jsp?cmd=getWafNotCk_getMallShipTplPrice",data:"itemList="+jm.encodeUrl(jm.toJSON(a))+"&isCus="+!o+"&cityCode="+n,error:function(){Mobi.ing("系统错误。"),Mobi.logMonitor(5986,!0)},success:function(t){var o=jm.parseJSON(t);if(o.success){e(o);var n=o.shipPrice||0,a={type:0};a.defaultPrice=n,Mobi.changeShipTplPrice(a),r();var s=jm("#mobiMstlFooterPrice");if(s.length){var l=parseFloat(s.data("balanceprice"))||0,c=n||0;s.text(Fai.top._choiceCurrencyVal+Mobi.calculate(l,c,0).toFixed(2))}}else i(),Mobi.logMonitor(5986,!0),Mobi.ing(o.errMsg)}})}}))},Mobi.calculateMallShipTpl=function(t){Mobi.promiseCalculateMallShipTpl(t)},Mobi.changeShipTplPrice=function(t){var e=jm("#shipPrice").attr("currency");0==t.defaultPrice?jm("#tmpType_"+t.type).text(LS.freeShipping):jm("#tmpType_"+t.type).text(e+t.defaultPrice.toFixed(2)),jm("#tmpType_"+t.type).attr("value",t.defaultPrice.toFixed(2)),jm("#shipValue").attr("shiptype")==t.type&&(jm("#shipPrice").attr("value",t.defaultPrice.toFixed(2)),jm("#shipPrice").text(0==t.defaultPrice?LS.freeShipping:e+t.defaultPrice.toFixed(2)),Fai.top._totalShipVm&&Fai.top._totalShipVm.$forceUpdate(),Mobi.mallStlCalcTotal()),Mobi.recheckItg()},Mobi.onShipTypeChange=function(t){var e=Fai.top._choiceCurrencyVal,i=t,o=parseFloat(jm("#shipPrice").attr("value")),n=parseFloat(jm("#totalValue").text()),a=parseFloat(i.find(".J_shipPrice").attr("value")),r=parseFloat(i.find(".J_shipPrice").attr("shipType")),s=i.find(".J_shipName").text(),l=jm("#shipLine").length>0?e+"0.0":LS.freeShipping;if(jm("#shipPrice").attr("value",a).text(0==a?l:e+a),jm("#shipValue").attr("shiptype",r).text(s+"  "),n=Mobi.calculate(Mobi.calculate(n,o,1),a,0),jm("#totalValue").text(n.toFixed(2)),jm(".f_earnestSale").length>0){var c=jm(".f_earnestSale").find(".innerBottomContain .second"),d=c.html().split(e)[1];c.text(e+Mobi.calculate(Mobi.calculate(d,o,1),a,0)),jm("#totalValue").text(Fai.top._earnestSaleTotalValue)}Mobi.recheckItg()},Mobi.changeShipType=function(){jm(".ShipItem").click((function(){Mobi.onShipTypeChange(jm(this))}))},Mobi.changeBankList=function(){jm(".bankListArea").click((function(){var t=jm(this),e=t.find(".bankItemValue").eq(2).text(),i=t.find(".bankItemValue").eq(0).text(),o=t.find(".bankItemValue").eq(1).text();jm(".orderDetail_line .bankDetailArea").find(".bankItemValue").eq(2).text(e),jm(".orderDetail_line .bankDetailArea").find(".bankItemValue").eq(0).text(i),jm(".orderDetail_line .bankDetailArea").find(".bankItemValue").eq(1).text(o),jm(".modifyBankList .g_close").click()}))},Mobi.getRootFontSize=function(){var t=jm("html").css("font-size");return t=t.substring(0,t.length-2),Number(t)},Mobi.cacheOrderInfo=function(t){localStorage.setItem("orderInfo",t)},Mobi.recheckItg=function(){var t={},e=Fai.top.shipListVm||{};t.order=localStorage.getItem("orderInfo"),t.shipPrice=e.shipPrice||0,t.finalPay=parseFloat(jm("#totalValue").text()),t.itgOff=parseFloat(jm("#offsetMoney").attr("_offsetmoney"));var i=parseFloat(jm("#cartTotalPrice").attr("totalPrice")),o=parseFloat(jm("#couponOffsetMoney").attr("_offsetmoney"));if(o>i&&(o=i),t.couponOff=o,0===t.shipPrice&&(t.shipPrice=parseFloat(jm("#shipPrice").attr("value"))||0),Fai.top._mstlMerchantProductListVm.isMerchantProductExist()&&(t.shipPrice+=Fai.top._mstlMerchantProductListVm.totalShipPrice()),isNaN(t.itgOff)&&(t.itgOff=0),isNaN(t.couponOff)&&(t.couponOff=0),jm.parseJSON(t.order)){t.total=jm.parseJSON(t.order).tempTotalPrice;var n=parseFloat(jm.parseJSON(t.order).tempNeedPayPrice+t.shipPrice-t.couponOff-t.itgOff);t.finalPay=n}else{t.total=parseFloat(jm("#totalValue").text());n=parseFloat(t.total-t.couponOff-t.itgOff);t.finalPay=n}jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=wafNotCk_recheckItg",async:!1,data:t,error:function(){Mobi.ing(LS.js_systemError,!1)},success:function(t){var e=jm.parseJSON(t);if(e.success&&null!=e.rtData.maxUse&&void 0!==e.rtData.maxUse){jm("#canUse").text(e.rtData.maxUse);var i=Mobi.calculate(e.rtData.maxUse,e.rtData.needItg,3);jm("#itgOffsetMoney").text(i),jm("#itgOffsetMoney").attr("_offsetmoney",i),jm("#useItg").attr("_maxuse",e.rtData.maxUse),jm("#useItgLine .jz-switch").removeClass("jz-switch-checked"),jm("#useItg").val(0),jm("#useItg").trigger("change"),Mobi.mallStlCalcTotal()}}})},function(){var t={};function e(){return{triggerId:"callCoupon",panelId:"couponUseListPanel",callback:function(){Mobi.fixTouchPenetrate("callCoupon","couponUseListPanel")},closeWebPage:"#couponUseListPanel .g_close",direction:"bottom",pageBg:!0}}Mobi.initUseCoupon=function(e){this.selectCoupon={},t.couponList=e,t.couponColorList=["red","orange","yellow","green","blue","pink","purple"],function(t){Mobi.defaultCouponSelect=-1;var e=parseFloat(jm("#cartTotalPrice").attr("totalPrice"));if("undefined"!=t&&0!=t.length){var i=t[0];if("undefined"!=i){Mobi.defaultCouponSelectId=i.cdId;var o=i.savePrice,n=i.orderMinPrice;jm("#couponOffsetMoney").text(jm.format(LS.settlementCoupon,o,n)),jm("#couponOffsetMoney").attr("_offsetmoney",o),Mobi.selectCoupon.saveMoney=o,Mobi.selectCoupon.id=i.cdId,Mobi.selectCoupon.orderMinPrice=i.orderMinPrice;var a=jm("#useItg");if(e-o<=0)a.val(0),jm("#itgOffsetMoney").text("0.00"),jm("#canUse").text(0);else{var r=parseInt(a.attr("_needitg")),s=parseInt(a.attr("_maxuse")),l=Math.floor((e-o)*r);l<s&&(s=l),jm("#canUse").text(s),jm("#itgOffsetMoney").text((s/r).toFixed(2))}Mobi.mallStlCalcTotal()}else Mobi.selectCoupon={}}else jm("#showCouponCount").css("display","inline-block")}(e),Mobi.onTouchAndClickEvent("#couponLine",(function(){Mobi.showCouponPanel()})),Mobi.recheckItg()},Mobi.initCouponPanel=function(t){new Vue({el:"#couponListPanel",data:function(){return{couponList:t,currencyVal:Fai.top._choiceCurrencyVal}},computed:{LS:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return LS})),defaultCouponSelectId:function(){return Mobi.defaultCouponSelectId}},mounted:function(){var t=this;Vue.nextTick((function(){var e="";t.couponList[0]&&(e=t.genSavePrice(t.couponList[0])),Mobi.changeCheckButtonRight(Mobi.defaultCouponSelectId,e,t.couponList[0])}))},methods:{genSavePrice:function(t){return t.noMoneyLimit?"无门槛，减"+this.currencyVal+t.savePrice:"满"+this.currencyVal+t.orderMinPrice+"减"+this.currencyVal+t.savePrice},genItemCls:function(t){return this.defaultCouponSelectId===t.cdId?"faisco-icons-right couponCheckBox g_color g_main_color_v3":"faisco-icons-shape11 couponCheckBox"},onItemClick:function(t,e){var i="";e&&(i=this.genSavePrice(e)),Mobi.changeCheckButtonRight(t,i,e),Mobi.defaultCouponSelectId=t},stopPropagation:function(){return!1}},template:"\n\t\t\t\t<div class='couponUseListPanel' id='couponUseListPanel' style=\"display:none\">\n\t\t\t\t\t<div style='position: absolute;bottom: 0;width: 100%;z-index:999;' @click=\"stopPropagation\">\n\t\t\t\t\t\t<div class='couponListTitle'>{{LS.coupon}}</div>\n\t\t\t\t\t\t<div class='couponUseListContent' id='couponUseListContent'>\n\t\t\t\t\t\t\t<div id='couponListItems' style='max-height:10rem; overflow: auto;'>\n\t\t\t\t\t\t\t\t<div class='couponListContainer'>\n\t\t\t\t\t\t\t\t\t<div class='couponUseListItem J_couponItem' v-for='item in couponList' :couponId='item.cdId' @click=\"onItemClick(item.cdId, item)\" >\n\t\t\t\t\t\t\t\t\t\t<span>{{genSavePrice(item)}}</span>\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t<div :class=\"genItemCls(item)\" :order_min_price='item.orderMinPrice' :coupon_value='item.savePrice' :id='(\"selectBtn\"+item.cdId)'  ></div>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class='couponUseListItem' couponId='-1' style='margin-bottom:3rem;' @click=\"onItemClick(-1)\">\n\t\t\t\t\t\t\t\t\t\t<span>{{LS.doNotUsed}}</span>\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t<div class='faisco-icons-shape11 couponCheckBox' id='selectBtn-1' order_min_price ='-1'  coupon_value='-1' couponId='-1'></div>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t   </div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t"})},Mobi.changeCheckButtonRight=function(t,e,i){var o=parseFloat(jm("#cartTotalPrice").attr("totalPrice"));if(jm("#couponUseListPanel .faisco-icons-right").each((function(t,e){jm(e).removeClass().addClass("faisco-icons-shape11").addClass("couponCheckBox")})),jm("#selectBtn"+t).hasClass("faisco-icons-right"))jm("#selectBtn"+t).removeClass().addClass("faisco-icons-shape11").addClass("couponCheckBox");else{jm("#selectBtn"+t).removeClass().addClass("faisco-icons-right").addClass("couponCheckBox").addClass("g_color g_main_color_v3");var n=jm("#selectBtn"+t).attr("coupon_value");if(null!=n&&-1!=n){if(n>o&&(n=o),(i=i||{}).appointProduct){var a=localStorage.getItem("orderInfo")||"{}";a=JSON.parse(a);var r,s=0,l=(i.other||{}).productIdList||[],c=_createForOfIteratorHelper(a.itemList||[]);try{for(c.s();!(r=c.n()).done;){var d=r.value,m=d.productId;l.includes(m)&&(s+=d.cPrice*d.amount)}}catch(t){c.e(t)}finally{c.f()}n>s&&(n=s)}jm("#couponOffsetMoney").text(e),jm("#couponOffsetMoney").attr("_offsetmoney",n),Mobi.selectCoupon.saveMoney=n,Mobi.selectCoupon.id=t,jm("#showCouponCount").hide()}else jm("#couponOffsetMoney").text(LS.notUse),jm("#couponOffsetMoney").attr("_offsetmoney",""),jm("#showCouponCount").css("display","inline-block"),Mobi.selectCoupon={};var p=jm("#useItg");null!=n&&-1!=n||(n=0);var u=parseInt(p.attr("_needitg")),f=parseInt(p.attr("_maxuse")),h=Math.floor((o-n)*u);h<f&&(f=h),jm("#canUse").text(f);var g=(f/u).toFixed(2);jm("#itgOffsetMoney").text(g),jm("#useItgLine #offsetMoney").hasClass("jz-switch-checked")?(jm("#offsetMoney").attr("_offsetmoney",g),p.val(f)):(jm("#offsetMoney").attr("_offsetmoney",0),p.val(0))}jm("#webPagePanelcouponLine .webPagePanelBg").css("display","none"),jm("#couponUseListPanel").removeClass("webPagePanelShow"),jm("#g_body").attr("style",""),Mobi.mallStlCalcTotal(),Mobi.recheckItg()},Mobi.showCouponPanel=function(){var t=e();Mobi.showPageWithInit(t)},Mobi.hideCouponPanel=function(){var t=e();Mobi.hidePage(t)}}(Mobi,jm),Mobi.setUseIntegral=function(){jm.os.supportsTouch?jm("#editUseItgPanel .g_button").off("touchend").on("touchend",(function(){setTimeout((function(){Mobi.initPresentIpt()&&jm("#editUseItgPanel .g_close").click()}),300)})):jm("#editUseItgPanel .g_button").off("mousedown").on("mousedown",(function(){Mobi.initPresentIpt()&&jm("#editUseItgPanel .g_close").click()})),jm.os.supportsTouch?jm("#editUseItgPanel .notUseBtn").off("touchend").on("touchend",(function(){setTimeout((function(){jm("#offsetMoney").attr("_offsetmoney","0"),jm("#useItg").val("0"),Mobi.initPresentIpt(),Mobi.mallStlCalcTotal(),jm("#editUseItgPanel .g_close").click()}),300)})):jm("#editUseItgPanel .notUseBtn").off("mousedown").on("mousedown",(function(){jm("#offsetMoney").attr("_offsetmoney","0"),jm("#useItg").val("0"),Mobi.initPresentIpt(),Mobi.mallStlCalcTotal(),jm("#editUseItgPanel .g_close").click()}))},Mobi.mallStlCalcTotal=function(){var t=parseFloat(jm("#cartTotalPrice").attr("totalPrice"));if(!isNaN(t)){var e=jm("#cartTotalPrice").attr("useCurrencyWithNoDecimal"),i=parseFloat(jm("#shipPrice").attr("value"))||0;if(Fai.top._mstlMerchantProductListVm.isMerchantProductExist()&&(i+=Fai.top._mstlMerchantProductListVm.totalShipPrice()),isNaN(i)&&(i=0),jm("#mallShipTemplate_province").length>0){var o=jm("#shipValue");o.attr("provinceCode",jm("#mallShipTemplate_areaBoxInput").attr("area1")),o.attr("cityCode",jm("#mallShipTemplate_areaBoxInput").attr("area2")),o.attr("countyCode",jm("#mallShipTemplate_areaBoxInput").attr("area3")),o.attr("streetCode",jm("#mallShipTemplate_areaBoxInput").attr("area4"));var n=jm("#shipValue").attr("shiptype")}else if(1==jm("#mallShip").length){n=jm("#shipValue").attr("shiptype");jm("#mallShip").attr("shipType",n)}var a=0;if(jm("#offsetMoney").length>0){var r=jm("#offsetMoney").attr("_offsetmoney");if(!isNaN(r)&&!Mobi.isNull(r)&&t+i<(a=parseFloat(r))){Mobi.ing(jm.format(LS.integral_maxUse,jm("#useItg").attr("_maxuse"),jm.encodeHtml(jm("#useItg").attr("_itegName"))));var s=(t+i).toFixed(2);return"true"==e&&(s=Math.ceil(s).toFixed(2)),void module.find(".mallStlTotal .totalValue").text(s)}}if(Mobi.selectCoupon&&"id"in Mobi.selectCoupon&&Mobi.selectCoupon.id)a+=Number(Mobi.selectCoupon.saveMoney);var l=parseInt(jm("#presentItg").attr("value"));jm("#mallShipCount").text(i.toFixed(2));s=(t+i-a).toFixed(2);if("true"==e&&(s=Math.ceil(s).toFixed(2)),jm("#selfRaisingMsg").length>0&&"none"!==jm("#selfRaisingMsg").css("display")&&jm("#shipPrice").length>0&&(s=Mobi.calculate(s,jm("#shipPrice").attr("value"),1)),jm(".f_earnestSale").length>0&&(s=(s-i).toFixed(2),Fai.top._earnestSaleTotalValue=s),s=parseFloat(s)||0,jm("#totalValue").text(s.toFixed(2)),l>0&&0==jm(".f_earnestSale").length){var c=parseInt((t-a).toFixed(2)*l);c<0&&(c=0),jm("#presentItg").text(c)}var d=parseFloat(jm("#cartTotalPrice").attr("saleSaveMoney")),m=jm("#couponOffsetMoney").attr("_offsetmoney");m=parseFloat(void 0===m||null==m||""==m?0:m);var p=jm("#offsetMoney").attr("_offsetmoney"),u=d+m+(p=parseFloat(void 0===p||null==p||""==p?0:p));jm("#saleSavePrice").text(u.toFixed(2)),0==u?jm(".sale_price").hide():jm(".sale_price").show()}},Mobi.editInfoSave=function(t){var e,i=jm(".editPanel"),o=new Array,n=!1,a={},r={};if(i.find(".propItemValue").each((function(){var t=jm(this).val(),a=jm(this).attr("id"),s=jm(this).attr("_field"),l=jm(this).attr("proptype"),c=jm(this).attr("_prop");if((1==jm(this).attr("_required")||"true"==jm(this).attr("_required"))&&!t&&!n)return e=LS.mallStlSubmitInput+jm(this).attr("_prop"),Mobi.ing(e),jm("#"+a).trigger("focus"),n=!0,!1;if(t&&t.length>0){if(8==l&&!jm.isNationMobile(t))return e=LS.mobileNumRegular,Mobi.ing(e),jm("#"+a).trigger("focus"),n=!0,!1;if(10==l&&!jm.isNationMobile(t))return e=c+LS.mobileNumDefRegular,Mobi.ing(e),jm("#"+a).trigger("focus"),n=!0,!1;if((3==l||12==l)&&!jm.isEmail(t))return e=LS.mallStlSubmitInput2+jm(this).attr("_prop"),Mobi.ing(e),jm("#"+a).trigger("focus"),n=!0,!1;if(11==l&&!jm.isCardNo(t))return e=LS.mallStlSubmitInput2+jm(this).attr("_prop"),Mobi.ing(e),jm("#"+a).trigger("focus"),n=!0,!1;var d={};if(9==l){if(t.length>0){d.s=t;var m=a.replace("input","")+"_endinput",p=i.find("#"+m);if(p.length>0){var u=p.val();if(""==u)return e=LS.mallStlSubmitInput2+jm(this).attr("_prop"),Mobi.ing(e),n=!0,!1;d.e=u}}t=d}}if(void 0!==s){var f={};f.field=s,f.value=t,f.type=l,f.name=c,o.push(f),r[s]=t}})),!n){var s="",l=1==jm("#mallShipTemplate_province").length;if(l){var c=parseInt(jm("#mallShipTemplate_areaBoxInput").attr("area2")),d=parseInt(jm("#mallShipTemplate_areaBoxInput").attr("isCus"));if(isNaN(c)&&!d)return Mobi.ing(LS.mallStlSubmitAddrErr),!1;s=2052==Fai.top._lcid||1028==Fai.top.lcid?jm("#mallShipTemplate_areaBoxInput").val().replace(/-/g,"")+jm("#edit_addrDetal").val():jm("#mallShipTemplate_areaBoxInput").val().replace(/-/g," ")+" "+jm("#edit_addrDetal").val()}if(1==jm("#allArea").length){s="";var m=jm("#areaBoxInput"),p=jm("#addrInfo_street"),u=parseInt(m.attr("area2")),f=parseInt(m.attr("area1")),h=parseInt(m.attr("area3")),g=parseInt(m.attr("area4")),v=parseInt(m.attr("isCus")),b="1"==p.attr("_required");if(b&&isNaN(f))return Mobi.ing(LS.mallStlSubmitAddrErr),!1;if(b&&isNaN(u)&&!v)return Mobi.ing(LS.mallStlSubmitAddrErr),!1;s=2052==Fai.top._lcid||1028==Fai.top.lcid?m.val().replace(/-/g,"")+jm("#addrInfo_street").val():m.val().replace(/-/g," ")+" "+jm("#addrInfo_street").val(),isNaN(u)&&(u=-1),isNaN(h)&&(h=-1),isNaN(g)&&(g=-1),0!=t&&(a.provinceCode=f,a.cityCode=u,a.countyCode=h,a.streetCode=g,a.streetAddr=p.val(),a.isCus=!!v,r.addr_info=a,r.addr=s,r.isDefault=1);var _={field:"addr"};_.value=s,o.push(_),r.addr=s}if(0!=t){var j={opera:"addAddr"};j.addrInfo=r,jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/member_h.jsp?cmd=setWafCk_set&id="+t,data:"info="+jm.encodeUrl(jm.toJSON(j)),success:function(){},error:function(){Mobi.ing(LS.js_systemError)}})}if(jm(".assignItem_line").length<1){var M="",y="",w="",S="";if(jm(".orderAssign_line .shipTopBg:last-child").remove(),0!=jm("#allArea").length||l){M+="<div class='assignItem_line' id='assignItemline'>",M+="<div class='receiverLine'>",M+="<span class='icon-toAddrListArrow'></span>";var I=!1;jm.each(o,(function(t){if("name"===o[t].field)M+="<span class='addr_value flex1 info_"+o[t].field+"' id='info_"+o[t].field+"'>"+(o[t].value||"")+"</span>";else if("mobile"===o[t].field){if(I)return;I=!0,M+="<span class='addr_value flex1 info_phone' id='info_phone'>"+o[t].value+"</span>"}else"addr"===o[t].field&&(y=o[t].value,w=o[t].field)})),M+="</div>",M+="<div class='item_value flex1'>",M+="<span class='icon-addrSelected'></span>",""!=y&&""!=w?S=y:""!=s&&(S=s),M+="<span class='info_addr' id='info_addr'>"+(S||"")+"</span>",M+="</div>",M+="</div>"}else{var C=1;M+="<div class='assignItem_line' id='assignItemline'  style='background-color:#fafafa;'></div>",M+="<div id='noAddrListInfo' style='background-color:#fafafa;'>",M+="\t<div class='noAddrPanel'>",jm.each(o,(function(t){if(!(C>3)&&null!=o[t].field&&""!=o[t].field&&null!=o[t].field){M+="<div class='noAddrLine'><span style='color:#333'>"+o[t].name+"：</span>";var e=o[t].value;if(9==o[t].type&&null!=e){var i=e;null!=i.s&&(e=i.s,null!=i.e&&(e+=" "+LS.to+" "+i.e))}M+="<span class='noAddr_prop' propType='"+o[t].type+"' id='info_"+o[t].field+"'>"+e+"</span>",C++,M+="</div>"}})),C>3&&(M+="<span class='icon-rightIcon rightToward'></span>"),M+=" </div>"}M+="<div class='shipTopBg'></div>",jm("#linetitle1").removeClass("noAddrMsgList"),jm(".orderAssign_line").append(M),(Fai.top._templateFrameId>=2e3&&Fai.top._templateFrameId<3e3||Fai.top._openThemeV3)&&jm("#assignItemline").off("click.mall").on("click.mall",(function(){jm("#linetitle1").click()}))}else{0==jm("#allArea").length&&jm(".noAddrPanel .noAddr_prop").each((function(){var t=jm(this).attr("id"),e=jm(this).attr("proptype"),i=t.replace("info_",""),o=r[i];if(null!=e&&9==e&&""!=o){var n=o;null!=n.s&&(o=n.s,null!=n.e&&(o+=" "+LS.to+" "+n.e))}jm("#"+t).text(o)}));var P=jm(".assignItem_line");P.find("#info_name").text(""),P.find("#info_phone").text(""),P.find("#info_addr").text(""),r.name&&P.find("#info_name").text(r.name),r.mobile&&P.find("#info_phone").text(r.mobile),r.addr&&P.find("#info_addr").text(r.addr)}jm("#editCusInfo .g_close").click()}},Mobi.mallConfirmImSettle=function(t,e,i,o,n,a,r,s,l,c,d,m){var p=jm(jm(".J_productName")[0]).html(),u=jm("#totalImUseItg").html(),f=jm("#integralMallDeduction").attr("_itgName")||"",h=jm("#integralMallDeduction").attr("_integtalMallType")||0,g=parseFloat(jm("#totalValue").html());isNaN(g)&&(g=0),0==h?Mobi.logDog(200978,3):Mobi.logDog(200978,1);c={textClass:"confirm",content:"确定使用"+(g>0?Fai.top._choiceCurrencyVal+g.toFixed(2)+"+":"")+u+jm.encodeHtml(f)+(g<=0?"兑换":"换购")+p+"吗？",callback:function(){Mobi.mallSubmit(t,e,i,o,n,a,r,s,l,c,d,m)}};Mobi.prompt(c)},Mobi.mallConfirmEsSettle=function(t,e,i,o,n,a,r,s,l,c,d,m){if(jm("#earnestSaleSwitch")[0].checked)Mobi.mallSubmit(t,e,i,o,n,a,r,s,l,c,d,m);else{c={textClass:"confirm",content:"购买预售商品，定金不退还，是否继续下单？",callback:function(){jm("#earnestSaleSwitch")[0].click(),Mobi.mallSubmit(t,e,i,o,n,a,r,s,l,c,d,m)}};Mobi.prompt(c)}},Mobi.mallSubmiting=!1,Mobi.checkMallSubmitForIntraCityShip=function(){return new Promise((function(t,e){if(3===(Fai.top.shipTabListVm||{}).checkedId){if(Fai.top.intraCityShipTimePanelVM){var i=Fai.top.intraCityShipTimePanelVM;if(Fai.top.intraCityShipTimePanelVM.isOpenTimeSetting){if(0===i.savedValues.length)return e((function(){Mobi.ing("请选择送达时间")}));if(i.timeList[i.savedValues[2]].timestamp<(new Date).getTime())return e((function(){Mobi.ing("当前送达时间已过期，请重新选择")}))}}t()}else t()}))},function(t,e){function i(t){return new Promise((function(i,o){var n=Fai.top.shipTabListVm||{},a=3===n.checkedId?Fai.top.intraCityShipPanelVm.addrInfo:Fai.top.mallShipPanelVm.addrInfo;if(a){if(a=a||{},a=Mobi.deepCopy(a),[0].includes(n.checkedId)&&Fai.top._addrPropList.filter((function(t){return 9===t.type})).forEach((function(t){if(""==a[t.fieldKey]){var i=e("#orderPropId"+t.id),o=i.find(".fk-datePickStart").val(),n=i.find(".fk-datePickEnd").val();a[t.fieldKey]={s:o,e:n}}})),!Mobi.Address.checkWithIng({addrInfo:a,propList:Fai.top._addrPropList}))return o();var r=a;if(Mobi.addr_info=a.addr_info,Fai.top._addrPropList.forEach((function(e){if(e.type===Fai.top._OrderPropTypeDef.SYS_NAME)t.name=r.name||"";else if(e.type===Fai.top._OrderPropTypeDef.SYS_MOBILE)t.mobile=r.mobile||"";else if(e.type===Fai.top._OrderPropTypeDef.SYS_EMAIL)t.email=r.email||"";else if(e.type===Fai.top._OrderPropTypeDef.SYS_ADDR)t.addr=r.addr||"";else if(e.type===Fai.top._OrderPropTypeDef.SYS_PHONE)t.phone=r.phone||"";else if(e.type===Fai.top._OrderPropTypeDef.CUS_DATE){var i="string"===Mobi.typeOf(r[e.fieldKey]);t[e.fieldKey]=i?r[e.fieldKey]||"":JSON.stringify(r[e.fieldKey])}else t[e.fieldKey]=r[e.fieldKey]||""})),(2052==Fai.top._lcid||1028==Fai.top.lcid)&&Mobi.addr_info&&!Mobi.addr_info.isCus){var s=Mobi.addr_info.cityCode,l=Mobi.addr_info.countyCode,c=Mobi.addr_info.streetCode;s=parseInt(s)||-1,l=parseInt(l)||-1,c=parseInt(c)||-1;var d=s>0&&""==site_cityUtil.getInfo(s+"").name,m=l>0&&""==site_cityUtil.getInfo(l+"").name,p=c>0&&""==site_cityUtil.getInfo(c+"").name;if(d||m||p)return o((function(){Mobi.ing("您的地址已过期，请更新地址后重新提交订单")}))}var u={};void 0!==Mobi.addr_info&&null!=Mobi.addr_info&&(u={provinceCode:parseInt(Mobi.addr_info.provinceCode)||-1,cityCode:parseInt(Mobi.addr_info.cityCode)||-1,countyCode:parseInt(Mobi.addr_info.countyCode)||-1,streetCode:parseInt(Mobi.addr_info.streetCode)||-1,streetAddr:Mobi.addr_info.streetAddr||"",isCus:Mobi.addr_info.isCus||!1});var f=jm("#areaBoxInput");if(null==t.addr&&1==f.length){var h="";h=2052==Fai.top._lcid||1028==Fai.top.lcid?f.val().replace(/-/g,"")+jm("#addrInfo_street").val():f.val().replace(/-/g," ")+" "+jm("#addrInfo_street").val(),t.addr=h,u={provinceCode:parseInt(f.attr("area1"))||-1,cityCode:parseInt(f.attr("area2"))||-1,countyCode:parseInt(f.attr("area3"))||-1,streetCode:parseInt(f.attr("area4"))||-1,streetAddr:jm("#addrInfo_street").val(),isCus:1==parseInt(f.attr("isCus"))}}if(Fai.top._isOpenMallTemplate&&1===n.checkedId){r.addr_info.isCus||99e4===r.addr_info.provinceCode&&(r.addr_info.cityCode=990100);var g={provinceCode:parseInt(r.addr_info.provinceCode),cityCode:parseInt(r.addr_info.cityCode),countyCode:parseInt(r.addr_info.countyCode),streetCode:parseInt(r.addr_info.streetCode),isCus:r.addr_info.isCus,streetAddr:r.addr_info.streetAddr};t.shipType=g}else t.addrInfo=JSON.stringify(u),t.shipType=parseInt(jm("#shipValue").attr("shipType"));t.isTakingPoint=!1,i()}else Mobi.ing(LS.mall_chooseAddress,!0)}))}function o(t){return new Promise((function(e,i){var o=Fai.top.shipTabListVm||{};if((void 0===o.checkedId||1===o.checkedId||0===o.checkedId)&&Fai.top._mallMerchantsOpen&&Fai.top._mstlMerchantProductListVm.getMerchantsShipList().length>0){var n,a=Fai.top._mstlMerchantProductListVm.getMerchantsShipList();if(Fai.top._mstlMerchantProductListVm.isMerchantExpire())return i((function(){Mobi.ing("订单中有店铺没有在营业中")}));if(t.other||(t.other={}),t.other.merchantsShipList=[],Fai.top._mstlMerchantProductListVm.isSelfSaleEmpty()||t.other.merchantsShipList.push({mctId:0,shipType:t.shipType,remark:t.msg}),a.length>0)(n=t.other.merchantsShipList).push.apply(n,_toConsumableArray(a))}e()}))}Mobi.memberDepositPayNeedLeadHandler=function(t,e){return 15==t&&!e&&(Mobi.prompt({textClass:"goSetting",content:"未设置交易密码，无法正常使用余额支付！",callback:function(){location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"depositPwd.jsp"}}),!0)},Mobi.mallSubmit=function(t,e,i,o,n,a,r,s,l,c,d,m){if(i||0!==t){r=r||{},c=c||{},d=d||{},m=m||{};var p=jm("#mstlBtn"),u={};!function(t){if(Mobi.orderLvMessageOpen){var e=jm("#orderLeveaMsgIn").val()||"";e.length>Mobi.orderLvMessageMaxNum&&(e=e.substring(0,Mobi.orderLvMessageMaxNum)),t.msg=e}else t.msg=""}(u),Mobi.checkAndSetDataAttrForShipMode(u).then((function(){return function(t){return new Promise((function(e,i){var o=jm("#onlineBankType"),n=0;return 1==o.length&&((n=parseInt(o.attr("_paymode")))<=2||n>=300)&&(t.payMode=n),0==o.length?i((function(){jm(".f_earnestSale").length>0?Mobi.ing("商家尚未设置线上支付方式，请联系商家"):Mobi.ing(LS.unPaidTips)})):isNaN(n)?i((function(){Mobi.ing(LS.mallStlPayOnlineType)})):(1==o.length&&n>2&&n<300&&(9!=(n=parseInt(o.attr("_paymode")))&&8!=n&&7!=n&&(t.payBankType=parseInt(o.attr("_type"))),t.payMode=parseInt(o.attr("_paymode"))),void e())}))}(u)})).then((function(){return function(t){return new Promise((function(e,i){var o=jm("#useItg");if(o.length>0){var n=o.val();if(jm.isInteger(n)){var a=parseInt(o.attr("_maxUse")),r=parseInt(o.attr("_currentitg")),s=o.attr("_itegName");if(n>r)return i((function(){Mobi.ing(jm.format(LS.integral_notOverCurrent,jm.encodeHtml(s),jm.encodeHtml(s))),o.focus()}));if(n>a)return i((function(){Mobi.ing(jm.format(LS.integral_notOver,jm.encodeHtml(s),a)),o.focus()}));if(n<0)return i((function(){Mobi.ing(LS.integral_inputInteger),o.focus()}));t.useItg=parseInt(n)}}e()}))}(u)})).then((function(){!function(t){jm("#presentItgShow").length>0&&(t.presentItg=!0)}(u),function(t){Mobi.selectCoupon&&"id"in Mobi.selectCoupon&&Mobi.selectCoupon.id&&(t.cdId=Number(Mobi.selectCoupon.id))}(u)})).then((function(){var e=function(t,e,i){var o="orderId="+t;e&&(o=window.self!=window.top&&/(iPhone|iPad|iPod|safari)/i.test(navigator.userAgent.toLowerCase())?"imme=true&immeData="+jm.encodeUrl(jm.toJSON(i)):"imme=true");return o}(t,i,a);p.attr("disabled","disabled"),Mobi.ing(LS.mallStlSubmitting,-1);var l=jm("#onlineBankType").attr("_paymode");!i&&o.length>0?jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=delWafCk_delItem&orderId="+t,data:"itemIds=["+o+"]",error:function(){Mobi.ing(LS.mallCartUpdateError)},success:function(o){(o=jm.parseJSON(o)).success?Mobi.ajaxSettleOrder(e,u,n,i,l,t,r,s,c,d,m):-9==o.rt?(Mobi.ing(LS.mallStlSubmitStatusError),setTimeout((function(){window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"mcart.jsp"}),2e3)):Mobi.ing(LS.mallStlSubmitError)}}):Mobi.ajaxSettleOrder(e,u,n,i,l,t,r,s,c,d,m)})).catch((function(t){jm.isFunction(t)?t():console.log("res",t)})).finally((function(){p[0].disabled=!1}))}else Mobi.ing("您目前处于管理状态，您的订单为示例数据。")},Mobi.checkAndSetDataAttrForShipMode=function(t){var e=Fai.top.shipTabListVm||{},n=0===e.checkedId||1===e.checkedId,a=2===e.checkedId,r=3===e.checkedId;return n?i(t).then((function(){return o(t)})):a?function(t){return new Promise((function(e,i){var o=Fai.top._order,n=o.tmpImmeData&&o.tmpImmeData.isCgOrder,a=jm("#selfRaisingMsgName").val(),r=jm("#selfRaisingMsgPhone").val(),s=jm("#selfRaisingPoint").attr("_pointId"),l=Mobi.SelfRaisingList;if(""==a)return i((function(){Mobi.ing("请输入提货人姓名。")}));if(t.name=a,""==r)return i((function(){Mobi.ing("请输入自提人手机号码。")}));if(!(jm.isPhone(r)&&r.length>=7&&r.length<=11))return i((function(){Mobi.ing("请输入7~11位正确的手机号。")}));if(t.mobile=r,n){var c=Fai.top.communityGroup.grouperInfo||{},d={prc:c.provinceCode,cic:c.cityCode,coc:c.countyCode,sta:c.communityAddr},m={};m.name=c.name,m.rai=d,m.ais=c.provinceCityCountyStr+c.communityAddr+c.pickupAddr,m.phone=c.mobile,m.pp=c.other.p||{},m.icg=!0,t.addrInfo='{"srp":'+JSON.stringify(JSON.stringify(m))+"}"}else{if(0==l.length)return i((function(){Mobi.ing("商家未设置自提点，请联系商家。")}));if(!(s>0))return i((function(){Mobi.ing("自提点信息错误，请联系管理员。")}));for(var p=0;p<l.length;p++)if(l[p].id==s){t.addrInfo='{"srp":'+jm.toJSON(jm.toJSON(l[p]))+"}";break}}t.isTakingPoint=!0,e()}))}(t):r?i(t).then((function(){return Mobi.checkMallSubmitForIntraCityShip()})).then((function(){!function(t){var e=Fai.top.intraCityShipPanelVm.addrInfo,i=Fai.top._intraCityShipConf,o=i.ail||[],n={};o.length>0&&(n=o[0].ma.setting.loc||{});var a={provinceCode:parseInt(e.addr_info.provinceCode),cityCode:parseInt(e.addr_info.cityCode),countyCode:parseInt(e.addr_info.countyCode),streetCode:parseInt(e.addr_info.streetCode),streetAddr:e.addr_info.streetAddr,isCus:e.addr_info.isCus};if(1===i.ts.ota){var r=intraCityShipTimePanelVM.checkedTimeItem,s=Mobi.DateUtil.format(new Date(r.timestamp),"YYYY-MM-DD")||"";a.icsd={st:s,tst:i.ts.tst,irs:!0,iots:i.ts.iots,tp:r.id}}a.icsd=a.icsd||{};var l=e.addr_info.pos||{};a.icsd.lat=l.lat,a.icsd.lng=l.lng,t.addrInfo=JSON.stringify(a),t.addr=e.addr;var c=n.pp,d=Mobi.calculateIntraCityShipDistanceKm(c,e.addr_info.pos);t.isIntraCityShip=!0,t.intraCityDistance=d}(t)})):o(t)}}(Mobi,jm),Mobi.addAfterSettle=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,i){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=addWafCk_addAfterShop",data:"data="+jm.encodeUrl(jm.toJSON(e)),error:function(){Mobi.mallSubmiting=!1,stlMsg.html(LS.mallStlSubmitError),i()},success:function(e){var i=JSON.parse(e);if(i.success){var o=i.data.itemList,n=Fai.top._contentOrder.itemList.map((function(t){return t.id})),a=o.filter((function(t){return!n.includes(t.id)}));Mobi.$Bus.$emit("onInvalidItemListUpdate",a)}t()}})})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Mobi.ajaxSettleOrder=function(t,e,i,o,n,a,r,s,l,c,d){if(!Mobi.mallSubmiting){var m=l||{};Mobi.mallSubmiting=!0;var p=e&&e.other&&e.other.merchantsShipList&&e.other.merchantsShipList.some((function(t){return t.mctId>0}));jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=setWafCk_settle&"+t,data:"data="+jm.encodeUrl(jm.toJSON(e))+"&groupBuyOptions="+jm.encodeUrl(jm.toJSON(r))+"&cutPriceOptions="+jm.encodeUrl(jm.toJSON(s))+"&integralMallOptions="+jm.encodeUrl(jm.toJSON(c))+"&earnestSaleOptions="+jm.encodeUrl(jm.toJSON(d))+"&options="+jm.encodeUrl(jm.toJSON(l)),error:function(){Mobi.mallSubmiting=!1,Mobi.ing(LS.mallStlSubmitError),Mobi.logMonitor(5999,!0),p&&Mobi.logMonitor(7215,!0)},success:function(s){s=jm.parseJSON(s),_asyncToGenerator(regeneratorRuntime.mark((function l(){var d,u,f,h,g,v,b,_,j,M;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,Mobi.addAfterSettle(i);case 3:l.next=8;break;case 5:l.prev=5,l.t0=l.catch(0),console.log("addAfterSettle err",l.t0);case 8:if(!s.success){l.next=44;break}d=n>2&&n<300,Mobi.mallSubmiting=!1,n=parseInt(n),c.isIntegralMall&&(d&&Mobi.logDog(200978,5),Mobi.logDog(200977,2)),m.isCpOrder&&d&&Mobi.logDog(201162,2),u=parseInt(jm("#onlineBankType").attr("_paymode")),f=jm("#onlineBankType").text(),h="",Fai.top.shipTabListVm&&!Mobi.isNull(Fai.top.shipTabListVm.checkedId)&&jm.each(Fai.top.shipTabListVm.shipTabListData.tabOpenList,(function(t,e){if(e.id===Fai.top.shipTabListVm.checkedId)return h=e.defaultName,!1})),g="",l.t1=Fai.top._contentOrder.mkType,l.next=1===l.t1?22:2===l.t1?24:3===l.t1?26:4===l.t1?28:5===l.t1?30:6===l.t1?32:34;break;case 22:return g="多人拼团",l.abrupt("break",34);case 24:return g="砍价活动",l.abrupt("break",34);case 26:return g="秒杀",l.abrupt("break",34);case 28:return g="积分商城",l.abrupt("break",34);case 30:return g="定金预售",l.abrupt("break",34);case 32:return g="组合套餐",l.abrupt("break",34);case 34:v=["实体产品","卡密产品","知识付费产品","酒店产品"][Fai.top._contentOrder.itemList[0].pdType],b=!1,0==g.length&&jm.each(Fai.top._contentOrder.itemList,(function(t,e){if(e.hasDiscount)return b=!0,!1})),_=jm("#useItgLine #offsetMoney").hasClass("jz-switch-checked"),j=!1,Mobi.isNull(Fai.top._itemListByGroup)||jm.each(Fai.top._itemListByGroup,(function(t){if(t>0)return j=!0,!1})),Mobi.logMallFdp("mall_mem_order_submit",{mall_pay:f,mall_free_text_0:u>=300?f:"",mall_gds:v,mall_ship:h,mall_mkt_type:g,mall_dist_type:Fai.top._contentOrder.fdpDistType||"",mall_free_bool_0:Mobi.selectCoupon&&!!Mobi.selectCoupon.id,mall_free_bool_1:_,mall_free_bool_4:b,mall_free_bool_3:j,mall_free_text_1:jm("#totalValue").text()},!0),window.location.href=d?Mobi.preprocessUrl({path:"",oldPath:""})+"onlinePayment.jsp?orderId="+(o?s.oid:a):Mobi.preprocessUrl({path:"",oldPath:""})+"mdetail.jsp?id="+(o?s.oid:a)+"&suc=true",l.next=48;break;case 44:Mobi.mallSubmiting=!1,-3==s.rt?Mobi.ing(LS.mallStlSubmitNotFound):-9==s.rt?(Mobi.ing(LS.mallStlSubmitStatusError),setTimeout((function(){window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"mcart.jsp"}),2e3)):s.rt==Mobi.MallAjaxErrno.mallAmountZero?Mobi.ing(jm.format(LS.oAmountIsZero)):-23==s.rt?location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?errno=11":s.rt==Mobi.MallAjaxErrno.outOfMallAmount?m.isCpOrder?Mobi.ing("该套餐部分商品已售罄，请联系商家补货"):Mobi.ing(jm.format(LS.outOfMallAmount)):s.rt==Mobi.MallAjaxErrno.OutOfAllowAmount?Mobi.ing(jm.format(LS.allowAmountOverNameList,s.productsName)):s.rt==Mobi.MallAjaxErrno.couponOverTime?Mobi.ing(LS.couponOverTime):s.rt==Mobi.MallAjaxErrno.couponUnavail?Mobi.ing(LS.couponUnavail):s.rt==Mobi.MallAjaxErrno.couponNotFound?Mobi.ing(LS.couponNotFound):s.rt<=-600&&s.rt>=-609?-608==s.rt?(M={textClass:"goToPay",cancelClass:"giveUpJoin",content:"非常抱歉，该团已满，继续支付会自动为您开新团",callback:function(){r.groupBuyDetailId=0,Mobi.ajaxSettleOrder(t,e,i,o,n,a,r)}},Mobi.prompt(M)):-605==s.rt?(M={textClass:"goToPay",cancelClass:"giveUpJoin",content:"不好意思，已经超出成团时间，继续支付将自动为您开新团",callback:function(){r.groupBuyDetailId=0,Mobi.ajaxSettleOrder(t,e,i,o,n,a,r)}},Mobi.prompt(M)):-609==s.rt?Mobi.ing("不好意思，您已经参与该团"):Mobi.ing("参团失败，请稍后再试"):s.rt<=-800&&s.rt>=-850?-801==s.rt?Mobi.ing("不好意思，您已经参与过该秒杀活动"):-809==s.rt?Mobi.ing("不好意思，该秒杀活动已失效"):-810==s.rt?Mobi.ing("不好意思，该产品已售罄"):Mobi.ing("秒杀失败，请稍后再试"):-900==s.rt?Mobi.ing("积分余额不足，快去赚取积分！"):s.rt==Mobi.MallAjaxErrno.optionOutOfDate?Mobi.ing("该商品购物选项已更新，请重新下单"):-851==s.rt?Mobi.ing("不好意思，活动已结束"):s.useMsg?Mobi.ing(s.msg):Mobi.returnMallErrorMsg(s.rt),s.rt==Mobi.MallAjaxErrno.error?Mobi.logMonitor(5999,!0):Mobi.logMonitor(5998,!0),p&&Mobi.logMonitor(7215,!0);case 48:case"end":return l.stop()}}),l,null,[[0,5]])})))()}})}},Mobi.orderLvMessageOpen=!1,Mobi.orderLvMessageMaxNum=0,Mobi.initOrderLvMsgPrm=function(t,e){Mobi.orderLvMessageOpen=t,Mobi.orderLvMessageMaxNum=e},function(){function t(){var t=function(){var t=[];return jm(".mallCart .invalidItem").each((function(){t.push(jm(this).attr("itemId"))})),jm(".mallCart .J_noSelect").each((function(){t.push(jm(this).attr("itemId"))})),t}();if(jm(".mallCart .mall_product").length==t.length)return Mobi.ing(LS.settleFailplsModifyCart),!1;if(jm(".mallCart .mall_product").length>500)return Mobi.ing(LS.mcartTooLong),!1;var e=!1;return jm(".mallCart .J_select").each((function(){var t=Number(jm(this).find(".buyNumber").val()),i=Number(jm(this).attr("realamount")),o=jm(this).attr("enableAmount");if(t>i&&"true"==o)return e=!0,!1})),!e||(Mobi.ing(LS.mallAmountOverFlow),!1)}Mobi.mallSettle=function(e,i){var o=(i=i||{}).errCb;if(e||(console.log("log exec"),Mobi.logMonitor(9724,!0)),t()){var n=[],a=!1;jm(".mallCart .J_select").each((function(){n.push(parseInt(jm(this).attr("itemId"))||0),"秒杀"==jm(this).find(".m_timedAddTag").text()&&(a=!0)})),Mobi.Ajax.requestWithToast(_asyncToGenerator(regeneratorRuntime.mark((function t(){var i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Mobi.Ajax.addCartPreOrder({orderId:e,checkedItemIds:n});case 3:return i=t.sent,a&&Mobi.logMallFdp("mall_seckill_js",{mall_free_bool_0:!0},!0),r=i.preOrderId,console.log("response",i),window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"mstl.jsp?preOrderId=".concat(r),t.abrupt("return",i);case 11:throw t.prev=11,t.t0=t.catch(0),o&&o(),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,11]])}))))}}}(),Mobi.initPresentIpt=function(){var t=jm("#useItg");if(t.length>0){var e=parseInt(t.attr("_needitg")),i=parseInt(t.val()),o=t.attr("_itegName"),n=parseInt(t.attr("_maxuse")),a=parseFloat(jm("#cartTotalPrice").attr("totalPrice"));if(isNaN(a))return!1;if((!jm.isInteger(i)||i<0)&&(jm("#offsetMoney").attr("_offsetmoney",""),Mobi.ing(LS.integral_inputOverZero),t.focus,i=0),i>n){Mobi.ing(jm.format(LS.integral_maxUse,n,jm.encodeHtml(jm("#useItg").attr("_itegName")))),jm("#useItg").val(n),jm("#canUse").text(n);var r=(n/e).toFixed(2);return jm("#offsetMoney").attr("_offsetmoney",r),jm("#itgOffsetMoney").text(r),Mobi.mallStlCalcTotal(),!1}if(i>parseInt(t.attr("_currentItg")))return Mobi.ing(jm.format(LS.integral_notOverCurrent,jm.encodeHtml(o),jm.encodeHtml(o))),i=0,t.focus(),!1;r=(i/e).toFixed(2);if(jm("#offsetMoney").attr("_offsetmoney",r),Mobi.mallStlCalcTotal(),0==i)return!1}return!0},Mobi.setPayOnlineType=function(t,e){var i=Fai.top._recomentPayMode;e=(t=jm(t)).attr("_name");var o="",n="";t.hasClass("payMode")?(o=t.attr("_payMode"),jm("#onlineBankType").attr("_payMode",o)):t.hasClass("bank")&&(o=t.attr("_payMode"),n=t.attr("_type"),jm("#onlineBankType").attr("_payMode",o),jm("#onlineBankType").attr("_type",n)),jm(".icon-selectedPayMode").removeAttr("class").attr("class","icon-selectedPayMode payMode"+(o>2&&o<300?"Online":o)),jm("#onlineBankType").text(e),i==o?jm("#onlineBankTip").css("display","unset"):jm("#onlineBankTip").css("display","none"),jm("#pgListDiv .J_selectPay").removeAttr("style").attr("style","font-size:1rem;height:2.5rem;line-height:2.5rem;").removeAttr("class").attr("class","faisco-icons-shape11"),jm("#pgListDiv .payMode").each((function(){jm(this).attr("_paymode")==o&&jm(this).find(".faisco-icons-shape11").removeAttr("style").attr("style","margin-left:0.1rem;height:2.5rem;line-height:2.5rem;").removeAttr("class").attr("class","faisco-icons-right g_color g_main_color_v3 J_selectPay")})),Mobi.hidePayListPage()},Mobi.setOrderDetailPageHeaderColor=function(t){var e;if(e=t?".orderDetailTop":".orderDetail_header",!(jm(e).length<=0)){var i=(jm(e).find(".g_color").length?jm(e).find(".g_color"):jm(e).find(".g_main_color_v3")).css("color");i=i.substring(i.indexOf("(")+1,i.indexOf(")")),i+=", 0.08",jm(e).css("background-color","rgba("+i+")")}},Mobi.initOrderSuccessStyle=function(){jm(".paysucSvg").css("fill",Fai.top._themeColor),jm("#g_web").css("background","#fff")},Mobi.initpayOrder=function(t){new Mobi.payOrder(t).init()},Mobi.payOrder=function(t){this.orderId=t},Mobi.subMerchantDetailBarck=function(){Fai.top._manageMode?jm(Fai.top.document.getElementById("jz_designerOperate").querySelector(".j_designerBack")).click():history.go(-1)},Mobi.checkOrderStatue=function(t){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mall_h.jsp?cmd=getWafNotCk_checkOrderStatue",data:"orderId="+t,error:function(){Mobi.ing("系统错误。")},success:function(e){jm.parseJSON(e).success&&(Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"mdetail.jsp?id="+t+"&suc=true")}})},function(t,e){var i;Mobi.payOrder.prototype.init=function(){i=this.orderId,t(".payButton").on("click",(function(){var e=t(this).attr("_href"),o=t(this).attr("_orderId");void 0!==o&&null!=o&&(i=o);var n=Mobi.checkOrderPayLimit(i);if(""==n){var a="WXPAY"==e,r=t(this).attr("_appId");(function(e,o,n){var a=window.location.href,r="";if(a.indexOf("lcid")>0){var s=Mobi.getUrlParam(a,"lcid");s&&(r+="&lcid="+s)}var l=!0;return t.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=wafNotCk_checkOrder"+r,data:"orderId="+i+"&isWX="+e,async:!1,dataType:"json",error:function(){Mobi.ing(LS.mallStlSubmitError)},success:function(a){if(!a.success)if(l=!1,-3==a.rt)Mobi.ing(LS.mallStlSubmitNotFound);else if(-9==a.rt)Mobi.ing(LS.mallStlSubmitStatusError);else if(a.rt==Mobi.MallAjaxErrno.mallAmountZero)Mobi.ing(t.format(LS.oAmountIsZero));else if(a.rt==Mobi.MallAjaxErrno.outOfMallAmount)Mobi.ing(t.format(LS.outOfMallAmount));else if(a.rt==Mobi.MallAjaxErrno.OutOfAllowAmount)Mobi.ing(t.format(LS.allowAmountOverNameList,Mobi.encodeHtml(a.productsName)));else if(a.rt==Mobi.MallAjaxErrno.payDomainError)Mobi.ing(t.format(LS.mallPayDomainError));else if(a.rt==Mobi.MallAjaxErrno.notAdded)Mobi.ing(t.format(LS.mallProductNotAdded));else if(a.rt<=-600&&a.rt>=-609){var r;-608==a.rt?(r={textClass:"goToPay",cancelClass:"giveUpJoin",content:"非常抱歉，该团已满，继续支付会自动为您开新团",callback:function(){t.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=setWafCk_setOrderNewGroupBuyDetail",data:"orderId="+i,dataType:"json",error:function(){Mobi.ing(LS.mallStlSubmitError)},success:function(t){t.success?e?Mobi.getWxpayUrl(o,i):document.location.href=n:-9==t.rt?window.location.reload():Mobi.ing("当前网络异常，请刷新后重试")}})}},Mobi.prompt(r)):-605==a.rt?(r={textClass:"goToPay",cancelClass:"giveUpJoin",content:"不好意思，已经超出成团时间，继续支付将自动为您开新团",callback:function(){t.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=setWafCk_setOrderNewGroupBuyDetail",data:"orderId="+i,dataType:"json",error:function(){Mobi.ing(LS.mallStlSubmitError)},success:function(t){t.success?e?Mobi.getWxpayUrl(o,i):document.location.href=n:-9==t.rt?window.location.reload():Mobi.ing("当前网络异常，请刷新后重试")}})}},Mobi.prompt(r)):-604==a.rt?Mobi.ing("不好意思，活动已结束"):-609==a.rt?Mobi.ing("不好意思，您已经参与该团"):Mobi.ing("参团失败，请稍后再试")}else Mobi.ing(LS.mallStlSubmitError)}}),l})(a,r,e)&&(a?Mobi.getWxpayUrl(r,i):document.location.href=e)}else Mobi.ing(n)}))}}(jm),Mobi.checkOrderPayLimit=function(t){var e="";return jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=wafNotCk_checkOrderPayLimit",data:"orderId="+t,async:!1,dataType:"json",error:function(){e=""},success:function(t){e=!t.success&&t.isOverTime||!t.success&&t.isFaiHost?t.msg:""}}),e},Mobi.getWxpayUrl=function(t,e){var i=location.href,o=!1,n=i.indexOf("wxPay/")>=0?"":"wxPay/";if(i.indexOf("h-mlist.html")>=0?(i=i.replace("h-mlist.html",n+"mdetail.jsp"),o=!0):i.indexOf("mlist.jsp")>=0&&(i=i.replace("mlist",n+"mdetail"),o=!0),o&&(i.indexOf("?")>=0&&(i=i.substring(0,i.indexOf("?"))),i+="?id="+e),"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)){var a=Fai.top._lcid&&Fai.top._siteLcid&&Fai.top._siteLcid!=Fai.top._lcid?"lcid="+Fai.top._lcid:"";a&&(i+=(i.indexOf("?")>=0?"&":"?")+a),i=encodeURIComponent(i),window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+t+"&redirect_uri="+i+"&response_type=code&scope=snsapi_base&state=1#wechat_redirect"}else Mobi.callPay(0,e)},Mobi.callPay=function(t,e){Mobi.showLoading();var i=window.location.href,o="";if(i.indexOf("lcid")>0){var n=Mobi.getUrlParam(i,"lcid");n&&(o+="&lcid="+n)}jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mall_h.jsp?cmd=getWafNotCk_getWxpayCallPayParam&orderId="+e+"&code="+t+o,error:function(){Mobi.closeLoading(),Mobi.ing(LS.js_systemError)},success:function(t){var e=jm.parseJSON(jm.decodeUrl(t));(Mobi.closeLoading(),e.success)?Mobi.callPayAPI(e):(Mobi.closeLoading(),"micromessenger"!=navigator.userAgent.toLowerCase().match(/MicroMessenger/i)?Mobi.ing("使用微信支付购买商品请在微信端打开网站"):Mobi.ing(e.errMsg+"(请联系网站管理员)"))}})},Mobi.callPayAPI=function(t){if("micromessenger"!=navigator.userAgent.toLowerCase().match(/MicroMessenger/i)){if("SUCCESS"!=t.result)return void Mobi.ing(t.errMsg?t.errMsg:"微信支付失败，请尝试在微信端进行支付");var e=window.location.href,i=Fai.top._lcid&&Fai.top._siteLcid&&Fai.top._siteLcid!=Fai.top._lcid?"lcid="+Fai.top._lcid:"";return i&&(e+=(e.indexOf("?")>=0?"&":"?")+i),void(window.location.href=t.url+"&redirect_url="+encodeURIComponent(e))}try{var o=function(){var e={appId:t.appId,nonceStr:t.nonceStr,timeStamp:t.timeStamp,paySign:t.paySign,package:t.pak,signType:"MD5"};WeixinJSBridge.invoke("getBrandWCPayRequest",e,(function(t){if("get_brand_wcpay_request:cancel"!=t.err_msg&&WeixinJSBridge.log(t.err_msg),"get_brand_wcpay_request:ok"!=t.err_msg){"get_brand_wcpay_request:cancel"==t.err_msg?Mobi.ing(LS.wxpayCancel):Mobi.ing(LS.wxpayErr),Mobi.showLoading();var e=window.location.href;e.indexOf("?")>=0&&(e=e.substring(0,e.indexOf("?")));var i=Fai.top._lcid&&Fai.top._siteLcid&&Fai.top._siteLcid!=Fai.top._lcid?"&lcid="+Fai.top._lcid:"";e+="?id="+jm("#wxpayBtn").attr("_orderid")+i,setTimeout((function(){window.location.replace(e)}),3e3)}else Mobi.showLoading(),setTimeout((function(){var t=window.location.href,e="";if(t.indexOf("lcid")>0){var i=Mobi.getUrlParam(t,"lcid");i&&(e=(e=Mobi.getLanCodeFromLcid(i))?e+"/":"")}window.location.href="/"+e+"mdetail.jsp?id="+jm("#wxpayBtn").attr("_orderid")+"&suc=true"}),1e3)}))};"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",o,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",o),document.attachEvent("onWeixinJSBridgeReady",o)):o()}catch(t){}},Mobi.backOff=function(){if(Fai.top._manageMode){var t={};if(t.fun=top.Mobi.saveDesignToCheckUpRedirectUrl,t.args=new Array,t.args.push("../mcart.jsp"),top.Mobi.checkSaveBar(t,!0))return!1;window.location.href="index.jsp"}else history.go(-1)},Mobi.getThemeColorTransparency=function(t){return jm("#temBox").length<1&&jm("#g_body").append(jm("<div id='temBox' class='g_color g_main_color_v3'></div>")),"rgba("+jm("#temBox").css("color").split(/[()]/)[1]+", "+t+")"},Mobi.initEarnestSaleStyle=function(){jm(".f_earnestSale").length>0&&jm(".f_earnestSale").find(".tip .topLine").css("background",Mobi.getThemeColorTransparency(.5)),jm(".J_disableBalance").length>0&&jm(".J_disableBalance").find(".payButton").css("background",Mobi.getThemeColorTransparency(.3)).css("border-color",Mobi.getThemeColorTransparency(.1))},Mobi.initEarnestSaleStatusStyle=function(t,e){if(!(jm(".f_earnestSale").length<1)){var i=jm(".f_earnestSale");t>=3&&(i.find(".tip .topLine").css("background",Mobi.getThemeColorTransparency(.5)),i.find(".tip .bottomLine").css("background",Mobi.getThemeColorTransparency(.5)),i.find(".tip .bottomCircle").css("background",Mobi.getThemeColorTransparency(1)),i.find(".innerBottomContain .first").css("color",Mobi.getThemeColorTransparency(1)),i.find(".innerBottomContain .second").css("color",Mobi.getThemeColorTransparency(1))),1==e&&i.find(".info .innerTopContain").css("color","red"),e>0&&i.find(".info .innerBottomContain").css("color","red")}},Mobi.showEsTimeCountDown=function(t){jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mall_h.jsp?cmd=getWafNotCk_getSystemTime",success:function(e){if((e=jm.parseJSON(e)).success){var i=e.now||0,o=0;t-(i/=1e3)>0&&(o=t-i);var n=o;clearInterval(Mobi.esCountTimeInterval),Mobi.esCountTimeInterval=setInterval((function(){var t=parseInt(n/86400),e=parseInt(n/3600)-24*t,i=parseInt(n/60)-24*t*60-60*e,o=parseInt(n%60);2052!=Fai.top._lcid&&1028!=Fai.top._lcid&&(e<10&&(e="0"+e),i<10&&(i="0"+i),o<10&&(o="0"+o)),--n<=0&&Fai.top.location.reload(),t<10&&(t="0"+t),e<10&&(e="0"+e),i<10&&(i="0"+i),o<10&&(o="0"+o),jm(".J_EsDayNum").html(t),jm(".J_EsHourNum").html(e),jm(".J_EsMinuteNum").html(i),jm(".J_EsSecondNum").html(o),n<0&&clearInterval(Mobi.esCountTimeInterval)}),1e3)}}})},Mobi.getNewFlowInfo=function(t,e,i){var o=jm("#module"+t);void 0!==i&&i?o.find(".J-newFlowInfo").append("<div>无需配送</div>"):jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/flowInfo_h.jsp?cmd=getWafNotCk_flowMsg",data:"id="+e,success:function(i){var n=jm.parseJSON(i);if(n.flowCorpName){var a=[];if(null!=n.msgList&&0!==n.msgList.length&&n.success)n.msgList.length>0&&(a.push("<div class='flowInfo'>"),a.push("<div class='flowBusMsg'>"),a.push("<span class='flowBusName'>"+n.flowCorpName+"</span>"),a.push("<span class='flowBusNumber'>"+n.flowBillNum+"</span>"),a.push("<span class='icon-rightIcon' style='position: absolute;right: 0;color: #ccc;'></span>"),a.push("</div>"),a.push("<div class='flowFlag icon-flowFlag'></div>"),a.push("<div class='flowLastNews'><span>"+n.msgList[0].context+"</span></div>"),a.push("<div><span class='flowMsgTime'>"+n.msgList[0].time+"</span>"),a.push("</div>"),a.push("</div>"));else a.push("<div class='flowInfo'>"),a.push("<div class='flowBusMsg'>"),a.push("<span class='flowBusName'>"+n.flowCorpName+"</span>"),a.push("<span class='flowBusNumber'>"+n.flowBillNum+"</span>"),a.push("<span class='icon-rightIcon' style='position: absolute;right: 0;color: #ccc;'></span>"),a.push("</div>"),a.push("<div class='flowFlag icon-flowFlag'></div>"),a.push("</div>"),a.push("</div>"),o.find(".noflowInfo").eq(0).show();o.find(".orderDetail_addr").css("border-top","1px solid #f2f2f2"),o.find(".J-newFlowInfo").append(a.join("")),n.success?o.find(".J-newFlowInfo").eq(0).click((function(){Mobi.getAllFlowInfo(t,e)})):null!=n.msg&&Mobi.ing(n.msg)}}})},Mobi.setFlowDivSwipeLis=function(){var t,e,i,o;jm("#J-flowClickDiv").bind("click",(function(){Mobi.ing("aaaa")})),jm("#J-flowSwipeDiv").bind("mousedown",(function(n){t=n.clientX-jm("#J-flowSwipeDiv").offset().left,e=n.clientY-jm("#J-flowSwipeDiv").offset().top,jm("#J-flowSwipeDiv").bind("mousemove",(function(){})).bind("mouseup",(function(n){jm("#J-flowSwipeDiv").unbind("mousemove").unbind("mouseup"),i=n.clientX-jm("#J-flowSwipeDiv").offset().left,o=n.clientY-jm("#J-flowSwipeDiv").offset().top,Mobi.ing(o),t==i&&e==o&&(Mobi.ing(n.offsetX+","+n.offsetY),jm("#J-flowClickDiv").css("margin-left",n.offsetX-10+"px"),jm("#J-flowClickDiv").css("margin-top",n.offsetY+5+"px"),jm("#J-flowSwipeDiv").css("display","none"),setTimeout((function(){jm("#J-flowClickDiv").click(),jm("#J-flowClickDiv").click(),jm("#J-flowClickDiv").click(),jm("#J-flowSwipeDiv").css("display","block")}),100))}))}))},Mobi.getAllFlowInfo=function(t,e){var i=jm("#flowDetailPanel"+e),o=jm("#g_web");i.length<1&&jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/flowInfo_h.jsp?cmd=getWafNotCk_show",data:"id="+e,success:function(i){var n=jm.parseJSON(i);o.append(n.flowDetailHtml),Mobi.initFlowDetailEvent(t,e)}}),setTimeout((function(){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/flowInfo_h.jsp?cmd=getWafNotCk_flowMsg",data:"id="+e,success:function(i){var o=jm.parseJSON(i),n=jm("#flowDetailPanel"+e);if(null!=o.msgList&&0!==o.msgList.length&&o.success){var a=[],r=o.msgList.length;n.find(".flowDetail .flowDiv .flowPanel").eq(0).remove(),a.push("<div class='flowPanel'>");for(var s=0;s<r;s++)a.push("<div class='flowInfo'>"),a.push("<div class='flowFlag'></div>"),a.push("<div><span>"+o.msgList[s].context+"</span></div>"),a.push("<div><span "+(0==s?"":"class='flowTime'")+">"+o.msgList[s].time+"</span>"),0==s&&a.push("<span class='icon-flowCurrent'></span>"),a.push("</div>"),a.push("</div>"),a.push("<div class='se0.117remte'></div>");a.push("</div>"),n.find(".flowDetail .flowDiv").eq(0).append(a.join(""))}else o.success?n.find(".flowDetail .flowDiv .noflowInfo").eq(0).show():(n.find(".flowDetail .flowDiv .flowErr").eq(0).show(),null!=o.msg&&Mobi.ing(o.msg));Mobi.showFlowDetailPanel(t,e)}})}),100)},Mobi.initFlowDetailEvent=function(t,e){var i=jm("#flowDetailPanel"+e);i.find(".loginHeader .g_close").eq(0).click((function(){Mobi.hideFlowDetailPanel(t,e)})),i.bind("scroll",(function(t){t.stopPropagation(),t.cancelBubble=!0}))},Mobi.showFlowDetailPanel=function(t,e){jm("#flowDetailPanel"+e).css("margin-left",0)},Mobi.hideFlowDetailPanel=function(t,e){jm("#flowDetailPanel"+e).css("margin-left","")},Mobi.moreOrderProductList=function(t,e){var i=jm("#orderProductList"+e),o=jm("#moreOrderProductList"+e),n=2*(parseInt(i.find(".line_item").eq(0).height())+parseInt(i.find(".line_item").eq(0).css("padding-top"))),a=parseInt(i.find(".orderProductList_inner").eq(0).height());"0"==o.attr("type")?(i.css("height",a+"px"),o.attr("type","1"),"0"==o.attr("is_cn")?(o.removeClass("icon-more"),o.addClass("icon-less")):(o.find(".more").eq(0).hide(),o.find(".less").eq(0).show())):(i.css("height",n+"px"),o.attr("type","0"),"0"==o.attr("is_cn")?(o.removeClass("icon-less"),o.addClass("icon-more")):(o.find(".less").eq(0).hide(),o.find(".more").eq(0).show()))},Mobi.initFlowDetailHeight=function(t,e){var i=jm("#orderProductList"+e),o=jm("#flowDetailPanel"+e);if(i.css("height",""),o.css("height",""),o.attr("tmp_h",o.height()),i.find(".line_item").length>2){var n=jm("#moreOrderProductList"+e);n.attr("type","0"),"0"==n.attr("is_cn")?(n.removeClass("icon-less"),n.addClass("icon-more")):(n.find(".less").eq(0).hide(),n.find(".more").eq(0).show()),i.height(2*(parseInt(i.find(".line_item").eq(0).height())+parseInt(i.find(".line_item").eq(0).css("padding-top")))+"px")}},Mobi.initFlowButton=function(t){jm("#module"+t).find(".J-flowView").unbind().bind("click",(function(){var e=jm(this).attr("_oid");Mobi.getAllFlowInfo(t,e)}))},Mobi.initPayOrderImmediately=function(t){jm("#module"+t).find(".j-payOrderImmediately").unbind().bind("click",(function(){var t=jm(this).attr("_oid");Mobi.mallSettle(t)}))},Mobi.initOrderSureButton=function(t){jm("#module"+t).find(".J-orderSureRpt").unbind().bind("click",(function(){var t=jm(this),e=(t.parent().parent(),t.attr("_oid")),i=Fai.top._cusOrderStatusMap||{},o=Mobi._tmpOrderMap||{},n=-1;if(o[e]){var a=o[e].isVpdOrder,r=o[e].isHotelOrder;n=a?1:r?2:0}var s=i[n+"-20"];(n<0||""===s||void 0===s)&&(s="交易完成");var l={content:jm.format(LS.mobiCusOrderStatusNameConfirm,s),callback:function(){!function(t,e){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp",data:"cmd=setWafCk_setStatus&id="+e+"&status=20&isFromUser=true",error:function(){Mobi.ing(LS.js_systemError),Mobi.logMonitor(6027,!0)},success:function(t){var e=jm.parseJSON(t);e.success?(jm("#mobiPrompt").remove(),e.consumeEarnItg&&2052==Fai.top._lcid?Mobi.showItgRewardPop(e.itgName,3,e.consumeEarnItgNum,(function(){setTimeout((function(){document.location.reload()}),200)})):(Mobi.ing(LS.orderSureMsg,1),setTimeout((function(){document.location.reload()}),200))):(Mobi.logMonitor(6027,!0),Mobi.ing(e.msg))}})}(0,e)}};jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp",data:"cmd=getWafNotCk_orderHasBeenSigned&id="+e,error:function(){Mobi.ing(LS.js_systemError)},success:function(t){var e=jm.parseJSON(t);e.success?e.hasSigned?(Mobi.ing(LS.orderSureMsg),setTimeout((function(){document.location.reload()}),200)):Mobi.prompt(l):Mobi.ing(e.msg)}})}))},Mobi.initOrderCancelButton=function(t){jm("#module"+t).find(".J-orderCancel").unbind().bind("click",(function(){var t=jm(this),e=(t.parent().parent(),t.attr("_oid")),i={textClass:"confirm",content:LS.orderCancelMsg,callback:function(){!function(t,e){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp",data:"cmd=setWafCk_setStatus&id="+e+"&status=25&isFromUser=true",error:function(){Mobi.ing(LS.js_systemError)},success:function(t){var e=jm.parseJSON(t);e.success?(jm("#mobiPrompt").remove(),Mobi.ing(LS.js_orderCancel,1),setTimeout((function(){window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"mlist.jsp"}),200)):(Mobi.logMonitor(6026,!0),Mobi.ing(e.msg))}})}(0,e)}};Mobi.prompt(i)}))},Mobi.initOrderDeleteButton=function(t){jm("#module"+t).find(".J-orderDelete").unbind().bind("click",(function(){var t=jm(this).attr("_oid"),e={textClass:"confirm",content:LS.orderDeleteMsg,callback:function(){!function(t){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp",data:"cmd=delWafCk_memberDeleteOrder&id="+t,error:function(){Mobi.ing(LS.js_systemError)},success:function(t){var e=jm.parseJSON(t);e.success?(jm("#mobiPrompt").remove(),Mobi.ing(LS.js_orderCancel,1),setTimeout((function(){window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"mlist.jsp"}),200)):Mobi.ing(e.msg)}})}(t)}};jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp",data:"cmd=getWafNotCk_orderHasDelete&id="+t,error:function(){Mobi.ing(LS.js_systemError)},success:function(t){var i=jm.parseJSON(t);i.success?i.hasDelete?Mobi.ing(LS.mallStlSubmitNotFound):Mobi.prompt(e):Mobi.ing(i.msg)}})}))},Mobi.initOrderConfirmCheckinButton=function(t){jm("#module"+t).find(".J-orderConfirmCheckin").unbind().bind("click",(function(){var t=jm(this),e=(t.parent().parent(),t.attr("_oid")),i=(Fai.top._cusOrderStatusMap||{})["2-18"];""!==i&&void 0!==i||(i="已入住");var o={content:"“确认入住”后对应订单状态将变更为“"+i+"”",textClass:"confirm",callback:function(){!function(t){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp",data:"cmd=setWafCk_setStatus&id="+t+"&status=18&isFromUser=true",error:function(){Mobi.ing(LS.js_systemError)},success:function(t){var e=jm.parseJSON(t);e.success?(jm("#mobiPrompt").remove(),e.consumeEarnItg&&2052==Fai.top._lcid?Mobi.showItgRewardPop(e.itgName,3,e.consumeEarnItgNum,(function(){setTimeout((function(){document.location.reload()}),200)})):(Mobi.ing("你已确认入住",1),setTimeout((function(){document.location.reload()}),200))):(Mobi.logMonitor(6027,!0),Mobi.ing(e.msg))}})}(e)}};Mobi.prompt(o)}))},Mobi.initOrderConfirmFinButton=function(t){jm("#module"+t).find(".J-orderConfirmFin").unbind().bind("click",(function(){var t=jm(this).attr("_oid"),e=(Fai.top._cusOrderStatusMap||{})["2-20"];""!==e&&void 0!==e||(e="交易完成");var i={content:"“交易完成”后对应订单状态将变更为“"+e+"”",textClass:"confirm",callback:function(){!function(t){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp",data:"cmd=setWafCk_setStatus&id="+t+"&status=20&isFromUser=true",error:function(){Mobi.ing(LS.js_systemError)},success:function(t){var e=jm.parseJSON(t);e.success?(jm("#mobiPrompt").remove(),e.consumeEarnItg&&2052==Fai.top._lcid?Mobi.showItgRewardPop(e.itgName,3,e.consumeEarnItgNum,(function(){setTimeout((function(){document.location.reload()}),200)})):(Mobi.ing("你已确认交易完成",1),setTimeout((function(){document.location.reload()}),200))):(Mobi.logMonitor(6027,!0),Mobi.ing(e.msg))}})}(t)}};Mobi.prompt(i)}))},Mobi.initSelfRaisingVerification=function(t){var e=jm("#module"+t);e.find(".J-selfRaisingVerification").unbind().bind("click",(function(){var t=jm(this),e=t.attr("_oid");"false"==(t.attr("_detail")||"false")?Mobi.logDog(201e3,1):Mobi.logDog(201e3,2);var i={triggerId:"selfRaisingVerification",pageBg:!0,pageHtml:Mobi.createSelfRaisingVerificationPop(),direction:"bottom",callback:function(){Mobi.drawSelfRaisingVerificationPop(e)},closeWebPage:"#selfRaisingVerificationBg"};Mobi.initWebPage(i),jm("#selfRaisingVerification").click()})),e.find(".J-groupBuySelfTaking").unbind().bind("click",(function(){Mobi.ing("拼团成功后将生成提货凭证")}))},Mobi.initOrderDlvProgress=function(){Mobi.initWebPage({triggerId:"J_dadaStatusName",panelId:"orderDlvProgressPanel",pageBg:!0,direction:"bottom",closeWebPage:"#orderDlvProgressPanel .closeIco"}),jm("#J_dadaStatusName").click((function(){Mobi.logDog(201529,2)})),jm("#orderDlvProgressPanel .phone svg").css("fill",Fai.top._themeColor)},Mobi.initIntegralMallConfirmButton=function(t){jm("#module"+t).find(".J_mallConfirmImSettle").unbind().bind("click",(function(t){var e=jm(this),i=e.attr("_productName"),o=e.attr("_oid"),n=e.attr("_choiceCurrencyVal"),a=e.attr("_imUseItg"),r=e.attr("_itgName"),s=parseFloat(e.attr("_totalPrice"));isNaN(s)&&(s=0);var l={textClass:"confirm",content:"确定使用"+(s>0?n+s.toFixed(2)+"+":"")+a+jm.encodeHtml(r)+(s>0?"换购商品":"兑换商品")+i+"?",callback:function(){window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"onlinePayment.jsp?orderId="+o}};Mobi.prompt(l),t.stopPropagation()}))},Mobi.initMerchantsButton=function(t){jm("#module"+t).find(".J_go2Merchant").unbind().bind("click",(function(t){var e=jm(this).attr("_merchantId");window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"subMerchantDetail.jsp?smId="+e,t.stopPropagation()}))},Mobi.showBanksDetails=function(){if(Fai.top._banksList){var t=Fai.top._banksList,e="<div id='modifyBankList'  class='modifyBankList'>";e+="<div class='BanksDetailHeader webHeaderBg g_main_bgColor_v3'>",e+="<span class='g_close icon-gClose'></span><span class='title pageTitle'>"+LS.receAcctList,e+="</span></div>",e+="<div class='bankPanelDes'>"+LS.payTips+"</div>",e+="<div class='g_separator separatorLine'></div>";for(var i=0;i<t.length;i++){var o=t[i].acct,n=t[i].bank,a=t[i].name,r=t[i].leaveMsg;e+="<div class='bankListArea'>",e+="<div class='bankList'>",e+="<table class='bankListTable'>",e+="<tbody>",e+="<tr>",e+="<td class='bankItemValue'>"+LS.js_orderDetailBank+"："+n+"</td>",e+="</tr>",e+="<tr>",e+="<td class='bankItemValue'>"+LS.js_orderDetailBankName+"："+a+"</td>",e+="</tr>",e+="<tr>",e+="<td class='bankItemValue'>"+LS.js_orderDetailBankAcct+"："+o+"</td>",e+="</tr>",e+="<td class='bankItemValue bankLeaveMsg' colspan='2'>"+r+"</td>",e+="</tr>",e+="</tbody>",e+="</table>",e+="</div>",e+="</div>",i!=t.length-1&&(e+="<div class='g_breakline g_separator separatorLine'></div>")}return e+="</div>",Mobi.changeBankList(),e}},function(t,e){function i(){return{triggerId:"callPayListPanel",panelId:"payListPanel",callback:function(){Mobi.fixTouchPenetrate("payListPanel","callPayListPanel")},closeWebPage:"#pgListDiv .g_close",direction:"bottom",pageBg:!0}}t.initPayListPage=function(t){new Vue({el:"#payListPanel",data:function(){var e=parseInt(jm("#onlineBankType").attr("_paymode")),i=Fai.top._recomentPayMode;return{list:t,paymode:e,recomentPayMode:i}},computed:{recomentPayList:function(){this.paymode;for(var t=[],e=this.recomentPayMode,i=this.list,o=0;o<i.length;o++){var n=i[o];if(n.desc&&(1==i.length&&n.payMode,e==n.payMode||e>2&&e<300&&n.payMode>2&&n.payMode<300)){t.push(n);break}}return t},secondList:function(){for(var t=this.recomentPayMode,e=this.list,i=[],o=0;o<e.length;o++){var n=e[o];n.desc&&(t==n.payMode||t>2&&t<300&&n.payMode>2&&n.payMode<300||i.push(n))}return i}},mounted:function(){jm("#pay_line").off("click.showPayListPage").on("click.showPayListPage",(function(){Mobi.showPayListPage()}))},methods:{genIconHtml:function(t,e){return t==e.payMode?"<i class='faisco-icons-right g_color g_main_color_v3 J_selectPay' style='height: 2.5rem;line-height: 2.5rem;margin-left: 0.1rem;'></i>":"<i class='faisco-icons-shape11' style='font-size: 1rem;height: 2.5rem;line-height: 2.5rem;'></i>"},genItemIdAttr:function(t){return"group_"+t.payMode},setPayOnlineType:function(t,i){if(this.paymode!==i.paymode){var o=this.genItemIdAttr(i);this.paymode=i.payMode;var n=Fai.top._recomentPayMode,a=jm("#"+o),r="",s="",l=a.attr("_name");a.hasClass("payMode")?(r=a.attr("_payMode"),jm("#onlineBankType").attr("_payMode",r)):a.hasClass("bank")&&(r=a.attr("_payMode"),s=a.attr("_type"),jm("#onlineBankType").attr("_payMode",r),jm("#onlineBankType").attr("_type",s)),i.iconPath&&i.iconPath.length>0?jm(".icon-selectedPayMode").removeAttr("class").attr("class","icon-selectedPayMode").attr("style","background:url("+i.iconPath+");background-size:cover;display:inline-block;width:0.8rem;height:0.8rem;"):jm(".icon-selectedPayMode").removeAttr("style").removeAttr("class").attr("class","icon-selectedPayMode payMode"+(r>2&&r<300?"Online":r)),jm("#onlineBankType").text(l),n==r?jm("#onlineBankTip").css("display","unset"):jm("#onlineBankTip").css("display","none"),jm("#pgListDiv .J_selectPay").removeAttr("style").attr("style","font-size:1rem;height:2.5rem;line-height:2.5rem;").removeAttr("class").attr("class","faisco-icons-shape11"),Mobi.hidePayListPage(),t.stopPropagation(),e("#g_body").css("overflow-y","")}},genIconCls:function(t){return"icon-payMode payMode"+(t.payMode>2&&t.payMode<300?"Online":t.payMode)},stopPropagation:function(t){t.stopPropagation()}},template:"\n\t\t\t    <div id=\"payListPanel\" style=\"display:none\">\n                    <div class='pgListDiv' id='pgListDiv' style='background-color: inherit;'>\n\t\t\t\t\t\t<div class='g_close' style='width: 100%;height: 100%;'></div>\n\t\t\t\t\t\t<div id='onlinePayType' class='pgDetail onlinePayType' style=\"position: absolute;left: 0;bottom: 0;width: 100%;\">\n\t\t\t\t\t\t\t<div id='pgBox' class='pgBox' style='position: absolute;bottom: 0;z-index: 999;' @click=\"stopPropagation\">\n\t\t\t\t\t\t\t\t<div v-for=\"item in recomentPayList\" :id=\"genItemIdAttr(item)\" class='line payMode' @click='setPayOnlineType($event, item)' :_payMode='item.payMode' :_name='item.desc'>\n\t\t\t\t\t\t\t\t\t<div class='pgBoxItem' style=\"display: flex;align-items: center;\">\n\t\t\t\t\t\t\t\t\t\t<template v-if=\"item.iconPath&&item.iconPath.length>0\">\n                                            <img style=\"width:1rem;height:1rem;\" class=\"icon-payMode\" :src=\"item.iconPath\" alt=\"\">\n                                        </template>\n                                        <template v-else>\n                                            <span style=\"width:1rem;height:1rem;line-height:1rem;\" :class='genIconCls(item)'></span>\n                                        </template>\n\t\t\t\t\t\t\t\t\t\t<a class='pgName'>{{item.desc}}\n\t\t\t\t\t\t\t\t\t\t\t<span class='icon-b0276' style='margin-left: 0.156rem;'></span>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t<span v-html=\"genIconHtml(paymode, item)\"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div v-for=\"item in secondList\" :id=\"genItemIdAttr(item)\" class='line payMode' @click='setPayOnlineType($event, item)' :_payMode='item.payMode' :_name='item.desc'>\n\t\t\t\t\t\t\t\t\t<div class='pgBoxItem' style=\"display: flex;align-items: center;\">\n                                        <template v-if=\"item.iconPath&&item.iconPath.length>0\">\n                                            <img style=\"width:1rem;height:1rem;\" class=\"icon-payMode\" :src=\"item.iconPath\" alt=\"\">\n                                        </template>\n                                        <template v-else>\n                                            <span style=\"width:1rem;height:1rem;line-height:1rem;\" :class='genIconCls(item)'></span>\n                                        </template>\n\t\t\t\t\t\t\t\t\t\t<a class='pgName'>{{item.desc}}</a>\n\t\t\t\t\t\t\t\t\t\t<span v-html=\"genIconHtml(paymode, item)\"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t    </div>\n\t\t\t"})},t.showPayListPage=function(){var t=i();Mobi.showPageWithInit(t)},t.hidePayListPage=function(){var t=i();Mobi.hidePage(t)}}(Mobi,jm),function(t){t.initOrderPopUpPanel=function(){var t,e;(Fai.top._templateFrameId>=2e3&&Fai.top._templateFrameId<3e3||Fai.top._openThemeV3)&&jm("#assignItemline").length>0&&jm("#assignItemline").off("click.mall").on("click.mall",(function(){jm("#linetitle1").click()})),t={triggerId:"selectSelfRaisingPoint",panelId:"editPointInfo",callback:function(){Mobi.fixTouchPenetrate("editPointInfo","editAddr")},closeWebPage:"#editPointInfo .g_close"},Mobi.initWebPage(t),t={triggerId:"MDSelfRaisingPointInfo",panelId:"showPointInfo",callback:function(){Mobi.fixTouchPenetrate("showPointInfo","editAddr"),jm("#showMapAuth").click()},closeWebPage:"#showPointInfo .g_close"},Mobi.initWebPage(t),e={triggerId:"banks",panelId:"modifyBankList",pageHtml:Mobi.showBanksDetails(),callback:function(){Mobi.changeBankList(),Mobi.fixTouchPenetrate("modifyBankList","banks")},closeWebPage:"#modifyBankList .g_close"},Mobi.initWebPage(e),e={triggerId:"integralMallDeduction",panelId:"imPanelBox",pageBg:!0,returnSeltFun:!0,direction:"bottom",closeWebPage:"#closeImPanelBox,#confirmBtn"},Mobi.initWebPage(e),jm("#useItgLine .jz-switch").click((function(){var t=parseInt(jm("#useItg").attr("_maxUse"));jm(this).hasClass("jz-switch-checked")?(jm(this).removeClass("jz-switch-checked"),jm("#useItg").val(0)):(jm(this).addClass("jz-switch-checked"),jm("#useItg").val(t)),jm("#useItg").trigger("change"),Mobi.mallStlCalcTotal()})),null==document.querySelector(".mall_allPrice")||null==document.querySelector("#mstlBtn")||Fai.top._templateFrameId>=2e3&&Fai.top._templateFrameId<3e3||Fai.top._openThemeV3||document.querySelector(".mall_allPrice").offsetLeft==document.querySelector("#mstlBtn").offsetLeft&&jm(".orderSettle").css("margin-bottom","5.8rem")},t.fixTouchPenetrate=function(t,e){"editCusInfo"!=t&&"editAddrInfo"!=t||/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)&&(jm("#"+t).find("input,select,textarea").bind("blur",(function(){document.querySelector("body").scrollTop=0})),jm("#"+t).find("input,select,textarea").bind("focus",(function(){jm("#"+t).attr("ontouchmove","return false;")})).bind("blur",(function(){jm("#"+t).parent().css("position","fixed"),jm("#"+t).css("position",""),jm("#"+t).removeAttr("ontouchmove")})),jm("#areaBox").bind("touchmove",(function(t){t.preventDefault()})),jm("#areaBox .J_areaHead").bind("touchmove",(function(t){t.preventDefault()})),jm("#areaBox1").bind("touchmove",(function(t){t.stopPropagation()})),jm("#areaBox2").bind("touchmove",(function(t){t.stopPropagation()})));var i=Fai.top.document.querySelector("#"+t),o=Fai.top.document.querySelector("#webPagePanel"+e);window.ontouchmove=function(t){if(i.scrollHeight==i.offsetHeight&&"none"!=jm(o).css("display")){var e=t.target;jm(e).parents(".areaBox").length>0||jm(e).parents(".areaBox2").length>0||t.preventDefault()}};var n=1;requestAnimationFrame((function e(){var o=(i=Fai.top.document.querySelector("#"+t)).scrollHeight-i.clientHeight;o-0==n&&(n=.5);var a=i.scrollTop;0===a?i.scrollTop+=n:a===o&&(i.scrollTop-=n),requestAnimationFrame(e)}))}}(Mobi,jm),Mobi,jm,jm((function(){Mobi.initAddrPropComp=function(t){new Vue({el:"#addrPropComp",data:function(){return{addrPropList:[t],addrInfoList:Fai.top._addrInfoList,addrPropInfoList:Fai.top._addrPropInfoList}},template:'\n                    <div id="addrPropComp">\n                    \t<comp-addrpropitem :isAddAddr="false" :addrInfo="formAddrInfo" :item="item" v-for=\'item in addrPropInfoList\'></comp-addrpropitem>\n                    </div>\n\t\t\t\t'})}})),Mobi.lazyLoadMDetailPdImg=function(){var t=0,e=navigator.userAgent.toLowerCase();-1!=e.indexOf("micromessenger")&&-1!=e.indexOf("iphone")&&(t=1e3),setTimeout((function(){jm(".J_lazyLoad").each((function(t,e){var i=jm(e).attr("lazy_src");jm(e).attr("src",i)}))}),t)},Mobi.toggleItemLine=function(t){var e=jm(t);if(e.hasClass("opened"))e.parent().find(".pgBox2Item").height(0),e.removeClass("opened");else{jm(".pgBox2Item").height(0),jm(".pgBoxItem").removeClass("opened");var i=jm(t).parent().find(".pgBox2Item .pgName").length,o=0;o=i>=6?"15rem":2.5*i+"rem",e.addClass("opened").parent().find(".pgBox2Item").height(o)}},Mobi.seeMoreGoodsInOrder=function(t){t?(jm(".vpdMoreGoods").toggle(),jm(".vpdSmText1").toggle(),jm(".vpdSmText2").toggle()):(jm(".moreGoods").toggle(),jm(".smText1").toggle(),jm(".smText2").toggle())},Mobi.seeMoreItemsInOrderList=function(t){jm(".moreGoods"+t).toggle(),jm(".smText1"+t).toggle(),jm(".smText2"+t).toggle()},Mobi.changePayMode=function(t,e){var i,o,n,a={triggerId:"morePayMode",pageHtml:(i=e,o=jm("#morePayMode").attr("_paymode"),n=[],n.push("<div class='pgListDiv' id='pgListDiv' style='background-color: inherit;'>"),n.push("<div class='g_close' style='width: 100%;height: 100%;'></div>"),n.push("<div id='onlinePayType' class='pgDetail onlinePayType'>"),n.push("<div id='pgBox' class='pgBox' style='position: fixed;bottom: 0;'>"),jm.each(i,(function(e){var a=i[e];if(!a.desc)return!0;n.push("<div class='line'>"),n.push("<div class='pgBoxItem' onclick='Mobi.changePayModeEvent(this);' _orderId='"+t+"' _payMode='"+a.payMode+"'><span class='icon-payMode payMode"+(a.payMode>2&&a.payMode<300?"Online":a.payMode)+"'></span><a class='pgName payMode'>"+a.desc+"</a>"+(o==a.payMode?"<i class='faisco-icons-right g_color g_main_color_v3 J_selectPay' style='height: 2.5rem;line-height: 2.5rem;margin-left: 0.1rem;'></i>":"<i class='faisco-icons-shape11' style='font-size: 1rem;height: 2.5rem;line-height: 2.5rem;'></i>")+"</div>"),n.push("</div>")})),n.push("</div></div></div>"),n.join("")),callback:function(){},closeWebPage:"#pgListDiv .g_close",direction:"bottom",pageBg:!0};Mobi.initWebPage(a)},Mobi.changePayModeEvent=function(t){var e=jm(t).attr("_payMode"),i=jm(t).attr("_orderId"),o={};isNaN(e)||(o.payMode=parseInt(e),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=setWafCk_setOrder",data:"id="+i+"&info="+jm.toJSON(o),dataType:"json",error:function(){Mobi.ing(LS.mallStlSubmitError)},success:function(t){t.success?document.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"onlinePayment.jsp?orderId="+i:Mobi.ing(t.msg)}}))},Mobi.jumpToProductDetail=function(t,e){window.sessionStorage&&(window.sessionStorage._isJumpFromMlist=!0,window.sessionStorage._jumpMlistUrl=window.location.href,1==e&&Mobi.checkWindowSeStgValue(window.sessionStorage._commClickItemId)&&(window.sessionStorage._commClickItemId=!1)),window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"pd.jsp?pid="+t},Mobi.setWebContainerBoxShow=function(){setTimeout((function(){jm("#footer").css("visibility","visible"),jm("#cusInfo").css("visibility","visible"),window.sessionStorage._backFromProDetail=!1}),500)},Mobi.checkWindowSeStgValue=function(t){return!(!t||"false"==t)},Mobi.selectedOrderStatus=function(t,e){var i=jm("#module"+t);i.find(".orderStatusSelectDiv").click((function(){i.find(".orderStatusSelectDiv").addClass("oderStatusDivFontColor").removeClass("g_color g_main_color_v3").removeClass("g_bdColor g_main_bdColor_v3").removeClass("orderStatusBeenSelected");var o=jm(this),n=o.attr("status");o.removeClass("oderStatusDivFontColor").addClass("g_bdColor g_main_bdColor_v3").addClass("g_color g_bdColor").addClass("orderStatusBeenSelected"),Mobi.shanghuaLoading.initOrderListByStatus(t,e,n)}))},Mobi.clickForSelectedOrderStatus=function(t,e){jm("#module"+t).find(".J-"+e).removeClass("oderStatusDivFontColor").addClass("g_color g_main_color_v3").addClass("g_bdColor g_main_bdColor_v3").addClass("orderStatusBeenSelected")},Mobi.initCommentBtn=function(t,e){e="true"==e;var i=jm("#module"+t),o=jm("#g_web");function n(t){jm("#"+t).css("margin-left","")}function a(t,i,r,s,l){var c=r.attr("_iprice"),d=r.attr("_iname"),m=r.attr("_ipath"),p=r.attr("_maxlen"),u=r.attr("_minlen"),f=r.attr("_showflag"),h=r.attr("_comment"),g=r.attr("_pathList"),v=r.attr("_star"),b="' class='ct-panel order-ext-panel'>";if(window.sessionStorage&&Mobi.checkWindowSeStgValue(window.sessionStorage._backFromProDetail)&&(b="' class='ct-panel order-ext-panel' style='margin-left:0;'>",window.sessionStorage._backFromProDetail=!1),void 0!==f&&null!=f){void 0!==g&&null!=g&&(g=jm.parseJSON(g));var _=[],j="";if(void 0!==g&&null!=g&&g.length>0){_.push("<div class='ct-s-content-m'>"),_.push("<table>"),_.push("<tr>");for(var M=0;M<g.length;M++)_.push("<td class='s-img-f-tb'>"),_.push("<table class='s-img-tb' cellpadding='0' cellspacing='0'>"),_.push("<tr>"),_.push("<td class='s-img-bd' valign='middle'   align='center'>"),_.push("<img src='"+g[M].path+"'  class='s-img-set'>"),_.push("</td>"),_.push("</tr>"),_.push("</table>"),_.push("</td>");_.push("</tr>"),_.push("</table>"),_.push("</div>")}"[]"!=_&&(j=_.join(""));var y=[];if(e){y.push("<div class='l-comm-star'>");for(var w=0;w<5;w++)w<v?y.push("<li class='faisco-icons-star3 select_more'></li>"):y.push("<li class='faisco-icons-star3 select_less'></li>");y.push("</div>")}var S=Mobi.preprocessUrl({path:"",oldPath:""})+"index.jsp",I=["<div id='pd-item-",t,"-",i,b,"<div class='loginHeader webHeaderBg g_main_bgColor_v3'>","<span class='g_close icon-gClose'></span>","<span class='title  pageTitle' style='padding-right:0px;'>",LS.commentPub,"</span>","<span class='homeIcon icon-homeIcon' onclick='window.location.href="+S+"'></span>","</div>","<div class='l-comm-item'>","<div class='d-click' onclick=Mobi.jumpToProductDetail('"+l+"',2)></div>","<div class='i-block1 i-block1-w'>","<img class='b-comm-img' src='",m,"' alt=''/>","</div>","<div class='i-block2'>","<div class='pd-n pd-n-p' >",jm.encodeHtml(d),"</div>","</div>","</div>","<div class='l-s-item'>","<div class='tipImg'>","</div>","<div class='ct-s-content'>",h,"</div>",j,y.join(""),"</div>","</div>"];I=jm(I.join("")),o.append(I),setTimeout((function(){I.css("margin-left",0);var t=I.find(".ct-s-content-m");if(void 0!==t&&null!=t)for(var e=0;e<t.length;e++){var i=t.eq(e)[0].querySelectorAll("img");void 0!==i&&null!=i&&i.length>0&&Mobi.bindCommImgShow(i,!1,0)}}),100),I.bind("scroll",(function(t){t.stopPropagation(),t.cancelBubble=!0})),I.find(".loginHeader .g_close").eq(0).click((function(){n("pd-item-"+t+"-"+i)}))}else{var C=5;"undefined"!=typeof _commUploadImgParam&&null!=_commUploadImgParam&&(C=_commUploadImgParam.upImgMaxNum);y=[];e&&(y=["<div class='l-star-list J-star-list'>","<li class='faisco-icons-star3'></li>","<li class='faisco-icons-star3'></li>","<li class='faisco-icons-star3'></li>","<li class='faisco-icons-star3'></li>","<li class='faisco-icons-star3'></li>","<li class='score-tip'></li>","</div>"]);S=Mobi.preprocessUrl({path:"",oldPath:""})+"index.jsp",I=["<div id='pd-item-",t,"-",i,b,"<div class='loginHeader webHeaderBg g_main_bgColor_v3'>","<span class='g_close icon-gClose'></span>","<span class='title  pageTitle' style='padding-right:0px;'>",LS.commentPub,"</span>","<span class='homeIcon icon-homeIcon' onclick='window.location.href="+S+"'></span>","</div>","<div class='l-comm-item'>","<div class='d-click'  onclick=Mobi.jumpToProductDetail('"+l+"',2)></div>","<div class='i-block1 i-block1-w'>","<img class='b-comm-img' src='",m,"' alt=''/>","</div>","<div class='i-block2'>","<div class='pd-n pd-n-p'>",jm.encodeHtml(d),"</div>","</div>","</div>",y.join(""),"<div class='l-area-item'>","<div class='tipImg'></div>","<textarea class='J-ct-area g_textArea comm_input' placeholder='",LS.commentUpInTip,"' minlength='",u,"' maxlength='",p,"'></textarea>","</div>","<div class='img-area-item'>","<table cellpadding='0' cellspacing='0' id='msg_add_img_tb_"+_commUploadImgParam.countNumber+"' >","<tr>","<td id='msgBoardAddImgBtn_"+_commUploadImgParam.countNumber+"' class='comm-find-tb' maxNum='"+C+"'> ","<div  id='comm-img-swfu-placeholder-"+_commUploadImgParam.countNumber+"'>","</td> ","</tr>","</table>","</div>","<div class='l-sb-item'>","<div class='J-ct-submit g_button g_main_bgColor_v3'>",LS.commentSumit,"</div>","</div>","</div>"];if(I=jm(I.join("")),o.append(I),Mobi.setStarSelect(),setTimeout((function(){I.css("margin-left",0)}),100),"true"==_commUploadImgParam.isIE){var P=_commUploadImgParam.countNumber;Mobi.mobiCommUploadImgSWF("comm-img-swfu-placeholder-"+_commUploadImgParam.countNumber,_commUploadImgParam.upImgMaxSize,_commUploadImgParam.imgType,_commUploadImgParam.upImgMaxNum,P)}else Mobi.mobiCommUploadImgHtml("comm-img-swfu-placeholder-"+_commUploadImgParam.countNumber,_commUploadImgParam.upImgMaxSize,_commUploadImgParam.imgType,_commUploadImgParam.siteMainDomain);I.bind("scroll",(function(t){t.stopPropagation(),t.cancelBubble=!0})),I.find(".loginHeader .g_close").eq(0).click((function(){n("pd-item-"+t+"-"+i)}));var x=I.find(".J-ct-area");/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)&&jm(".J-ct-area").bind("focus",(function(){jm("#pd-item-"+t+"-"+i).css("position","absolute"),jm("body").attr("ontouchmove","return false;")})).bind("blur",(function(){jm("#pd-item-"+t+"-"+i).css("position",""),jm("body").removeAttr("ontouchmove")})),I.find(".J-ct-submit").click((function(){if(Fai.top._manageMode)Mobi.ing("您目前处于网站管理状态，请先退出再登录");else{var e=jm.trim(x.val());if("string"!=typeof e||""==e)return x[0].focus(),void Mobi.ing(LS.commentNotEmpty);var o=I.find(".img-area-item").find("img"),n=[];if(void 0!==o&&null!=o){var r=o.length;if(r>0)for(var p=0;p<r;p++){var u=o.eq(p);if(null!=u&&"undefined"!=u){var f={},h=u.attr("_id"),g=u.attr("_name"),v=u.attr("_file_size"),b=u.attr("_file_id"),_=Number(u.attr("_fileWidth")||0),j=Number(u.attr("_fileHeight")||0),M=Number(u.attr("_fileType")||0);f.imgId=h,f.imgName=g,f.imgSize=v,f.tempFileId=b,f.imgWidth=_,f.imgHeight=j,f.imgType=M,n.push(f)}}}var y=jm(".J-star-list").attr("_star");y||(y=5);var w={oid:t,iid:i,commImgList:JSON.stringify(n),comment:e,star:y};jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=addWafCk_addPC",data:w,error:function(){Mobi.ing(LS.js_systemError)},success:function(o){var n=jm.parseJSON(o);if(n.success){Mobi.ing(LS.submitSuccess,1);var r=s.find(".J-l-item-"+i);r.find(".J-ct-item").remove(),r.parent().find(".pd-comment-tipContainer").remove(),r.append("<div class='orderButton' _star="+y+" _iid="+i+" _iprice='"+c+"' _ipath='"+m+"' _showFlag='check'  _iname='"+d+"' _pid='"+l+"'  _comment='"+jm.encodeHtml(e)+"' _pathList='"+n.imgsPathStr+"'>"+LS.commentView+"</div>"),r.find(".orderButton").click((function(){var e=jm(this),i=e.attr("_iid"),o=e.attr("_pid"),n=jm("#pd-item-"+t+"-"+i);if(n.length>0){n.css("margin-left",0);var r=n.find(".J-ct-area");void 0!==r&&null!=r&&r.length>0&&r[0].focus()}else a(t,i,e,s,o)})),I.remove(),n.commentEarnItg&&(n.autoOpenComm?Mobi.showItgRewardPop(n.itgName,2,n.commentEarnItgNum):Mobi.ing("<div style='text-align:center;'>评价成功！<br>待评价通过审核后,<br>即可获得奖励！</div>",-1))}else{if(n.hasFW)return void Mobi.ing(n.msg);var p="";switch(n.rt){case 1:p=LS.commentError;break;case 2:p=LS.mallStlSubmitNotFound;break;case 3:p=LS.commentError;break;case 5:p=LS.paramError;break;case 7:p=LS.commentClosed;break;case 8:p=LS.commentExist;break;case 9:p=LS.commentCountLimit;break;default:p=LS.js_systemError}Mobi.ing(p)}}})}}))}}i.find(".J-comment").unbind().bind("click",(function(){document.body.style.overflow="hidden";var t=jm(this),e=t.attr("_oid");window.sessionStorage&&(window.sessionStorage._commClickOrderId=e);var i=jm("#pd-ct-panel"+e);if(i.length>0)i.css("margin-left",0);else{var r=!1;window.sessionStorage&&Mobi.checkWindowSeStgValue(window.sessionStorage._backFromProDetail)&&(r=!0);var s={oid:e,marginFlag:r};jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=getWafNotCk_getCtPanel",data:s,success:function(r){var s=jm.parseJSON(r);if(0==s.success)return Mobi.ing(s.msg),void setTimeout((function(){document.body.style.overflow="scroll"}),1500);i=jm(s.html),o.append(i),setTimeout((function(){i.css("margin-left",0)}),100),i.bind("scroll",(function(t){t.stopPropagation(),t.cancelBubble=!0})),i.find(".loginHeader .g_close").eq(0).click((function(){0==i.find(".J-ct-item").length&&t.removeClass("orderButton").addClass("comment-txt  orderButtonHas orderButton").text(LS.commentExist),n("pd-ct-panel"+e)})),i.find(".J-ct-item").click((function(){document.body.style.overflow="hidden";var t=jm(this),o=t.attr("_iid"),n=t.attr("_pid");window.sessionStorage&&(window.sessionStorage._commClickItemId=o);var r=jm("#pd-item-"+e+"-"+o);if(r.length>0){r.css("margin-left",0);var s=r.find(".J-ct-area");void 0!==s&&null!=s&&s.length>0&&s[0].focus()}else a(e,o,t,i,n)})),i.find(".loginHeader.webHeaderBg").click((function(){document.body.style.overflow="scroll"})),window.sessionStorage&&Mobi.checkWindowSeStgValue(window.sessionStorage._commClickItemFlag)&&(Mobi.checkWindowSeStgValue(window.sessionStorage._commClickItemFlag),Mobi.checkWindowSeStgValue(window.sessionStorage._commClickItemId)&&setTimeout((function(){jm(".J-ct-item[_iid='"+window.sessionStorage._commClickItemId+"']").click()}),30),window.sessionStorage._commClickItemFlag=!1)}})}})),window.sessionStorage&&Mobi.checkWindowSeStgValue(window.sessionStorage._backFromProDetail)?Mobi.checkWindowSeStgValue(window.sessionStorage._commClickOrderId)&&setTimeout((function(){jm(".J-comment[_oid='"+window.sessionStorage._commClickOrderId+"']").click(),window.sessionStorage._commClickItemFlag=!0,Mobi.setWebContainerBoxShow()}),120):Mobi.setWebContainerBoxShow()},Mobi.initcommUploadImgParam=function(t,e,i,o,n,a,r,s){window._commUploadImgParam={upImgMaxSize:t,imgType:e,upImgMaxNum:i,jsJquery:o,jsUpload:n,countNumber:2,swfUpload:r,isIE:s,swfObjList:[],siteMainDomain:a};var l=document.createElement("script");l.type="text/javascript",l.src=o,l.onload=function(){var t=document.createElement("script");t.src="true"==s?r:n,t.type="text/javascript",c.appendChild(t)};var c=document.documentElement||document.body;c.appendChild(l)},Mobi.showSingalInstCommImg=function(t){var e=jm("#msg_add_img_tb_"+t).eq(0)[0].querySelectorAll("img");void 0!==e&&null!=e&&e.length>0&&Mobi.bindCommImgShow(e,!0,t)},Mobi.mobiCommUploadImgSWF=function(t,e,i,o,n){var a=i.split(","),r={file_post_name:"Filedata",upload_url:"/ajax/commUpsiteimg_h.jsp",button_placeholder_id:t,file_size_limit:e+"MB",button_image_type:3,file_queue_limit:1,button_width:"50px",button_height:"50px",button_cursor:SWFUpload.CURSOR.HAND,button_image_url:_resRoot+"/image/mobi/msgUpImg/upload.png",requeue_on_error:!1,post_params:{ctrl:"Filedata",app:21,type:0,fileUploadLimit:o},file_types:a.join(";"),file_dialog_complete_handler:function(){this._allSuccess=!1,this.startUpload()},file_queue_error_handler:function(t,e){switch(e){case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:Mobi.ing(LS.mobiFormSubmitCheckFileSizeErr,!0);break;case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:Mobi.ing(LS.mobiFormSubmitFileUploadNotAllow,!0);break;case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadOneTimeNum,"1"),!0);break;default:Mobi.ing(LS.mobiFormSubmitFileUploadReSelect,!0)}},upload_success_handler:function(t,e){var i=jQuery.parseJSON(e);this._allSuccess=i.success,this._sysResult=i.msg,i.success?(setTimeout((function(){Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadSucess,jm.encodeHtml(t.name)),!0)}),1800),Mobi.onCommFileUploadEvent("upload",i,n)):Mobi.ing(LS.mobiFormSubmitFileUploadFile+t.name+"   "+i.msg)},upload_error_handler:function(t,e){-280==e?Mobi.ing(LS.mobiFormSubmitFileUploadFileCancle,!1):-270==e?Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadFileExist,jm.encodeHtml(t.name)),!0):Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadSvrBusy,jm.encodeHtml(t.name)))},upload_complete_handler:function(t){t.filestatus==SWFUpload.FILE_STATUS.COMPLETE?(void 0===_commUploadImgParam.swfObjList&&(_commUploadImgParam.swfObjList=[]),swfObj=_commUploadImgParam.swfObjList[n],setTimeout((function(){swfObj.startUpload()}),swfObj.upload_delay)):t.filestatus==SWFUpload.FILE_STATUS.ERROR&&Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadSvrBusy,jm.encodeHtml(t.name)))},upload_start_handler:function(){Mobi.ing(LS.mobiFormSubmitFileUploadPrepare,!1)},view_progress:function(t,e,i,o){o=Math.ceil(e/i*100),isNaN(o)||(100==o?Mobi.ing(LS.mobiFormSubmitFileUploadIng+o+"%",!0):Mobi.ing(LS.mobiFormSubmitFileUploadIng+o+"%",!1))}};void 0===_commUploadImgParam.swfObjList&&(_commUploadImgParam.swfObjList=[]),_commUploadImgParam.swfObjList[n]=SWFUploadCreator.create(r),_commUploadImgParam.countNumber++},Mobi.mobiCommUploadImgHtml=function(t,e,i){var o=i.split(","),n=_commUploadImgParam.countNumber,a={siteFree:!1,updateUrlViewRes:"",auto:!0,fileTypeExts:o.join(";"),multi:!1,fileSizeLimit:1024*e*1024,breakPoints:!0,saveInfoLocal:!1,showUploadedPercent:!0,removeTimeout:9999999,getFileSizeUrlFlag:!0,post_params:{app:21,type:0,fileUploadLimit:e,isSiteForm:!0,_TOKEN:jm("#_TOKEN").attr("value")},isOrnotButton:!0,buttonText:"",uploader:'/ajax/commUpsiteimg_h.jsp?cmd="mobiUpload"',onUploadStart:function(){window._uTime=(new Date).getTime()},onUploadSuccess:function(t,e){var i=jm.parseJSON(e);i.success?(r({status:"end",id:t.id,title:"上传成功。"}),setTimeout((function(){Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadSucess,jm.encodeHtml(t.name)),!0)}),1800),Mobi.onCommFileUploadEvent("upload",i,n)):(r({status:"end",id:t.id,title:i.msg}),Mobi.ing(LS.mobiFormSubmitFileUploadFile+t.name+"   "+i.msg))},onUploadError:function(t){jm("#progressBody_ "+t.id).remove(),jm("#progressWrap_"+t.id).remove(),Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadSvrBusy,jm.encodeHtml(t.name))),window._uTime=(new Date).getTime()-_uTime},view_progress:function(t){t=Math.ceil(t),isNaN(t)||(100==t?Mobi.ing(LS.mobiFormSubmitFileUploadIng+t+"%",!0):Mobi.ing(LS.mobiFormSubmitFileUploadIng+t+"%",!1))}};function r(t){if(!isNaN(Math.round(t.percent)))if("start"==t.status){var e=['<div id="progressBody_'+t.id+'" class="bodyDisable"></div>','<div id="progressWrap_'+t.id+'" class="bodyProgressWrap">','<div class="progressCenter"></div>','<div class="progressIngBody">','<div id="progressTitle'+t.id+'" class="progressIngTitle">'+t.title+"</div>",'<div class="progressIngMission">','<div class="mission"><div id="progress'+t.id+'" class="progress" style="width:1%;"></div></div>','<div id="progressNum'+t.id+'" class="progressNum">0%</div>',"</div>",'<div class="progressInfo"><span id="progressTips'+t.id+'" class="progressFileSize"></span><a class="progressCancel" href="javascript:uploadCancel(\''+t.id+"');\">取消</a></div>","</div>","</div>"];jm("body").append(e.join(""))}else"ing"==t.status?(jm("#progressTitle"+t.id).text(t.title),jm("#progress"+t.id).css("width",Math.round(t.percent)+"%"),jm("#progressNum"+t.id).html(Math.round(t.percent)+"%")):"end"==t.status?(jm("#progressTitle"+t.id).text(t.title),jm("#progressBody_"+t.id).remove(),jm("#progressWrap_"+t.id).remove()):"error"==t.status&&jm("#progress"+t.id).addClass("progressError")}window.upload=jm("#"+t).uploadify(a);var s="file_upload_"+_commUploadImgParam.countNumber,l="select_btn_"+_commUploadImgParam.countNumber;jm("#file_upload_1-button").attr("id",s),jm("#select_btn_1").attr("id",l),_commUploadImgParam.countNumber++},Mobi.onCommFileUploadEvent=function(t,e,i){if("upload"==t){var o=e.id,n=e.name,a=e.size,r=e.path,s=e.fileId,l=e.type||0,c=e.width||0,d=e.height||0;Mobi.mListCommImgTableCtrl(r,n,o,a,s,i,l,c,d)}},Mobi.mListCommImgTableCtrl=function(t,e,i,o,n,a,r,s,l){var c=jm("#msg_add_img_tb_"+a).eq(0),d=c.find(".comm-find-tb").length,m=c.find(".comm-find-tb").eq(d-1),p=m.attr("maxNum");if(!(parseInt(d-1)>=p)){var u=[];u.push("<table style='width:100%; height:100%; table-layout:fixed;' cellpadding='0'  cellspacing='0'>"),u.push(" <tr>"),u.push("    <td valign='middle'   align='center' class='comm-show-td-bd'>"),u.push("      <img src='"+t+"'  alt=''  _name='"+e+"' _id='"+i+"' _file_size='"+o+"' _file_id='"+n+"'  _fileWidth='"+s+"'  _fileHeight='"+l+"'  _fileType='"+r+"' class='comm-up-set'>"),u.push("     </td>"),u.push(" </tr>"),u.push("</table>"),u.push("<div class='comm-up-div'>"),u.push("  <span onclick=Mobi.mListCommTableImgDelete(this,'"+a+"') class='comm-up-div-set'/>"),u.push("</div>");var f=jm(document.createElement("td"));f.addClass("comm-find-tb comm-find-tb-remove"),f.append(jm(u.join(""))),f.insertBefore(m),d=c.find(".comm-find-tb").length,parseInt(d-1)>=p&&m.css("display","none"),Mobi.showSingalInstCommImg(a)}},Mobi.mListCommTableImgDelete=function(t,e){for(var i=jm("#msg_add_img_tb_"+e).eq(0),o=i.find(".comm-find-tb").length,n=0;n<o;n++)if(i.find(".comm-find-tb").eq(n).find(".comm-up-div-set")[0]===t){i.find(".comm-find-tb").eq(n).remove();break}o=i.find(".comm-find-tb").length;var a=i.find(".comm-find-tb").eq(o-1);o<=a.attr("maxNum")&&a.css("display","block"),Mobi.showSingalInstCommImg(e)},Mobi.calculate=function(t,e,i){var o=0,n=0,a=0;try{n=t.toString().split(".")[1].length}catch(t){n=0}try{a=e.toString().split(".")[1].length}catch(t){a=0}switch(i){case 0:o=(t*(r=Math.pow(10,Math.max(n,a)))+e*r)/r;break;case 1:var r;o=((t*(r=Math.pow(10,Math.max(n,a)))-e*r)/r).toFixed(n>=a?n:a);break;case 2:o=s(t,e);break;case 3:o=s(Number(t.toString().replace(".",""))/Number(e.toString().replace(".","")),Math.pow(10,a-n))}return o;function s(t,e){var i=0;try{i+=t.toString().split(".")[1].length}catch(t){}try{i+=e.toString().split(".")[1].length}catch(t){}return Number(t.toString().replace(".",""))*Number(e.toString().replace(".",""))/Math.pow(10,i)}},Mobi.mallProductDetailFixedBar=function(){Fai.top._templateFrameId>=2e3&&Fai.top._templateFrameId<3e3?(jm("#fixedAreaBox").find(".productMallShop").remove(),jm(".productMallShop").appendTo(jm("#fixedAreaBox")),jm(".productNewDetailPanel .productDetailTabPanel .tabBody").css("padding-bottom","2rem"),jm("#serviceBtnOuter").show()):Fai.top._manageMode&&jm("#serviceBtnOuter").length>0&&(jm("#fixedAreaBox").find(".productMallShop").remove(),jm("#serviceBtnOuter").appendTo(jm("#fixedAreaBox")),jm("#serviceBtnOuter").css("display","block"))},Mobi.refreshMallCartNum=function(){var t=jm.getCookie("clearMCPdNum"),e=""==t||"true"==t,i=window.localStorage.getItem("mcPdNum"+Fai.top.sessionMemberId)||-1;i<0||e?jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=getWafNotCk_getMallCartProductNum",data:"",success:function(t){var e=jm.parseJSON(t);if(e.success){if(1==e.rt){var i=jm.trim(e.productAmount);i=i>99?"99+":i,Mobi.refreshMCPdNumForModule(i),window.localStorage.setItem("mcPdNum"+Fai.top.sessionMemberId,i),jm.cookie("clearMCPdNum",!1,{domain:"."+document.domain})}}else jm(".j_mallCartProductNum").hide(),jm("#mallCartProductNumParent").hide()}}):Mobi.refreshMCPdNumForModule(i)},Mobi.refreshMCPdNumForModule=function(t){if(jm("#mallCartIcon .proNum").text("("+t+")"),t>0||"99+"==t){jm(".j_mallCartProductNum").text(t),jm(".j_mallCartProductNum").show();var e=jm(".J_mall_cart_icon"),i=jm(".J_mall_cart_nav"),o="none"!=jm(".J_nav_icon_wrap").css("display");i.each((function(){0==e.length&&(o?jm(this).find(".J_nav_icon_wrap").append("<span class='u_nav_mall_cart_icon g_main_bgColor_v3 J_mall_cart_icon'>"+t+"</span>"):jm(this).find(".J_text_wrap").append("<span class='g_main_color_v3 J_mall_cart_icon u_nav_mall_cart_text'>("+t+")</span>")),e.text(t),e.show()}))}else jm(".j_mallCartProductNum").hide(),jm("#mallCartProductNumParent").hide()},Mobi.initRefundDetail=function(t,e,i,o){jm("#backToRemark").click((function(){jm("#editRemark").hide(),jm("#remarkListContainer").show()})),jm("#leaveMsgBtn").click((function(){jm("#remarkListContainer").hide(),jm("#editRemark").show()})),jm("#showRemark").click((function(){jm("#refundDetail").hide(),jm("#remarkListContainer").show()})),jm("#backToDetail").click((function(){jm("#remarkListContainer").hide(),jm("#refundDetail").show()})),jm("#refundEditFlow").click((function(){jm("#refundDetail").hide(),jm("#refundFlowEditContainer").show()})),jm("#flowBackToDetail").click((function(){jm("#refundFlowEditContainer").hide(),jm("#refundDetail").show()})),jm(".J_delBtn").on("click.delRefundIcon",(function(){jm(this).parent().remove(),jm("#uploadRefundPicBtn").css("display","inline-block")}));var n=!1;jm("#submitRemark").click((function(){if(!n){var o=jm("#refundRemarkArea").val();o.length>200?Mobi.ing(LS.refundRemarkTooLong):0!=o.length?(n=!0,Mobi.ing(LS.refundRemarkSubmiting),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=setWafCk_setRefundRemark",data:"orderId="+t+"&speaker=1&itemId="+e+"&remark="+jm.encodeUrl(o),error:function(){n=!1,Mobi.ing(LS.js_systemError)},success:function(t){if((t=jm.parseJSON(t)).success){Mobi.ing(LS.submitSuccess);var e=new Date(t.remarkTime),a=e.getFullYear(),r=e.getMonth()+1,s=e.getDate(),l=e.getHours(),c=e.getMinutes(),d=e.getSeconds(),m="";m+="<div class='refundItem memberContent'>",m+="<div class='icon-arrow'></div>",m+="<div class='remarkTitle'>",m+="<div class='item1'>"+i+"</div>",m+="<div class='item2'>"+(a+"-"+r+"-"+s+" "+l+":"+c+":"+d)+"</div>",m+="</div>",m+="<div class='remarkStatus'>"+jm.encodeHtml(o)+"</div>",m+="</div>",jm("#remarkList").prepend(m),jm("#editRemark").hide(),jm("#remarkListContainer").show(),jm("#refundRemarkArea").val(""),n=!1}else Mobi.ing(t.msg,!0),n=!1}})):Mobi.ing(LS.refundRemarkNotEmpty)}}));var a={textClass:"confirm",content:LS.refundCancelTips,callback:function(){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=setWafCk_setRefundStatus&type=del&nowStatus="+o,data:"orderId="+t+"&itemId="+e,error:function(){Mobi.ing(LS.js_systemError)},success:function(t){(t=jm.parseJSON(t)).success?location.reload():Mobi.ing(t.msg,!0)}})}};jm("#cancelRefund").click((function(){Mobi.prompt(a)})),jm("#editRefundInfo").click((function(){jm("#refundEditContainer").show(),jm("#refundDetail").hide(),Mobi.isFromEditRefund=!0})),jm("#refundFlowSub").click((function(){if(!n){var i=jm.trim(jm("#flowName").val());if(i)if(i.length>30)Mobi.ing(LS.refundFlowNameTooLong);else{var a=jm.trim(jm("#flowId").val());if(a)if(a.length>30)Mobi.ing(LS.refundFlowCodeTooLong);else{var r=jm.trim(jm("#refundPhone").val());if(r)if(r.length>30)Mobi.ing(LS.refundPhoneTooLong);else{var s=jm.trim(jm("#flowDetail").val());if(s.length>200)Mobi.ing(LS.refundFlowDetailTooLong);else{n=!0;var l={company:i,flowId:a,phone:r,refundArea:s};if(jm(".J_picDiv").length>0){for(var c=[],d=jm(".J_picDiv"),m=0;m<d.length;m++){var p=jm(d[m]),u=p.attr("_fileId");if(u){var f={ii:u},h=p.attr("_tmpFileId");h&&(f.in=p.attr("_fileName"),f.tfi=h,f.is=p.attr("_fileSize"),f.iw=Number(p.attr("_fileWidth")||0),f.ih=Number(p.attr("_fileHeight")||0),f.it=Number(p.attr("_fileType")||0)),c.push(f)}}c.length>0&&(l.flowImgList=c)}jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=setWafCk_setRefundFlow&orderId="+t+"&itemId="+e+"&nowStatus="+o,data:"flowInfo="+jm.encodeUrl(jm.toJSON(l)),error:function(){n=!1,Mobi.ing(LS.js_systemError)},success:function(t){(t=jm.parseJSON(t)).success?(Mobi.ing(LS.submitSuccess),location.reload()):(Mobi.ing(t.msg),n=!1)}})}}else Mobi.ing(LS.refundNeedPhone)}else Mobi.ing(LS.js_refundEnterFlowCode)}else Mobi.ing(LS.refundEnterFlowName)}}))},Mobi.initRefundPicUpload=function(t,e,i,o,n,a){var r=document.createElement("script");r.type="text/javascript",r.src=n;var s=document.documentElement||document.body;r.onload=function(){var n=document.createElement("script");n.src=a,n.type="text/javascript",s.appendChild(n),setTimeout((function(){Mobi.mobiRefundUpload(t,e,i,o)}),1e3)},s.appendChild(r)},Mobi.mobiRefundUpload=function(t,e,i){var o={siteFree:!1,updateUrlViewRes:"",auto:!0,fileTypeExts:i.split(",").join(";"),multi:!1,fileSizeLimit:1024*e*1024,breakPoints:!0,saveInfoLocal:!1,showUploadedPercent:!0,removeTimeout:9999999,getFileSizeUrlFlag:!0,post_params:{app:21,type:0,fileUploadLimit:e,isSiteForm:!0,_TOKEN:jm("#_TOKEN").attr("value")},isOrnotButton:!0,buttonText:"",uploader:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+'/commUpsiteimg_h.jsp?cmd="mobiUpload"',onUploadStart:function(){window._uTime=(new Date).getTime()},onUploadSuccess:function(t,e){var i=jm.parseJSON(e);i.success?(n({status:"end",id:t.id,title:"上传成功。"}),setTimeout((function(){Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadSucess,jm.encodeHtml(t.name)),!0)}),1800),Mobi.refundPicUploadCallBack(i)):(n({status:"end",id:t.id,title:i.msg}),Mobi.ing(LS.mobiFormSubmitFileUploadFile+t.name+"   "+i.msg))},onUploadError:function(t){jm("#progressBody_ "+t.id).remove(),jm("#progressWrap_"+t.id).remove(),Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadSvrBusy,jm.encodeHtml(t.name))),window._uTime=(new Date).getTime()-_uTime},view_progress:function(t){t=Math.ceil(t),isNaN(t)||(100==t?Mobi.ing(LS.mobiFormSubmitFileUploadIng+t+"%",!0):Mobi.ing(LS.mobiFormSubmitFileUploadIng+t+"%",!1))}};function n(t){if(!isNaN(Math.round(t.percent)))if("start"==t.status){var e=['<div id="progressBody_'+t.id+'" class="bodyDisable"></div>','<div id="progressWrap_'+t.id+'" class="bodyProgressWrap">','<div class="progressCenter"></div>','<div class="progressIngBody">','<div id="progressTitle'+t.id+'" class="progressIngTitle">'+t.title+"</div>",'<div class="progressIngMission">','<div class="mission"><div id="progress'+t.id+'" class="progress" style="width:1%;"></div></div>','<div id="progressNum'+t.id+'" class="progressNum">0%</div>',"</div>",'<div class="progressInfo"><span id="progressTips'+t.id+'" class="progressFileSize"></span><a class="progressCancel" href="javascript:uploadCancel(\''+t.id+"');\">取消</a></div>","</div>","</div>"];jm("body").append(e.join(""))}else"ing"==t.status?(jm("#progressTitle"+t.id).text(t.title),jm("#progress"+t.id).css("width",Math.round(t.percent)+"%"),jm("#progressNum"+t.id).html(Math.round(t.percent)+"%")):"end"==t.status?(jm("#progressTitle"+t.id).text(t.title),jm("#progressBody_"+t.id).remove(),jm("#progressWrap_"+t.id).remove()):"error"==t.status&&jm("#progress"+t.id).addClass("progressError")}window.upload=jm("#"+t).uploadify(o)},Mobi.refundPicUploadCallBack=function(t){var e=t.id,i=t.name,o=t.size,n=t.path,a="";a+="<div class='picDiv J_picDiv' _tmpFileId='"+e+"' _fileName='"+i+"' _fileSize='"+o+"' _fileId='"+t.fileId+"'  _fileWidth='"+(t.width||0)+"'  _fileHeight='"+(t.height||0)+"'  _fileType='"+(t.type||0)+"'>",a+="<img src='"+n+"' class='refundImg'/>",a+="<span class='delBtn J_delBtn'>-</span>",a+="</div>";var r=jm(".J_picDiv").length;r>=4&&jm("#uploadRefundPicBtn").hide(),r<5&&jQuery("#uploadRefundPicBtn").before(a),jm(".J_delBtn").off("click.delRefundIcon").on("click.delRefundIcon",(function(){jm(this).parent().remove(),jm("#uploadRefundPicBtn").css("display","inline-block")}))},Mobi.isFromEditRefund=!1,Mobi.refundDetailSubmit=function(t,e,i,o,n){var a;jm("#refundType").change((function(){var t=jm("#refundType").val();0==t?jm("#hasRecvGoodLine").show():1==t&&jm("#hasRecvGoodLine").hide()})),jm("#refundDetailSub").unbind("click.sbm").bind("click.sbm",(function(){if(!a){var r=jm("#refundPrice").val(),s=parseFloat(r);if(o){if(0==n){if(isNaN(s))return void Mobi.ing(LS.refundPriceErr);if(s<0)return void Mobi.ing(LS.refundPriceErr);if(parseFloat(jm("#refundPrice").attr("_max"))<s)return void Mobi.ing(LS.refundPriceTooMuchErr)}}else{if(isNaN(s))return void Mobi.ing(LS.refundPriceErr);if(s<0)return void Mobi.ing(LS.refundPriceErr);if(parseFloat(jm("#refundPrice").attr("_max"))<s)return void Mobi.ing(LS.refundPriceTooMuchErr)}var l=jm("#refundPhone").val();if(0!=jm.trim(l).length){var c=jm("#refundReason").val();if(0!=jm.trim(c).length){var d=jm("#refundType").val(),m={};m.refundType=parseInt(d),m.refundPrice=s,m.refundPhone=l,m.refundReason=c;var p=jm("#hasRecvGood");if(1==p.length&&"none"!=p.css("display")){var u=p.val();m.hasRecvGood="1"==u}if(jm(".J_picDiv").length>0){for(var f=[],h=jm(".J_picDiv"),g=0;g<h.length;g++){var v=jm(h[g]),b=v.attr("_fileId");if(b){var _={ii:b},j=v.attr("_tmpFileId");j&&(_.in=v.attr("_fileName"),_.tfi=j,_.is=v.attr("_fileSize"),_.iw=Number(v.attr("_fileWidth")||0),_.ih=Number(v.attr("_fileHeight")||0),_.it=Number(v.attr("_fileType")||0)),f.push(_)}}f.length>0&&(m.refundImgList=f)}a=!0,Mobi.isFromEditRefund?jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=setWafCk_setRefundStatus&type=edit&nowStatus="+i,data:"orderId="+t+"&itemId="+e,error:function(){Mobi.ing(LS.js_systemError),a=!1},success:function(o){(o=jm.parseJSON(o)).success?(i=15,jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=setWafCk_setOrderNoRefund&orderId="+t+"&itemId="+e+"&nowStatus="+i,data:"refundInfo="+jm.encodeUrl(jm.toJSON(m)),error:function(){a=!1,Mobi.ing(LS.js_systemError)},success:function(t){(t=jm.parseJSON(t)).success?location.reload():(Mobi.ing(t.msg,!0),a=!1)}})):(Mobi.ing(o.msg,!0),a=!1)}}):jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=setWafCk_setOrderNoRefund&orderId="+t+"&itemId="+e+"&nowStatus="+i,data:"refundInfo="+jm.encodeUrl(jm.toJSON(m)),error:function(){a=!1,Mobi.ing(LS.js_systemError)},success:function(t){(t=jm.parseJSON(t)).success?location.reload():(Mobi.ing(t.msg,!0),a=!1)}})}else Mobi.ing(LS.refundEnterReason)}else Mobi.ing(LS.refundNeedPhone)}}))},Mobi.initOrderPropDateType=function(t){var e=t.dateSetting,i=1==(null==e.type?0:e.type);if(Mobi.initmobiFormTimeBtn({moduleId:t.moduleId,siteFormItemId:t.siteFormItemId,minDate:new Date,yearChangeable:!0,monthChangeable:!0,swipeable:!0,placeholder:LS.mallPleaseChoose,dateSetting:e,onAfterSelectDate:t.onAfterSelectDate,onAfterHidePicker:t.onAfterHidePicker}),i&&jm("<span class='orderPropUtil' id='Mobi"+t.moduleId+"CalendarInput"+t.siteFormItemId+"'>"+LS.to+"</span>\n").insertAfter("#module"+t.moduleId+" #orderPropId"+t.siteFormItemId+" .fk-dateInputMaskWrap"),"mstl"==t.panel){var o=t.defaultDateTime,n="#Mobi"+t.moduleId+"Calendar"+t.siteFormItemId+"Pluginsinput",a="#Mobi"+t.moduleId+"Calendar"+t.siteFormItemId+"Plugins_endinput";jm(n).addClass("propItemValue g_input").css({border:"0",outline:"none",height:"2.25rem",color:"#333"}).val(o.s||""),i?jm(n).css("width","5rem"):jm(n).css("width","13rem"),jm(n).attr("proptype",9).attr("_required",t.required).attr("_field",t.field).attr("_prop",t.name).val(o.s||""),jm(a).addClass("g_input").css({width:"5rem",border:"0",outline:"none",height:"2.25rem",color:"#333"}).val(o.e||"")}else{n="#Mobi"+t.moduleId+"Calendar"+t.siteFormItemId+"Pluginsinput",a="#Mobi"+t.moduleId+"Calendar"+t.siteFormItemId+"Plugins_endinput";i?jm(n).addClass("g_input propItemValue").css("width","8rem"):jm(n).addClass("g_input propItemValue").css("width","12rem"),jm(n).attr("proptype",9).attr("_required",t.required).attr("_field",t.field).attr("_prop",t.name),jm(a).addClass("orderPropTimeEndInput")}jm(".editPanel .fk-dateInputMask,.noAddrPropInfoContain .fk-dateInputMask").css({position:"absolute",top:"0",height:"100%",width:"100%"})},Mobi.initNewGuestGiftInfo=function(t){jm.ajax({type:"get",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/newGuestGift_h.jsp?cmd=getWafNotCk_loadModuleDom",data:"printerOptions="+jm.encodeUrl(jm.toJSON(t)),error:function(){},success:function(t){if((t=jm.parseJSON(t)).success){var e=jm.parseJSON(t.rtInfo);jm("#J_newGuestGiftBtn").children().remove(),e.dom.btn&&jm("#J_newGuestGiftBtn").append(e.dom.btn),jm("#J_newGuestGiftPage").children().remove(),e.dom.page&&jm("#J_newGuestGiftPage").append(e.dom.page),jm(".J_showGiftPage").bind("click",(function(){jm(".newGuestGiftSreen").show(),jm(".newGuestGiftContainer").show()})),jm(".J_hiddenGiftPage").bind("click",(function(){jm(".newGuestGiftSreen").hide(),jm(".newGuestGiftContainer").hide()})),jm(".J_receiveBtn").bind("click",(function(){if(1==Fai.top._manageMode){var t=[];t.push('<div class="mobiCouponMsgPanl2">'),t.push('<div class="mobiCouponMsg">'),t.push('<div class="fTop">领取失败</div>'),t.push('<div class="fBottom">当前为管理状态!</div>'),t.push("</div>"),t.push("</div>"),popupCouponMsg(t.join(""))}else 0==Fai.top.sessionMemberId&&(sessionStorage.setItem("regFromFdp","新客有礼"),Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?returnUrl="+Fai.top.location.href)}));var i=jm(".newGuestGiftContainer .giftItem").length||0;1==i?jm(".newGuestGiftContainer").css("top","14%"):2==i?jm(".newGuestGiftContainer").css("top","10%"):jm(".newGuestGiftContainer").css("top","3%"),jm(".newGuestGiftContainer .giftItem").each((function(){jm(this).bind("click",(function(){if(Fai.top._manageMode)Mobi.ing("当前为管理状态");else{var t=jm(this).attr("couponid");Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"pr.jsp?couponId="+t}}))}))}}})},Mobi.initFaisoMallBtn=function(){if(Fai.top._manageMode){if(!Fai.top.isMall||Fai.top._oem){var t=Mobi.getPreviewDocument().getElementById("sideFaiscoMallIcon"),e=[];e.push({display:"text",text:"编辑",title:"点击编辑",evalScript:"Fai.top._highlightSideSetting=true;Fai.top.Mobi.openDesigner('footerEdit');Fai.top.Vue.prototype.$eventBus.$emit('openSideSupportSetting');"}),$(t).mousemove((function(){Mobi.addModuleLayer("sideFaiscoMallIcon",e,1)})).mouseleave((function(){Mobi.removeModuleLayer("sideFaiscoMallIcon")})).click((function(){Fai.top.Mobi.openDesigner("")}))}}else jm("#sideFaiscoMallIcon").click((function(){Mobi.logDog(9201633,5),Mobi.logMallFdp("mall_mem_click_support",{mall_free_bool_0:Fai.top._logined,mall_free_text_0:"侧边"},!0);Fai.top._isRealDemo;window.open("https://amall.fkw.com/pro5")}))},Mobi.initPaymentGiftInfo=function(t){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/paymentGift_h.jsp?cmd=getWafNotCk_loadModuleDom",data:"printerOptions="+jm.encodeUrl(jm.toJSON(t)),error:function(){},success:function(t){if((t=jm.parseJSON(t)).success){var e=jm.parseJSON(t.rtInfo);jm("#J_paymentGiftPage").children().remove(),e.dom.page&&jm("#J_paymentGiftPage").append(e.dom.page),jm(".paymentGiftiftPanelBg").bind("click",(function(){jm(".paymentGiftiftPanelBg").hide(),jm(".paymentGiftiftPanel").hide()})),jm(".btn").bind("click",(function(){jm(".paymentGiftiftPanelBg").hide(),jm(".paymentGiftiftPanel").hide()}))}}})},Mobi.setCpTriangle=function(){var t=jm(".cpCurrPriceTip").css("background-color"),e=jm(".cpCurrPriceTip").css("width");e=parseFloat(e.substring(0,e.indexOf("p"))),e/=40;var i=parseFloat(e/2+.1);jm(".cpCurrPriceTipTriangle").css("border-top-color",t),jm(".cpCurrPriceTipTriangle").css("left",i+"rem"),jm(".cpCurrPriceTipTriangle").css("top",".9rem"),jm(".cpCurrPriceTipTriangle").css("display","inline-block")},Mobi.initCutPriceRibbon=function(t,e,i,o){setInterval((function(){var n=(new Date).getTime(),a=0==e?i-n:o-n,r=Mobi.translateDiffTime(a),s="距活动"+(0==e?"开始":"结束")+"仅剩："+r;jm(".imgRibbon"+t).find("span").text(s)}),1e3)},Mobi.initCutPriceDetailCD=function(t,e,i){t<10?setInterval((function(){var o=(new Date).getTime(),n=0==t?e-o:i-o,a=Mobi.translateDiffTime(n),r="距活动"+(0==t?"开始":"结束")+"仅剩："+a;jm(".cpCountDown").text(r)}),1e3):jm(".cpCountDown").text("活动已结束"),jm(".icon-cutPriceToIndex").bind("click",(function(){Fai.top.document.location.href="/"}))},Mobi.marketingPdInterval=null,Mobi.initMarketPdDetail=function(t,e,i,o,n,a){window.onload=function(){jm(".showSaleTimeImg").css("display","block")},0!=t?(jm(".J_salePromotionNewMessage").html(LS.salePromotionNewEndMessage),"secKill"==a&&jm(".J_salePromotionNewMessage").html("距秒杀结束还有：")):"secKill"==a&&jm(".J_salePromotionNewMessage").html("距秒杀开始还有："),(o||Fai.top._manageMode)&&1!=n&&(jm(".J_salePromotionDay").html(LS.salePromotionDay),jm(".J_salePromotionHour").html(":"),jm(".J_salePromotionMinute").html(":"),jm(".J_salePromotionSecond").html(""));var r="",s="仅剩：";"cutPrice"==a?r="砍价":"secKill"==a&&(r="秒杀",s="还有：");var l=null;Mobi.marketingPdInterval&&clearInterval(Mobi.marketingPdInterval),Mobi.marketingPdInterval=setInterval((function(){var d=(new Date).getTime(),m=0==t?e-d:i-d,p=Mobi.translateDiffTime(m),u=0==t?"开始":"结束",f="距"+r+"活动"+u+s+p,h="距"+r+"活动"+u+"仅剩：";if(0==t&&(o||Fai.top._manageMode)&&1!=n&&(jm(".J_showCountDownClass").html("&nbsp;&nbsp;"+f),jm(".J_salePromotionNewMessage").html(h)),o&&!Fai.top._manageMode&&1!=n||jm(".showSaleTimeClass").html("&nbsp;&nbsp;"+f),(o||Fai.top._manageMode)&&1!=n){var g=p.split(/[^0-9]/gi),v=g[0],b=g[1],_=g[2],j=g[3];v<10&&(v="0"+v),b<10&&(b="0"+b),_<10&&(_="0"+_),j<10&&(j="0"+j),"secKill"==a?0==t?(jm(".J_salePromotionDay").html("天"),jm(".J_salePromotionHour").html(":"),jm(".J_salePromotionMinute").html(":"),jm(".J_salePromotionSecond").html(""),jm(".J_salePromotionDayNum").html(v),jm(".J_salePromotionHourNum").html(b),jm(".J_salePromotionMinuteNum").html(_),jm(".J_salePromotionSecondNum").html(j),l&&clearInterval(l)):(jm(".J_salePromotionDay").html("天"),jm(".J_salePromotionHour").html(":"),jm(".J_salePromotionMinute").html(":"),jm(".J_salePromotionSecond").html("."),jm(".J_salePromotionMilliSecond").html(""),jm(".J_salePromotionDayNum").html(v),jm(".J_salePromotionHourNum").html(b),jm(".J_salePromotionMinuteNum").html(_),jm(".J_salePromotionSecondNum").html(j),jm(".showNewThemeSaleTimeClass").hasClass("showMillisTime")||jm(".showNewThemeSaleTimeClass").addClass("showMillisTime"),c()):(jm(".J_salePromotionDayNum").html(v),jm(".J_salePromotionHourNum").html(b),jm(".J_salePromotionMinuteNum").html(_),jm(".J_salePromotionSecondNum").html(j)),"00"==v?(jm(".J_salePromotionDay").css("display","none"),jm(".J_salePromotionDayNum").css("display","none")):jm(".J_salePromotionDayNum").html(v)}m<=0&&"secKill"==a&&(window.location.reload(),clearInterval(Mobi.marketingPdInterval),l&&clearInterval(l))}),1e3);var c=function(){var t=[9,8,7,6,5,4,3,2,1,0],e=0;l=setInterval((function(){jm(".J_salePromotionMilliSecondNum").html(t[e]),++e>=10&&(e=0)}),100)}},Mobi.secKillModuleInterVal=null,Mobi.secKillModuleIdList=[],Mobi.initSecKillCountDown=function(t,e,i){var o="",n="",a=(new Date).getTime()-i;null!=Mobi.secKillModuleInterVal&&clearInterval(Mobi.secKillModuleInterVal),Mobi.secKillModuleIdList.push(t),Mobi.secKillModuleInterVal=setInterval((function(){for(var t=(new Date).getTime(),e=0;e<Mobi.secKillModuleIdList.length;e++){var i=Mobi.secKillModuleIdList[e];jm("#module"+i).find(".J_countTime").each((function(e,i){var r=jm(i).attr("startTime"),s=jm(i).attr("endTime"),l=jm(i).attr("moduleStyle");1==l||3==l?(o="%s开抢",n="%s结束"):2==l&&(o="距离活动开始：%s",n="距离活动结束：%s");var c=r-t>0?r-t:s-t;c-=a;var d=Mobi.translateDiffTime(c,["天",":",":",""],!0,!0);if(r-t>0)d=o.replace("%s",d),jm(i).hasClass("countTimeBg")||jm(i).addClass("countTimeBg");else if(s-t>0)d=n.replace("%s",d),jm(i).hasClass("countTimeBg")||jm(i).addClass("countTimeBg");else{if(!(s-t<=0))return;d="",jm(i).hasClass("countTimeBg")&&jm(i).removeClass("countTimeBg")}jm(i).html(d)}))}}),1e3)},Mobi.translateDiffTime=function(t,e,i,o){e&&4==e.length||(e=["天",":",":",""]);var n=[[e[0],864e5],[e[1],36e5],[e[2],6e4],[e[3],1e3]],a="";return jm.each(n,(function(e,n){var r=Math.floor(t/n[1]);0==e&&o&&0==r||(a+=1==(r+"").length&&i?"0"+r+n[0]:r+n[0],t-=r*n[1])})),a},Mobi.cutPrice=function(t,e){var i="cpId="+t+"&pdId="+e,o=[],n=jm(".J-op"),a=!0;jm(n).each((function(){var t=jm(this),e=t.attr("option_name"),i=t.attr("data"),n=t.attr("type"),r=t.attr("option_data");if("true"===t.attr("isTime")){var s=Mobi.priceCalendar.getSelected();if(null==s||""===s||void 0===s)return Mobi.ing(jm.format(LS.mallCartChoiceItemError,jm.encodeHtml(e))),a=!1,!1;(l={}).name=i,l.value=s,null!=n&&(l.name=i.replace(/^opIndept/,""),l.type=parseInt(n)),o.push(l)}else{if(!r)return Mobi.ing(jm.format(LS.mallCartChoiceItemError,jm.encodeHtml(e))),a=!1,!1;var l;(l={}).name=i,l.value=parseInt(r),null!=n&&(l.name=i.replace(/^opIndept/,""),l.type=parseInt(n)),o.push(l)}}));var r="oldOptionsStr";if(r+=e,"null"!=Mobi.optionsStr[r]&&Mobi.optionsStr[r]){for(var s=Mobi.optionsStr[r].split("_"),l=[],c=0;c<s.length;c++)for(var d=0;d<o.length;d++)o[d].name==s[c]&&l.push(o[d]);o=l}if(!a)return Mobi.mallBuying[e]=!1,!1;o.length>0&&(i+="&optionList="+jm.encodeUrl(jm.toJSON(o))),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/cutPrice_h.jsp?cmd=addWafCk_cutPrice",data:i,error:function(){Mobi.ing(LS.js_systemError)},success:function(i){if((i=jm.parseJSON(i)).success){var o=!0;i.alreadyHave&&(o=!1);var n=i.cpDetailId,a=i.memId;Mobi.setCpDetailCookie(t,n,a),location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"cpDetail.jsp?cpId="+t+"&cpDetailId="+n+"&pdId="+e+"&isInit=true&showAnime="+o}else if(-100==i.rt){var r=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?returnUrl="+jm.encodeUrl(jm.getUrlRoot(location.href))+"&errno=11";location.href=r}else-2==i.rt||null==i.msg||""==i.msg?Mobi.ing(LS.js_argsError):Mobi.ing(i.msg)}})},Mobi.showCutPriceAnime=function(t,e,i,o){var n="";n+="<div style='display: flex; flex-flow: column; justify-content: center; align-items: center; margin: 0 auto; width: 13rem; height: 13rem; z-index: 9999; background: url("+_resRoot+"/image/cutPricePopup.png) no-repeat; background-size: contain;'>",n+="    <div style='display: flex; flex-flow: column; margin-top: 6rem; margin-bottom: 1.5rem;'>",n+="        <div style='display: inline-block; font-size: .75rem; color: #333; text-align: center;'>厉害了！你一出手</div>";var a="自己";t||(a="好友"),n+="        <div style='display: inline-block; font-size: .75rem; color: #333; text-align: center; line-height: 1.2rem;'>就帮"+a+"砍掉了<span style='display: inline-block; font-size: .9rem; color: #ff4444; position: relative; top: .08rem;'>"+o+i+"</span></div>",n+="    </div>";var r=function(){};t?(n+="    <div class='J-prompt-callback' style='display: inline-block; width: 7.605rem; height: 3rem; z-index: 9999; text-align: center; background: url("+_resRoot+"/image/initCpBtn.png) no-repeat; background-size: contain; cursor: pointer;'></div>",r=function(){jm(".J_cpInvite").click()}):(n+="    <div class='J-prompt-callback' style='display: inline-block; width: 7.605rem; height: 3rem; z-index: 9999; text-align: center; background: url("+_resRoot+"/image/partiCpBtn.png) no-repeat; background-size: contain; cursor: pointer;'></div>",r=function(){location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"pd.jsp?pid="+e}),n+="</div>",n+="<div class='J-prompt-cancel' style='display: inline-block; width: 2rem; height: 2rem; margin-top: 1rem; z-index: 9999; cursor: pointer;'>",n+="    <img src='"+_resRoot+"/image/hdCouponClose.png'>",n+="</div>";var s="",l={prelude:s+="<div style='display: inline-block; width: 14rem; height: 16rem; margin-top: 5rem; z-index: 9999; background: url("+_resRoot+"/image/cutPriceGif.gif) no-repeat; background-size: contain;'></div>",content:n,mainFrameTimeout:1e3,callback:r,cancelCallback:function(){var t=location.href;t.indexOf("&showAnime")>0&&(t=t.substring(0,t.indexOf("&showAnime"))),t.indexOf("&cutWhenBack")>0&&(t=t.substring(0,t.indexOf("&cutWhenBack"))),location.href=t}};Mobi.customPopup(l)},Mobi.isMallMstlGrayTest=function(){return Fai.top._isMallMstlGrayTest},function(t,e){t.MarketingType={NONE:0,GROUP_BUY:1,CUT_PRICE:2,SEC_KILL:3,INTEGRAL_MALL:4,EARNEST_SALE:5,COMBINED_PURCHASE:6,COMMUNITY_GROUP:7}}(Mobi,jm),function(t,e){t.cutPriceImmeBuy=function(i,o,n,a){var r={isCutPrice:!0};r.cutPriceId=i,r.cutPriceDetailId=o,void 0===t.mallBuying[n]&&(t.mallBuying[n]=!1);var s=!1;if(e.each(t.mallBuying,(function(t,e){if(e)return s=!0,!1})),!s){t.mallBuying[n]=!0;a&&("&optionList="+e.encodeUrl(e.toJSON(a)),a=e.parseJSON(a)),"&amount=1";var l={pid:n,amount:1,optList:a,isCutPrice:!0,cutPriceId:i,cutPriceDetailId:o};null!=l.optList&&0!=l.optList.length&&l.optList&&"null"!=l.optList||(l.optList=e.toJSON([]));t.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"}),"/order_h.jsp?cmd=".concat("addWafCk_addIme");"&codata="+e.toJSON(l),_asyncToGenerator(regeneratorRuntime.mark((function e(){var r,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.Ajax.addImmePreOrder({productId:n,amount:1,optionList:a,marketingType:t.MarketingType.CUT_PRICE,marketingId:i,marketingDetailId:o});case 3:r=e.sent,console.log("result",r),r.success?(s=r.preOrderId,location.href=t.preprocessUrl({path:"",oldPath:""})+"mstl.jsp?preOrderId=".concat(s)):c(r,!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d(e.t0);case 11:t.mallBuying[n]=!1;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()}function c(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("data",e),e.rt==t.MallAjaxErrno.authMemberNotAllow?t.ing(e.data+LS.authLevelBuy):e.rt==t.MallAjaxErrno.login?t.ing(LS.memberLoginFirst):(e.rt==t.MallAjaxErrno.error&&t.logMonitor(6160,!0),i?t.returnMallErrorMsgV2(e):t.returnMallErrorMsg(e.rt)),t.mallBuying[n]=!1}function d(){t.ing(LS.js_systemError),t.mallBuying[n]=!1,t.logMonitor(6160,!0)}}}(Mobi,jm),Mobi.setCpDetailCookie=function(t,e){jm.cookie("cp_"+t+"_cpDetail_"+e,!0,{path:"/"})},Mobi.setCpDetailCookieBeforeHand=function(t,e,i){null!=(i=jm.cookie("cp_"+t+"_cpDetail_"+e))&&void 0!==i||jm.cookie("cp_"+t+"_cpDetail_"+e,!1,{path:"/"})},Mobi.checkCpDetailCookie=function(t,e,i){return!!jm.cookie("cp_"+t+"_cpDetail_"+e)},Mobi.helpCutPriceLock=!1,Mobi.helpCutPrice=function(t,e,i,o){if(1!=Mobi.helpCutPriceLock){Mobi.helpCutPriceLock=!0;var n=jm.cookie("cp_"+t+"_cpDetail_"+e);return null==n?(Mobi.helpCutPriceLock=!1,Mobi.ing("您的浏览器暂不支持砍价功能")):"true"===n?(Mobi.helpCutPriceLock=!1,Mobi.ing("您已经砍过价了")):void jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/cutPrice_h.jsp?cmd=wafNotCk_helpCutPrice&cpId="+t+"&cpDetailId="+e+"&pdId="+i,error:function(){Mobi.ing(LS.js_systemError)},success:function(i){if((i=jm.parseJSON(i)).success)Mobi.setCpDetailCookie(t,e,o),Mobi.showCutPriceAnime(!1,i.pdId,i.reducedMoney,i.choiceCurrencyVal);else if(-100==i.rt){var n=jm.getUrlRoot(location.href);n.indexOf("?")>0?n+="&cutWhenBack=true":n+="?cutWhenBack=true";var a=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?returnUrl="+jm.encodeUrl(n)+"&errno=11";location.href=a}else Mobi.ing(i.msg)},complete:function(){Mobi.helpCutPriceLock=!1}})}},Mobi.getProductVideo=function(){jm(".productBullet").hide(),jm(".productDetailHeader").hide(),jm(".productDetailHeaderV3").hide();var t=document.getElementById("productVideoMask"),e=document.getElementById("productVideo");t.style.display="block",e.play()},Mobi.setMarketingProPdStyle=function(t){"style1"==t&&(jm("#memberPricePd").css("background","#fff"),jm("#memberPricePd").find(".p1").css("background","#fff"),jm("#memberPricePd").find(".p3").css("background","#fff")),"style3"==t&&(jm("#memberPricePd").find(".p1").css("display","none"),jm("#memberPricePd").find(".p3").css("display","none"),jm("#memberPricePd").css("border","none"),jm(".productPrice .backMoneyBg").css("height","18.8px"),jm(".productPrice .backMoneyBg").css("top","-2px"),jm(".productPrice .backMoney").css({top:"-2px",position:"absolute",padding:"3px 4px"}),jm(".memberPricePd").css("left","2px"),jm(".productPrice .memberPricePd").css("position","relative"),jm(".productPrice .memberPricePd").css("text-align","center"),jm(".productPrice .memberPricePd").css("white-space","nowrap"),jm(".productPrice .memberPricePd").css("padding","6px 5px"))},Mobi.videoQuit=function(){document.getElementById("productVideoMask").style.display="none",document.getElementById("productVideo").load(),jm(".productBullet").show(),2!=Fai.top._other.templateInfo.templateDesignType&&jm(".productDetailHeader").show(),Fai.top._openThemeV3&&jm(".productDetailHeaderV3").show()},Mobi.initVideo=function(t){jm(".bullets").find("li").eq(0).css("height","12px"),jm(".bullets").find("li").eq(0).css("width","12px");jm(".bullets").find("li").eq(0).append("<span class='bfFont faisco-icons-'></span>"),jm(".bullets").css("margin-top","-20px"),jm(jm(".proDetailImg ")[0]).removeAttr("onclick"),jm(jm(".proDetailImg ")[0]).click((function(){Mobi.getProductVideo(t)}))},Mobi.clipboard=function(t){t=jm.extend({selector:"",sucTxt:"复制成功",failTxt:"复制失败",icon:!1,sucCallback:null,failCallback:null},t);var e=new ClipboardJS(t.selector),i=LS.replicationSuccess;e.on("success",(function(t){Mobi.ing(i,1),e.destroy(),t.clearSelection()})),e.on("error",(function(){navigator.userAgent.indexOf("UCBrowser")>-1?Mobi.ing(i,1):Mobi.ingTigs("该浏览器不支持复制链接的功能，请手动复制"),e.destroy()}))},Mobi.clickClipboard=function(t){t||(t=".copyTextBtn");new ClipboardJS(t,{text:function(t){var e=jm(t).attr("data-clipboard-target");return jm(e).text()}});Mobi.clipboard({selector:t,icon:!0})},Mobi.calculateIntraCityShipDistanceKm=function(t,e){var i=Mobi.syncComputeDistanceBetween({latitude:e.lat,longitude:e.lng},{latitude:t.lat,longitude:t.lng});return Math.round(i/1e3*100)/100},Mobi.initOrderDetailIntraCityShipInfo=function(){new Vue({el:"#intraCityOrderInfo",data:function(){return{order:Fai.top._order,intraCityShipConf:Fai.top._intraCityShipConf}},computed:{shipName:function(){return this.intraCityShipConf.cn||"同城配送"},isShipTimeVisible:function(){return this.intraCityShipData&&this.intraCityShipData.irs},intraCityShipData:function(){return this.order.addrInfo.icsd},shipTimeText:function(){if(this.isOpenTimeSegment){if(0===this.intraCityShipData.tst){var t="";return 0===this.intraCityShipData.tp?t="上午":1===this.intraCityShipData.tp?t="下午":2===this.intraCityShipData.tp&&(t="晚上"),this.intraCityShipData.st+" "+t}var e=this.checkedList[this.intraCityShipData.tp].timestamp;return this.intraCityShipData.st+" "+Mobi.DateUtil.getHourAndMinStr(e)}return this.intraCityShipData.st+" 全天"},timeSetting:function(){return this.intraCityShipConf.ts},isOpenTimeSegment:function(){return 1===this.intraCityShipData.iots},ONE_THIRD_DAY_LIST:function(){return this.timeSetting.maes},HALF_HOUR_LIST:function(){return this.timeSetting.hohs},HOUR_LIST:function(){return this.timeSetting.hs},checkedList:function(){var t=[],e=new Date(this.intraCityShipData.st.replace(/-/g,"/")+" 00:00:00").getTime();if(this.isOpenTimeSegment){if(0===this.intraCityShipData.tst)t=[{id:0,text:"上午",timestamp:e+12*Mobi.DateUtil.HOUR_UNIT-1},{id:1,text:"下午",timestamp:e+18*Mobi.DateUtil.HOUR_UNIT-1},{id:2,text:"晚上",timestamp:e+24*Mobi.DateUtil.HOUR_UNIT-1}];else if(1===this.intraCityShipData.tst)for(var i=0;i<24;i++){var o=e+i*Mobi.DateUtil.HOUR_UNIT,n=Mobi.DateUtil.getHourAndMinStr(o);t.push({id:i,text:n,timestamp:o})}else if(2===this.intraCityShipData.tst)for(var a=0;a<48;a++){var r=e+a*Mobi.DateUtil.HALF_HOUR_UNIT,s=Mobi.DateUtil.getHourAndMinStr(r);t.push({id:a,text:s,timestamp:r})}}else t=[{id:0,text:"全天",timestamp:e}];return t}},methods:{},template:'\n\t\t\t<div id="intraCityOrderInfo" class="fk_orderDetail_intraCityInfo">\n\t\t\t\t<div class="fk_orderDetail_intraCityInfo_ship">\n\t\t\t\t\t<div class="fk_orderDetail_intraCityInfo_ship_line">\n\t\t\t\t\t\t<div class="fk_orderDetail_intraCityInfo_ship_icon_label">\n\t\t\t\t\t\t\t<div class="fk_orderDetail_intraCityInfo_ship_icon">\n\t\t\t\t\t\t\t\t<svg role="img" class="jzm-v36 fk_orderDetail_intraCityInfo_ship_icon_svg">\n\t\t\t\t\t\t\t\t  <use xlink:href="#jzm-v36"></use>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="fk_orderDetail_intraCityInfo_ship_label">配送方式</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="fk_orderDetail_intraCityInfo_ship_value">{{shipName}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="fk_orderDetail_intraCityInfo_ship_line" v-if="isShipTimeVisible">\n\t\t\t\t\t\t<div class="fk_orderDetail_intraCityInfo_ship_icon_label">\n\t\t\t\t\t\t\t<div class="fk_orderDetail_intraCityInfo_ship_icon">\n\t\t\t\t\t\t\t\t<svg role="img" class="jzm-v40 fk_orderDetail_intraCityInfo_ship_icon_svg">\n\t\t\t\t\t\t\t\t  <use xlink:href="#jzm-v40"></use>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="fk_orderDetail_intraCityInfo_ship_label">期望送达</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="fk_orderDetail_intraCityInfo_ship_value">{{shipTimeText}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="fk_orderDetail_intraCityInfo_accepter">\n\t\t\t\t\t<div class="fk_orderDetail_intraCityInfo_ship_line">\n\t\t\t\t\t\t<div class="fk_orderDetail_intraCityInfo_ship_icon_label">\n\t\t\t\t\t\t\t<div class="fk_orderDetail_intraCityInfo_ship_icon">\n\t\t\t\t\t\t\t\t<svg role="img" class="jzm-v39 fk_orderDetail_intraCityInfo_ship_icon_svg">\n\t\t\t\t\t\t\t\t  <use xlink:href="#jzm-v39"></use>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="fk_orderDetail_intraCityInfo_ship_label">{{order.name}}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="fk_orderDetail_intraCityInfo_ship_value">{{order.mobile}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="fk_orderDetail_intraCityInfo_ship_line" v-if="order.addr">\n\t\t\t\t\t\t<div class="fk_orderDetail_intraCityInfo_addr">{{order.addr}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'})},Mobi.initOrderDetailOrderFormShipInfo=function(t){new Vue({el:t,components:{OrderDetailOrderFormInfo:{props:{orderFormList:{type:Array,default:function(){return[]}}},methods:{decodeHtml:function(t){return t&&t.replace?t.replace(/&nbsp;/gi," ").replace(/&lt;/gi,"<").replace(/&gt;/g,">").replace(/&#92;/gi,"\\").replace(/&#39;/gi,"'").replace(/&quot;/gi,'"').replace(/<br\/>/gi,"\n").replace(/&amp;/gi,"&"):t}},template:'\n                    <div class="fk_orderDetail_orderFormInfo_ship">\n                        <div class="fk_orderDetail_orderFormInfo_wrapper">\n                            <div class="fk_orderDetail_orderFormInfo_item" v-for="(item, index) in orderFormList">\n                                <span class="orderFormInfo_item_key">{{ decodeHtml(item.key) }}</span>\n                                <span class="orderFormInfo_item_value">{{ decodeHtml(item.value) || \'-\' }}</span>\n                            </div>\n                        </div>\n                    </div>\n                '}},data:function(){return{orderFormList:Fai.top._propData.buyerInfo.map((function(t){var e=Object.keys(t)[0];return{key:e,value:t[e]}}))}},watch:{},methods:{},template:'\n            <div id="OrderDetailOrderFormInfo" class="fk_orderDetail_orderFormInfo">\n                <OrderDetailOrderFormInfo :order-form-list="orderFormList" />\n\t\t\t</div>\n        '})},Mobi.initOrderDetailOrderFormInfo=function(t,e){new Vue({el:t,data:function(){return{orderFormList:e.buyerInfo.map((function(t){var e=Object.keys(t)[0];return{key:e,value:t[e]}}))}},methods:{decodeHtml:function(t){return t&&t.replace?t.replace(/&nbsp;/gi," ").replace(/&lt;/gi,"<").replace(/&gt;/g,">").replace(/&#92;/gi,"\\").replace(/&#39;/gi,"'").replace(/&quot;/gi,'"').replace(/<br\/>/gi,"\n").replace(/&amp;/gi,"&"):t}},template:'\n            <div class="fk_orderDetail_orderFormInfo_ship" style="padding-left: 0; padding-right: 0;">\n                <div class="fk_orderDetail_orderFormInfo_wrapper">\n                    <div class="fk_orderDetail_orderFormInfo_item" v-for="(item, index) in orderFormList">\n                        <span class="orderFormInfo_item_key">{{ decodeHtml(item.key) }}</span>\n                        <span class="orderFormInfo_item_value">{{ decodeHtml(item.value) || \'-\' }}</span>\n                    </div>\n                </div>\n            </div>\n        '})},Mobi.initMstlSubmitBtnWrap=function(mstlBtnData){Fai.top.intraCityShipBottomTipVm=new Vue({el:"#mstlBtnWrap",data:function(){return{intraCityShipConf:Fai.top._intraCityShipConf,propList:Fai.top._addrPropInfoList,order:Fai.top._order,totalPrice:Fai.top._totalPrice,tipText:"",shipTimeItem:null,openIntraCityShip:Fai.top._openIntraCityShip,mstlBtnData:mstlBtnData,isFreeShipTip:!1,showUrl:!1,newInvalidItemList:[]}},computed:{btnCls:function(){var t=["g_button","fk_mstlSubmitBtn"];return this.disabled&&!this.isFreeShipTip||t.push(this.mstlBtnData.bgColor),t},disabled:function(){if(this.clearTip(),3!==(Fai.top.shipTabListVm||{}).checkedId)return!1;if(!this.isOpenIntraCityShip)return this.tipServiceStop(),!0;if(this.isAddrEmpty||this.isVagueAddr)return this.tipFillOrderInfo(),!0;if(this.isOverShipDistance)return this.tipOverShipDistance(),!0;if(this.isAddressError)return this.tipFillOrderInfo(),!0;if(this.isOpenTimeSetting){if(this.isShipTimeOver)return this.tipServiceStop(),!0;if(this.isShipTimeUnChecked)return this.tipShipTimeUnChecked(),!0;if(this.isShipTimeCheckedOver)return this.tipShipTimeOver(),!0}if(!Fai.top._isSettleUnCheckMarketType&&this.isPriceLimit)return this.tipPriceLow(),!0;var t=parseFloat(jm("#shipPrice").attr("value"))||0;return!!(this.isNotFreeShip&&t>0)&&(this.tipNotFreeShip(),!0)},isOpenIntraCityShip:function(){return this.openIntraCityShip},isAddrEmpty:function(){return!this.addrInfo},isVagueAddr:function(){return!(this.addrInfo&&this.addrInfo.addr_info&&this.addrInfo.addr_info.pos)},isAddressError:function(){return Mobi.Address.getErrProp({addrInfo:this.addrInfo,propList:this.propList})},addrInfo:function(){return Fai.top.intraCityShipPanelVm.addrInfo},isPriceLimit:function(){return this.totalPrice<this.minPrice},isNotFreeShip:function(){return 1==this.intraCityShipConf.spd.ofs&&this.totalPrice<this.freeShipPrice},isOverShipDistance:function(){var t=this.intraCityShipConf.ail||[],e={};t.length>0&&(e=t[0]).ma.setting.loc;var i=e.sr.dr;return this.shipDistance>i},minPrice:function(){return this.intraCityShipConf.spd.gsp.mpfd},freeShipPrice:function(){return this.intraCityShipConf.spd.fsp},shipDistance:function(){var t=this.intraCityShipConf.ail||[],e={};t.length>0&&(e=t[0].ma.setting.loc||{});var i=e.pp,o=this.addrInfo.addr_info.pos;return Mobi.calculateIntraCityShipDistanceKm(i,o)},isShipTimeUnChecked:function(){return!!this.isOpenTimeSetting&&-1===this.shipTime},timeSetting:function(){return this.intraCityShipConf.ts},isOpenTimeSetting:function(){return 1===this.timeSetting.ota},isShipTimeOver:function(){return!(!Fai.top.intraCityShipTimePanelVM||!Fai.top.intraCityShipTimePanelVM.isTimeOver)},isShipTimeCheckedOver:function(){return this.shipTime<(new Date).getTime()||!!this.shipTimeItem.disabled},shipTime:function(){return this.shipTimeItem?this.shipTimeItem.timestamp:-1}},created:function(){Mobi.$Bus.$off("onShipTimePanelConfirm",this.onShipTimePanelConfirm).$on("onShipTimePanelConfirm",this.onShipTimePanelConfirm),Mobi.$Bus.$off("onInvalidItemListUpdate",this.onInvalidItemListUpdate).$on("onInvalidItemListUpdate",this.onInvalidItemListUpdate)},methods:{onInvalidItemListUpdate:function(t){this.newInvalidItemList=t},clickHandler:function clickHandler(){if(this.mstlBtnData.useSettleData){Mobi.logDog(200453,2);var _this$mstlBtnData$set=this.mstlBtnData.settleData,id=_this$mstlBtnData$set.id,noAddrInfo=_this$mstlBtnData$set.noAddrInfo,immeBuy=_this$mstlBtnData$set.immeBuy,invalidList=_this$mstlBtnData$set.invalidList,invalidItemList=_this$mstlBtnData$set.invalidItemList,tmpImmeData=_this$mstlBtnData$set.tmpImmeData,groupBuyOptions=_this$mstlBtnData$set.groupBuyOptions,cutPriceOptions=_this$mstlBtnData$set.cutPriceOptions,memberId=_this$mstlBtnData$set.memberId,_options=_this$mstlBtnData$set.options,integralMallOptions=_this$mstlBtnData$set.integralMallOptions,earnestSaleOptions=_this$mstlBtnData$set.earnestSaleOptions;return this.newInvalidItemList.length>0&&(invalidItemList=this.newInvalidItemList,invalidList=invalidItemList.map((function(t){return t.id}))),void Mobi.mallSubmit(id,noAddrInfo,immeBuy,invalidList,invalidItemList,tmpImmeData,groupBuyOptions,cutPriceOptions,memberId,_options,integralMallOptions,earnestSaleOptions)}eval(this.mstlBtnData.clickJsString)},tipOverShipDistance:function(){this.tipText="配送地址超出商家配送范围，请重新选择再提交订单。"},tipFillOrderInfo:function(){this.tipText="订单信息尚未完善，请补充完整后再提交。"},tipServiceStop:function(){var t=this.intraCityShipConf.cn||"同城配送";this.tipText="".concat(t,"服务已暂停，暂时无法提交订单。")},tipPriceLow:function(){Mobi.logDog(9201556,4);var t=Fai.top._currencyVal,e=this.minPrice.toFixed(2);this.tipText="商品总额需满".concat(t).concat(e,"才能配送"),this.showUrl=!0},tipNotFreeShip:function(){Mobi.logDog(9201556,6);var t=Fai.top._currencyVal,e=this.freeShipPrice.toFixed(2);this.tipText="商品总额满".concat(t).concat(e,"可减免配送费"),this.isFreeShipTip=!0,this.showUrl=!0},clearTip:function(){this.tipText=""},onShipTimePanelConfirm:function(t){this.shipTimeItem=t},tipShipTimeUnChecked:function(){this.tipText="请选择送达时间"},tipShipTimeOver:function(){this.tipText="当前送达时间已过期，请重新选择"},jumpToUrl:function(){this.isFreeShipTip?Mobi.logDog(9201556,7):Mobi.logDog(9201556,5),Fai.top.location.href="pr.jsp"}},template:'\n\t\t\t<div class="fk_mstlBtnWrap" id="mstlBtnWrap">\n\t\t\t\t<div v-if="disabled" class="fk_mstlBottomTip">\n\t\t\t\t\t{{tipText}}\n\t\t\t\t\t<span v-if="showUrl" class="tipUrl" @click="jumpToUrl">\n\t\t\t\t\t\t去凑单\n\t\t\t\t\t\t<svg role="img" class="iconToUrl">\n\t\t\t\t\t\t\t<use xlink:href="#jzm-vicon_arrow"></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<input type=\'button\' id=\'mstlBtn\' :disabled="disabled && !isFreeShipTip" :class=\'btnCls\' :value=\'mstlBtnData.mallStlSubmit\' @click="clickHandler" />\n\t\t\t</div>\n\t\t'})},function(t,e){Mobi.initMstlIntraCityTimeShip=function(){Fai.top.intraCityShipTimePanelVM=new Vue({el:"#mstlIncraCityTimeShip",data:function(){return this.changeWebContainOverflow(false),{values:[0,0,0],savedValues:[],isDetail:!1,visible:false,intraCityShipConf:Fai.top._intraCityShipConf}},computed:{isTimeOver:function(){return this.START_TIME>=this.END_TIME||0===this.dayList.length},checkedTimestamp:function(){var t=this.checkedTimeItem;return t?t.timestamp:-1},checkedTimeItem:function(){return 0===this.savedValues.length?null:Mobi.deepCopy(this.timeList[this.savedValues[2]])},topSevenDayList:function(){return this.dayList.slice(0,7)},yearList:function(){for(var t=this.START_TIME,e=this.END_TIME,i=Mobi.DateUtil.getYear(t),o=Mobi.DateUtil.getYear(e),n=[],a=0;a<=o-i;a++){var r=i+a;n.push({text:r,timestamp:new Date(r+"-01-01 00:00:00").getTime()})}return n},dayList:function(){for(var t=this.START_TIME,e=this.END_TIME,i=[],o=this.DAY_UNIT,n=Mobi.DateUtil.getZeroTime(t),a=Mobi.DateUtil.getZeroTime(e),r=0;r<=(a-n)/o;r++){var s=n+o*r,l=Mobi.DateUtil.getDayTextForNow(s);i.push({text:l,timestamp:s})}return i=this.setDayDisabled(i),i=this.removeEdgeDisabledItem(i),i},timeList:function(){var t=this,e=[],i=this.dayList[this.values[1]];if(i){var o=i.timestamp;if(this.isOpenTimeSegment){if(0===this.timeSetting.tst)e=[{id:0,text:"上午",timestamp:o+12*this.HOUR_UNIT-1},{id:1,text:"下午",timestamp:o+18*this.HOUR_UNIT-1},{id:2,text:"晚上",timestamp:o+24*this.HOUR_UNIT-1}],this.setTimeDisabled(e,this.ONE_THIRD_DAY_LIST);else if(1===this.timeSetting.tst){for(var n=0;n<24;n++){var a=o+n*this.HOUR_UNIT,r=Mobi.DateUtil.getHourAndMinStr(a);e.push({id:n,text:r,timestamp:a})}this.setTimeDisabled(e,this.HOUR_LIST)}else if(2===this.timeSetting.tst){for(var s=0;s<48;s++){var l=o+s*this.HALF_HOUR_UNIT,c=Mobi.DateUtil.getHourAndMinStr(l);e.push({id:s,text:c,timestamp:l})}this.setTimeDisabled(e,this.HALF_HOUR_LIST)}e.forEach((function(e){e.timestamp<t.NOW_TIME&&(e.disabled=!0)})),e=this.removeEdgeDisabledItem(e)}else e=[{id:1,timestamp:o+this.DAY_UNIT-1,text:"全天"}]}else e=[];return e},timeSetting:function(){return this.intraCityShipConf.ts},WEEKTH_LIST:function(){return this.timeSetting.sdl},ONE_THIRD_DAY_LIST:function(){return this.timeSetting.maes},HALF_HOUR_LIST:function(){return this.timeSetting.hohs},HOUR_LIST:function(){return this.timeSetting.hs},NOW_TIME:function(){return(new Date).getTime()},NOW_ZERO_TIME:function(){return Mobi.DateUtil.getZeroTime(this.NOW_TIME)},START_TIME:function(){return this.isOpenPreBooking?this.isOpenPreBookingDay?this.NOW_ZERO_TIME+this.PRE_BOOKING_TIME_RANGE:this.NOW_TIME+this.PRE_BOOKING_TIME_RANGE:this.NOW_TIME},END_TIME:function(){return this.isOpenLastBooking?this.NOW_ZERO_TIME+this.LAST_BOOKING_TIME_RANGE-1:this.NOW_ZERO_TIME+Mobi.DateUtil.DAY_UNIT-1},isOpenPreBookingDay:function(){return 1===this.timeSetting.bt},PRE_BOOKING_TIME_RANGE:function(){return this.isOpenPreBooking?(this.timeSetting.bt,0)+(this.isOpenPreBookingDay?this.timeSetting.bd*this.DAY_UNIT:0)+(2===this.timeSetting.bt?this.timeSetting.bh*this.HOUR_UNIT:0)+(3===this.timeSetting.bt?this.timeSetting.bm*this.MINUTE_UNIT:0):0},LAST_BOOKING_TIME_RANGE:function(){return this.isOpenLastBooking?this.timeSetting.ld*this.DAY_UNIT:this.DAY_UNIT},isOpenTimeSegment:function(){return 1===this.timeSetting.iots},isOpenTimeSetting:function(){return 1===this.timeSetting.ota},isOpenPreBooking:function(){return 0!==this.timeSetting.bt},isOpenLastBooking:function(){return 1===this.timeSetting.ltt},DAY_UNIT:function(){return 864e5},HOUR_UNIT:function(){return 36e5},HALF_HOUR_UNIT:function(){return 18e5},MINUTE_UNIT:function(){return 6e4}},watch:{visible:function(t){this.changeWebContainOverflow(t)}},created:function(){Mobi.$Bus.$off("onShipTimePanelOpen",this.show).$on("onShipTimePanelOpen",this.show),Mobi.$Bus.$off("onShipTimePanelHide",this.hide).$on("onShipTimePanelHide",this.hide),this.initValues()},methods:{initValues:function(){for(var t=0,e=0,i=0,o=0;o<this.yearList.length;o++)if(!this.yearList[o].disabled){t=o;break}for(var n=0;n<this.dayList.length;n++)if(!this.dayList[n].disabled){e=n;break}for(var a=0;a<this.timeList.length;a++)if(!this.timeList[a].disabled){i=a;break}this.values=[t,e,i],this.$forceUpdate()},callDetailPanel:function(){this.isDetail=!0},onCheckedSimpleTimeItem:function(t,e){if(!this.timeList[e].disabled){var i=_toConsumableArray(this.values);i[2]=e,this.values=i}},onCheckedSimpleDayItem:function(t,e){if(!this.dayList[e].disabled){var i=_toConsumableArray(this.values);i[1]=e,this.values=i}},changeWebContainOverflow:function(t){t?jm("body").css("overflow","hidden"):jm("body").css("overflow","")},show:function(){this.visible=!0,this.savedValues.length>0?this.values=_toConsumableArray(this.savedValues):this.initValues(),e("html,body").addClass("fk_intraCityTimeShip_banMove")},hide:function(){this.visible=!1,e("html,body").removeClass("fk_intraCityTimeShip_banMove")},stopPropagation:function(t){t.stopPropagation()},setTimeDisabled:function(t,e){var i=this;t.forEach((function(t){var o=!e.includes(t.id);t.timestamp<i.START_TIME&&(o=!0),t.disabled=o}))},setDayDisabled:function(t){var e=this;return t.forEach((function(t){var i=Mobi.DateUtil.getIndexOfWeek(t.timestamp),o=!e.WEEKTH_LIST.includes(i);t.disabled=o})),t},removeEdgeDisabledItem:function(t){for(var e=_toConsumableArray(t);e.length>0&&e[0].disabled;)e.shift();for(e.reverse();e.length>0&&e[0].disabled;)e.shift();return e.reverse(),e},onYearChange:function(t){this.values[0]=t;var e=parseInt(this.yearList[t].text),i=_toConsumableArray(this.values);if(this.getYear()===e)i[1]=0;else for(var o=0;o<this.dayList.length;o++){var n=this.dayList[o];if(this.getYear(n.timestamp)===e){i[1]=o;break}}i[0]=t,this.values=i},onDayChange:function(t){var e=t,i=this.values[1],o=_toConsumableArray(this.values);if(this.dayList[e].disabled)if(e>i){for(var n=e;n<this.dayList.length;n++)if(!this.dayList[n].disabled){e=n;break}}else for(var a=e;a>=0;a--)if(!this.dayList[a].disabled){e=a;break}var r=Mobi.DateUtil.getYear(this.dayList[e].timestamp),s=Mobi.DateUtil.getYear(this.yearList[o[0]].timestamp);r!=s&&this.yearList.forEach((function(t,e){Mobi.DateUtil.getYear(t.timestamp)==r&&(o[0]=e)})),o[1]=e,this.values=o},onTimeChange:function(t){var e=_toConsumableArray(this.values),i=this.values[2],o=t;if(this.timeList[o].disabled)if(o<i){for(var n=o;n>=0;n--)if(!this.timeList[n].disabled){o=n;break}}else for(var a=o;a<this.timeList.length;a++)if(!this.timeList[a].disabled){o=a;break}e[2]=o,this.values=e},onCancel:function(){this.hide()},onConfirm:function(){this.hide(),this.savedValues=_toConsumableArray(this.values),Mobi.$Bus.$emit("onShipTimePanelConfirm",Mobi.deepCopy(this.checkedTimeItem))}},template:'\n\t\t\t\t<div id=\'mstlIncraCityTimeShip\' class="fk_intraCityTimeShip" @click="onCancel" v-show="visible">\n\t\t\t\t    <div class="fk_intraCityTimeShip_mask" @touchmove.prevent="stopPropagation"></div>\n\t\t\t\t\t<div class="fk_intraCityTimeShip_panel" @click.prevent="stopPropagation">\n\t\t\t\t\t\t<div class="fk_intraCityTimeShip_panel_header">选择送达时间</div>\n\t\t\t\t\t\t<div class="fk_intraCityTimeShip_panel_section">\n\t\t\t\t\t\t\t<div v-if="isDetail">\n\t\t\t\t\t\t\t\t<picker-view>\n\t\t\t\t\t\t\t\t\t<picker-view-column :list="yearList" :checkedIndex="values[0]" @change="onYearChange"></picker-view-column>\n\t\t\t\t\t\t\t\t\t<picker-view-column :list="dayList"  :checkedIndex="values[1]" @change="onDayChange"></picker-view-column>\n\t\t\t\t\t\t\t\t\t<picker-view-column :list="timeList" :checkedIndex="values[2]" @change="onTimeChange"></picker-view-column>\n\t\t\t\t\t\t\t\t</picker-view>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="fk_intraCityTimeShip_panel_section_simple" v-else >\n\n\t\t\t\t\t\t\t\t<div class="fk_intraCityTimeShip_panel_section_simple_dayList">\n\t\t\t\t\t\t\t\t\t<div class="fk_intraCityTimeShip_panel_section_simple_dayItem" :disabled="item.disabled" :active="values[1]===index" @click="onCheckedSimpleDayItem($event, index)" v-for="(item, index) in topSevenDayList">{{item.text}}</div>\n\t\t\t\t\t\t\t\t\t<div class="fk_intraCityTimeShip_panel_section_simple_dayItem" @click="callDetailPanel" v-if="dayList.length>7">更多日期</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class="fk_intraCityTimeShip_panel_section_simple_timeList">\n\t\t\t\t\t\t\t\t\t<div class="fk_intraCityTimeShip_panel_section_simple_timeItem" @click="onCheckedSimpleTimeItem($event, index)" :disabled="item.disabled" :active="values[2]===index" v-for="(item, index) in timeList">\n\t\t\t\t\t\t\t\t\t\t<div class="fk_intraCityTimeShip_panel_section_simple_timeItem_text">{{item.text}}</div>\n\t\t\t\t\t\t\t\t\t\t<div class="fk_intraCityTimeShip_panel_section_simple_timeItem_icon">\n\t\t\t\t\t\t\t\t\t\t\t<svg role="img" class="jzm-v41 fk_mstl_icon_tick">\n\t\t\t\t\t\t\t\t\t\t\t  <use xlink:href="#jzm-v41"></use>\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="fk_intraCityTimeShip_panel_footer" @click="onConfirm">确定</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'})}}(Mobi,jm),Mobi.deepCopy=function(t){var e,i=Mobi,o=i.typeOf(t);if("array"===o)e=[];else{if("object"!==o)return t;e={}}if("array"===o)for(var n=0;n<t.length;n++)e.push(i.deepCopy(t[n]));else if("object"===o)for(var n in t)e[n]=i.deepCopy(t[n]);return e},Mobi.typeOf=function(t){return{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[Object.prototype.toString.call(t)]},Mobi.replaceCusDateStrToObj=function(t){return t=Mobi.deepCopy(t),Fai.top._addrPropList.forEach((function(e){if(e.type===Fai.top._OrderPropTypeDef.CUS_DATE){var i=t[e.fieldKey];"string"===Mobi.typeOf(i)&&(i=""===i.trim()?{}:JSON.parse(i)),t[e.fieldKey]=i}})),t},Mobi.initMerchantsApplyScripts=function(t,e,i){var o=document.createElement("script");o.type="text/javascript",o.src=e;var n=document.documentElement||document.body;o.onload=function(){var t=document.createElement("script");t.src=i,t.type="text/javascript",n.appendChild(t),setTimeout((function(){var t={},e=["*.jpg","*.jpeg","*.bmp","*.gif","*.png"],i=jm("#_TOKEN").attr("value");jm(".uploadBtn").on("click",(function(o){var n=jm(o.target).attr("fieldKey"),a=1024*jm("#J_mctProp_"+n).attr("data:max-size")*1024,r="#addFileBtn_"+n;t[r]&&jm(r).find(".selectbtn").remove(),t[r]=!0;var s={siteFree:!1,updateUrlViewRes:"",auto:!0,fileTypeExts:e.join(";"),multi:!1,fileSizeLimit:5242880,breakPoints:!0,saveInfoLocal:!1,showUploadedPercent:!0,removeTimeout:9999999,isDefinedButton:!0,getFileSizeUrlFlag:!0,post_params:{app:21,type:0,fileUploadLimit:10,isSiteForm:!0},isOrnotButton:!0,buttonText:"",uploader:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/imgUpload_h.jsp?cmd=setWafCk_updateImg&_TOKEN="+i,onUploadStart:function(t){jm("#progressBody_ "+t.id).remove(),jm("#progressWrap_"+t.id).remove()},onUploadSuccess:function(t,e){var i=jm.parseJSON(e);i.success?(jm("#J_mctProp_"+n).attr("placeholder",i.name),jm("#J_mctProp_"+n).attr("uploadPathId",i.id),Mobi.ing("上传成功",!0)):Mobi.ing(LS.mobiFormSubmitFileUploadFile+t.name+"   "+i.msg)},onUploadError:function(t){jm("#progressWrap_"+t.id).remove(),Mobi.ing(jm.format(LS.mobiFormSubmitFileUploadSvrBusy,jm.encodeHtml(t.name)))},view_progress:function(t){t=Math.ceil(t),isNaN(t)||(100==t?Mobi.ing(LS.mobiFormSubmitFileUploadIng+t+"%",!0):Mobi.ing(LS.mobiFormSubmitFileUploadIng+t+"%",!1))}};s.fileSizeLimit=a,window.upload=jm(r).uploadify(s),jm(r).find(".selectbtn")[0].click()})),Mobi.clickClipboard(".copyBtn")}),1e3)},n.appendChild(o),Mobi.initMerchantsApply(t)},Mobi.initMerchantsApply=function(t){jm(".J_toIndexBtn").click((function(){location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"index.jsp"})),jm(".J_applyBtn").click((function(){var e="a=1",i=!1;t.forEach((function(t){var o,n=t.fieldKey||"",a=t.name||"",r=t.flag||0,s=t.type||1,l=Mobi.checkBit(r,2);if(o=t&&t.other&&3===t.other.type?(o=jm("#J_mctProp_"+n).attr("uploadPathId"))||"":jm("#J_mctProp_"+n).val(),l&&(null===o||""===o))return Mobi.ing("'"+a+"'为必填项"),i=!0,!1;if(""!=o&&5==s&&!jm.isNationMobile(o))return Mobi.ing(jm.format(LS.newMobileNumRegular,11)),i=!0,!1;if(""!=o&&9==s&&!jm.isCardNo(o))return Mobi.ing("请输入正确的身份证号"),i=!0,!1;if(""!=o&&8==s){var c=o.length||0;if(c<15||c>19)return Mobi.ing("请输入正确的银行卡号"),i=!0,!1}e+="&"+n+"="+o})),i||jm("#protocolCheck").prop("checked")||(Mobi.ing("请先勾选同意入驻协议"),i=!0),i||jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mallMerchants_h.jsp?cmd=setWafCk_applyMerchant",data:e,error:function(){Mobi.ing(LS.js_systemError)},success:function(t){if((t=jm.parseJSON(t)).success){Mobi.logDog(201326,2);var e=t.rtStatus;jm(".J_merchantApplyContainer .panel").hide(),jm(".J_merchantApplyContainer .panel"+e).show()}else Mobi.ing(t.msg||"系统错误")}})})),jm("#J_applyAgainForDelete").click((function(){jm(".merchantApplyContainer .panel").removeClass("show"),jm(".merchantApplyContainer .panel.panel0").addClass("show")})),jm("#J_applyAgain").click((function(){jm(".merchantApplyContainer .panel").removeClass("show"),jm(".merchantApplyContainer .panel.panel0").addClass("show")})),jm(".merchantApplyContainer #showJoinProtocol").click((function(){jm(".merchantApplyContainer #J_joinProtocol").show(),jm(".merchantApplyContainer .maskLayer").show();var t=jm("#J_joinProtocol")[0].offsetHeight,e=jm("#J_joinProtocol")[0].offsetWidth,i=jm("#g_web")[0].offsetWidth,o=(document.body.clientHeight-t)/2,n=(i-e)/2;jm("#J_joinProtocol").css({top:o+"px",left:n+"px"})})),jm(".merchantApplyContainer .confirmBtn").click((function(){jm(".merchantApplyContainer #J_joinProtocol").hide(),jm(".merchantApplyContainer .maskLayer").hide()}))},function(t,e){t.initOrderDetailBottomBar=function(){0===e("#webFooterBox")[0].clientHeight&&e(".orderDetail").attr("bottom-bar",!0)},t.initOrderDetail=function(){e("#orderDetailProp").click((function(){Mobi.showAddrAddPage()}))}}(Mobi,jm),function(t){t.mstlCommVueData={merchant:{merchantIndex:-1,shipIndex:0}},t.initMstlItemListByGroup=function(e,i,o,n){var a={props:{list:Array},data:function(){return{isOpen:!1,selfSaleInfo:n,preprocessUrl:Mobi.preprocessUrl({path:"",oldPath:""})+"pd.jsp?pid="}},template:'\n\t\t\t    <div  class="orderSettle fk_mstl_orderSettle_line_selfSale" v-if="list">\n\t\t\t\t\t<div class="fk_mstl_orderSettle_line_selfSale_header" style="display:flex;" v-if="mallMerchantsOpen()">\n\t\t\t\t\t\t<div class="fk_mstl_merchant_item_header_icon">\n\t\t\t\t\t\t\t<img :src="selfSaleInfo.logoPath" alt="" style="width:100%;height:100%">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="fk_mstl_merchant_item_header_text">{{selfSaleInfo.name}}</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="fk_mstl_orderSettle_line_selfSale_listWrap" :data-active="isOpen">\n\t\t\t\t\t\t<template  v-for="(item, index) in list">\n\t\t\t\t\t\t\t<div class=\'orderSettle_line\'>\n\t\t\t\t\t\t\t\t<div :class=\' (index>2?"moreGoods":"") + " mall_product" +  " itemLine" + index \' :price=\'item.price\' jqmoldstyle>\n\t\t\t\t\t\t\t\t\t<div class=\'left\'>\n\t\t\t\t\t\t\t\t\t\t<a :href=\'preprocessUrl + "" +item.productId\' class="mall_product_link">\n\t\t\t\t\t\t\t\t\t\t\t<span class=\'imageMiddle\'></span>\n\t\t\t\t\t\t\t\t\t\t\t<img class=\'imgClass\' :src=\'item.path\' :alt=\'item.productName\'/>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\'right flex1\'>\n\t\t\t\t\t\t\t\t\t\t<div class=\'product_name\'>\n\t\t\t\t\t\t\t\t\t\t\t<a :href=\'preprocessUrl + "" +item.productId\'>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\'J_productName\'>{{item.productName}}</span>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div :class=\' "product_attr "+item.productAttrClass\'>{{item.chooseStr}}</div>\n\t\t\t\t\t\t\t\t\t\t<div v-if="item.isEarnestSale" class=\'earnestSaleshipDays\'>{{item.earnestSaleshipDaysText}}</div>\n\x3c!--\t\t\t\t\t\t\t\t\t\t<div class=\'product_price\' :class="fColor">{{item.priceText}}</div>--\x3e\n\t\t\t\t\t\t\t\t\t\t<div class=\'product_price\'>\n\t\t\t\t\t\t\t\t\t\t\t<fai-price-comp :class="fColor" :currency="currencyVal" :number="item.priceValue"></fai-price-comp>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\'product_amount\'>×{{item.amount}}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div style="text-align: center;padding-top:0.95rem;"  v-if="list.length>3">\n\t\t\t\t\t\t<div style="display:inline-block">\n\t\t\t\t\t\t\t<div class="fk_mstl_merchant_seedProductBtn" :data-active="isOpen" @click="openOtherProducts">\n\t\t\t\t\t\t\t\t<span>{{isOpen ? "收起" : ("还有" + (list.length-3) + "件商品") }} </span>\n\t\t\t\t\t\t\t\t<svg class="fk_mstl_merchant_seedProductBtn_arrow jzm-v2 fk_mstl_icon" role=\'img\' ><use xlink:href=\'#jzm-v2\'></use></svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<NormalItemLeaveMsg></NormalItemLeaveMsg>\n\n\t\t\t\t</div>\n\t\t\t',components:{NormalItemLeaveMsg:{template:"\n\t\t\t\t<div class='fk_mstl_merchant_item_msg' v-if=\"orderMessageData.orderMessageOpen\">\n\t\t\t\t\t<span class='levelMsgTitle'>{{orderMessageData.buyerMsg}}</span>\n\t\t\t\t\t<input  type='text' id='orderLeveaMsgIn' class='g_input propItemValue lvMsgValue'  :maxLength='orderMessageData.msgMaxLength' :placeholder='orderMessageData.orderLeveaMsg'>\n\t\t\t\t</div>\n\t\t\t",data:function(){return{orderMessageData:o}},mounted:function(){Mobi.initOrderLvMsgPrm(this.orderMessageData,this.orderMessageData.msgMaxLength)}}},computed:{fColor:function(){return Fai.top._fColor},currencyVal:function(){return Fai.top._currencyVal}},methods:{openOtherProducts:function(){this.isOpen=!this.isOpen},mallMerchantsOpen:function(){return Fai.top._mallMerchantsOpen}}};Fai.top._mstlMerchantProductListVm=new Vue({el:"#merchantProductList",components:{NormalItemList:a},data:function(){return{listByGroup:e,merchantListByGroupSetting:this.getMerchantListByGroupSetting(e,i),mstlCommVueData:t.mstlCommVueData,orderMessageData:o}},computed:{fColor:function(){return Fai.top._fColor}},watch:{mstlCommVueData:{deep:!0,handler:function(){Vue.nextTick((function(){Mobi.mallStlCalcTotal()}))}},"mstlCommVueData.merchant.merchantIndex":function(){this.mstlCommVueData.merchant.shipIndex=0},"mstlCommVueData.merchant.shipIndex":function(t){var e=this.merchantListByGroupSetting[this.mstlCommVueData.merchant.merchantIndex],i=e.subMerchantInfo.other.mallShipList[this.mstlCommVueData.merchant.shipIndex];e.shipInfo.shipType=i.type,e.shipInfo.shipSort=i.sort,e.shipInfo.shipPrice=i.price,e.shipIndex=t,Vue.nextTick((function(){Mobi.recheckItg()}))}},methods:{totalShipPrice:function(){var t=0;return Fai.top.shipTabListVm&&1===Fai.top.shipTabListVm.checkedId?(this.merchantListByGroupSetting.forEach((function(e){t+=e.shipInfo.shipPrice})),t):0},isSelfSaleEmpty:function(){return!this.listByGroup[0]||0===this.listByGroup[0].length},isMerchantProductExist:function(){return this.getMerchantsShipList().length>0},isMerchantExpire:function(){return this.merchantListByGroupSetting.some((function(t){return 0!==t.subMerchantInfo.subOpenStatus}))},isMulProductsExist:function(){return this.getMerchantsShipList().length>0&&!this.isSelfSaleEmpty()||this.getMerchantsShipList().length>1},getMerchantListByGroupSetting:function(t,e){var i=this;return Object.keys(t).filter((function(t){return 0!=t})).map((function(o){var n=i.getSubMerchantInfo(o,e),a=0,r=n.other.mallShipList[0];return n.other.mallShipList.some((function(t,e){return a=e,r=t,t.show})),{id:o,subMerchantInfo:n,list:t[o],shipInfo:{mctId:parseInt(o),shipType:r.type,shipSort:r.sort,shipPrice:r.price,remark:""},shipIndex:a,isOpen:!1}}))},getMerchantsShipList:function(){return this.merchantListByGroupSetting.map((function(t){return{mctId:t.shipInfo.mctId,shipSort:t.shipInfo.shipSort,shipPrice:t.shipInfo.shipPrice,remark:t.shipInfo.remark,shipType:t.shipIndex}}))},getSubMerchantInfo:function(t,e){return e.filter((function(e){return e.id==t}))[0]},callShipPanel:function(e){this.mstlCommVueData.merchant.merchantIndex=e;var i=this.merchantListByGroupSetting[this.mstlCommVueData.merchant.merchantIndex];this.mstlCommVueData.merchant.shipIndex=i.shipIndex,t.showMerchantShipPanel(i.subMerchantInfo.other.mallShipList)},openOtherProducts:function(t){this.merchantListByGroupSetting[t].isOpen=!this.merchantListByGroupSetting[t].isOpen},getShipText:function(t){return(t.shipInfo.shipType||"")+" "+Fai.top._currencyVal+t.shipInfo.shipPrice},_currencyVal:function(){return Fai.top._currencyVal},openExpressDelivery:function(){return Fai.top._openExpressDelivery},isCombinedPurchaseFreeShopping:function(){return Fai.top._isCombinedPurchaseFreeShopping},mallMerchantsOpen:function(){return Fai.top._mallMerchantsOpen}},template:'\n\t\t\t\t<div id="merchantProductList" class="fk_merchant_orderSettle">\n\t\t\t\t    <div class="fk_mstl_merchant_list">\n                        <div class="fk_mstl_merchant_item" :data-disabled="item.subMerchantInfo.subOpenStatus!==0" v-for="(item, index) in merchantListByGroupSetting">\n                            <div class="fk_mstl_merchant_item_header" v-if="mallMerchantsOpen()">\n                            \t<a class="fk_mstl_merchant_item_header_content" style="display:flex;align-items:center;">\n                            \t\t<div class="fk_mstl_merchant_item_header_icon">\n\t\t\t\t\t\t\t\t\t\t<img :src="item.subMerchantInfo.other.logo.imgPath" alt="" style="width:100%;height:100%">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="fk_mstl_merchant_item_header_text">{{item.subMerchantInfo.shopName}}</div>\n\t\t\t\t\t\t\t\t\t<div class=\'fk_mdetail_merchant_shop_header_status\' v-if="item.subMerchantInfo.subOpenStatus!==0" style="margin-left:0.35rem;">\n\t\t\t\t\t\t\t\t\t\t<svg role=\'img\' class=\'fk_mdetail_icon\'><use xlink:href=\'#jzm-vicon_doorplate\'></use></svg>\n\t\t\t\t\t\t\t\t\t\t<span style=\'position:relative;z-index:10\'>{{item.subMerchantInfo.subOpenStatusName}}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</a>\n                            </div>\n\n                            <div class="fk_mstl_merchant_item_info" v-if="item.isOpen || pIndex<3" v-for="(productItem, pIndex) in item.list">\n                                <div class="fk_mstl_merchant_item_info_img">\n                                \t<img :src="productItem.path" style="width:100;height:100%" :alt="productItem.productName">\n\t\t\t\t\t\t\t\t</div>\n                                <div class="fk_mstl_merchant_item_info_content">\n                                    <div class="fk_mstl_merchant_item_info_content_top">\n                                    \t<div class="fk_mstl_merchant_item_info_content_title J_productName">{{productItem.productName}}</div>\n\t\t\t\t\t\t\t\t\t\t<div class="fk_mstl_merchant_item_info_content_options">{{productItem.chooseStr}}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="fk_mstl_merchant_item_info_content_bottom">\n\t\t\t\t\t\t\t\t\t\t<div class="fk_mstl_merchant_item_info_content_prop">\n\t\t\t\t\t\t\t\t\t\t\t<div class="fk_mstl_merchant_item_info_content_prop_price" :class="fColor">\n\t\t\t\t\t\t\t\t\t\t\t\t\x3c!--<span v-show="false">{{productItem.priceText}}</span>--\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t<fai-price-comp :currency="_currencyVal()" :class="fColor" :number="productItem.priceValue"></fai-price-comp>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="fk_mstl_merchant_item_info_content_prop_num">x{{productItem.amount}}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n                                </div>\n                            </div>\n\n\t\t\t\t\t\t\t<div style="text-align: center;padding-top:0.95rem;"  v-if="item.list.length>3">\n\t\t\t\t\t\t\t\t<div style="display:inline-block">\n\t\t\t\t\t\t\t\t\t<div class="fk_mstl_merchant_seedProductBtn" :data-active="item.isOpen" @click="openOtherProducts(index)">\n\t\t\t\t\t\t\t\t\t\t<span>{{item.isOpen ? "收起" : ("还有" + (item.list.length-3) + "件商品") }} </span>\n\t\t\t\t\t\t\t\t\t\t<svg class="fk_mstl_merchant_seedProductBtn_arrow jzm-v2 fk_mstl_icon" role=\'img\' ><use xlink:href=\'#jzm-v2\'></use></svg>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n                            <div class="fk_mstl_merchant_item_ship" v-if="openExpressDelivery() && !isCombinedPurchaseFreeShopping()">\n                                <div class="fk_mstl_merchant_item_ship_label">配送方式</div>\n                                <div class="fk_mstl_merchant_item_ship_value" @click="callShipPanel(index)">\n                                    <div class="fk_mstl_merchant_item_ship_value_name">\n                                    \t<span style="\n                                    \t\tdisplay: block;\n\t\t\t\t\t\t\t\t\t\t\tmax-width: 3rem;\n\t\t\t\t\t\t\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\t\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\t\t\t\t\t\ttext-overflow: ellipsis;\n    \t\t\t\t\t\t\t\t\t">{{item.shipInfo.shipType || \'\'}}</span>\n                                    \t<fai-price-comp :number="item.shipInfo.shipPrice" size="small"></fai-price-comp>\n                                    </div>\n                                    <div></div>\n                                    <div class="fk_mstl_merchant_item_ship_value_arrow">\n                                        <svg role=\'img\' class=\'jzm-v2 fk_mstl_icon\'><use xlink:href=\'#jzm-v2\'></use></svg>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="fk_mstl_merchant_item_msg" v-if="orderMessageData.orderMessageOpen">\n                                <div class="fk_mstl_merchant_item_msg_label">买家留言</div>\n                                <div class="fk_mstl_merchant_item_msg_value"><input placeholder="给卖家留言" v-model="item.shipInfo.remark" style="border:none;outline:none;font-size:0.55rem" maxlength="100"/></div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <NormalItemList :list="listByGroup[0]" style="margin-top:0.35rem;"></NormalItemList>\n                </div>\n\t\t\t</div>\n\t\t\t'})}}(Mobi,jm),function(t,e){jm((function(){if(jm("#g_web").append("<div id='mstlShipPanel'></div>"),window.mstlShipPanel)Fai.top._merchantShipPanelVm=new Vue({el:"#mstlShipPanel",data:function(){return{shipList:[],checkedIndex:-1,visible:!1,mstlCommVueData:t.mstlCommVueData}},computed:{fColor:function(){return Fai.top._fColor}},methods:{checkedHandler:function(t){this.mstlCommVueData.merchant.shipIndex=t,this.hide()},stopPropacaion:function(t){return t.stopPropagation(),!1},hide:function(){t.hideMerchantShipPanel()}},template:'\n                    <div class="fk_mstlShipPanel" v-if="visible" @click="hide">\n                        <div class="fk_mstlShipPanel_shipPanel" @click="stopPropacaion">\n                            <div class="fk_mstlShipPanel_shipPanel_header">配送方式</div>\n                            <div class="fk_mstlShipPanel_shipPanel_section">\n                                <div class="fk_mstlShipPanel_shipPanel_shipItem" v-for="(item, i) in shipList" v-show="item.show" @click="checkedHandler(i)">\n                                    <div class="fk_mstlShipPanel_shipPanel_shipItem_info">\n                                        <div class="fk_mstlShipPanel_shipPanel_shipItem_info_type" style="\n                                             white-space: nowrap;\n                                              overflow: hidden;\n                                              text-overflow: ellipsis;\n                                        ">{{item.type}}</div>\n                                        <div class="fk_mstlShipPanel_shipPanel_shipItem_info_price">{{item.price}}</div>\n                                    </div>\n                                    <div class="fk_mstlShipPanel_shipPanel_shipItem_radio" style="line-height: 1;">\n                                        <span class="faisco-icons-right" :class="fColor" v-if="mstlCommVueData.merchant.shipIndex===i"></span>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                '})})),t.showMerchantShipPanel=function(t){var e=Fai.top._merchantShipPanelVm;e.shipList=t,e.visible=!0},t.hideMerchantShipPanel=function(){Fai.top._merchantShipPanelVm.visible=!1}}(Mobi),function(t){t.initMstlCoupon=function(t,e){new Vue({el:"#couponLine",data:function(){return{couponLineData:e}},mounted:function(){Vue.nextTick((function(){Mobi.initUseCoupon(Fai.top._couponList),Mobi.initCouponPanel(Fai.top._couponList)}))},methods:{isMulProductsExist:function(){return Fai.top._mstlMerchantProductListVm.isMulProductsExist()}},template:"\n\t\t\t\t<div>\n\t\t\t\t\t<div class='coupon_line' id='couponLine'>\n\t\t\t\t\t\t<div class='count_line wekitBox'>\n\t\t\t\t\t\t\t<div class='linetitle'>\n\t\t\t\t\t\t\t\t<span>{{couponLineData.coupons}}</span>\n\t\t\t\t\t\t\t\t<span class='small-font' id='showCouponCount' style='display:none;' v-html=\"couponLineData.showCouponCountHtml\"></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='select_line flex1'>\n\t\t\t\t\t\t\t\t<span id='couponOffsetMoney' >{{couponLineData.mobi_notUse}}</span>\n\t\t\t\t\t\t\t\t<span style='font-size:0.65rem;'><svg class=\"jzm-v2 fk_mstl_icon\" role='img' ><use xlink:href='#jzm-v2'></use></svg></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id='couponListPanel'></div>\n\t\t\t\t</div>\n\t\t\t"})}}(Mobi,jm),function(t,e){jm((function(){Vue.component("fai-price-comp",{props:{number:Number,currency:{type:String,value:""},size:String},computed:{numberInt:function(){return parseInt(this.number)},numberFloatWithDot:function(){return"."+(this.number.toFixed(2)+"").split(".")[1]}},template:"\n\t\t\t\t<div class='fk_priceComp' :data-size=\"size\">\n\t\t\t\t\t<div class='fk_priceComp_currency'>{{currency}}</div>\n\t\t\t\t\t<div class='fk_priceComp_numberInt'>{{numberInt}}</div>\n\t\t\t\t\t<div class='fk_priceComp_numberFloat'>{{numberFloatWithDot}}</div>\n\t\t\t\t</div>\n\t\t\t"})})),t.initPriceComp=function(t,e,i,o){new Vue({el:"#"+t,data:function(){return{size:i||"",number:e,fColor:o}},computed:{_currencyVal:function(){return Fai.top._currencyVal}},template:'\n\t\t\t\t<fai-price-comp :number="number" :class="fColor" :currency="_currencyVal" :size="size"></fai-price-comp>\n\t\t\t'})}}(Mobi),Mobi.getInputNumberComp=function(){return{name:"fk-input-number",template:'\n\t\t\t\t<div class="fk_input_number_comp">\n\t\t\t\t  <div class="fk_product_item_info_prop_operate">\n\t\t\t\t\t<div class="fk_product_item_info_prop_btn_del g_main_bdColor_v3 g_bdColor" :class="{disabled: disabledReduce}" @click.stop="onReduce" v-if="value>0 && !hideNum">\n\t\t\t\t\t  <svg class=\'icon-reduce fk_product_item_info_prop_btn_icon  g_oldThemefillColor g_main_fillColor_v3\'><use xlink:href=\'#jzm-vicon_reduce\'></use></svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="fk_product_item_info_prop_num" v-if="value>0 && !hideNum">{{value}}</div>\n\t\t\t\t\t<div :class="\'fk_product_item_info_prop_btn_add g_main_bgColor_v3 g_bgColor g_main_bdColor_v3 g_bdColor \' + (((value>=max&&max!=0)||disabledAdd)?\'disabled\':\'\')" @click.stop="onAdd" style="position:relative">\n\t\t\t\t\t  <svg class=\'icon-add fk_product_item_info_prop_btn_icon\'><use xlink:href=\'#jzm-vicon_increase\'></use></svg>\n\t\t\t\t\t</div>\n\t\t\t\t  </div>\n\t\t\t\t</div>\n\t\t\t',props:{step:{type:Number,default:1},max:Number,min:Number,value:Number,themeId:Number,disabledAdd:{type:Boolean,default:!1},disabledReduce:Boolean,hideNum:{type:Boolean,default:!1}},methods:{onAdd:function(){if(!this.disabledAdd){var t=this.value;t+this.step>this.max||(t<=0?(t+=this.step,t=Math.max(t,this.min),this.$emit("add",{detail:t})):(t+=this.step,this.$emit("increase",{detail:t})))}},onReduce:function(){var t=this.value;t<=this.min?this.$emit("del",{detail:0}):(t-=this.step,this.$emit("reduce",{detail:t}))}}}},Mobi.getShopBarCartComp=function(){return{name:"fk-shop-cart-bar",template:'\n\t\t\t\t<div :class="\'fk_shopCartBar style\' + styleType">\n\t\t\t\t\x3c!-- 下单条 --\x3e\n\t\t\t\t  <div class="fk_shopCartBar_settleBar " :class="{disabled: disabled}" >\n\t\t\t\t\t\x3c!-- 购物车 --\x3e\n\t\t\t\t\t<div class="fk_shopCartBar_shopCart">\n\t\t\t\t\t  <div class="fk_shopCartBar_shopCart_bg" v-show="cartVisible" @click.stop="hiddenCart"></div>\n\t\t\t\t\t  <div class="fk_shopCartBar_shopCart_content" v-show="cartVisible">\n\t\t\t\t\t\t<div class="fk_shopCartBar_shopCart_header">\n\t\t\t\t\t\t  <div class="fk_shopCartBar_shopCart_header_tip">\n\t\t\t\t\t\t\t<div class="fk_shopCartBar_shopCart_header_tip_txt">已选产品</div>\n\t\t\t\t\t\t\t<div class="fk_shopCartBar_shopCart_header_tip_num">（共{{totalAmount}}件）</div>\n\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t  <div class="fk_shopCartBar_shopCart_header_clear" @click.stop="onClear">\n\t\t\t\t\t\t\t<svg class="fk_shopCartBar_shopCart_header_clear_icon"><use xlink:href="#jzm-vicon_delete3"></use></svg>\n\t\t\t\t\t\t\t<div class="fk_shopCartBar_shopCart_header_clear_text">清空</div>\n\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="fk_shopCartBar_shopCart_section">\n\t\t\t\t\t\t  <div class="fk_shopCartBar_shopCart_list">\n\t\t\t\t\t\t\t<div v-for="(item, index) in itemList" :key="item.id" class="fk_shopCartBar_shopCart_item" :data-over="!item.isValid">\n\t\t\t\t\t\t\t  <div class="fk_shopCartBar_shopCart_item_info">\n\t\t\t\t\t\t\t\t<div class="fk_shopCartBar_shopCart_item_info_name">{{item.name}}</div>\n\t\t\t\t\t\t\t\t<div class="fk_shopCartBar_shopCart_item_info_prop" v-if="!!item.prop">{{item.prop}}</div>\n\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t\t  <div v-if="!item.isValid" class="fk_shopCartBar_shopCart_item_price" style="color:#ccc">已售罄</div>\n\t\t\t\t\t\t\t  <div v-else class="fk_shopCartBar_shopCart_item_price g_main_color_v3 g_mainColor">{{_currencyVal}}{{(item.price*item.amount) | formatDouble}}</div>\n\n\t\t\t\t\t\t\t  <div class="fk_shopCartBar_shopCart_item_operate">\n\t\t\t\t\t\t\t\t<input-number :min="item.min" :max="item.max" :value="item.amount" :disabledAdd="disabled||!item.isValid" @increase="onIncrease(item.id)" @reduce="onReduce(item.id)" @del="onDel(item.id)"></input-number>\n\t\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t  </div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="fk_shopCartBar_settleBar_content">\n\t\t\t\t\t  <div class="fk_shopCartBar_settleBar_info">\n\t\t\t\t\t\t<div class="fk_shopCartBar_settleBar_info_imgWrap g_main_bgColor_v3 g_bgColor" @click="toggleCart">\n\t\t\t\t\t\t  <div class="fk_shopCartBar_settleBar_info_imgWrap_bubble" v-if="totalAmount>0">{{totalAmount}}</div>\n\t\t\t\t\t\t  <div class="fk_shopCartBar_settleBar_info_imgWrap_icon"></div>\n\t\t\t\t\t\t  <div class="fk_shopCartBar_settleBar_info_imgWrap_img"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="fk_shopCartBar_settleBar_info_price " :class="{single: itemList.length==0}">\n\t\t\t\t\t\t  <div class="fk_shopCartBar_settleBar_info_price_total">\n\t\t\t\t\t\t\t  <template v-if="itemList.length>0">\n\t\t\t\t\t\t\t\t<template v-if="styleType === 1">\n\t\t\t\t\t\t\t\t  <span class="priceStyle1">{{_currencyVal}}<span class="priceInt">{{totalPrice | dividePrice(0)}}</span>.{{totalPrice | dividePrice(1)}}</span>\x3c!--\n\t\t\t\t\t\t\t\t  --\x3e<span class="totalSave">已省{{_currencyVal}}{{ totalSave | formatDouble}}</span>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t  共{{_currencyVal}}{{totalPrice | formatDouble}}\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t  </template>\n\t\t\t\t\t\t\t  <template v-else>未选购商品</template>\n\t\t\t\t\t\t  </div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t  </div>\n\t\t\t\t\t  <div class="fk_shopCartBar_settleBar_btn g_main_bgColor_v3 g_bgColor" v-if="!autoHideSettle || itemList.length>0" @click="settle">{{ settleText}}</div>\n\t\t\t\t\t</div>\n\t\t\t\t  </div>\n\t\t\t\t</div>\n\t\t\t',data:function(){return{itemList:[],cartVisible:!1,isTabBarPath:!1}},components:{inputNumber:Mobi.getInputNumberComp()},props:{orderItemList:{type:Array,default:function(){return[]}},_currencyVal:String,themeId:Number,styleType:{type:Number,default:0},settleText:{type:String,default:"去结算"},disabled:{type:Boolean,default:!1},autoHideSettle:Boolean},watch:{orderItemList:function(){var t=this,e=this.orderItemList.map((function(e){return{id:e.id,name:e.tmpProductName,amount:e.amount,min:e.minAmount,max:e.maxAmount>0?e.maxAmount:9999999,prop:t.getProp(e),isValid:e.isValid,price:e.price,mallPrice:e.mallPrice||0}}));this.itemList=e,0===e.length&&this.hiddenCart()}},computed:{totalAmount:function(){if(0===this.itemList.length)return 0;var t=0;return this.itemList.forEach((function(e){t+=e.isValid?e.amount:0})),t},totalPrice:function(){if(0===this.itemList.length)return 0;var t=0;return this.itemList.forEach((function(e){t+=e.isValid?e.price*e.amount:0})),t},totalSave:function(){if(0===this.itemList.length)return 0;var t=0;return this.itemList.forEach((function(e){e.mallPrice>e.price&&e.isValid&&(t+=(e.mallPrice-e.price)*e.amount)})),t}},filters:{formatDouble:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3?arguments[3]:void 0;t=parseFloat(t),isNaN(t)&&(t=0);var n=t;return""===i?n=t.toFixed(e):"ceil"===i?n=Math.ceil(t):"floor"===i&&(n=Math.floor(t)),o&&n<0&&(n=0),n},dividePrice:function(t,e){return t.toFixed(2).split(".")[e]}},methods:{getProp:function(t){for(var e=t.choiceOption||[],i=[],o=0;o<e.length;o++){var n=e[o];i.push(n.c)}return i.join("/")},getItemById:function(t){return this.itemList.filter((function(e){return e.id===t}))[0]},getIndexById:function(t){var e=-1;return this.itemList.forEach((function(i,o){i.id===t&&(e=o)})),e},onIncrease:function(t){var e=this.getItemById(t),i=Math.max(e.amount+1,e.min);this.$emit("increase",{detail:{itemId:e.id,amount:i}})},onReduce:function(t){var e=this.getItemById(t),i=e.amount-1;i>e.max&&(i=e.max),i<e.min||i<=0?this.onDel(event):this.$emit("reduce",{detail:{itemId:e.id,amount:i}})},onDel:function(t){-1!=this.getIndexById(t)&&this.$emit("del",{detail:{itemId:t,amount:0}})},onClear:function(){var t=this,e={content:"确定要将所有产品从购物车中移除吗？",textClass:"confirm",callback:function(){t.$emit("clear"),t.hiddenCart()}};Mobi.prompt(e)},onSettle:function(){},toggleCart:function(){this.itemList.length>0&&(this.cartVisible=!this.cartVisible),this.$emit("tapCart")},hiddenCart:function(){this.cartVisible=!1},settle:function(){this.disabled||this.$emit("settle")}}}},Mobi.getQQMapLocPickerComp=function(){return{name:"qq-map-loc-picker",data:function(){return{isAjaxing:!1,latLng:null,geocoder:new qq.maps.Geocoder}},props:{qqMapKey:{type:String,default:"BSXBZ-XFPRK-RMDJR-A6N36-E6C3O-NRBC6"},visible:Boolean,needCode:Boolean},mounted:function(){this.initPickEvent()},methods:{initPickEvent:function(){var t=this;this.geocoder.setComplete((function(e){if("GEO_INFO"===e.type){var i=e.detail.addressComponents,o=i.province||"",n=i.city||"",a=i.district||"";t.needCode?jm.ajax({url:Mobi.preprocessUrl({path:"",oldPath:""})+"ajax/city_h.jsp?cmd=getWafNotCk_getAreaCodeByName",data:{provinceName:o,cityName:n,countyName:a,onlyCode:!0},success:function(i){var o=JSON.parse(i);o.success?(e.detail.addressComponents.provinceCode=o.provinceCode,e.detail.addressComponents.cityCode=o.cityCode,e.detail.addressComponents.countyCode=o.countyCode,t.isAjaxing=!1,t.$emit("locationChange",e.detail)):Mobi.ing(o.msg,"服务繁忙，请稍后再试。")},error:function(t){Mobi.ing("定位失败，请重新选择地址"),console.log("getAreaCodeByName调用失败 err:"+t),console.log("参数"+o+n+a)}}):(t.isAjaxing=!1,t.$emit("locationChange",e.detail))}})),this.geocoder.setError((function(){console.log("地图解析出错")})),window.addEventListener("message",(function(e){var i=e.data;i&&"locationPicker"==i.module&&(t.latLng=new qq.maps.LatLng(i.latlng.lat,i.latlng.lng))}),!1)},cancel:function(){this.$emit("cancel")},comfirm:function(){this.isAjaxing=!0,this.latLng?this.geocoder.getAddress(this.latLng):Mobi.ing("请先选择一个地点")}},template:'\n\t\t\t\t<div class="qqMapLocPicker" v-show="visible">\n\t\t\t\t\t<iframe ref="chooseAddrIframe" class="chooseAddrIframe" width="100%"\n\t\t\t\t\t\t:src="\'https://apis.map.qq.com/tools/locpicker?search=1&type=1&referer=fkMall&key=\' + qqMapKey"></iframe>\n\t\t\t\t\t<div class="bottomBar">\n\t\t\t\t\t\t<div class="bottomBtn cancel" @click="cancel">取消</div>\n\t\t\t\t\t\t<div class="bottomBtn confirm" @click="comfirm">确定</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'}},Mobi.initCommunityPdDetail=function(t,e,i){function o(t){return t<10?"0"+t:t+""}Mobi._communityPdDetailVm=new Vue({el:"#communityPdDetail",template:"\n\t\t\t\t<div id=\"communityPdDetail\">\n\t\t\t\t\t<div class=\"community_add_wrap\"><div class=\"community_add_cart_btn g_main_bgColor_v3 g_bgColor\" :class=\"{disabled: communityAddDisabled, goDown: addBtnGoDown}\" @click=\"addToCart\"><svg class='icon-add'><use xlink:href='#jzm-vicon_increase'></use></svg></div></div>\n\t\t\t\t \t<fk-shop-cart-bar id='shopCartBar' :order-item-list='cartItemList' _currency-val='￥' :disabled='cartItemList.length==0' :style-type='1' :auto-hide-settle='true'\n\t\t\t\t \t\t@increase='changeAmountOnCart' @reduce='changeAmountOnCart' @del='changeAmountOnCart' @clear='clearOnCart' @settle='onGotoSettle'></fk-shop-cart-bar>\n\t\t\t\t</div>\n\t\t\t",components:{fkShopCartBar:Mobi.getShopBarCartComp()},data:function(){return{grouper:t,groupActiv:e,pdInfo:i,cartItemList:[],addBtnGoDown:jm("#J_showGiftPage").length>0}},computed:{communityAddDisabled:function(){return 5!=this.groupActiv.status||this.pdInfo.isOpenAmount&&0==this.pdInfo.mallAmount||!this.pdInfo.isAllowPrice}},mounted:function(){this.flushShopCartData(),this.startCountdown()},methods:{clearOnCart:function(){this.flushShopCartData([])},startCountdown:function(){var t=this,e=0===this.groupActiv.status?this.groupActiv.startTime:this.groupActiv.endTime,i=Date.now(),n=parseInt((e-i)/1e3),a=parseInt(n/86400),r=parseInt(n/3600%24),s=parseInt(n/60%60),l=parseInt(n%60);jm("#communityTimerVal .day").text(a),jm("#communityTimerVal .hour").text(o(r)),jm("#communityTimerVal .min").text(o(s)),jm("#communityTimerVal .sec").text(o(l)),n<=0?console.log("todo 倒计时结束"):setTimeout((function(){t.startCountdown()}),1e3)},addToCart:function(){Mobi.logDog(201505,15),this.communityAddDisabled?this.pdInfo.isOpenAmount&&0==this.pdInfo.mallAmount&&Mobi.ing("商品已售罄"):(jm(".J_productAddMall").click(),jm("#productNum").val(1),jm("#g_decrease").addClass("g_opacity50"))},confirmPd2Cart:function(t,e,i){var o=e.map((function(t){return t.value})).join("-"),n=this.cartItemList.find((function(e){if(e.productId!==t)return!1;var i=e.optionList.map((function(t){return t.value})).join("-");return o===i})),a=n?n.amount+i:i;this.setCommunityCartItem({pid:t,optionList:JSON.stringify(e),amount:a},{isAdd:!0})},onGotoSettle:function(){var t=this;if(Mobi.logDog(201505,17),0!=Fai.top.sessionMemberId){var e=this.cartItemList.map((function(t){return{amount:t.amount,pid:t.productId,optList:JSON.stringify(t.optionList)}})),i={fromDetail:!0,isCgOrder:!0,codata:JSON.stringify({pdInfoList:e,communityGroupId:this.groupActiv.id,grouperId:this.grouper.id,isCgOrder:!0})};Mobi.Ajax.requestWithToast(_asyncToGenerator(regeneratorRuntime.mark((function o(){var n,a;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Mobi.Ajax.addImmePreOrder({pdInfoList:e,marketingType:Mobi.MarketingType.COMMUNITY_GROUP,marketingId:t.groupActiv.id,marketingDetailId:t.grouper.id,fromDetail:!0});case 2:(n=o.sent).success?(Mobi.logDog(201505,17),t.clearOnCart(),a=n.preOrderId,location.href="mstl.jsp?preOrderId="+a):Mobi.returnMallErrorMsgV2(i),t.flushShopCartData();case 5:case"end":return o.stop()}}),o)}))))}else Fai.top.location.href="login.jsp?returnUrl="+jm.encodeUrl(Fai.top.location.href)},flushShopCartData:function(t){var e=this;void 0===t?t=(t=localStorage.getItem("communityCartItemList-".concat(this.grouper.id,"-").concat(this.groupActiv.id)))?(t=JSON.parse(t)).filter((function(t){var i=e.groupActiv.pdInfoList.find((function(e){return e.pid===t.productId}));return!(!i||!i.isAllowPrice||(t.price=i.cp,0))})):[]:t.length?localStorage.setItem("communityCartItemList-".concat(this.grouper.id,"-").concat(this.groupActiv.id),JSON.stringify(t)):localStorage.removeItem("communityCartItemList-".concat(this.grouper.id,"-").concat(this.groupActiv.id)),this.cartItemList=t},setCommunityCartItem:function(t,e){var i=this;0!=Fai.top.sessionMemberId?(t=Object.assign(t,{fromDetail:!0,activId:this.groupActiv.id,grouperId:this.grouper.id,cartItemList:JSON.stringify(this.cartItemList)}),jm.ajax({type:"post",url:Mobi.preprocessUrl({path:"",oldPath:""})+"ajax/order_h.jsp?cmd=setWafCk_setCommunityCartItem",data:t,success:function(o){if((o=JSON.parse(o)).success){if(i.flushShopCartData(o.itemList),e.isAdd&&!Fai.top._manageMode&&Fai.top._isMall){var n=i.groupActiv.pdInfoList.find((function(e){return e.pid===t.pid}));if(!n)return;var a=o.otherData&&o.otherData.distType||"";Mobi.logMallFdp("mall_mem_cart_add",{mall_free_text_0:"产品详情页",mall_free_text_1:n.productName,mall_gds:["实体产品","卡密产品","知识付费产品","酒店产品"][n.productType||0],mall_mkt_type:"",mall_dist_type:a},!0)}}else"undefined"!==o.rt?Mobi.returnMallErrorMsg(o.rt):Mobi.ing(o.msg||"网络繁忙，请稍候重试")},error:function(){Mobi.ing("网络繁忙，请稍候重试")}})):Fai.top.location.href="login.jsp?returnUrl="+jm.encodeUrl(Fai.top.location.href)},changeAmountOnCart:function(t){var e=t.detail,i=e.itemId,o=e.amount,n=this.cartItemList.find((function(t){return t.id===i}));n&&(Mobi.logDog(201505,n.amount<o?15:16),this.setCommunityCartItem({pid:n.productId,optionList:JSON.stringify(n.optionList),amount:o},{isAdd:n.amount<o}))}}})},Mobi.getKfServiceList=function(t){new Vue({el:"#sub-merchants",template:'<div class="kf_wrapper">\n                <div  class=\'funBtn\' @click="handleOpenKf">\n                    <div class=\'serviceInner\'>\n                        <div class=\'icon-serviceBtn serviceBtnIcon\'></div>\n                        <span class=\'serviceBtnText btnText\'>客服</span>\n                    </div>\n                </div>\n                <div class="kfPanel" v-if="isOpenControl">\n                    <div class="kf_mask_layer"></div>\n                    <div class="kf_control">\n                        <div v-for="item in kfSvrList" :key="item.index" @click="handleKfControl(item)">\n                            <div v-if="item.svrType === 0" class="kf_item">\n                                <img class="kf_img"\n                                :src="item.svrLogo.imgPath" />\n                                <span class="kf_type">{{item.text}}</span>\n                                <span class="kf_content">{{item.svrType === 0 ? "点击咨询" : item.acct}}</span>\n                                <div class="faisco-icons-forward1 arrow"></div>\n                            </div>\n                            <a v-if="item.svrType === 1" class="kf_phone_wrap" :href="\'tel:\' + item.acct">\n                                <img class="kf_img"\n                                :src="item.svrLogo.imgPath" />\n                                <span class="kf_type">{{item.text}}</span>\n                                <span class="kf_content">{{item.acct}}</span>\n                                <div class="faisco-icons-forward1 arrow"></div>\n                            </a>\n                            <a v-if="item.svrType === 2" class="kf_phone_wrap" target=\'_blank\' :href="\'http://wpa.qq.com/msgrd?v=3&uin=\'+item.acct+\'&site=qq&menu=yes\'">\n                                <img class="kf_img"\n                                :src="item.svrLogo.imgPath" />\n                                <span class="kf_type">{{item.text}}</span>\n                                <span class="kf_content">{{item.acct}}</span>\n                                <div class="faisco-icons-forward1 arrow"></div>\n                            </a>\n                        </div>\n                        <div class="cancelBtn" @click=\'handleOpenKf\'>取消</div>\n                    </div>\n                    <div class="kf_saveQrCode" v-if="isShowQrCode" @click.stop="handleCloseQrCode">\n                        <div class="qrCode_wrap">\n                        <img class="qrCode_img" :src="qrCodeUrl">\n                        </img>\n                        <span>长按识别二维码</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n                 ',data:function(){return{kfSvrList:t,isOpenControl:!1,isShowQrCode:!1,qrCodeUrl:""}},methods:{handleOpenKf:function(){this.isOpenControl=!this.isOpenControl},handleKfControl:function(t){var e=null;0===t.svrType?(e="微信",this.isShowQrCode=!0,this.qrCodeUrl=t.wai.imgPath):1===t.svrType?e="手机":2===t.svrType&&(e="QQ"),Mobi.logMallFdp("mall_subman_c_service",{mall_free_text_0:e},!0)},handleCloseQrCode:function(t){"kf_saveQrCode"===t.target.className&&(this.isShowQrCode=!1)}}})},function(){var t={},e="";function i(t){return new Promise((function(e,i){jm.ajax({type:"post",url:Mobi.preprocessUrl({path:"",oldPath:""})+"ajax/communityGroup_h.jsp?cmd=getWafNotCk_getCommunityGrouperListByAddrName",data:t,success:function(t){(t=JSON.parse(t)).success?e(t.communityGrouperList):(Mobi.ing(t.msg||"系统错误"),i())},error:function(){Mobi.ing("系统错误"),i()}})}))}function o(i){return new Promise((function(o,n){var a="";i.forEach((function(t,e){a+=t.other.p.lat+","+t.other.p.lng,e!=i.length-1&&(a+=";")})),jm.ajax({type:"post",url:Mobi.preprocessUrl({path:"",oldPath:""})+"ajax/mall_h.jsp?cmd=getWafNotCk_getTxMapDistance",data:{startLat:t.lat,startLng:t.lng,destinationsStrs:a},error:function(){Mobi.ing("系统错误"),n()},success:function(t){(t=jm.parseJSON(t)).success?(t.result.elements.forEach((function(t,e){i[e].distance=t.distance})),i.sort((function(t,e){return t.distance-e.distance})),o({grouperList:i,myAddress:e})):(Mobi.ing(t.msg||"计算距离出错"),n())}})}))}Mobi.getNearCommunityGrouperList=function(n){return new Promise((function(a,r){(function(i){return new Promise((function(o,n){if("object"===_typeof(i))e=i.address,t=i.location,delete i.location,delete i.address,o(i);else{var a=new qq.maps.Geolocation("TJ7BZ-JZKWD-XZ44I-HEYDM-RDJJJ-WHFVL","fkApp"),r=0;!function i(){var s=navigator.userAgent.toLowerCase();-1==s.indexOf("micromessenger")&&-1==s.indexOf("wxwork")||"https:"===Fai.top.location.protocol?a.getLocation((function(i){t={lat:i.lat,lng:i.lng};var a=new qq.maps.LatLng(t.lat,t.lng);new qq.maps.Geocoder({complete:function(t){var i=t.detail.addressComponents;o({provinceName:i.province,cityName:i.city,countyName:i.district}),e=t.detail.address.replace(/^中国/,"")},error:function(){Mobi.ing("位置解析失败"),n(1)}}).getAddress(a)}),(function(t){console.log("获取定位失败",t),r>2?(Mobi.ing("获取定位失败，请刷新后重试"),r=0,n(2)):(r++,i())}),{failTipFlag:!0}):(sessionStorage.getItem("communityExchangeBrowserTips")||(Mobi.ing("请使用其他浏览器访问，以保证成功获取定位，并计算离您最近的团长。"),sessionStorage.setItem("communityExchangeBrowserTips",!0)),n(0))}()}}))})(n).then(i).then(o).then(a).catch((function(t){console.log("获取附近团长列表出错"+t),r(t)}))}))}}(),function(t,e){var i=function(){var t="fk_mstl_mask",e="#"+t,i=!1;return{open:function(){o(),jm(e).show(),i=!0},close:function(){o(),jm(e).hide(),i=!1},isFreeze:function(){return i}};function o(){var i="\n                <div id='".concat(t,"' style='\n                    position:fixed;\n                    left:0;\n                    top: 0;\n                    width:100vw;\n                    height:100vh;\n                    z-index:9999\n                '></div>\n            ");0===jm(e).length&&jm(i).appendTo("body")}}();function o(t){var e=t.str,o=t.iconClass,n=t.keepOpen,a=t.mask,r=t.time;r=r||1500;var s=null==e||""==e?"":e,l="",c=!1;l=""==o||null==o||0==o?"<div class='faisco-icons-S000359 iconMargin' style='font-size:1rem;margin:0 0.225rem;'></div>":1==o?"<div class='faisco-icons-S000357 iconMargin' style='font-size:1rem;margin:0 0.225rem;'></div>":2==o?"<div class='faisco-icons-S000358 iconMargin' style='font-size:1rem;margin:0 0.225rem;'></div>":3==o?'\n            <svg\n                xmlns="http://www.w3.org/2000/svg"\n                viewBox="0 0 30 30"\n                style="\n                    width: 1rem;\n                    height: 1rem;\n                    margin:0 0.225rem;\n                "\n            >\n            <style>\n                .showQueryLoaing {\n                    animation: svg-load 1.8s linear infinite;\n                }\n                @keyframes svg-load {\n                    from {\n                        transform:rotate(0);\n                        transform-origin: 50% 50%;\n                    }\n                    to {\n                        transform:rotate(360deg);\n                        transform-origin: 50% 50%;\n                    }\n                }\n            </style>\n                <path class="showQueryLoaing" d="M8,20.63A1.37,1.37,0,0,0,7,21L4.16,23.85a1.41,1.41,0,1,0,2,2L9,23a1.4,1.4,0,0,0-1-2.4ZM6.56,15a1.41,1.41,0,0,0-1.4-1.41H1.41a1.41,1.41,0,0,0,0,2.82H5.16A1.41,1.41,0,0,0,6.56,15ZM6.15,4.16a1.41,1.41,0,1,0-2,2L7,9a1.41,1.41,0,0,0,1.37.39,1.43,1.43,0,0,0,1-1A1.41,1.41,0,0,0,9,7ZM22,9.37A1.37,1.37,0,0,0,23,9l2.81-2.81a1.41,1.41,0,1,0-2-2L21,7a1.4,1.4,0,0,0,1,2.4ZM23,21a1.41,1.41,0,0,0-1.37-.39,1.43,1.43,0,0,0-1,1A1.41,1.41,0,0,0,21,23l2.81,2.81a1.41,1.41,0,1,0,2-2Zm-8,2.4a1.41,1.41,0,0,0-1.41,1.4v3.75a1.41,1.41,0,1,0,2.82,0V24.84A1.41,1.41,0,0,0,15,23.44Zm13.59-9.85H24.84a1.41,1.41,0,0,0,0,2.82h3.75a1.41,1.41,0,1,0,0-2.82ZM15,0a1.41,1.41,0,0,0-1.41,1.41V5.16a1.41,1.41,0,0,0,2.82,0V1.41A1.41,1.41,0,0,0,15,0Zm0,0" fill="#fff">\n                </path>\n            </svg>\n            ':"",n=n||!1;0==jm("#mobiIngTigs").length?jm("<div id='mobiIngTigs' class='mobiIngTigs'></div>").appendTo("body"):c=!0;var d=jm("#mobiIngTigs"),m=parseInt(1e4*Math.random()),p='<div id="'+m+'" class="mobiTips" \'><div id="mobiMsg'+m+'" class="mobiMsg">'+l+"<div class='mobiMsg_msg'></div></div></div>";d.html(p),d.find(".mobiMsg_msg").text(s),c&&(d.css("visibility","inherit"),d.css("opacity","1")),a&&i.open(),n||(window.setTimeout((function(){d.css("visibility","hidden"),d.css("opacity","0")}),r+1e3),window.setTimeout((function(){jm("#"+m).remove(),d.remove(),i.close()}),r))}var n=t.Toast=t.Toast||{};n.loading=function(e,i){o(_objectSpread({str:e,iconClass:3},"object"===t.typeOf(i)?i:{keepOpen:i}))},n.success=function(e,i){o(_objectSpread({str:e,iconClass:1},"object"===t.typeOf(i)?i:{keepOpen:i}))},n.fail=function(e,i){o(_objectSpread({str:e,iconClass:2},"object"===t.typeOf(i)?i:{keepOpen:i}))},n.clear=function(){jm("#mobiIngTigs").remove(),i.close()},n.isMasking=function(){return i.isFreeze()}}(Mobi),function(t,e){var i=t.Ajax={},o=t.Toast;i.requestWithToast=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(e,i){var n,a,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"==typeof(i=i||{})&&(i={message:i}),t.prev=2,(n=i.errorMessage)?o.fail(n,{keepOpen:!0,mask:!0}):i.message&&o.loading(i.message.trim(),{keepOpen:!0,mask:!0}),a=!1,setTimeout((function(){a&&i.message&&o.loading(i.message.trim(),{keepOpen:!0,mask:!0})}),1200),a=!0,t.next=10,e();case 10:r=t.sent,a=!1,i.tip4Success?o.success(r.msg):o.clear(),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(2),t.t0 instanceof Error?(console.log("errOrResponse",t.t0),o.fail(LS.systemError)):o.fail(t.t0.msg||LS.systemError);case 18:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(e,i){return t.apply(this,arguments)}}(),i.promiseRequest=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(i){var o,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.deal4Network||!1,o=i.dealMode||"JZResult",n=i.data||n,Object.keys(n).forEach((function(t){"object"===_typeof(n[t])&&(n[t]=JSON.stringify(n[t])),void 0===n[t]&&delete n[t]})),t.abrupt("return",new Promise((function(t,n){e.ajax(_objectSpread(_objectSpread({},i),{},{success:function(e){var i=JSON.parse(e);"network"===o||i.success?t(i):n(i)},error:function(t){n(t)}}))})));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i.promiseRequestPost=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.promiseRequest(_objectSpread({type:"post"},e)));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(Mobi,jm),function(t,e){var i=t.Ajax;i.setNoDeliveryService=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.promiseRequestPost({data:{orderInfo:JSON.stringify(e)},url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mstl_h.jsp?cmd=setWafCk_setNoDeliveryService"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i.setDeliveryService=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.promiseRequestPost({data:e,url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mstl_h.jsp?cmd=setWafCk_setDeliveryService"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i.setSelfRaisingService=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.promiseRequestPost({data:{orderInfo:JSON.stringify(e)},url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mstl_h.jsp?cmd=setWafCk_setSelfRaisingService"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i.setIntraCityShipService=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.promiseRequestPost({data:{orderInfo:JSON.stringify(e)},url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mstl_h.jsp?cmd=setWafCk_setIntraCityShipService"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i.setPayModeService=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.promiseRequestPost({data:e,url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mstl_h.jsp?cmd=setWafCk_setPayModeService"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i.setCouponService=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.promiseRequestPost({data:e,url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mstl_h.jsp?cmd=setWafCk_setCouponService"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i.checkAndSetCode=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.promiseRequestPost({data:e,url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/couponCode_h.jsp?cmd=setWafCk_checkAndSetCode",dealMode:"network"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i.setItgService=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.promiseRequestPost({data:e,url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mstl_h.jsp?cmd=setWafCk_setItgService"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i.setRemarkService=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.promiseRequestPost({data:e,url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mstl_h.jsp?cmd=setWafCk_setRemarkService"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i.getMstlPage=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.promiseRequest({data:{preOrderId:e},url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mstl_h.jsp?cmd=getWafNotCk_getMstlPage"}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i.settleOrder=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(e,o){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.promiseRequestPost({data:{preOrderId:e,orderProp:o},url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mstl_h.jsp?cmd=setWafCk_settleOrder",dealMode:"network"}));case 1:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}(),i.addCartPreOrder=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(e){var o,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.orderId,n=e.checkedItemIds,t.abrupt("return",i.promiseRequestPost({data:{orderId:o,checkedItemIds:JSON.stringify(n)},url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mstl_h.jsp?cmd=setWafCk_addCartPreOrder"}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i.addImmePreOrder=function(){var t=_asyncToGenerator(regeneratorRuntime.mark((function t(e){var o,n,a,r,s,l,c,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.pdInfoList,n=e.marketingType,a=e.marketingId,r=e.marketingDetailId,s=e.fromDetail,l=e.optionList,c=e.amount,d=e.productId,t.abrupt("return",i.promiseRequestPost({data:{pdInfoList:o||[],marketingType:n,marketingId:a,marketingDetailId:r,fromDetail:s||!1,optionList:JSON.stringify(l||[]),amount:c||0,productId:d||0},url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mstl_h.jsp?cmd=setWafCk_addImmePreOrder",dealMode:"network"}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i.setProductItemService=function(t,e){return i.promiseRequestPost({data:{preOrderId:t,marketingDetailId:e},url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mstl_h.jsp?cmd=setWafCk_setProductItemService"})},Mobi.isOpenAddrPropByType=function(t,e){return t.some((function(t){return t.type===e}))}}(Mobi,jm)}).call(this,__webpack_require__(10)(module))},139:function(t,e){function i(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,l=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){l=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(l)throw r}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}Mobi.getLotteryInfo=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Fai.top._manageMode?Fai.top.Fai.ing("当前为管理状态，提交无效。",!0):Fai.top.CanNotLottery||(Fai.top.CanNotLottery=!0,t&&"0"!=t&&jm.ajax({url:"/ajax/lottery_h.jsp?cmd=getWafNotCk_getLotteryInfo&id=".concat(t),type:"GET",cache:!1,async:!1,success:function(n){var a=jm.parseJSON(n);if(a.success){Fai.top.CanNotLottery=!1;var r=a.info.prizeList,s=a.lotterySettingInfo.isOpenLottery,l=a.info.flag,c=a.lotterySettingInfo.allowLottery;if(s&&l&&c){if(!o&&1==a.info.type)return;Mobi.openLotteryPopup(r,t,e,i)}else Mobi.ing("活动未开启，尽请期待！",0)}}}))},Mobi.openLotteryPopup=function(t,e,i,o){Mobi.LotteryPopup.render(t,e,i,o)},function(t,e){e.component={el:"#lotteryPopup",template:'\n            <transition name="fade">\n                <div v-show="!hidden" :class="!hidden ? \'lottery-fade-in\' : \'lottery-fade-out\'" class="fix-wrap-20201019">\n                    <div class="webLeft"></div>\n                    <div class="popup-mask">\n                        <transition name="scale">\n                            <div v-show="!hidden" :class="!hidden ? \'lottery-scale-in\' : \'lottery-scale-out\'" class="popup">\n                                <ul class="lottery-list">\n                                    <li\n                                        @click="hitLottery(index)"\n                                        v-for="(lot, index) in lotteryList"\n                                        class="lottery-item"\n                                        :key="index"\n                                        :class="[lot.index == finishIndex && finished ? \'finish-item\' : \'\', \n                                        index == 4 ? activeClass : \'\', \n                                        begin && activeIndex == lot.index ? \'item-active\' : \'item-default\',\n                                        ]"\n                                    >\n                                        <div style="text-align:center;" :class="lot.type == '.concat(2,' ? \'lot-special-img-wrap\' : \'\'">\n                                            <img v-if="index != 4" :src="lot.picPath" alt="" :class="lot.type == ').concat(4," || lot.type == ").concat(3," ? 'lot-icon-img' : lot.type == ").concat(2,' ? \'lot-special-img\' : \'lot-pro-img\'">\n                                        </div>\n                                        <span v-if="lot.type == 2" class="lot-desc">{{lot.pInfo.name}}</span>\n                                        <span v-if="lot.type != 2" class="lot-desc">{{lot.name}}</span>\n                                        <span v-if="index != 4 && begin && activeIndex != lot.index" class="lot-bg"></span>\n                                    </li>\n                                </ul>\n                                <svg @click="hideLotPopup" class="close">\n                                    <use href="#jzm_icon_close3"></use>\n                                </svg>\n                            </div>\n                        </transition>\n                    </div>\n                    <div class="webRight"></div>\n                </div>\n            </transition>\n        '),name:"lotteryPopup",methods:{switchScroll:function(t){t?jm("#g_body").css("overflow-y","auto"):jm("#g_body").css("overflow","hidden")},hideLotPopup:function(){this.hidden=!0,this.switchScroll(!0),setTimeout((function(){e.destroy()}),300)},hitLottery:function(e){var i=this;if(!(this.count>1||4!=e||this.begin)){this.finished=!1;var o=this.phoneNumber,n=this.lotteryId,a={cmd:"addWafCk_participantLottery",lotteryId:n,phone:o};t.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/lottery_h.jsp",data:a,error:function(){},success:function(t){var e=JSON.parse(t);if(e.success){var o=e.info.prize;i.lotteryAnimation(o)}else if(-1==e.rt){var a=i.loginUrl;a||(a=Fai.top.location.href+"&lotteryId=".concat(n)),localStorage.setItem("returnUrl",a),location.href=location.origin+"/login.jsp"}else-6==e.rt&&Mobi.ing("感谢您的参与！")}})}},lotteryAnimation:function(t){var e=t.pby,o=this,n=o.lotteryList.slice(),a=n.filter((function(i){return i.pby==e&&i.id==t.id})),r=a.length,s=a[Math.floor(Math.random()*r)].index,l=10;o.begin=!0,o.activeClass="center2",o.lotteryList[4].title="抽奖中",o.lotteryList[4].desc="",function e(){var a=setInterval((function(){if(o.activeIndex=o.activeIndex%8+1,o.count++,l<300)l+=20,clearInterval(a),a=null,e();else{l+=40;var r,c=i(n);try{for(c.s();!(r=c.n()).done;){r.value;if(s==o.activeIndex)return clearInterval(a),a=null,void setTimeout((function(){o.finished=!0,o.finishIndex=s,setTimeout((function(){o.count=1,o.finished=!1,o.begin=!1,o.activeClass="center1",o.lotteryList[4].title="抽奖";var e,a=i(n);try{for(a.s();!(e=a.n()).done;){var r=e.value;if(r.index==s){o.hideLotPopup(),r.type>=3&&(r.picPath=r.originPath),Mobi.ResultPopup.render(r,t);break}}}catch(t){a.e(t)}finally{a.f()}}),800)}),500)}}catch(t){c.e(t)}finally{c.f()}}}),l)}()}}},e.render=function(e,i,o,n){t("<div id='lotteryPopup'></div>").appendTo("body"),e.splice(4,0,{index:0,picPath:"",name:""}),e[0].index=1,e[1].index=2,e[2].index=3,e[3].index=8,e[4].index=0,e[5].index=4,e[6].index=7,e[7].index=6,e[8].index=5;for(var a=0;a<e.length;a++)3==e[a].type?(e[a].originPath=e[a].picPath,e[a].picPath="".concat(Fai.top._resRoot,"/image/v2/lottery/zp2.png")):4==e[a].type?(e[a].originPath=e[a].picPath,e[a].picPath="".concat(Fai.top._resRoot,"/image/v2/lottery/zp0.png")):e[a].picPath||0==e[a].index?e[a].picPath&&e[a].picPath.includes("_404")&&(e[a].picPath=e[a].picPath.replace(/_404/,"")):e[a].picPath="".concat(Fai.top._resRoot,"/image/v2/lottery/zp1.png");this.component.data={hidden:!1,begin:!1,finished:!1,finishIndex:0,activeIndex:1,count:1,activeClass:"center1",lotteryList:e,lotteryId:i,phoneNumber:o,loginUrl:n},this.vm=new Vue(this.component),this.component.methods.switchScroll(!1)},e.destroy=function(){this.vm&&(t(this.vm.$el).remove(),this.vm&&this.vm.$destroy(),this.vm=null)}}(jm,Mobi.LotteryPopup||(Mobi.LotteryPopup={})),function(t,e){e.component={el:"#resultPopup",template:'\n            <transition name="fade">\n                <div v-show="!hidden" :class="!hidden ? \'result-fade-in\' : \'result-fade-out\'" class="fix-wrap-20201019">\n                    <div class="webLeft"></div>\n                    <div class="result-popup-mask">\n                        <transition name="scale">\n                            <div v-show="!hidden" :class="!hidden ? \'result-scale-in\' : \'result-scale-out\'" class="result-popup">\n                                \x3c!-- 自定义礼品 --\x3e\n                                <div v-if="result.type == '.concat(1," && result.templateType == ").concat(1,'" class="result-type-custom-1">\n                                    <div class="content">\n                                        <svg @click="hideResPopup" class="r-close">\n                                            <use href="#jzm_icon_close3"></use>\n                                        </svg>\n                                        <div class="top">\n                                            <div class="res-title">{{result.title}}</div>\n                                            <div class="res-desc">{{result.prizeContent}}</div>\n                                        </div>\n                                        <div :style="showCode ? \'\' : \'left: 0;width: 100%;\'" class="bottom">\n                                            <img v-if="showCode" :src="result.code" alt="" class="code">\n                                            <div :style="showCode ? \'\' : \'margin: 0 auto;\'" class="b-right">\n                                                <span :style="showCode ? \'\' : \'text-align: center;\'" class="r-desc" :key="index" v-for="(item, index) in prizeRemarkList">{{item}}</span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div @click="hideResPopup" class="confirm">确定</div>\n                                </div>\n                                \n                                <div ref="contentWrap" v-else-if="result.type == ').concat(1," && result.templateType == ").concat(2,'" class="result-type-custom-2">\n                                    <div ref="content" class="content">\n                                        <svg @click="hideResPopup" class="r-close">\n                                            <use href="#jzm_icon_close3"></use>\n                                        </svg>\n                                        <div class="top-title-img"></div>\n                                        <div class="top">\n                                            <img :src="result.prizeImg" alt="" class="t-img">\n                                            <span class="t-desc">{{result.title}}</span>\n                                            <span class="t-desc">{{result.prizeContent}}</span>\n                                        </div>\n                                        <span class="t-split"></span>\n                                        <div :style="showCode ? \'\' : \'margin-left: 0;\'" class="bottom">\n                                            <img v-if="showCode" :src="result.code" alt="" class="code">\n                                            <div :style="showCode ? \'\' : \'margin: 0 auto;\'" class="b-right">\n                                                <span :style="showCode ? \'\' : \'text-align: center;\'" class="r-desc" :key="index" v-for="(item, index) in prizeRemarkList">{{item}}</span>\n                                            </div>\n                                        </div>\n                                        </div>\n                                    <div @click="hideResPopup" class="confirm">确定</div>\n                                </div>\n                                \n                                \x3c!-- 产品 --\x3e\n                                <div ref="contentWrap" v-else-if="result.type == ').concat(2,'" class="result-type-2">\n                                    <div ref="content" class="content">\n                                        <svg @click="hideResPopup" class="r-close">\n                                            <use href="#jzm_icon_close3"></use>\n                                        </svg>\n                                        <div class="top-title-img"></div>\n                                        <div class="pro-title-text">{{result.title}}</div>\n                                        <div class="pro-title-text">{{result.prizeContent}}</div>\n                                        <div v-if="prize.tPicO != 2" class="pro-img-wrap">\n                                            <img class="pro-img" :src="result.prizeImg" alt="">\n                                        </div>\n                                        <span class="pro-desc" :key="index" v-for="(item, index) in prizeRemarkList">{{item}}</span>\n                                        <div @click="hideResPopup" class="confirm">确定</div>\n                                    </div>\n                                </div>\n                                \n                                \x3c!-- 会员积分 --\x3e\n                                <div ref="contentWrap" v-else-if="result.type == ').concat(3,'" class="result-type-3">\n                                    <div ref="content" class="content">\n                                        <svg @click="hideResPopup" class="r-close">\n                                            <use href="#jzm_icon_close3"></use>\n                                        </svg>\n                                        <div class="top-title-img"></div>\n                                        <img v-if="showCoin" class="integral-img" :src="result.coinPrize" alt="">\n                                        <div class="integral-title">{{result.prizeContent}}</div>\n                                        <div class="integral-desc" :key="index" v-for="(item, index) in prizeRemarkList">{{item}}</div>\n                                        <div @click="hideResPopup" class="confirm">确定</div>\n                                    </div>\n                                </div>\n                                \n                                \x3c!-- 安慰语 --\x3e\n                                <div ref="contentWrap" v-else-if="result.type == ').concat(4,'" class="result-type-4">\n                                    <div ref="content" class="content">\n                                        <svg @click="hideResPopup" class="r-close">\n                                            <use href="#jzm_icon_close3"></use>\n                                        </svg>\n                                        <div class="top-title-img"></div>\n                                        <img v-if="showEmpty" class="empty-img" :src="result.emptyImg" alt="">\n                                        <div class="empty-title">{{result.prizeContent}}</div>\n                                        <div class="empty-desc" :key="index" v-for="(item, index) in prizeRemarkList">{{item}}</div>\n                                        <div @click="hideResPopup" class="confirm">确定</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </transition>\n                    </div>\n                    <div class="webRight"></div>\n                </div>\n            </transition>\n        '),name:"resultPopup",methods:{switchScroll:function(t){t?jm("#g_body").css("overflow-y","auto"):jm("#g_body").css("overflow","hidden")},hideResPopup:function(){this.hidden=!0,this.switchScroll(!0),setTimeout((function(){e.destroy()}),300)}}},e.render=function(e,i){t("<div id='resultPopup'></div>").appendTo("body");var o="".concat(Fai.top._resRoot,"/image/v2/lottery/zp1.png"),n="".concat(Fai.top._resRoot,"/image/v2/lottery/memberCredits.png"),a="".concat(Fai.top._resRoot,"/image/v2/calculation_default_img.jpg"),r="".concat(Fai.top._resRoot,"/image/v2/lottery/box.png"),s="",l=i.type,c=0==i.tt?1:2,d="",m="",p="",u=!1,f=!1,h=!1,g="",v="";switch(l){case 1:g=i.name,v="\n                    长按或扫描加好友\n\n                    提供会员账号领取奖励\t\t\n                ",1==c?0==e.tPicO?(m=a,u=!0):1==e.tPicO?(m=e.tPicPath,u=!0):u=!1:2==c&&(0==e.picO?s=o:1==e.picO&&(s=e.picPath),0==e.tPicO?(m=a,u=!0):1==e.tPicO?(m=e.tPicPath,u=!0):u=!1);break;case 2:g=e.pInfo.name,v="请在【会员中心-我的奖品】中查看",s=e.pInfo.picPath;break;case 3:g="会员积分",v="请在【会员中心-我的奖品】中查看",0==i.tPicO?(d=n,f=!0):1==i.tPicO?(d=e.tPicPath,f=!0):f=!1;break;case 4:g="谢谢参与",v="",0==i.tPicO?(p=r,h=!0):1==i.tPicO?(p=e.tPicPath,h=!0):h=!1}var b={type:l,templateType:c,title:"恭喜你抽中",prizeContent:0==i.con?g:i.cnt,prizeRemark:0==i.ron?v:i.rak,prizeImg:s,coinPrize:d,code:m,emptyImg:p},_=b.prizeRemark.split("\n").filter((function(t){return""!=t.trim()})).map((function(t){return t.trim()})).slice(0,2);this.component.data={showCode:u,showCoin:f,showEmpty:h,prize:i,result:b,hidden:!1,prizeRemarkList:_},this.vm=new Vue(this.component),this.component.methods.switchScroll(!1)},e.destroy=function(){this.vm&&(t(this.vm.$el).remove(),this.vm&&this.vm.$destroy(),this.vm=null)}}(jm,Mobi.ResultPopup||(Mobi.ResultPopup={}))},140:function(t,e){Mobi.newsCommentAddCom=function(){var t=jm.trim(jm("#newsCommentCreator").val()),e=jm("#newsCommentInput").val(),i=jm("#newsCommentInput").attr("minlength"),o=jm("#validateCodeInput").val(),n=jm("#newsCommentInput").attr("newsId");if("string"==typeof t)if("string"==typeof e&&""!=e)if(e.length<i)Mobi.ing(jm.format(LS.commentLenTips,jm.encodeHtml(i)));else if(jm(".J_newsCommentCaptcha").hasClass("captchaHide")||"string"==typeof o&&""!=o){var a=Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/newsComment_h.jsp?cmd=addWafCk_submitComment",r={validateCode:o,newsId:n,creator:t,comment:e};Mobi.ing(LS.siteFormSubmitIng),jm.ajax({type:"POST",url:a,data:r,error:function(){Mobi.ing(LS.js_systemError),jm("#captchaChange").click()},success:function(t){var e=jm.parseJSON(t);if(e&&e.success||jm("#captchaChange").click(),e.hasFW)Mobi.ing(e.msg);else switch(e.msg){case 1:Mobi.ing(LS.js_captchaError);break;case 2:Mobi.ing(LS.creatorError);break;case 3:Mobi.ing(LS.commentError);break;case 4:Mobi.getCommentDiv("news",n),e.autoOpenComm||null==e.autoOpenComm?Mobi.ing(LS.commentSuccess,1):Mobi.ing(LS.commentSuccessNeedReview,1);break;case 5:Mobi.ing(LS.paramError);break;case 6:var i=jm.encodeUrl(window.location.href);window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?returnUrl="+i+"&errno=11";break;case 7:Mobi.ing(LS.commentClosed);break;case 8:Mobi.ing(LS.commentSubmitError);break;case 9:Mobi.ing(LS.commentCountLimit);break;case 10:Mobi.ing(LS.msgBoardInputValidateCode),e.needCode&&jm(".J_newsCommentCaptcha").removeClass("captchaHide")}}})}else Mobi.ing(LS.memberInputCaptcha);else Mobi.ing(LS.commentNotEmpty);else Mobi.ing(LS.creatorTips)},Mobi.initMixNews=function(t){var e=jm("#newsList"+t.moduleId).children().eq(0),i=e.find(".mixNewsStyleTitleContainer  a"),o=parseInt(e.width())-parseInt(t.imgWidth)-48;i.css({width:o+"px"})},Mobi.showMore=function(){var t=document.getElementById("sharePanel"),e=document.getElementById("showOrHide");t&&t.style&&("auto"==t.style.height?(t.style.height="",e.className=e.className.replace("hideIcon","showIcon"),t.style.background=""):(t.style.height="auto",e.className=e.className.replace("showIcon","hideIcon")))},Mobi.showBg=function(){Mobi.mobiHideScroll();var t=document.body.clientHeight,e=document.body.clientWidth,i=document.body,o=document.createElement("div"),n=document.createElement("div"),a=document.createElement("div");o.id="shareParentDiv",n.id="shareFullbg",n.className="shareFullbg",a.id="shareTipsDiv",a.className="shareTips",i.appendChild(o);var r=document.getElementById("shareParentDiv");r.appendChild(n),r.appendChild(a);var s=document.getElementById("shareFullbg");s.style.height=t+"px",s.style.width=e+"px",s.style.position="fixed",s.onclick=function(){var t=document.getElementById("shareParentDiv");Mobi.mobiShowScroll(),t.parentNode.removeChild(t)}},Mobi.initNewsEvent=function(t,e,i,o){if(t){var n=document.getElementById("productDetailHeader"+t).querySelector(".icon-gClose"),a={triggerId:Fai.top._openThemeV3?"newsDetailShare":2===o?"newsDetailV3Share":"newsDetailShare",pageBg:!0,pageHtml:Mobi.sharePage(Fai.top._shareData),direction:"bottom",callback:function(){Mobi.showCommSharePanel("shareListShowSwipe","news")},closeWebPage:".shareListPanelBg"};Mobi.initWebPage(a),jm(n).bind("click",(function(){if(Fai.top._isExternalLinks=!1,window.history.length<=1)window.location.href="/";else if(i&&i.length>0)window.location.href=i;else if(Fai.top._manageMode)sessionStorage.getItem("historyList")?jm(Fai.top.document.getElementById("jz_designerOperate").querySelector(".j_designerBack")).click():window.location.href="/";else{if(navigator.userAgent.toLocaleLowerCase().includes("ucbrowser")&&history.length<=2)return void(window.location.href="/");history.back()}return!1})),Fai.top._openThemeV3?Mobi.scrollFadeInV3("productDetailHeader"+t,"newsFigure"+t,e):Mobi.scrollFadeIn("productDetailHeader"+t,"newsFigure"+t,e);var r=Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/newsComment_h.jsp?cmd=addWafCk_submitNewComment",s={triggerId:"postComment",panelId:"userCommentPanel",callback:function(){Mobi.postUserComment(r,1)},closeWebPage:"#userCommentPanel .userCommentGoBack"};Mobi.initWebPage(s);var l=jm("#newsDetailPanel").find("video"),c=l.length;if(c>0&&jm("#postComment").on("click",(function(){for(var t=0;t<c;t++)l[t].pause();jm.os.android&&(l.hide(),Mobi.bindTouchAndClickEvent(jm("#userCommentPanel .userCommentGoBack"),(function(){l.show()})))})),Mobi.hidePlaceholder(),Fai.top._openThemeV3&&28==Fai.top._pageId){var d=jm("#webHeader_v3").hasClass("J_header_is_hide");jm("body").hasClass("regularHeadStyle")&&!d&&jm("#newsDetailPanel").find(".title-textStyle").css("margin-top","0");var m=jm(".productDetailHeader");d&&""==m.html()&&(m.hide(),jm("#newsDetailPanel").find(".title-textStyle").css("margin-top","0"))}}},Mobi.setNewDetailPanelHeight=function(){var t=jm("#newsDetailPanel")[0].offsetHeight,e=0;if(jm(".newsBottom").length>0)e=jm(".newsBottom")[0].offsetHeight;else{var i=jm("#g_web").css("paddingTop");i&&(i=Number(i.substring(0,i.length-2)),isNaN(i)||(t-=i))}jm(".formMiddle").css({height:t+"px",paddingBottom:"0",border:"none"}),jm(".newsDetail").css({height:t-e+"px"})},Mobi.getCommentsInfo=function(t,e,i,o){if(t)if(isNaN(e))Mobi.ing(LS.mallStlSubmitError);else{var n="id="+e;isNaN(i)||(jm(".getMoreComments").remove(),n+="&pageno="+i),"getWafNotCk_newsV3"==t&&(n+="&loadingPath="+Fai.top._loadingPath),Mobi.showLoading(),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/other_h.jsp?cmd="+t,data:n,error:function(){Mobi.closeLoading(),Mobi.ing(LS.js_systemError)},success:function(e){var i=jm.parseJSON(e);if(i.success){if(i.commentBanned)return void(jm("#commentGfwBanned").length||(jm("#newsDetailPanel").append(i.html),jm("#newsDatailComment").hide(),Mobi.closeLoading()));jm("#newsDetailPanel").append(i.html),"getWafNotCk_newsV3"==t&&setTimeout((function(){Mobi.bindImgLazyLoad("newsDetailPanel")}),0)}if(Mobi.closeLoading(),Mobi.hidePlaceholder(),"getWafNotCk_newsV3"!==t&&jm("#postComment").length>0&&jm("#module"+o).length>0){var n=jm("#g_web").height();n-jm("#webContainerBox").height()>5&&(jm("#webContainerBox").css("height",n+"px"),jm("#module"+o).css("height",n+"px").find(".formMiddle").css("height",n+"px"))}}})}else Mobi.ing(LS.mallStlSubmitError)},Mobi.getCommentsTotalSize=function(t,e,i){if(t)if(isNaN(e))Mobi.ing(LS.mallStlSubmitError);else{var o="id="+e;isNaN(i)||(jm(".getMoreComments").remove(),o+="&pageno="+i),o+="&loadingPath="+Fai.top._loadingPath,jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/other_h.jsp?cmd=getWafNotCk_newsV3",data:o,error:function(){Mobi.closeLoading(),Mobi.ing(LS.js_systemError)},success:function(t){var e=jm.parseJSON(t);if(e.success){if(e.commentBanned)return void(jm("#commentGfwBanned").length||(jm("#newsDetailPanel").append(e.html),jm("#newsDatailComment").hide(),Mobi.closeLoading()));var i=parseInt(e.totalSize);if(jm("body").find("#newsDetailShare").length?jm("<span id='newsDatailComment' class='icon-comment'></span>").insertBefore("#newsDetailShare"):jm(".newsBottom").append("<span id='newsDatailComment' class='icon-comment'></span>"),i>0){var o=i<10?"circle_size":" ";jm("#newsDatailComment").append("<span class='comment_totalSize "+o+"'>"+i+"</span>");var n=0;jm("#newsDatailComment").bind("click",(function(){jm("body").hasClass("regularHeadStyle")&&(n=jm(".productDetailHeader").height());var t=jm(".commentBox").offset().top-n,e=parseInt(t)-10,i=parseInt(t)+10;if(!(document.documentElement.scrollTop>e&&document.documentElement.scrollTop<i)){var o,a,r=t,s=0;a=setInterval((function(){o=r/4,t=parseInt(s+o),s=t,document.body.scrollTop=t,document.documentElement.scrollTop=t,t>=r-o&&clearInterval(a)}),1e3/60)}}))}}Mobi.closeLoading(),Mobi.hidePlaceholder()}})}else Mobi.ing(LS.mallStlSubmitError)},Mobi.appendShareIcon=function(){var t=jm(".newsBottom");jm("body").find(".newsBottom").length?t.append("<span id='newsDetailShare' class='icon-share g_iconMiddle g_round newsShare icon-defaultColor'></span>"):(jm("#newsDetailPanel").append("<div class='only_share'>"),jm(".only_share").append("<span id='newsDetailShare' class='icon-share g_iconMiddle g_round newsShare icon-defaultColor'></span></div>"))},Mobi.changeIconBg=function(){jm("body").find("#newsDetailPanel.pageStyle1").length?(jm(".jz_themeV3 .newsDetailV3Panel .newsBack, .jz_themeV3 .newsNewDetailPanel .newsHome").css("background-color","#ffffff"),jm(".jz_themeV3 .newsDetailV3Panel .newsBack, .jz_themeV3 .newsNewDetailPanel .newsHome").addClass("newsIconBlack")):jm("body").find("#newsDetailPanel.pageStyle0").length&&jm(".jz_themeV3 .newsDetailV3Panel .newsBack, .jz_themeV3 .newsNewDetailPanel .newsHome").addClass("newsIconWhite")},Mobi.newsGroupHeaderBorder=function(){jm("body").find(".jz_themeV3 .newsDetailV3Panel .title-textStyle")&&jm(".jz_themeV3 .productDetailHeader").css("border-bottom","0.025rem solid #eeeeee")},Mobi.newsDisabledLink=function(){0!=jm(".newsNext .prevNextContent").find("span").length&&jm(".newsNext .prevNextContent").css("color","#b3b3b3"),0!=jm(".newsPrev .prevNextContent").find("span").length&&jm(".newsPrev .prevNextContent").css("color","#b3b3b3")},Mobi.getNewsCommentAjaxPagenation=function(t,e,i){if(t){var o="id="+t+"&pageno="+e+"&ajaxPage="+!0;jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/other_h.jsp?cmd="+i,data:o,error:function(){Mobi.ing("error")},success:function(t){var e=jm.parseJSON(t);e.html||(e.html=""),jm("#newsDetailPanel .commentBox").remove(),jm("#newsDetailPanel").append(e.html),Mobi.bindImgLazyLoad("newsDetailPanel");var i=parseInt(jm("#newsDetailPanel .commentBox").offset().top),o=0,n=jm(".productDetailHeader");o="none"==n.css("display")?i:i-parseInt(n.height()),window.scrollTo(0,o)}})}},Mobi.changeTheUrlToAdaptApple=function(t,e){var i;if(""!=t&&null!=t){var o=navigator.userAgent.toLowerCase();/iphone|ipad|ipod/.test(o)?""!=e&&null!=e&&(i=e):i=t,window.location.href=i}},Mobi.initModuleCardGraphicNewsList=function(t){var e,i,o,n,a,r,s,l,c,d,m,p,u,f,h,g,v=t.moduleId,b=jm("#newsList"+v),_=b.width(),j=t.picNum,M=0,y=0,w=jm(window),S=jm("body");function I(t){t=t||window.event;var e=(m=t.pageX)-d,i=parseInt(F.css("left")||0)+e,o=s-r,n=parseInt(b.offset().left);i>0?i=0:i<o&&(i=o),0==b.find(".J_newsListSlideCover").length?L.append("<div class='J_newsListSlideCover' style='position:absolute;left:0;width:"+a+"px;height:"+M+"px;z-index:2;'></div>"):b.find(".J_newsListSlideCover").show(),F.css("left",i+"px"),d=m,640==parseInt(_)?(m<=n||m>=s+n)&&(w.off("mousemove.newsListSlide"),w.off("mouseup.newsListSlide"),d=null,m=null,b.find(".J_newsListSlideCover").hide()):(m<=0||m>=s)&&(w.off("mousemove.newsListSlide"),w.off("mouseup.newsListSlide"),d=null,m=null,b.find(".J_newsListSlideCover").hide()),t.preventDefault()}function C(t){t=t||window.event,w.off("mousemove.newsListSlide"),w.off("mouseup.newsListSlide"),d=null,m=null,b.find(".J_newsListSlideCover").hide(),t.preventDefault()}function P(t){var e=(t=t||window.event).changedTouches.length>0?t.changedTouches[0]:t.touches[0];return{pageX:e.pageX,pageY:e.pageY}}function x(t){var e=P(t);f=e.pageX,h=e.pageY,void 0===g&&void 0!==p&&void 0!==u&&void 0!==p&&(g=function(t,e,i,o){var n=Math.abs(t-i),a=Math.abs(e-o);if(0!==n||0!==a)return 0===n&&a>0||!(0===a&&n>0)&&a/n>1}(p,u,f,h)),void 0!==g&&F.off("touchmove.newlist"),p=e.pageX,u=e.pageY}function k(){g=void 0,F.off("touchmove.newlist"),F.off("touchend.newlist")}if(0!=b.length&&5==j){var L=jm(b).find(".J_newsListPanel"),F=jm(b).find(".J_newsListSlidePanel"),T=jm(b).find(".J_cardGraphicNewsStyle"),A=jm(b).find(".J_mixNewsStyleTitleContainer5");c=T.length;for(var B=0;B<T.length;B++){if(e=jm(T[B]),i=parseInt(e.height()),o=parseInt(e.width()),a=c*o,l=parseInt(T.find(".lineBody").eq(0).css("padding-left").replace("px","")),r=a+l,1==c)return F.css({right:"0",margin:"0 auto",width:r+"px"}),void L.css("height",i+"px");i>M&&(M=i),(n=parseInt(e.find(".J_mixNewsStyleTitleContainer5").height()))>y&&(y=n)}L.css("height",M+"px"),T.css("height",M+"px"),F.css("height",M+"px").css("width",r+"px"),A.css("height",y+"px"),(s=L.width())<a&&(Mobi.isPC()?F.off("mousedown.newsListSlide").on("mousedown.newsListSlide",(function(t){t=t||window.event,d=t.pageX,w.off("mousemove.newsListSlide").on("mousemove.newsListSlide",I),w.off("mouseup.newsListSlide").on("mouseup.newsListSlide",C),t.preventDefault()})):(new iScroll("J_newsListPanel"+v,{onBeforeScrollStart:null}),S.off("touchmove.newlist"+v).on("touchmove.newlist"+v,(function(t){!1===g&&t.preventDefault()})),T.off("touchmove.newlist").on("touchmove.newlist",(function(t){!0===g&&t.stopPropagation()})),F.off("touchstart.newlist").on("touchstart.newlist",(function(t){var e=P(t);f=p=e.pageX,h=u=e.pageY,F.off("touchmove.newlist").on("touchmove.newlist",x),F.off("touchend.newlist").on("touchend.newlist",k)}))))}},Mobi.initModuletimeAxisNewsList=function(t){var e=t.moduleId,i=jm("#newsList"+e),o=t.picNum;if(0!=i.length&&7==o)for(var n=i.find(".J_newsTitlePic"),a=parseInt(n.width()),r=parseInt(n.height()),s=Math.ceil(.04*a)+" 0"+","+(a+" 0")+","+(a+" "+r)+","+(Math.ceil(.04*a)+" "+r)+","+(Math.ceil(.04*a)+" "+Math.ceil(.38*r))+","+(Math.ceil(.01*a)+" "+Math.ceil(.33*r))+","+(Math.ceil(.04*a)+" "+Math.ceil(.27*r)),l=0;l<n.length;l++)jm(n[l]).find("polygon").attr("points",s),jm(n[l]).find("svg").attr("width",a).attr("height",r),jm(n[l]).find("image").attr("width",a).attr("height",r)},Mobi.fixIphoneMargin=function(t){var e=t.moduleId,i=jm("#newsList"+e);0!=i.length&&/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)&&(i.find(".J_newsElementsPanel .ne_separatorLine").css("vertical-align","middle").css("padding-top","0.05rem"),i.find(".J_newsElementsPanel .ne_newsSort").css("vertical-align","middle"),i.find(".J_newsElementsPanel .ne_newsTime").css("vertical-align","middle"))},Mobi.fixFormMiddleContentBottom=function(t,e){var i=jm("#module"+t);if(0!==i.length){var o=i.find(".formMiddleContent");e?o.removeAttr("style"):o.css("margin-bottom",0)}},Mobi.fixModuleTop=function(t){var e=jm("#module"+t);0!==e.length&&(parseInt(e.css("top"))>0&&e.css("top",0),parseInt(e.css("border-radius"))>0&&e.css("border-radius",0))}},141:function(t,e){Mobi.vote=function(t,e,i,o,n){if(Fai.top.isJuly3FreeUser)return Mobi.logDog(200964,7),void Mobi.ing("免费版暂不支持此功能");var a=!0,r=new Array;if(jm(".voteItems"+t+e).each((function(){var t={},e=new Array;if(jm(this).find(".voteItems").find("input:checked").each((function(){var t=jm(this).val();isNaN(t)||e.push(parseInt(t))})),0==e.length)return Mobi.ing(LS.voteNotSelect),void(a=!1);t.itemList=e,r.push(t)})),a){var s=!1,l="",c=jm("#M"+e+"V"+t+"voteValidateCode"),d=c.val();if(n){if(""==d)return void Mobi.ing(jm.format(c.attr("msg")))}else if(s="none"!=jm("#voteCodePanel"+t+e).css("display"),l=jm("#needVoteCode"+t+e).val(),s&&""==l)return void jm("#needVoteCode"+t+e).css("border-color","#ff0000");Mobi.ing(LS.voteBeing,-1),jm("#vote"+t+e).attr("disabled",!0),jm(".voteCodePic").attr("src","validateCode.jsp?"+1e3*Math.random()+"&validateCodeRegType=3"),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/vote_h.jsp?cmd=addWafCk_voteItem",data:"vid="+t+"&list="+jm.encodeUrl(jm.toJSON(r))+"&vCodeId="+e+t+"&validateCode="+d+"&openValidate="+n+"&verificationCode="+jm.encodeUrl(l),error:function(){Mobi.ing(LS.voteError),setTimeout((function(){jm("#vote"+t+e).removeAttr("disabled")}),3e3)},success:function(o){var n=jm.parseJSON(o);if(n.success)if(jm("#needVoteCode"+t+e).val(""),Mobi.ing(LS.voteSuccess,1),jm(".voteItems"+t+e).find(".voteItems").find("input:checked").each((function(){jm(this).attr("checked",!1)})),i>0){if(""===jm.getCookie("vote"+t)||"null"===jm.getCookie("vote"+t)){var a=new Date;a.setHours(a.getHours()+i),jm.setCookie("vote"+t,i,{expires:a})}}else 0==i?jm.setCookie("vote"+t,null):jm.setCookie("vote"+t,-1,{expires:30});else n.login?Mobi.ing(LS.voteErrorByNotLogin):n.validateCodeErr?(Mobi.ing(n.msg),jm("#M"+e+"V"+t+"voteValidateCode").val(""),Mobi.voteValidation(t,e)):(Mobi.ing(n.msg),n.needCode?jm("#voteCodePanel"+t+e).show():n.codeErr&&jm("#needVoteCode"+t+e).css("border-color","#ff0000"));setTimeout((function(){jm("#vote"+t+e).removeAttr("disabled")}),3e3)}})}},Mobi.initModuleVote=function(t){var e=t.id,i=t.delay,o=t.mid,n=t.isVoted,a=t.openValidate;if(0==i)jm.setCookie("vote"+e,null);else if(-1==i)"null"===jm.getCookie("vote"+e)&&jm.setCookie("vote"+e,-1,{expires:30});else if("-1"===jm.getCookie("vote"+e)&&jm.setCookie("vote"+e,null),""!==jm.getCookie("vote"+e)&&parseInt(jm.getCookie("vote"+e))!=i){var r=new Date;r.setHours(r.getHours()+i),jm.setCookie("vote"+e,i,{expires:r})}jm("#vote"+e+o).click((function(){Mobi.vote(e,o,i,n,a)}))},Mobi.initModuleVoteManage=function(){Mobi.ing("管理态不支持提交投票.")},Mobi.showVoteResult=function(t,e){var i=new Array;jm("#vote"+e).find("input:checked").each((function(){var t=jm(this).val();isNaN(t)||i.push(parseInt(t))})),jm("#voteResult").addClass("showFullScreen"),jm("#voteResult").length>0&&jm("#voteResult").remove(),jm("#fullScreenDivCotainer").append("<div id='voteResult'  class=' webBackground webContainerBox voteResultDiv moduleContent fk-body-bg' style='overflow-y:auto; position: fixed !important;'></div>"),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/vote_h.jsp?cmd=getWafNotCk_voteResult",data:"id="+t+"&list="+i,error:function(){Mobi.ing(LS.js_systemError)},success:function(t){var e=jm.parseJSON(t),i=e.msg;e.success&&(jm("#voteResult").append(e.html),jm("#voteResult").addClass("showVoteResult"),i.length>0&&Mobi.ing(i))}})},Mobi.closeVoteResult=function(){jm("#voteResult").removeClass("showVoteResult"),setTimeout((function(){jm("#voteResult").remove()}),600)},Mobi.voteValidation=function(t,e){jm("#M"+e+"V"+t+"validateCodeImg").attr("src","validateCode.jsp?"+parseInt(1e3*Math.random())+"&vCodeId="+e+t)}},142:function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(t,e)}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,l=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){l=!0,r=t},f:function(){try{s||null==i.return||i.return()}finally{if(l)throw r}}}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}Mobi.popupSearch=function(t){var e=t.showDropMenu,n=t.dropMenuList,a=t.fromModule,r=t.searchTitle;Fai.top._manageMode&&!a&&Fai.top._pattern&&Array.isArray(Fai.top._pattern.hs.dropMenuList)&&(n=Fai.top._pattern.hs.dropMenuList);var s=0;if(n&&n.length>0){var l,c=o(n);try{for(c.s();!(l=c.n()).done;){var d=l.value;if(d.value==r){s=d.type;break}}}catch(t){c.e(t)}finally{c.f()}}if(Object.assign(t,{searchType:s},{fromModule:a}),t&&i(t.hotTopic)){var m,p;"string"==typeof t.hotTopic&&t.hotTopic&&(t.hotTopic=JSON.parse(t.hotTopic)),t.searchProduct?jm.getCookie("productSearchHistory")&&(m=JSON.parse(jm.getCookie("productSearchHistory"))):jm.getCookie("searchHistory")&&(m=JSON.parse(jm.getCookie("searchHistory")));var u=[],f=r||n&&n[0].value||"全站";if(u.push(' <div id="searchWindow" class="searchWindow newSearchWindow">\n\t\t\t\t\t<div class="searchInputBar">\n\t\t\t\t \t\t<div style="display: none;"  class="subMenu sb-subMenu">\n\t\t\t\t\t\t\t<div class="triangle-wrap"><i class="triangle"></i></div>'),n&&n.length>0){var h,g=o(n);try{for(g.s();!(h=g.n()).done;){var v=h.value;u.push(' <div class="subMenuItem" style="'.concat(v.show?"":"display: none",'">\n\t\t\t\t\t\t\t<span data-type="').concat(v.type,'" class="subMenuItem-span">').concat(Mobi.encodeHtml(v.value),"</span>\n\t\t\t\t\t\t</div>"))}}catch(t){g.e(t)}finally{g.f()}}if(u.push(' \t\t</div>\n\n\t\t\t\t\t<div class="popupSearchWrap newPopupSearchWrap">\n\n\t\t\t\t\t\t<svg class="'.concat(a?"fromModule-searchSvg":""," searchSvg ").concat(e?"hide-element":"",'" id="icon-searchSubmit">\n\t\t\t\t\t\t\t<use xlink:href="#jzm-v19" :fill="#868686" style="fill:#868686"></use>\n\t\t\t\t\t\t</svg>\n\n\t\t\t\t\t\t<form style="display: flex;align-items: center;">\n\n\t\t\t\t\t\t\t<div class="').concat(a?"fromModule-showRange-block":""," sb-showRange-block ").concat(e?"":"hide-element",'">\n\t\t\t\t\t\t\t\t<div style="margin-left: 0;" class="searchRange sb-defaultTitle">').concat(Mobi.encodeHtml(f),'</div>\n\t\t\t\t\t\t\t\t<div class="arrow-svgDiv">\n\t\t\t\t\t\t\t\t\t<svg class="icon-arrow">\n\t\t\t\t\t\t\t\t\t\t<use fill=\'#808080\' xlink:href="#jzm-vicon_arrow_panel" />\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input id="searchInput" class="popupSearchInput newSearchInput" placeholder=').concat(Mobi.decodeHtml(t.searchTip),'>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t<svg class="icon-delete" id="icon-delete">\n\t\t\t\t\t\t\t<use xlink:href="#jzm-v25" :fill="#ffffff" style="color:#cccccc; fill:#ffffff;"></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t<div id="icon-closeSearch" class="icon-closeSearch">').concat(LS.cancel,"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>")),t&&t.hotTopic&&t.hotTopic.length){u.push('\t<div class="hotTopicWrap">'),u.push("\t\t<h3>"+LS.hostSearch+"</h3>");for(var b=0,_=t.hotTopic.length;b<_;b++)u.push('<span class="topicItem">'+Mobi.encodeHtml(t.hotTopic[b])+"</span>");u.push("\t</div>")}if(t.historySearch&&m){if(u.push('<div class="historyTopicWrap">'),u.push('\t\t\t<svg class="deleteSvg" id="clearHistoryBtn">'),u.push('\t\t\t\t<use xlink:href="#jzm-v18" :fill="#2E2D2D" style="fill:#2E2D2D"></use>'),u.push("\t\t\t</svg>"),u.push("\t\t<h3>"+LS.historySearch+"</h3>"),m)for(var j=0,M=m.length;j<M;j++)u.push('<span class="topicItem">'+Mobi.encodeHtml(m[j])+"</span>");u.push("</div>")}u.push("</div>");var y=jm(u.join(""));jm("#g_web").append(y),jm("#searchWindow").on("click",(function(){var t=jm("#searchWindow .searchInputBar .subMenu");"none"!=t[0].style.display&&Mobi.changeArrowDirection(),t.hide()})),jm(".sb-subMenu").on("click",(function(e){var i=e||window.event,o=i.target||i.srcElement,n=jm("#searchWindow .searchInputBar .subMenu"),r=jm(".sb-showRange-block .searchRange"),l=o.innerText,c=a?".module-defaultTitle":".title-top-defaultTitle";n.hide(),Mobi.changeArrowDirection(),s=parseInt(o.getAttribute("data-type")||0),r.text(l),jm(c).text(l),Object.assign(t,{searchType:s},{searchTitle:l}),i.stopPropagation()})),jm(".sb-showRange-block").on("click",(function(t){var e=t||window.event,i=jm("#searchWindow .searchInputBar .subMenu");e.stopPropagation(),i.toggle(),Mobi.changeArrowDirection()})),jm("#icon-closeSearch").on("click",(function(){jm("#searchWindow").on("animationend webkitAnimationEnd msAnimationEnd oAnimationEnd oanimationend",(function(){jm("#searchWindow").remove(),jm(this).off("animationend webkitAnimationEnd msAnimationEnd oAnimationEnd oanimationend")})),jm("#searchWindow").addClass("searchWindowOff"),jm(this).off("click")})),jm("#icon-searchSubmit").on("click",(function(){if(""==(p=jm.trim(jm("#searchInput").val())))return jm("#searchInput").get(0).focus(),void Mobi.ing("请输入搜索内容");Mobi.searchInMobi(p,t)})),jm("#icon-delete").on("click",(function(){jm("#searchInput").val(""),jm("#icon-delete").hide()})),jm(".newSearchInput").on("input",(function(){""!=jm(this).val()?jm("#icon-delete").show():jm("#icon-delete").hide()})),jm("#searchWindow").on("keypress","#searchInput",(function(e){if(13===e.which)return""==(p=jm.trim(jm("#searchInput").val()))?(Mobi.ing("请输入搜索内容"),jm("#searchInput").get(0).blur(),jm("#searchInput").get(0).focus(),!1):(Mobi.searchInMobi(p,t),!1)})),jm("#searchWindow").on("click",".topicItem",(function(){p=jm(this).text(),Mobi.searchInMobi(p,t),jm(".topicItem").off("click")})),jm("#searchWindow").on("click","#clearHistoryBtn",(function(){jm(".historyTopicWrap").remove(),jm(this).remove(),t.searchProduct?jm.setCookie("productSearchHistory","",-1):jm.setCookie("searchHistory","",-1)})),jm("#searchInput").get(0).focus()}},Mobi.searchInMobi=function(t,e){if(Fai.top._manageMode&&Fai.top.Mobi.checkSaveBar())return!1;Fai.top._manageMode&&Fai.top.mobiDesigner.designerClose();var o=e.moduleId,n=t,a=e.nSL,r=e.rangeType;if(window.localStorage&&window.localStorage.getItem&&window.localStorage.getItem("totalSearchRange"+o)&&Fai.top._manageMode&&(a=JSON.parse(window.localStorage.getItem("totalSearchRange"+o)).nSL,r=JSON.parse(window.localStorage.getItem("totalSearchRange"+o)).rangeType),!e.searchProduct&&"object"===i(JSON.parse(jm.toJSON(a)))){var s=[];for(var l in JSON.parse(jm.toJSON(a)))s[l]=JSON.parse(jm.toJSON(a))[l];a=s}0===r&&(a=[]),void 0===o&&(o=-1);var c=e.fromModule?"":"&searchTitle="+e.searchTitle,d=Mobi.preprocessUrl({path:"",oldPath:""})+"searchResult.jsp?searchword="+jm.encodeUrl(jm.trim(n))+"&nSL="+jm.encodeUrl(jm.toJSON(a))+"&searchModuleId="+o+"&searchType="+e.searchType+c;1==e.searchProduct&&(d=Mobi.preprocessUrl({path:"",oldPath:""})+"pr.jsp?psId="+o+"&searchword="+jm.encodeUrl(jm.trim(n))),window.location.href=d;var m=[];e.searchProduct?jm.getCookie("productSearchHistory")&&(m=JSON.parse(jm.getCookie("productSearchHistory"))||[]):jm.getCookie("searchHistory")&&(m=JSON.parse(jm.getCookie("searchHistory"))||[]),-1===m.indexOf(n)&&(m.unshift(n),m=m.slice(0,10),e.searchProduct?jm.setCookie("productSearchHistory",jm.toJSON(m),7):jm.setCookie("searchHistory",jm.toJSON(m),7))},Mobi.bindTopSearch=function(t){t&&(jm(".header_v3 .topSearch").off("click.search").bind("click.search",(function(){Mobi.popupSearch(t)})),jm(".jsb-showRange-block").off("click.search").bind("click.search",(function(){Mobi.popupSearch(t)})))},Mobi.changeElementText=function(t){var e=t.className,i=t.text;jm(".".concat(e)).text(i)},Mobi.changeArrowDirection=function(){var t=jm(".sb-showRange-block .arrow-svgDiv");t.hasClass("arrow-svgDiv-up")?t.removeClass("arrow-svgDiv-up"):t.addClass("arrow-svgDiv-up")}},143:function(t,e){!function(t,e){var i=[];e.ExposureQueue={add:function(t){-1===e.ExposureQueue.indexOf(t.name)&&i.push(t)},remove:function(t){var o=e.ExposureQueue.indexOf(t);o>-1&&i.splice(o,1)},indexOf:function(t){var e=-1;return i.forEach((function(i,o){i.name===t&&(e=o)})),e},init:function(){e.ExposureQueue.listen()},listen:function(){var i=t(window),o="resize.exposureList",n="scroll.exposureList",a=e.throttle(e.ExposureQueue.exposure);e.ExposureQueue.exposure(),i.off(o).on(o,a).off(n).on(n,a)},exposure:function(){i.forEach((function(t){jm.isFunction(t.onTrigger)&&t.onTrigger()}))}},t((function(){e.ExposureQueue.init()}))}(jm,Mobi),function(t,e){e.bindTabEvent=function(i,o,n){var a=t(i);if(e.isPC()){var r="click."+o;a.off(r).on(r,n)}else{var s="touchstart."+o,l="touchmove."+o,c="touchend."+o;a.off(s).on(s,(function(){var t=!1;a.off(l).on(l,(function(){t=!0})),a.off(c).on(c,(function(){if(a.off(c).off(l),!t)return n.apply(this,arguments)}))}))}}}(jm,Mobi),function(t,e){var i=function(){var t=location.host.split("."),e=t.length;return t[e-2]+"."+t[e-1]};e.manageFaiscoAd=function(t){[4,28].includes(Fai.top._colInfo.type)&&Fai.top.Mobi.logJZFdp("jz_c_expose",{jz_version:Fai.top.jzVersion,jz_free_text1:"文章详情页曝光",jz_free_text2:i()});var o=!0!==Fai.top._manageMode,n=!0===Fai.top._isFreeVer||Fai.top.checkUPlanAcct;o&&n&&e.initCornerAd(t)},e.initCornerAd=function(){var o=t("#mobiCornerAd");o.length>0&&(o.show(),function(){if(Mobi.isPC()){var i=t(window),o="resize.adjustAdPos",n=function(){var e=t(".webRight").width();t("#mobiCornerAd").css({right:e+"px"})},a=e.throttle(n);n(),i.off(o).on(o,a)}}(),function(e){"none"!==t("#webCustomerServiceBox").css("display")&&e.addClass("fk_mobiCornerAd_hasBottomMenu")}(o),function(t){var i=t.find(".J_close");e.bindTabEvent(i,"close",(function(e){t.hide(),e.stopPropagation()}))}(o),function(t){if(1==Fai.top._siteType){e.WeChatAd.init();var o=t.find(".J_link");o.removeAttr("href"),e.bindTabEvent(o,"callWeChat",(function(){e.WeChatAd.show(),Fai.top.Mobi.logJZFdp("jz_c_click",{jz_version:Fai.top.jzVersion,jz_free_text1:"悬浮窗点击",jz_free_text2:i()})})),Fai.top.Mobi.logJZFdp("jz_c_expose",{jz_version:Fai.top.jzVersion,jz_free_text1:"悬浮窗曝光",jz_free_text2:i()})}}(o),e.ExposureQueue.add({name:"freeAdAbTest",onTrigger:function(){var i=t("#mobiCornerAd"),o=t(window);if(e.isInViewArea(o,i)){var n=a();void 0!==n&&e.logDog(200625,n),e.ExposureQueue.remove(this.name)}function a(){return e.isWechat()?16:14}}}),e.ExposureQueue.exposure())}}(jm,Mobi),function(t,e){var i=200010,o=10,n=11,a=12,r=13;function s(){c()&&e.logDog(i,n),l()&&e.logDog(i,r)}function l(){return e.isWechat()}function c(){return!l()}e.initAdvertisement=function(){var n=t("#mobiAdvertisement_box");0!==n.length&&(!function(){var i=t("#mobiAdvertisement_adImg"),o="click.logAdv";e.isPC()||(o="touchend.logAdv");i.off(o).on(o,s)}(),e.ExposureQueue.add({name:"bottomAd",onTrigger:function(){var n=t("#mobiAdvertisement_adImg"),r=t(window);e.isInViewArea(r,n)&&(c()&&e.logDog(i,o),l()&&e.logDog(i,a),e.ExposureQueue.remove(this.name))}}))}}(jm,Mobi),function(t,e){e.WeChatAd={$dom:t({}),init:function(){var i,o,n=t("#popupWXQrCode");if(0===n.length){var a=(i=2==Fai.top._siteType?"免费商城":"免费建站",o=2==Fai.top._siteType?"mobiMallFooterWechatQrCode.gif":"mobiFooterWechatQrCode.gif",["<div class='popupWXQrCode' id='popupWXQrCode' >","<div class='wxQrBg J_close'></div>","<img class='J_bigPic bgPic' src='"+Fai.top._resRoot+"/image/wx/wxQrCodeBack.png'/>","<div class='wxQrTip'>"+i+"</div>","<img class='wxQrCodePic' src='"+Fai.top._resRoot+"/image/"+o+"'/>","</div>"].join(""));n=t(a),t("body").append(n)}e.WeChatAd.$dom=n,e.WeChatAd.bindEvent()},show:function(){e.WeChatAd.$dom.show()},hide:function(){e.WeChatAd.$dom.hide()},bindEvent:function(){var t=e.WeChatAd.$dom.find(".J_close");e.bindTabEvent(t,"close",(function(){e.WeChatAd.hide()})),e.WeChatAd.listenLongPress()},listenLongPress:function(){var t=e.WeChatAd.$dom.find(".J_bigPic"),i="touchstart.longPress",o="touchend.longPress",n=null;function a(){return(new Date).getTime()}t.off(i).on(i,(function(){n=a()})),t.off(o).on(o,(function(){(function(t){return t>500})(a()-n)&&function(){if(e.isWechat()){var t=200010,i=14;e.logDog(t,i)}}()}))}}}(jm,Mobi)},144:function(t,e){Mobi.logoSizeCompressByMargin=function(){if(!(jm("#pageLogo").length<1)){var t=jm("#pageLogo"),e=jm("#webHeader");if("none"!=e.css("display")){t.height(0);var i,o,n=parseFloat(t.css("margin-top").replace("px","")),a=parseFloat(t.css("margin-bottom").replace("px","")),r=parseFloat(t.css("margin-left").replace("px","")),s=parseFloat(t.css("margin-right").replace("px","")),l=parseInt(t.attr("sid")),c=parseInt(t.attr("pw")),d=parseInt(t.attr("ph")),m=parseFloat(e.height());i=Math.floor(m-n-a),t.height(i+"px"),0!=l?t.width(parseInt(t.height())+"px"):(o=(o=parseInt(t.height())*c/d)>e.width()?e.width()-r-s:o,t.width(o+"px")),jm("#webHeaderBox #header").removeClass("header-forLogo"),t.css("visibility","visible")}}},Mobi.titlePositionRefreshByLogo=function(){if(!(jm("#pageLogo").length<1)){var t=jm("#pageLogo"),e=jm("#header"),i=jm("#pageTitle");if("none"!=jm("#webHeader").css("display")){t.css({position:"",float:"",left:"",right:""});var o="right";0==Fai.top._mobiSiteTitle.align?o="":1==Fai.top._mobiSiteTitle.align?o="left":2==Fai.top._mobiSiteTitle.align&&(o="center"),e.css("text-align",o),e.css("padding",""),i.css("max-width","");var n=parseInt(e.width()),a=parseInt(t.width()),r=parseInt(t.css("margin-left").replace("px","")),s=parseInt(t.css("margin-right").replace("px","")),l=parseInt(e.css("padding-left").replace("px","")),c=parseInt(e.css("padding-right").replace("px","")),d=parseInt(i.css("padding-left").replace("px","")),m=parseInt(i.css("padding-right").replace("px",""));if("none"!=t.css("display")){if(i.css("max-width",n-a-r-s-d-m-10+"px"),"center"==e.css("text-align")&&(t.hasClass("left")||t.hasClass("right")))t.css({position:"absolute",float:"none"}),e.css("padding",0),t.hasClass("left")?(l>0?t.css("left",l+"px"):t.css("left",0),""!=jm("#pageTitle").text()&&i.offset().left<t.offset().left+a&&(e.css("padding","0 0 0 "+(l+r+s+a)+"px"),e.css("text-align","left"))):t.hasClass("right")&&(c>0?t.css("right",c+"px"):t.css("right",0),""!=jm("#pageTitle").text()&&i.offset().left+parseInt(i.width())>t.offset().left&&(e.css("padding","0 "+(c+r+s+a)+"px 0 0"),e.css("text-align","right")));else if("center"==e.css("text-align"))if(e.css("padding",0),l>0){var p=t.offset().left<=e.offset().left+l,u=i.offset().left<=e.offset().left+l;"none"===i.css("display")&&(u=!1),(p||u)&&(e.css("padding",""),e.css("text-align","left"))}else c>0&&(t.offset().left+a>=e.offset().left+n||i.offset().left+parseInt(i.width())>=e.offset().left+n)&&(e.css("padding",""),e.css("text-align","right"));t.height()<=i.offset().top&&""==i.text()?(i.addClass("fk-pageTitleFix"),Fai.top._manageMode&&Mobi.autoFixGWebTop(Fai.top._templateLayoutId)):i.removeClass("fk-pageTitleFix")}else i.css("max-width",n-d-m+"px"),"center"==e.css("text-align")&&(e.css("padding",0),l>0&&i.offset().left<=e.offset().left+l?e.css("padding",""):c>0&&parseInt(i.width())>=e.offset().left+n-c&&e.css("padding-right","1.5rem"))}}},Mobi.countSiteTitleBgHeiht=0,Mobi.changeTempCountSiteBgHeight=function(){if(!(Fai.top._templateFrameId>=2e3&&Fai.top._templateFrameId<3e3||jm("#headerBg").length<1)){var t=jm("#headerBg"),e=jm("#headerWhiteBg"),i=jm("#webHeader"),o=parseFloat(i.height()),n=parseFloat(i.css("padding-top")),a=parseFloat(i.css("padding-bottom")),r=o+n+a+parseFloat(i.css("border-top-width"))+parseFloat(i.css("border-bottom-width")),s=r.toString()+"px";t.css("height",r/window._htmlFontSize+"rem"),a>0&&t.css("padding-bottom",a/window._htmlFontSize+"rem"),e.css("height",r/window._htmlFontSize+"rem"),Mobi.countSiteTitleBgHeiht=s,"undefined"!==Mobi.showSiteTitleBgGloable.bgType&&"null"!=Mobi.showSiteTitleBgGloable.bgType&&Mobi.changeSiteTitleBg(Mobi.showSiteTitleBgGloable.bgType,Mobi.showSiteTitleBgGloable.bgImgStyle,Mobi.showSiteTitleBgGloable.bgFontColor,Mobi.showSiteTitleBgGloable.bgFontAlpha,Mobi.showSiteTitleBgGloable.linkCoverPreViewPath)}},Mobi.showSiteTitleBgGloable={},Mobi.showSiteTitleBgGloable.showSiteTitleBgFlag=!1,Mobi.setShowSiteTitleBgFlag=function(t){var e=jm("#webHeader");Fai.top._templateFrameId>=2e3&&Fai.top._templateFrameId<3e3||(0==t?(Mobi.showSiteTitleBgGloable.showSiteTitleBgFlag=!0,e.removeClass("mobiTitleClose")):(Mobi.showSiteTitleBgGloable.showSiteTitleBgFlag=!1,e.addClass("mobiTitleClose")),setTimeout((function(){Mobi.changeTempCountSiteBgHeight()}),1e3))},Mobi.changeSiteTitleBg=function(t,e,i,o,n){Mobi.showSiteTitleBgGloable.bgType=t,Mobi.showSiteTitleBgGloable.bgImgStyle=e,Mobi.showSiteTitleBgGloable.bgFontColor=i,Mobi.showSiteTitleBgGloable.bgFontAlpha=o,Mobi.showSiteTitleBgGloable.linkCoverPreViewPath=n;var a=jm("#headerBg"),r=jm("#webHeader"),s=jm("#headerWhiteBg");if(null!=t&&""!=t)if(1==t)a.css("background","transparent"),a.css("background-color","#fff"),a.css("opacity","1"),a.css("filter","100"),Mobi.showSiteTitleBgGloable.showSiteTitleBgFlag?(a.css("display","block"),s.css("display","block")):(a.css("display","none"),s.css("display","none"));else if(2==t){a.css("background-position",""),a.css("background-size",""),a.css("background-repeat",""),a.css("background-color",""),a.css("background-image","");var l="string"==typeof i&&i.indexOf("linear-gradient")>=0;null!=n&&""!=n&&a.css("background-image","url("+n+")"),l&&null!=n&&""!=n?a.css("background-image","url("+n+"),"+i):l?a.css("background-image",i):a.css("background-color",i),2==e?(a.css("opacity",o/100),a.css("background-size","cover"),a.css("background-repeat","inherit"),a.css("filter",o)):3==e?(a.css("opacity",o/100),a.css("background-size","100% 100%"),a.css("background-repeat","inherit"),a.css("filter",o)):4==e?(a.css("opacity",o/100),a.css("background-size","inherit"),a.css("background-repeat","repeat"),a.css("filter",o)):5==e?(a.css("opacity",o/100),a.css("background-size","inherit"),a.css("background-repeat","no-repeat"),a.css("filter",o)):6==e?(a.css("background-repeat","no-repeat"),a.css("background-position","center center"),a.css("background-size","contain"),a.css("filter",o)):7==e?(a.css("background-repeat","repeat-x"),a.css("background-position","center top"),a.css("filter",o)):8==e?(a.css("background-repeat","repeat-x"),a.css("background-position","center center"),a.css("filter",o)):9==e?(a.css("background-repeat","repeat-x"),a.css("background-position","center bottom"),a.css("filter",o)):10==e?(a.css("background-repeat","repeat-y"),a.css("background-position","left center"),a.css("filter",o)):11==e?(a.css("background-repeat","repeat-y"),a.css("background-position","center center"),a.css("filter",o)):12==e?(a.css("background-repeat","repeat-y"),a.css("background-position","right center"),a.css("filter",o)):13==e?(a.css("background-repeat","no-repeat"),a.css("background-position","center top"),a.css("background-size","100% 100%"),a.css("filter",o)):14==e?(a.css("background-repeat","no-repeat"),a.css("background-position","center center"),a.css("filter",o)):15==e?(a.css("background-repeat","no-repeat"),a.css("background-position","left top"),a.css("filter",o)):16==e?(a.css("background-repeat","no-repeat"),a.css("background-position","center top"),a.css("filter",o)):17==e?(a.css("background-repeat","no-repeat"),a.css("background-position","right top"),a.css("filter",o)):18==e?(a.css("background-repeat","no-repeat"),a.css("background-position","left center"),a.css("filter",o)):19==e?(a.css("background-repeat","no-repeat"),a.css("background-position","right center"),a.css("filter",o)):20==e?(a.css("background-repeat","no-repeat"),a.css("background-position","left bottom"),a.css("filter",o)):21==e?(a.css("background-repeat","no-repeat"),a.css("background-position","center bottom"),a.css("filter",o)):22==e?(a.css("background-repeat","no-repeat"),a.css("background-position","right bottom"),a.css("filter",o)):(!l&&a.css("background-image","none"),a.css("filter",o),a.css("opacity",o/100)),Mobi.showSiteTitleBgGloable.showSiteTitleBgFlag?(a.css("display","block"),s.css("display","block")):(a.css("display","none"),s.css("display","none"))}else a.css("display","none"),s.css("display","none"),r.css("background-image",""),r.css("background-color","");Fai.top._templateFrameId>=2e3&&Fai.top._templateFrameId<3e3||(window.onload=function(){Mobi.changeTempCountSiteBgHeight()},Mobi.countSiteTitleBgHeiht=r.height(),a.css("height",Mobi.countSiteTitleBgHeiht/window._htmlFontSize+"rem"),s.css("height",Mobi.countSiteTitleBgHeiht/window._htmlFontSize+"rem"))},Mobi.bindTopIconBack=function(){if(2004===Fai.top._templateFrameId){var t=jm(".J_to_back");if(!t.length)return;t.off("click.tb").on("click.tb",(function(){Fai.top._manageMode?jm(Fai.top.document.getElementById("jz_designerOperate").querySelector(".j_designerBack")).click():window.history.length<=1?window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"index.jsp":window.history.back()}))}},Mobi.logoV3StyleAdjust=function(t,e,i){var o=jm("#header_v3"),n=jm("#headIcon_v3"),a=e.li.ow||160,r=e.li.oh||160;n.attr("style"," "),o.removeClass("logoPos0 logoPos1 logoPos2 logoPos3"),o.removeClass("titleAlign1 titleAlign2 titleAlign3");var s="",l="";if(3==t||4==t){if(l="titleAlign"+i.align,0==i.align&&(l="titleAlign2"),1==e.st){if(0!=e.li.ow&&0!=e.li.oh&&e.li.ow!=e.li.oh&&n.css("width",n.height()*a/r+"px"),1==e.m.type){n.css("margin-top",e.m.mt+"rem").css("margin-right",e.m.mr+"rem").css("margin-bottom",e.m.mb+"rem").css("margin-left",e.m.ml+"rem");var c=o.height()-parseInt(Mobi.getStyle(n[0],"margin-top").replace("px",""))-parseInt(Mobi.getStyle(n[0],"margin-bottom").replace("px",""));n.css("height",c-1+"px"),n.css("width",n.height()*a/r+"px")}s="logoPos"+e.lp}else n.css("display","none");o.addClass(s),o.addClass(l),o.css("opacity",1)}},Mobi.headBoxFixedV3=function(t){function e(){var t,e,i,o=jm("#webHeader_v3.headStyle2"),n=jm("#webBanner"),a=function(){var t=g_body;document.documentElement&&document.documentElement.scrollTop>0&&(t=document.documentElement);return t.scrollTop}(),r=jm("#navbar"),s=r.length&&3==r.attr("type")&&1==r.attr("navPos")&&"none"!=r.css("display");if(o.length)if(t=o.find(".headBg_v3"),e=parseInt(Mobi.getStyle(o[0],"height").replace("px","")),!n.length||s)t.css("background-color","rgba(255,255,255,1)"),o.addClass("turnDefault");else if(i=parseInt(Mobi.getStyle(n[0],"height").replace("px",""))){if(e){var l=(a-i+e)/e;l<0&&(l=0),t.css("background-color","rgba(255,255,255,"+l+")"),a>i?o.addClass("turnDefault"):o.removeClass("turnDefault")}}else t.css("background-color","rgba(255,255,255,1)"),o.addClass("turnDefault")}t&&(jm(document).off("touchstart.hbf").on("touchstart.hbf",e),jm(document).off("touchmove.hbf").on("touchmove.hbf",e),jm(document).off("touchend.hbf").on("touchend.hbf",e),jm(document).off("touchcancel.hbf").on("touchcancel.hbf",e),jm(document).off("scroll.hbf").on("scroll.hbf",e)),e()},Mobi.setTitleIsEditable=function(t,e){if(e){var i=jm("#"+t),o=i.find("input"),n=i.find("h1"),a=i.find("a"),r=i.find("span"),s=jm("#headTitle_v3"),l="",c=null;i.length>0&&(l=a.attr("href"),a.attr("href","#"),n.unbind("mouseover.titleInputV3Edit").bind("mouseover.titleInputV3Edit",(function(){"none"==o.css("display")&&(m(0),r.css("display","inline-block"))})),n.unbind("mouseleave.titleInputV3Edit").bind("mouseleave.titleInputV3Edit",(function(){"none"==o.css("display")&&(m(2),r.css("display","none"))})),n.unbind("dblclick.titleInputV3Edit").bind("dblclick.titleInputV3Edit",d),n.unbind("click.titleInputV3Edit").bind("click.titleInputV3Edit",(function(t){t.stopPropagation(),"none"==o.css("display")&&(window.clearTimeout(c),"#"!=a.attr("href")&&(l=a.attr("href"),a.attr("href","#")),c=window.setTimeout((function(){if(null!=l&&""!=l)if(-1===l.indexOf("http")){if(Fai.top._changeStyleNum>0)return void Fai.top.Mobi.popupStyleChangeBodyWindow("您的网站设计已经更改，是否立即保存？");window.location.href=l}else top.Fai.ing("管理态不支持跳转外部链接，请通过“预览”进行访问",!0)}),200));return t.preventDefault(),!1})),r.unbind("click.titleEditPen").bind("click.titleEditPen",d),o.unbind("input.titleEditInput").bind("input.titleEditInput",(function(){Fai.top._pattern.hs.t.name=o.val(),Fai.top._patternChange++,top.Fai.top.Mobi.styleChanged()})),o.unbind("focusout.titleEditInputBlur").bind("focusout.titleEditInputBlur",(function(){if(m(2),"none"!=o.css("display")){a.css("display","inline"),o.css("display","none");var t={},e={};t.value=top.Fai.decodeHtml(a.html()),e.value=o.val(),a.html(top.Fai.encodeHtml(o.val())),t.value!=e.value&&top.Fai.top.Mobi.undoRun((function(t){a.html(top.Fai.encodeHtml(t.value)),top.Fai.top._pattern.hs.t.name=t.value,t.value?s.removeClass("noneStr"):s.addClass("noneStr")}),{doArgs:[e],undoArgs:[t]})}r.css("display","none")})))}function d(t){t.stopPropagation(),window.clearTimeout(c),Mobi.logDog(200739,12),m(1),a.css("display","none"),o.val(a.text()),o.css({display:"inline-block"}),o.length>0&&o[0].focus(),r.css("display","none")}function m(t){var e=i.find("h1");switch(t){case 0:e.removeClass("edit_h1_v3"),e.addClass("focus_h1_v3");break;case 1:e.removeClass("focus_h1_v3"),e.addClass("edit_h1_v3");break;case 2:e.removeClass("focus_h1_v3"),e.removeClass("edit_h1_v3")}}},Mobi.setTitleIsEditableV2=function(){},Mobi.bindSearch=function(t){t&&jm("#topSearch").off("click.search").bind("click.search",(function(){Mobi.popupSearch(t)}))}},145:function(t,e){Mobi.iframeToEmbed=function(t,e,i){var o,n=jm("#"+t+" iframe");if(jm.os.ie||navigator.userAgent.toLocaleLowerCase().indexOf("chrome/63.0")>-1){if("v.youku.com"==i||"player.youku.com"==i)o="http://player.youku.com/player.php/sid/"+e+"/v.swf";else{if("v.qq.com"!=i&&"static.video.qq.com"!=i)return!1;o="http://static.video.qq.com/TPout.swf?vid="+e+"&auto=0"}jm("<embed class='mobiVideoOnlineIframe' src='"+o+"' allowFullScreen='true' wmode='Opaque' quality='high'  align='middle' allowScriptAccess='always' type='application/x-shockwave-flash'></embed>").insertBefore(n),jm(n).remove()}},Mobi.videoPoster=function(t){var e=jm("#"+t);e[0].addEventListener("loadedmetadata",(function(){var t=e.width()/_htmlFontSize;e.css("max-height","20rem").css("max-width",t+"rem")}))},Mobi.videoDialog=function(t,e,i){var o;o=i?"cmd=getWafNotCk_getMobiVideoDialog&moduleId="+t+"&content="+jm.encodeUrl(jm.toJSON(e)):"cmd=getWafNotCk_getFLvDialog&moduleId="+t,jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/flv_h.jsp",data:o,success:function(e){e=jm.parseJSON(e);var i="<div class='videoDialog' id='videoDialog'><div class=\"cancelVideo faisco-icons-\" onclick=\"Mobi.cancelVideoDialog("+t+')"></div>'+e.data+"</div>";jm("#g_body").append(i),document.getElementById("g_body").style.overflowY="hidden"}})},Mobi.cancelVideoDialog=function(){jm("#videoDialog").remove(),document.getElementById("g_body").style.overflowY=""}},146:function(t,e){Mobi.initModuleCubeNavItemHeight=function(t,e){setTimeout((function(){if(5!=t&&6!=t&&8!=t&&11!=t&&15!=t&&16!=t){var i=".cubeLink_row";14==t&&(i=".cubeLink_row_head");var o=jm("#module"+e).find(i);o.length>0&&o.each((function(){var e=jm(this).find(".cubeLink"),i=0;e.each((function(){var t=Number(jm(this).height());t>i&&(i=t)})),0==i&&(i=4.7*_htmlFontSize),jm(this).find(".cubeLink_a").css("height",i+"px"),13!=t&&14!=t&&e.css("height",i+"px")}))}}),0)}},147:function(t,e){!function(){var t=jm("#backTop");function e(){var e=!Fai.top._manageMode||!!Fai.top._rootStore.getters.getBackToTopType,i=document.body.offsetHeight;(document.body.scrollTop>i||document.documentElement.scrollTop>i)&&e?t.show():t.hide()}Mobi.initBackTop=function(i){e(),i&&(Mobi.initBackToprManage&&Mobi.initBackToprManage(),document.addEventListener("scroll",e),t.on("click",(function(){var t,e=document.body.scrollTop+document.documentElement.scrollTop;t=setInterval((function(){e=parseInt(e-e/4),document.body.scrollTop=e,document.documentElement.scrollTop=e,e<=0&&clearInterval(t)}),1e3/60)})))}}()},148:function(t,e){Mobi.initBgm=function(t){var e,i=jm("#bgmAudio"),o=Mobi.getPreviewWindow();if(i.attr("src",t),jm("#bgMusic").bind("click",(function(){jm("#bgMusic .bgm_icon_inner").hasClass("bgm_on")?(Mobi.bgmPause(),jm.cookie("_bgmIsPause",1),e=!1):(Mobi.bgmPlay(),jm.cookie("_bgmIsPause",0),e=!0)})),jm(o).off("beforeunload.bgMusic").on("beforeunload.bgMusic",(function(){o.Mobi.recordLastPlayerTime("bgmAudio","bgplayerTime")})),i.off("ended.bgm").on("ended.bgm",(function(){jm("#bgMusic .bgm_icon_inner").removeClass("bgm_on")})),i.off("durationchange.bgm").on("durationchange.bgm",(function(){var t=Mobi.callLastPlayerTime("bgplayerTime",0);this.duration>=t&&(this.currentTime=t)})),jm.cookie("_bgmIsPause"))1==parseInt(jm.cookie("_bgmIsPause"))?(Mobi.bgmPause(),e=!1):(Mobi.bgmPlay(),e=!0);else if(jm("#bgmAudio").attr("autoplay")){var n=navigator.userAgent;if(/(iPhone|iPad|iPod|Android)/i.test(n)){var a=jm("#bgMusic .bgm_icon_inner");jm("body").off("touchstart.bgm").on("touchstart.bgm",(function(t){parseInt(jm.cookie("_bgmIsPause"))||t.target==a[0]||Mobi.bgmPlay()})),jm("#bgmAudio").attr("loop")||jm("#bgmAudio").off("playing.bgm").on("playing.bgm",(function(){jm("body").off("touchstart.bgm")}))}Mobi.bgmPlay(),e=!0}Mobi.initBgmPosition(),Mobi.bindBodyScrollEvent(),document.addEventListener("play",(function(t){!!jm(t.target).parents("#bgMusic").length||(Mobi.bgmPause(),jm.cookie("_bgmIsPause",1))}),!0),document.addEventListener("pause",(function(t){!!jm(t.target).parents("#bgMusic").length||e&&(Mobi.bgmPlay(),jm.cookie("_bgmIsPause",0))}),!0)},Mobi.initBgmPosition=function(){var t=jm("#bgMusic .bgm_icon");if(!(t.length<1)){var e=0;t.css({top:"",bottom:""}),t.hasClass("bgm_rightUp")||t.hasClass("bgm_leftUp")?Mobi.scrollBgmPosition():(t.hasClass("bgm_rightDown")||t.hasClass("bgm_leftDown"))&&(e=jm("#customerServiceDiv").length<1||jm("#customerServiceDiv").find(".service").length<1?20:parseInt(jm("#customerServiceDiv").height())+20,t.css("bottom",e+"px"))}},Mobi.scrollBgmPosition=function(){if(Fai.top._openThemeV3)Mobi.scrollBgmPositionV3();else{var t=jm("#bgMusic .bgm_icon"),e=jm("#webMultilingualArea"),i=jm("#webHeaderBox"),o=jm(".loginHeader.webHeaderBg"),n=parseInt(i.height())||0,a=jm("body"),r=Fai.top._templateFrameId,s=0,l=10,c=document.documentElement.scrollTop||document.body.scrollTop;if(t.hasClass("bgm_rightUp")||t.hasClass("bgm_leftUp")){if(!(s=e.length>0?e.offset().top+parseInt(e.height())-c:i.offset().top+n-c))return a.hasClass("mobiCol20")||a.hasClass("mobiCol21")||a.hasClass("mobiCol24")||a.hasClass("mobiCol28")?r>=2e3?s=n+10:jm(".productDetailHeader").height()>0?s=parseInt(jm(".productDetailHeader").height())+10:jm(".photoGroupDetailHeader").height()>0&&(s=parseInt(jm(".photoGroupDetailHeader").height())+10):(o.length>0&&(s=o.offset().top+parseInt(o.height())-c+10),s=s>0?s:10,2004===r&&(s+=n)),void t.css("top",s+"px");"fixed"==i.css("position")?l=s>=n?s+10:n+10:s>=0&&(l=s+10),t.css("top",l+"px")}}},Mobi.scrollBgmPositionV3=function(){var t=jm("#bgMusic .bgm_icon"),e=jm("#webHeader_v3"),i=e.attr("styleId"),o=jm(".loginHeader.webHeaderBg"),n=parseInt((e[0]||{}).offsetHeight)||0,a=jm("body"),r=0,s=document.documentElement.scrollTop||document.body.scrollTop;if(t.hasClass("bgm_rightUp")||t.hasClass("bgm_leftUp")){if(0==n)return a.hasClass("mobiCol20")||a.hasClass("mobiCol21")||a.hasClass("mobiCol24")||a.hasClass("mobiCol28")?jm(".productDetailHeaderV3").height()>0?r=parseInt(jm(".productDetailHeaderV3").height())+10:jm(".photoGroupDetailHeader").height()>0&&(r=parseInt(jm(".photoGroupDetailHeader").height())+10):(o.length>0&&(r=o.offset().top+parseInt(o.height())-s+10),r=r>0?r:10),void t.css("top",r+"px");(r=i<5?n:0)<0&&(r=0),t.css("top",r+10+"px")}},Mobi.initBgmCookie=function(){jm.cookie("_bgmIsPause",null)},Mobi.resetBgmCookie=function(){jm("#bgMusic .bgm_icon_inner").hasClass("bgm_on")?jm.cookie("_bgmIsPause",0):jm.cookie("_bgmIsPause",1)},Mobi.bgmPause=function(){var t=jm("#bgMusic .bgm_icon_inner");document.getElementById("bgmAudio").pause(),t.removeClass("bgm_on")},Mobi.bgmPlay=function(){var t=jm("#bgMusic .bgm_icon_inner"),e=document.getElementById("bgmAudio");""!=e.getAttribute("src")&&e.play(),t.addClass("bgm_on")},Mobi.recordLastPlayerTime=function(t,e){var i=Mobi.getPreviewObject(t),o=parseFloat(i?i.currentTime:defaultTime);sessionStorage[e]=o},Mobi.callLastPlayerTime=function(t,e){var i=parseFloat(sessionStorage[t]);return i>=0?i:e}},149:function(t,e){var i,o,n,a,r,s;Mobi.checkBrowser=(o=["animation","MozAnimation","webkitAnimation","msAnimation","OAnimation"],n=["transform","MozTransform","webkitTransform","msTransform","OTransform"],a=["opacity","MozOpacity","webkitOpacity","msOpacity","OOpacity"],r=document.createElement("div"),s={},function(t){if("boolean"==typeof s[t])return s[t];switch(t){case"animation":i=o;break;case"transform":i=n;break;case"opacity":i=a;break;default:i=o}for(var e=0,l=i.length;e<l;e++)if(void 0!==r.style[i[e]])return s[t]=!0,s[t];return s[t]=!1,s[t]}),Mobi.initBannerDefaultDom=function(t){var e,i,o=t.b,n=o.length,a=[],r=t.sd;for(a.push("<div id='bannerSwipe' class='swipe'>"),a.push("<div id='bannerSwipeContainer' class='bannerSwipeContainer defaultBanner'>"),e=0;e<n;e++){var s=o[e].i,l=o[e].lt,c=o[e].w,d=o[e].h,m=o[e].t,p=o[e].p,u=o[e].aj,f=o[e].des,h=o[e].reqArgs,g=Fai.top.JZ.createUrlArgsOnclickStr(h);a.push("<div id='bannerItem"+s+"'>"),a.push('<a href="'+(0!=l?jm.encodeHtmlAttr(u):"javascript:;")+"\" vheight='"+d+"' vwidth='"+c+"' class='bannerImageDiv J_img_lazyload "+(0==m?"systemtBanner":"customBanner")+"' style='display:block;background-image:url("+Fai.top._loadingPath+")' src-original='"+p+"' "+g+"></a>"),r&&a.push("<div class='bannerDescription'><div class='description'>"+v(f)+"</div></div>"),a.push("</div>")}if(a.push("</div>"),r?a.push("<div id='bannerBullet' class='bannerBullet2'>"):a.push("<div id='bannerBullet' class='bannerBullet'>"),a.push("<ul id='bullets' class='bullets'>"),n>1)for(i=0;i<n;i++)a.push("<li "+(0==i?"class='on'":"")+"></li>");function v(t){return t&&t.replace?t.replace(/&/g,"&amp;").replace(/ /g,"&nbsp;").replace(/\b&nbsp;+/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\\/g,"&#92;").replace(/'/g,"&#39;").replace(/"/g,"&quot;").replace(/\n/g,"<br/>").replace(/\r/g,""):t}a.push("</ul>"),a.push("</div>"),a.push("</div>"),jm("#webBanner").html("").append(a.join(""))},Mobi.initSwipe=function(t,e,i){var o=Mobi.getJQMobi(),n=document.querySelector("#"+t),a=jm("#webBanner")[0],r=jm("#webBanner").find(".J_pageLoading");if(n){jm._swipehandle&&jm._swipehandle.kill();for(var s,l,c=n.querySelectorAll(".bannerImageDiv.customBanner"),d=n.querySelectorAll(".bannerImageDiv"),m=c.length,p=d.length,u=n.offsetWidth,f="",h=0,g=0;g<m;g++)s=parseInt(c[g].getAttribute("vwidth")),(l=parseInt(c[g].getAttribute("vheight"))/s)>h&&(h=l);if(0===p){var v=300*u/640;n.querySelector(".defaultBanner").style.height=v+"px"}else f=function(){var t=0;t=p-m>0&&u*h<300*u/640?Mobi.preciseDecimal(300*u/640,2):Mobi.preciseDecimal(u*h,2);return t}()/Fai.top._htmlFontSize,n.style.height=f+"rem",a.style.height=f+"rem";if(r.length&&r.hide(),Fai.top._openThemeV3&&Mobi.headBoxFixedV3(!1),i)Mobi.bindImgLazyLoad("webBanner");else{if(Mobi.checkBrowser()&&1!=e.et){n.style.visibility="visible";for(var b=n.getBoundingClientRect().width,_=n.children[0].children,j=_.length;j--;)_[j].style.width=b+"px"}else jm._swipehandle=o("#"+t).swipehandle(n,{auto:3e3,continuous:!0,bulletsClick:!0,speed:100*e.st,disableOnInteraction:!1,callback:function(t){for(var e=M.length;e--;)M[e].className=" ";M[t]?M[t].className="on":M[t-M.length].className="on"}});if(m<3?Mobi.bindImgLazyLoad("webBanner",{loadExistImg:!0}):Mobi.bindImgLazyLoad("webBanner"),!n.querySelector(".bullets"))return;var M=n.querySelector(".bullets").getElementsByTagName("li")}}},Mobi.bannerAnimate={},function(t,e){var i,o,n,a,r,s,l=1,c=0,d=-1,m=!1,p=3e3,u={},f=0,h=0,g=t("#bannerSwipe"),v=g.find(".bannerSwipeContainer"),b=v.find(".billboard_item"),_=b.length;function j(t){null!=t&&(n=t,u.effectType=t.et,u.switchingTime=100*t.st,u.duration=p,l=t.et,o=t.sd),0==u.effectType&&(l=function(t,e){var i=e-t+1,o=0;for(;0==o;)o=Math.floor(Math.random()*i+t);return o}(0,13))}function M(){g=t("#bannerSwipe"),v=g.find(".bannerSwipeContainer"),b=v.find(".billboard_item"),_=b.length;var e=t("#bullets").find("li");e.removeClass("on"),e.eq(c).addClass("on")}function y(e){var i,n,a,r,s=l,d=e.b,m=d.length,p=0;switch(s){case 9:case 10:p=4;break;case 11:case 12:case 13:p=5;break;default:p=0}var u,f,h,g,v,b,_,j=[];for(j.push("<div id='bannerSwipe' class='swipe'>"),j.push("<div id='bannerSwipeContainer' class='bannerSwipeContainer defaultBanner billboard billboard"+s+"'>"),i=0;i<m;i++){u=d[i].i,f=d[i].lt,"",g=d[i].w,v=d[i].h,b=d[i].t,_=d[i].p,h=d[i].aj,a=1,r=1;var M=d[i].des,y=d[i].reqArgs,w=Fai.top.JZ.createUrlArgsOnclickStr(y);if(0==p)j.push("<div id='bannerItem"+u+"' class='billboardAnim billboard_item "+(0!=p?"billboard_item"+i:"")+"  billboardItem_"+s+"' _des='"+M+"'>"),j.push('<a href="'+(0!=f?t.encodeHtmlAttr(h):"javascript:;")+"\" vheight='"+v+"' vwidth='"+g+"' class='bannerImageDiv J_img_lazyload "+(0==b?"systemtBanner":"customBanner")+"' style='display:block;background-image:url("+Fai.top._loadingPath+")' src-original='"+_+"' "+w+"></a>");else if(4==p)for(j.push("<div class='billboard_item billboardItem_"+s+" billboardItem_"+s+"_"+(i+1)+"' _des='"+M+"'>"),r=1;r<p;r++)j.push("<div class='billboardTile billboardTile_"+r+" billboardAnim'>"),j.push("<div class='billboardImg'>"),j.push("<a class='J_img_lazyload bannerImageDiv J_bannerItem systemtBanner billboardImgInner "+(0==b?"systemtBanner":"customBanner")+"' hidefocus='true' title='' href=\""+(0!=f?t.encodeHtmlAttr(h):"javascript:;")+"\" vheight='"+v+"' vwidth='"+g+"' target='' style='overflow: hidden; display: block; outline: none; margin: 0px auto; position: relative; z-index: 1;background-image:url("+Fai.top._loadingPath+"); background-position: 50% 50%; background-repeat: no-repeat;' src-original='"+_+"' "+w+">"),j.push("</a>"),j.push("</div>"),j.push("</div>");else for(j.push("<div class='billboard_item billboardItem_"+s+" billboardItem_"+s+"_"+(i+1)+"' _des='"+M+"'>"),a=1;a<p;a++)j.push("<div class='billboardTile billboardTile_"+a+"'>"),j.push("<div class='billboardAnim billboardTileImg'>"),j.push("<div class='billboardImg'>"),j.push("<a class='J_img_lazyload bannerImageDiv J_bannerItem systemtBanner billboardImgInner "+(0==b?"systemtBanner":"customBanner")+"' hidefocus='true' title='' href=\""+(0!=f?t.encodeHtmlAttr(h):"javascript:;")+"\" vheight='"+v+"' vwidth='"+g+"' target='' style='overflow: hidden; display: block; outline: none; margin: 0px auto; position: relative; z-index: 1;background-image:url("+Fai.top._loadingPath+"); background-position: 50% 50%; background-repeat: no-repeat;' src-original='"+_+"' "+w+">"),j.push("</a>"),j.push("</div>"),j.push("</div>"),j.push("</div>");o&&j.push("<div class='bannerDescription'><div class='description'>"+P(M)+"</div></div>"),j.push("</div>")}for(j.push("</div>"),o?j.push("<div id='bannerBullet' class='bannerBullet2' style='"+(m<2?"display:none;":"")+"' >"):j.push("<div id='bannerBullet' class='bannerBullet' style='"+(m<2?"display:none;":"")+"' >"),j.push("<ul id='bullets' class='bullets'>"),n=0;n<m;n++)j.push("<li "+(n==c?"class='on'":"")+"></li>");j.push("</ul>"),j.push("</div>"),j.push("</div>"),t("#webBanner").html(j.join(""))}function w(){var e;!function(){f=v.width()||0,h=t("#webBanner").height()||0;var e,i,o=t("#bannerSwipe").height()||0,n=b.eq(c);n.addClass("billboardItem_"+l+"_start"),0==u.effectIndex&&v.addClass("billboard"+effectIndex);for(var a=0;a<b.length;a++)switch(F(e=b.eq(a),"animationDuration",u.switchingTime+"ms"),i=e.find(".billboardAnim"),l){case 3:F(e,"transformOrigin","50% 50% "+-f/2+"px");break;case 4:F(e,"transformOrigin","50% 50% "+-h/2+"px");break;case 9:F(i,"transformOrigin","50% 50% "+-f/2+"px"),F(i,"animationDuration",u.switchingTime+"ms");break;case 10:F(i,"transformOrigin","50% 50% "+-e.find(".billboardAnim").height()/2+"px"),F(i,"animationDuration",u.switchingTime+"ms"),e.css("height",o);break;case 11:case 12:case 13:if(F(i,"animationDuration",u.switchingTime+"ms"),11===l||12===l){var r=navigator.userAgent.toLowerCase();(r.indexOf("se 2.x")>-1||r.indexOf("36")>-1)&&F(i.find(".customBanner"),"backgroundSize","contain")}}b.css("display","none"),n.css("display","block")}(),(e=t("#bannerBullet").find("li")).click((function(t){t.stopPropagation();var o=e.index(this);clearTimeout(i),S(o)})),("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&v[0].addEventListener("touchstart",x,!1),function(){var t=p;n.atOnce&&0!=n.et&&(t=1e3);n.atOnce=!1,m||(clearTimeout(i),i=setTimeout(C,t))}()}function S(e,i){if(!(isNaN(e)||e>=_||e<0||e==c||m)){void 0===i&&(i=!(e>c));var n,a,r=b.eq(e);!function(e){var i=t("#bullets").find("li");i.removeClass("on"),i.eq(e).addClass("on")}(e),function(t,e){var i=b.eq(c),n=b.eq(t);n.css("display","block"),o&&(i.find(".bannerDescription").css("display","none"),n.find(".bannerDescription").css("display","block")),i.removeClass("billboardItem_"+l+"_on billboardItem_"+l+"_on_reverse").addClass("billboardItem_"+l+"_off"),n.removeClass("billboardItem_"+l+"_off billboardItem_"+l+"_off_reverse").addClass("billboardItem_"+l+"_on"),e&&(i.addClass("billboardItem_"+l+"_off_reverse"),n.addClass("billboardItem_"+l+"_on_reverse"))}(e,i),d=c,c=e,m=!0,n=r[0],a=I,n.addEventListener("animationend",a,!1),n.addEventListener("webkitAnimationEnd",a,!1),n.addEventListener("oAnimationEnd",a,!1),n.addEventListener("oanimationend",a,!1),n.addEventListener("msAnimationEnd",a,!1)}}function I(){var t,e;t=b.eq(c)[0],e=I,t.removeEventListener("animationend",e,!1),t.removeEventListener("webkitAnimationEnd",e,!1),t.removeEventListener("oAnimationEnd",e,!1),t.removeEventListener("oanimationend",e,!1),t.removeEventListener("msAnimationEnd",e,!1),m=!1,b.eq(d).css("display","none"),o&&b.eq(d).find(".bannerDescription").css("display","none"),clearTimeout(i),0==u.effectType?T():i=setTimeout((function(){C()}),p)}function C(){var t=c+1;t>=b.length&&(t=0),S(t,!1)}function P(t){return t&&t.replace?t.replace(/&/g,"&amp;").replace(/ /g,"&nbsp;").replace(/\b&nbsp;+/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\\/g,"&#92;").replace(/'/g,"&#39;").replace(/"/g,"&quot;").replace(/\n/g,"<br/>").replace(/\r/g,""):t}function x(t){var e=t.targetTouches[0];a=0,r={x:e.pageX,y:e.pageY,time:+new Date},v[0].addEventListener("touchmove",k,!1),v[0].addEventListener("touchend",L,!1)}function k(t){if(!(t.targetTouches.length>1||t.scale&&1!==t.scale)){var e=t.targetTouches[0];s={x:e.pageX-r.x,y:e.pageY-r.y,time:+new Date},a=Math.abs(s.x)<Math.abs(s.y)?1:0}}function L(){var t;0===a&&(Number(s.x)>10&&Number(s.y)<40?((t=c-1)<0&&(t=b.length-1),S(t,!0)):Number(s.x)<-10&&Number(s.y)<40&&C()),v[0].removeEventListener("touchmove",this,!1),v[0].removeEventListener("touchend",this,!1)}function F(t,e,i){var o=e.substring(0,1).toUpperCase()+e.substring(1);t.css("Webkit"+o,i),t.css("Moz"+o,i),t.css("ms"+o,i),t.css("O"+o,i),t.css(e,i)}function T(){j(n),y(n),Mobi.initSwipe("bannerSwipe",n),M(),w()}e.init=function(e){var o,n=e;if(!(t("#webBanner").length<1)&&(!(n.b.length<2)&&3!=n.showType))return!(!Mobi.checkBrowser()||1==n.et)&&(clearTimeout(i),c=0,m=!1,j(n),y(n),Mobi.initSwipe("bannerSwipe",n),M(),w(),o=t("#webBanner").height()||0,0==u.effectType&&0!=o?t("#webBanner").css("height",o+"px"):t("#webBanner").css("height",""),!0)}}(jm,Mobi.bannerAnimate)},150:function(t,e){var i=!0;function o(t){var e=jm(".mobiCouponMsgBox");e.remove(),jm("<div class='mobiCouponMsgBox'></div>").appendTo("body"),e=jm(".mobiCouponMsgBox"),jm(t).appendTo(e),window.setTimeout((function(){e.css("visibility","hidden"),e.css("opacity","0")}),1500)}function n(t,e){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mallCoupon_h.jsp",data:"cmd=addWafCk_receiveCoupon&bgId="+e+"&cid="+t,dataType:"json",success:function(t){if(t.success)Mobi.logDog(200984,5),Mobi.logDog(201609,2),Mobi.ing(LS.successGet,1),window.setTimeout((function(){location.reload(!0)}),1500);else{Mobi.logDog(200984,6);var e=t.rt;-23==e?Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp":-1503==e?Mobi.ing("请使用后再次领取"):-4==e?Mobi.ing(t.msg):-701==e?Mobi.ing(jm.format(LS.receiveCouponAuth,t.authMemberLvName)):-406==e?Mobi.ing("该优惠券被关闭或者被删除"):jm.format(LS.isNoneCoupon)}},error:function(){Mobi.ing(LS.js_systemError)}})}Mobi.initMallCoupon=function(t){var e=jm("#couponList"+t);if(2052!=Fai.top._lcid&&e.find(".couponPrice2").length>0&&jm.each(e.find(".couponPrice2"),(function(t){jm.isInteger(t)&&4==e.find(".couponPrice2").eq(t).html().length&&(e.find(".couponSavePrice2").eq(t).css("margin-left","0").css("margin-right","0.75rem"),e.find(".couponPrice2").eq(t).css("font-size","1.4rem"))})),0!=(window.chrome||0)&&window.frames.length!=parent.frames.length){if(e.find(".couponUseCondition2up").css("-webkit-transform","scale(0.8)"),e.find(".couponUseCondition2low").css("-webkit-transform","scale(0.8)"),e.find(".off2").css("-webkit-transform","scale(0.8)"),e.find(".validTime2").length>0)for(var o=0;o<e.find(".validTime2").length;o++)e.find(".validTime2")[o].innerHTML.indexOf("-")<=0||e.find(".validTime2").eq(o).css("-webkit-transform","scale(0.8)").css("margin-left","-0.7rem");2052!=Fai.top._lcid&&(e.find(".couponSavePrice2").css("margin-right","0.2rem"),jm.each(e.find(".couponPrice2"),(function(t){jm.isInteger(t)&&4==e.find(".couponPrice2").eq(t).html().length&&(e.find(".couponSavePrice2").eq(t).css("margin-left","-0.3rem").css("margin-right","0.6rem"),e.find(".couponPrice2").eq(t).css("font-size","1.4rem"))})))}e.find(".buttonWords").bind("click",(function(){i&&Mobi.clickCoupon(jm(this).parents(".coupon3"))})),e.find(".coupon1, .coupon2, .coupon3,.couponItem").bind("click",(function(){i&&Mobi.clickCoupon(this)}))},Mobi.dealReceiveMessage=function(t){var e=jm("#couponList"+t);e.find(".coupon1").each((function(t,e){var i=jm(e).find(".scale_coupon_receive");parseInt(i.width())>12&&(2052!=Fai.top._lcid?i.css("line-height","1"):i.css("-webkit-transform","unset"),i.css("letter-spacing","0.075rem"))})),e.find(".coupon3").each((function(t,e){var i=jm(e).find(".couponUseTime"),o=jm(e).find(".conditionContain");parseInt(i.width())>parseInt(o.width())&&(o.css("-webkit-transform","scale(.90)"),o.css("margin-left","0"))}))},Mobi.clickCoupon=function(t,e){if(!t.classList.contains("invalid")&&i){i=!1;var o=jm(t).attr("received")||!1;o="true"==o;var a=jm(t).attr("couponId"),r=jm(t).attr("bgId"),s=jm(t).attr("noCountLimit");s="true"==s;jm(t).attr("receiveCountLimit");1==Fai.top._manageMode?Mobi.ing("领取失败，当前为管理状态！"):0==Fai.top.sessionMemberId?(Mobi.storageReturnUrl(Fai.top.location.href),Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp"):o?(1==e&&Mobi.logDog(200474,7),Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"pr.jsp?couponId="+a):(1==e&&Mobi.logDog(200474,6),n(a,r)),window.setTimeout((function(){i=!0}),1600)}},Mobi.initCouponPromotion=function(t){Mobi.logDog(200984,4);var e=jm("#module"+t);jm(e).find(".formMiddleContent").css("margin-bottom","0");var i=jm(e).find(".couponReceive");jm(i).bind("click",(function(){var t=jm(this).attr("couponId");t>0&&(0==Fai.top.sessionMemberId?Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?returnUrl="+Fai.top.location.href:n(t,0))}));var o=jm(e).find(".J_received");jm(o).bind("click",(function(){var t=jm(this).attr("couponId");Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"pr.jsp?couponId="+t})),jm(e).find(".toMallIndex,.toMallIndexContent").bind("click",(function(){Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"index.jsp"}))},Mobi.removeFrameBottomMargin=function(t){var e=jm("#module"+t);jm(e).find(".formMiddleContent").css("margin-bottom","0")},Mobi.receiveCouponFromHd=function(t){jm.cookie("hdCoupon")&&(t&&(jm.cookie("hdCoupon",null),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mallCoupon_h.jsp",data:"cmd=addWafCk_receiveCoupon&fromHd=true&bgId=0&cid="+jm.cookie("hdCouponId"),dataType:"json",success:function(t){if(jm.cookie("hdCouponId",null),t.success){var e=[];e.push('<div class="mobiCouponMsgPanl">'),e.push('<div class="mobiCouponMsg">'),e.push('<div class="sTop">'+LS.successGet+"</div>"),e.push("</div>"),e.push("</div>"),o(e.join("")),window.setTimeout((function(){Fai.top.location.href="/"}),1500)}else{var i=t.rt,n=[];n.push('<div class="mobiCouponMsgPanl2">'),n.push('<div class="mobiCouponMsg">'),-23==i?(Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp",jm.cookie("hdCoupon",!0)):-4==i?n.push('<div class="fBottom">'+LS.overGet+"</div>"):-701==i?n.push('<div class="fBottom">'+jm.format(LS.receiveCouponAuth,t.authMemberLvName)+"</div>"):n.push('<div class="fBottom">'+LS.isNoneCoupon+"</div>"),n.push("</div>"),n.push("</div>"),o(n.join(""))}},error:function(){Mobi.ing(LS.js_systemError)}})))},Mobi.receiveCouponFromHdPopup=function(t,e,i){if(t){var n=[];n.push("<div style='display: inline-block; width: 18rem; height: 18rem; position: fixed; top: -12rem; left: -2.2rem; z-index: 9999;'>"),n.push("<img src='"+_resRoot+"/image/hdCoupon.png'>"),n.push("<div style='display: inline-block; width: 7.2rem; height: 2.5rem; position: fixed; top: -1.5rem; left: 2.2rem; z-index: 9999; text-align: center;'>"),n.push("<span style='font-size: 2.2rem; color: #ff4c38; font-weight: bold;'>"+i+"</span>"),n.push("<span style='font-size: 1rem; color: #ff4c38; position: relative; top: -5px; left: 3px;'>元</span>"),n.push("</div>"),n.push("<div class='J-prompt-callback' style='display: inline-block; width: 5.2rem; height: 1.5rem; position: fixed; top: 1.8rem; left: 4.35rem; z-index: 9999; text-align: center;'></div>"),n.push("</div>"),n.push("<div class='J-prompt-cancel' style='display: inline-block; width: 2rem; height: 2rem; position: fixed; top: 6rem; left: 5.925rem; z-index: 9999;'>"),n.push("<img src='"+_resRoot+"/image/hdCouponClose.png'>"),n.push("</div>");var a={content:n.join(""),callback:function(){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mallCoupon_h.jsp",data:"cmd=addWafCk_receiveCoupon&fromHd=true&bgId=0&cid="+e,dataType:"json",success:function(t){if(t.success){var i=[];i.push('<div class="mobiCouponMsgPanl">'),i.push('<div class="mobiCouponMsg">'),i.push('<div class="sTop">'+LS.successGet+"</div>"),i.push("</div>"),i.push("</div>"),o(i.join("")),window.setTimeout((function(){Fai.top.location.href="/"}),1500)}else{var n=t.rt;if(-23==n)Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp",jm.cookie("hdCoupon",!0),jm.cookie("hdCouponId",e);else if(-4==n){var a=[];a.push('<div class="mobiCouponMsgPanl2">'),a.push('<div class="mobiCouponMsg">'),a.push('<div class="fBottom">'+LS.overGet+"</div>"),a.push("</div>"),a.push("</div>"),o(a.join(""))}else{var r=[];r.push('<div class="mobiCouponMsgPanl2">'),r.push('<div class="mobiCouponMsg">'),r.push('<div class="fBottom">'+LS.isNoneCoupon+"</div>"),r.push("</div>"),r.push("</div>"),o(r.join(""))}}},error:function(){Mobi.ing(LS.js_systemError)}})}};Mobi.customPopup(a)}}},151:function(t,e){function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,i){for(var o=["","-webkit-","-moz-","-ms-"],n=o.length;n;)n--,t.css(o[n]+e,i)}(Mobi.richMarquee={utils:{},event:{},dom:{},data:{}}).init=function(t,e,n){var a=5,r=Mobi.getPreviewObject("module"+t),s=r.querySelectorAll(e+t+"")[0],l=r.querySelectorAll(".J_marqueeContainer"+t)[0];if("object"==i(r)&&"object"==i(s)&&"object"==i(l)){var c={s:!0,d:"up",sp:"normal",mm:!0,i:!0};jm.extend(c,n),a="normal"==c.sp?"up"==c.d||"down"==c.d?5*s.offsetWidth/r.offsetWidth*(s.offsetHeight/s.offsetWidth):5*s.offsetWidth/r.offsetWidth:"slow"==c.sp?"up"==c.d||"down"==c.d?10*s.offsetWidth/r.offsetWidth*(s.offsetHeight/s.offsetWidth):10*s.offsetWidth/r.offsetWidth:"up"==c.d||"down"==c.d?2.5*s.offsetWidth/r.offsetWidth*(s.offsetHeight/s.offsetWidth):2.5*s.offsetWidth/r.offsetWidth,jm.extend(c,{sp:a});var d,m,p=s.className,u=Mobi.createElementByHtml("<div class='J_contentPanelCopy"+t+" f-contentPanel "+p+"'></div>"),f=s.parentNode,h=jm(s).offset(),g="infinite",v="",b=1,_=navigator.userAgent;if(jm(l).css({width:h.width+"px"}),"up"==c.d)d="buttomToTop";else if("down"==c.d)d="topToButtom";else if("left"==c.d||"right"==c.d){d="left"==c.d?"rightToLeft":"leftToRight";var j={width:h.width+"px",height:"auto",position:"absolute",left:h.width+"px",top:0};41==c.styleId&&Object.assign(j,{display:"flex",overflow:"initial"}),jm(u).css(j)}c.i&&(u.innerHTML=s.innerHTML,f.appendChild(u)),c.mm||jm(f).one("webkitAnimationStart mozAnimationStart MSAnimationStart oanimationstart animationstart",(function(){jm(f).removeClass("fk-marqueeMoveInStyle")})),!c.mm&&c.i?(v="_moveIn",g=1,b=1):c.mm&&!c.i?(v+="_discontinuous",g=1,b=.5):c.mm&&c.i?v="":c.mm||c.i||(v="_moveIn_discontinuous",b=.5),m=d+v+" "+c.sp/b+"s linear "+g,m=c.i?d+v+" "+c.sp/b+"s linear "+g:c.mm?d+v+" "+c.sp+"s linear "+g:d+v+" "+c.sp/b+"s linear "+g,Fai.top.Fai.isIE10&&c.mm&&c.i&&("down"==c.d||"right"==c.d)?setTimeout((function(){o(jm(f),"animation",m)}),0):o(jm(f),"animation",m),!c.mm&&c.i?jm(f).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(function(){m=d+" "+c.sp+"s linear infinite",o(jm(f),"animation",m)})):c.mm&&!c.i&&jm(f).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(function(){m=d+"_moveIn_discontinuous "+c.sp/b+"s linear infinite",o(jm(f),"animation",m)})),/(iPhone|iPad|iPod|Android)/i.test(_)?jm(r).on("touchstart",(function(){o(jm(f),"animation-play-state","paused")})).on("touchend",(function(){o(jm(f),"animation-play-state","running")})):jm(r).on("mouseover",(function(){o(jm(f),"animation-play-state","paused")})).on("mouseout",(function(){o(jm(f),"animation-play-state","running")}))}}},152:function(t,e){Mobi.shanghuaLoading={};var i,o,n,a=Mobi.shanghuaLoading,r=new Array,s=0,l=0,c=0,d=0,m="",p="",u="",f=0;function h(e){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=getWafNotCk_getMInfo&moduleId="+i,data:"page="+l,error:function(){Mobi.ing(LS.js_systemError)},success:function(i){var o=jm.parseJSON(i);if(o.success?(r.push(o.data.split("|")),c=r[l].length):t.find(".orderList").append(o.data),e>l)l++,h(e);else{0!=r[l].length&&(jm.each(r[l],(function(e,i){if(10==e)return!1;s=e,t.find(".orderList").append(i)})),s++);var n=t.find(".orderList_line").length;n<=10&&n==c?(t.find(".orderList").append("<div class='pagenation'><div class='pagePrev icon-pagePrev icon-cnListP'></div>"+p+"</div>"),t.find(".pageSelect").val(l),t.find(".pagePrev").unbind().bind("click",(function(){l--,v()}))):t.find("#cusInfo").append(m)}Mobi.initEarnestSaleStyle()}})}function g(){if(t.find(".orderList").empty(),r.length>l){0!=r[l].length&&(jm.each(r[l],(function(e,i){s=e,t.find(".orderList").append(i)})),s++),_();var e=t.find(".orderList_line").length;e<=100&&100*l+e==d?(t.find(".orderList").append("<div class='pagenation'><div class='pagePrev icon-pagePrev icon-cnListP'></div>"+p+"</div>"),t.find(".pageSelect").val(l),t.find(".pagePrev").unbind().bind("click",(function(){l--,v()}))):100==e&&e<d&&0!=l?b():t.find("#cusInfo").append(m),window.scrollTo(0,6e4)}else jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=getWafNotCk_getMInfo",data:"page="+l,error:function(){Mobi.ing(LS.js_systemError)},success:function(e){var i=jm.parseJSON(e);if(i.success){r.push(i.data),c=r[l].length,0!=r[l].length&&(jm.each(r[l],(function(e,i){if(10==e)return!1;s=e,t.find(".orderList").append(i)})),s++),_(),window.scrollTo(0,0);var o=t.find(".orderList_line").length;o<=10&&o==c?(t.find(".orderList").append("<div class='pagenation'><div class='pagePrev icon-pagePrev icon-cnListP'></div>"+p+"</div>"),t.find(".pageSelect").val(l),t.find(".pagePrev").unbind().bind("click",(function(){l--,v()}))):t.find("#cusInfo").eq(1).append(m)}else t.find(".orderList").append(i.data);Mobi.initEarnestSaleStyle()}})}function v(){if(t.find(".orderList").empty(),0!=r[l].length){jm.each(r[l],(function(e,i){s=e,t.find(".orderList").append(i)})),s++,_();var e=t.find(".orderList_line").length;100==e&&e<d&&0==l?(t.find(".orderList").append("<div class='pagenation'><div class='pageNext icon-pageNext icon-cnListN'></div>"+p+"</div>"),t.find(".pageSelect").val(l),t.find(".pageNext").unbind().bind("click",(function(){l++,g()}))):100==e&&e<d&&0!=l&&b()}_(),window.scrollTo(0,6e4)}function b(){t.find(".orderList").append("<div class='pagenation'><div class='pagePrev icon-pagePrev icon-cnListP'></div>"+p+"<div class='pageNext icon-pageNext icon-cnListN'></div></div>"),t.find(".pageSelect").val(l),t.find(".pagePrev").unbind().bind("click",(function(){l--,v()})),t.find(".pageNext").unbind().bind("click",(function(){l++,g()}))}function _(){Mobi.initOrderDeleteButton(i),Mobi.initPayOrderImmediately(i),Mobi.initOrderCancelButton(i),Mobi.initOrderSureButton(i),Mobi.initFlowButton(i),Mobi.initCommentBtn(i,o),Mobi.initSelfRaisingVerification(i),Mobi.initIntegralMallConfirmButton(i,"List"),Mobi.initMerchantsButton(i),Mobi.initOrderConfirmCheckinButton(i),Mobi.initOrderConfirmFinButton(i),t.find(".payButton").unbind().bind("click",(function(){var t=jm(this).attr("_href");if(t){var e,i=jm(this).attr("_orderId");void 0!==i&&null!=i&&(e=i);var o=Mobi.checkOrderPayLimit(e);if(""==o){var n="WXPAY"==t,a=jm(this).attr("_appId");(function(t,e,i,o){var n=!0;return jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=wafNotCk_checkOrder",data:"orderId="+t+"&isWX="+e,async:!1,dataType:"json",error:function(){Mobi.ing(LS.mallStlSubmitError)},success:function(a){if(!a.success)if(n=!1,-3==a.rt)Mobi.ing(LS.mallStlSubmitNotFound);else if(-9==a.rt)Mobi.ing(LS.mallStlSubmitStatusError);else if(a.rt==Mobi.MallAjaxErrno.mallAmountZero)Mobi.ing(jm.format(LS.oAmountIsZero));else if(a.rt==Mobi.MallAjaxErrno.outOfMallAmount)Mobi.ing(jm.format(LS.outOfMallAmount));else if(a.rt==Mobi.MallAjaxErrno.OutOfAllowAmount)Mobi.ing(jm.format(LS.allowAmountOverNameList,Mobi.encodeHtml(a.productsName)));else if(a.rt==Mobi.MallAjaxErrno.payDomainError)Mobi.ing(jm.format(LS.mallPayDomainError));else if(a.rt==Mobi.MallAjaxErrno.notAdded)Mobi.ing(jm.format(LS.mallProductNotAdded));else if(a.rt<=-600&&a.rt>=-609){var r;-608==a.rt?(r={textClass:"goToPay",cancelClass:"giveUpJoin",content:"非常抱歉，该团已满，继续支付会自动为您开新团",callback:function(){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=setWafCk_setOrderNewGroupBuyDetail",data:"orderId="+t,dataType:"json",error:function(){Mobi.ing(LS.mallStlSubmitError)},success:function(n){n.success?e?Mobi.getWxpayUrl(i,t):document.location.href=o:-9==n.rt?window.location.reload():Mobi.ing("当前网络异常，请刷新后重试")}})}},Mobi.prompt(r)):-605==a.rt?(r={textClass:"goToPay",cancelClass:"giveUpJoin",content:"不好意思，已经超出成团时间，继续支付将自动为您开新团",callback:function(){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=setWafCk_setOrderNewGroupBuyDetail",data:"orderId="+t,dataType:"json",error:function(){Mobi.ing(LS.mallStlSubmitError)},success:function(n){n.success?e?Mobi.getWxpayUrl(i,t):document.location.href=o:-9==n.rt?window.location.reload():Mobi.ing("当前网络异常，请刷新后重试")}})}},Mobi.prompt(r)):-604==a.rt?Mobi.ing("不好意思，活动已结束"):-609==a.rt?Mobi.ing("不好意思，您已经参与该团"):Mobi.ing("参团失败，请稍后再试")}else Mobi.ing(LS.mallStlSubmitError)}}),n})(e,n,a,t)&&(n?Mobi.getWxpayUrl(a,e):document.location.href=t)}else Mobi.ing(o)}}))}a.init=function(e,a,h){return i=e,t=jm("#module"+i),o=a,f=parseInt(h)||0,m="<div class='getMInfo'><div class='mListLoadingPic'><img src="+Fai.top._resRoot+"/image/loading/loading_2.gif?v=201509211806></div><div class='mListLoadingTxt'>正在加载更多订单</div></div>",function(e){var i={page:l,orderStatus:f};jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/order_h.jsp?cmd=getWafNotCk_getMInfo&moduleId="+e,data:i,error:function(){Mobi.ing(LS.js_systemError)},success:function(e){var i=jm.parseJSON(e);if(i.success){r.push(i.data),d=i.totalSize,Mobi._tmpOrderMap=i.orderMap,u=Math.ceil(d/100),p="<div class='pagenationSelectDiv'><select class='pageSelect' onchange='Mobi.shanghuaLoading.jump(this.options[this.selectedIndex].value)'>";for(var o=0;o<u;o++){p+="<option class='pageOptions' value="+o+">"+(o+1+"/"+u)+"</option>"}p+="</select></div>",c=r[l].length,0!=r[l].length&&(jm.each(r[l],(function(e,i){if(10==e)return!1;s=e,t.find(".orderList").append(i)})),s++),function(){d>10?t.find("#cusInfo").append(m):(t.find(".orderList").append("<div class='pagenation'>"+p+"</div>"),t.find(".pageSelect").val(l));window.onscroll=function(){0==l&&t.find(".orderList_line").length>=c||100*l+t.find(".orderList_line").length>=100*l+c?t.find(".getMInfo").remove():(n=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,t.find(".getMInfo").offset().top-n<=740&&(t.find(".getMInfo").remove(),function(){var e=s+10;jm.each(r[l],(function(i,o){return i<s||!(i>=e)&&(s=i,void t.find(".orderList").append(o))})),s++;var i=t.find(".orderList_line").length;100==i&&i<d&&0==l?(t.find(".orderList").append("<div class='pagenation'><div class='pageNext icon-pageNext icon-cnListN'></div>"+p+"</div>"),t.find(".pageSelect").val(l),t.find(".pageNext").unbind().bind("click",(function(){l++,g()}))):i<=100&&0==l&&i==c?(t.find(".orderList").append("<div class='pagenation'>"+p+"</div>"),t.find(".pageSelect").val(l)):i<=100&&100*l+i==d&&i==c?(t.find(".orderList").append("<div class='pagenation'><div class='pagePrev icon-pagePrev icon-cnListP'></div>"+p+"</div>"),t.find(".pageSelect").val(l),t.find(".pagePrev").unbind().bind("click",(function(){l--,v()}))):100==i&&i<d&&0!=l?b():t.find("#cusInfo").append(m)}(),_()))}}(),_(),jm("#webFooter").css("height",0),Mobi.initEarnestSaleStyle()}else t.find(".orderList").append(i.data);Mobi.initFooterHeight()}})}(i),!0},a.jump=function(e){t.find(".orderList").empty(),e>l&&e>=r.length?(l++,h(e)):e>l&&e<r.length?function(e){c=r[l=e].length,0!=r[l].length&&(jm.each(r[l],(function(e,i){if(10==e)return!1;s=e,t.find(".orderList").append(i)})),s++);var i=t.find(".orderList_line").length;i<=10&&i==c?(t.find(".orderList").append("<div class='pagenation'><div class='pagePrev icon-pagePrev icon-cnListP'></div>"+p+"</div>"),t.find(".pageSelect").val(l),t.find(".pagePrev").unbind().bind("click",(function(){l--,v()}))):t.find("#cusInfo").append(m)}(e):function(e){l=e,0!=r[e].length&&(c=r[e].length,jm.each(r[e],(function(e,i){if(10==e)return!1;s=e,t.find(".orderList").append(i)})),s++);t.find("#cusInfo").append(m)}(e),_(),window.scrollTo(0,0)}},153:function(t,e){var i;Mobi.initTabModuleStyle=function(t,e){var i,o,n,a=jm("#module"+t),r=a.find(".J_formTabButtonWrap"),s=r.find(".J_formTabButtonList"),l=r.parent(),c=s.find(".J_formTabButton"),d=a.find(".J_formTabModuleContent"),m="true"===a.find(".J_tabModule").attr("_arrowopen")||!jm.os.supportsTouch,p=0,u=0,f=0;if(Fai.top.Mobi.getPreviewDocument().URL.length>0){var h,g,v,b=Fai.top.Mobi.getPreviewDocument().location.search,_=b.indexOf("pageno");_>-1&&(h=(v=b.substring(0,_).split("").reverse().join("")).indexOf("m"),(g=parseInt(v.substring(0,h).split("").reverse().join("")))>0&&c.each((function(){if(parseInt(jm(this).attr("tabmoduleid"))==g)return!1})))}if(l.hasClass("wrapOpen")||2==e)return d.find(".J_preBtn").hide(),d.find(".J_nextBtn").hide(),s.css("width","100%"),void s.css("left","");if(d.find(".J_preBtn").show(),d.find(".J_nextBtn").show(),c.each((function(t,e){u=e.offsetWidth,f+=u+1,u>p&&(p=u)})),s.width(f+"px"),i=r.width(),f<=i)return s.css("width","100%"),d.find(".J_preBtn").hide(),void d.find(".J_nextBtn").hide();function j(){var t=s.find(".J_formTabButton"),e=t.eq(t.length-1).offset(),i=t.eq(0).offset(),o=r.offset(),n=d.find(".J_nextBtn"),a=d.find(".J_preBtn");e.right>o.right?n.show():n.hide(),i.left<o.left?a.show():a.hide()}d.find(".J_preBtn").length>0||!m||(jm("<div class='J_preBtn f-preBtn faisco-icons'></div><div class='J_nextBtn f-nextBtn faisco-icons'></div>").appendTo(d),o=r.offset(),d.find(".J_preBtn").on("click",(function(t){t.stopPropagation();var e=jm(this);if(!(e.hasClass("disable")||(n=e.siblings(".J_nextBtn"),c=s.find(".J_formTabButton"),c.eq(0).offset().left>=o.left))){var i,a=r[0].scrollLeft,l=a-p;i=setInterval((function(){l<a?(a-=2,r[0].scrollLeft=a):clearInterval(i)}),1),e.addClass("disable"),n.addClass("disable"),setTimeout((function(){e.removeClass("disable"),n.removeClass("disable"),j()}),450)}})),d.find(".J_nextBtn").on("click",(function(t){t.stopPropagation();var e=(n=jm(this)).siblings(".J_preBtn");if(!(n.hasClass("disable")||(c=s.find(".J_formTabButton"),c.eq(c.length-1).offset().right<=o.right))){var i,a=r[0].scrollLeft,l=r[0].scrollLeft+p;i=setInterval((function(){a<l?(a+=2,r[0].scrollLeft=a):clearInterval(i)}),1),e.addClass("disable"),n.addClass("disable"),setTimeout((function(){e.removeClass("disable"),n.removeClass("disable"),j()}),450)}})),j(),r.on("scroll",Mobi.debounce(j,300)))},Mobi.getHideDivOffset=function(t){var e,i,o={position:"absolute",visibility:"hidden",display:"block"},n={};if(t){for(i in o)n[i]=t.style[i],t.style[i]=o[i];for(i in e={offsetHeight:t.offsetHeight||0,offsetWidth:t.offsetWidth||0},o)t.style[i]=n[i];return e}},Mobi.inTabMaqueeHelper={setInTabMarquee:function(t){var e=t.moduleId,i=t.funcName,o=t.args||[],n=t.runTime||1;if("string"==typeof i){var a=Fai.top.inTabMaqueeHelper;(a[e]instanceof Array?a[e]:a[e]=[]).push({funcName:i,args:o,runTime:n,hasRunTime:0})}},runInTabMarquee:function(t){var e=Fai.top.inTabMaqueeHelper;if(t in e){var i,o,n,a=e[t];for(n=0;n<a.length;n++)i=a[n].funcName,o=a[n].args,"function"==typeof Mobi[i]&&(a[n].hasRunTime<a[n].runTime||-1==a.runTime)&&(Mobi[i].apply(Mobi[i],o),a[n].hasRunTime++)}}},jm,(i=Mobi.tabModuleHelper||(Mobi.tabModuleHelper={})).initTabCallBack=function(t){t.find(".J_formTabContent").each((function(t,e){var i=jm(e);setTimeout((function(){i.addClass("f-formTabContent").removeClass("f-hideTabModule")}),500)}))},i.autoMoveTabPos=function(t,e){var i,o,n=e.find(".J_formTabButtonWrap"),a=t.offset(),r=parseInt(t.width()),s=a.left,l=s+r,c=n[0].offsetWidth;l>=c?(o=-Math.ceil(l-c),i=setInterval((function(){o<0?(o+=2,n[0].scrollLeft+=2):clearInterval(i)}),1)):s<=0&&(o=n[0].scrollLeft>=r?r:n[0].scrollLeft,i=setInterval((function(){o>0?(o-=2,n[0].scrollLeft-=2):clearInterval(i)}),1))}},154:function(t,e){Mobi.initSimpleTextContent=function(t,e,o){var n,a=jm("#module"+t),r=a.find(".fkEditor"),s=a.find(".simpleText"),l=o||_htmlFontSize,c=a.width().replace("rem",""),d=Fai.top._manageMode,m=r.find("a");if(Fai.top._manageMode){var p=Fai.top.Mobi.getPopupZone();p&&"preview"==p.enterState&&(d=!1)}n=d?r:s,1!=e&&2!=e?a.is(":visible")?(a.css("height","auto"),a.css("height",a.height())):(d?parseInt(r.attr("_autowidth")||1)&&(c=parseInt(r.attr("_width")||180)/l):parseInt(a.attr("_autowidth")||1)&&(c=180/l),a.find(".fk-editor").css({height:"auto",width:c+"rem"}),a.css({height:"auto",width:c+"rem"}),d&&a.find(".fk-editor").css("height",a.height())):(!d||1!=e&&2!=e||1==parseInt(r.attr("_autowidth")||1)&&a.find(".fk-editor").css("width","auto"),!d&&a.css("overflow","visible")&&a.find(".formMiddle").css("overflow","visible")),d?m.each((function(t,e){var i=jm(e).attr("href");i&&(-1!=i.indexOf("Mobi.openLinkFlv")||-1==i.indexOf("http")&&-1==i.indexOf("https")||jm(e).click((function(){return Fai.top.Fai.ing("管理态不支持跳转外部链接，请通过“预览”进行访问",!0),!1})))})):a.find(".fk-editor a").each((function(t,e){var i=jm(e).attr("_href");i&&jm(e).attr("href",i)})),i.traverseTagStyle(n,l)};var i={defaultPropertyValue:["font-size","line-height","top","left","height","width"],isToRem:!0,_htmlFontSize:_htmlFontSize,setPropertyValue:function(t){this.defaultPropertyValue=t},getPropertyValue:function(){return this.defaultPropertyValue},setIstoRem:function(t){this.isToRem=t},getIstoRem:function(){return this.isToRem},resetValue:function(){this.defaultPropertyValue=["font-size","line-height","top","left","height","width"],this.isToRem=!0},returnChangeUnit:function(t,e){var i=e||Mobi.getRootFontSize();return this.getIstoRem()?t.indexOf("px")>=0?parseInt(t)/i+"rem":t:t.indexOf("rem")>=0?Math.round(t.replace("rem","")*i)+"px":t},checkInArray:function(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},checkCurrentTagStyle:function(t,e){var i=this.getPropertyValue(),o="",n=[],a="",r="",s="",l=0;if((o=t.attr("style"))&&!((n=o.split(";")).length<=0))for(l=0;l<n.length;l++)void 0!==(a=n[l].split(":"))&&2==a.length&&(r=jm.trim(a[0]),s=jm.trim(a[1]),this.checkInArray(i,r)&&null!=s&&t.css(r,this.returnChangeUnit(s,e)))},traverseTagStyle:function(t,e){if(t.length){this.checkCurrentTagStyle(t,e);var i=t.children(),o=0;if(i.length<=0)this.resetValue();else for(o=0;o<i.length;o++)this.traverseTagStyle(jm(i[o]),e)}}};Mobi.simpletext={checkNode:i}},155:function(t,e){},156:function(t,e){Mobi.hexToRgba=function(t,e){return"rgba("+parseInt("0x"+t.slice(1,3))+","+parseInt("0x"+t.slice(3,5))+","+parseInt("0x"+t.slice(5,7))+","+e+")"},Mobi.rgbToRgba=function(t){var e=t.split(",");return-1!=t.indexOf("rgb(")&&3==e.length?"rgba("+e[0].substr(4)+","+e[1].substr(0)+","+e[2].substr(0,e[2].length-1)+",1)":t},Mobi.getGradientColor=function(t,e){if(""===t)return"";if(-1!==t.indexOf("#")&&(t=Mobi.hexToRgba(t,1)),-1!==t.indexOf("rgb(")&&(t=Mobi.rgbToRgba(t)),-1!==t.indexOf("transparent"))return t;var i=t.split(","),o=[];o.push(i[0].substr(5)),o.push(i[1].substr(0)),o.push(i[2].substr(0)),o.push(i[3].substr(0,i[3].length-1));for(var n=0;n<3;n++)o[n]=Math.floor((255-parseInt(o[n]))*e+parseInt(o[n]));return"rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+")"},Mobi.adjustFlBtnPos=function(t){jm("#module"+t).css({border:"10px solid transparent","margin-top":"-10px","margin-left":"-10px"})}},157:function(t,e){Mobi.initFoldModuleStyle=function(t){var e=jm("#module"+t),i=e.find(".J_formFoldButton"),o=e.find(".J_formFoldContentList"),n=jm(o).attr("_display"),a=jm(o).attr("styleId");function r(t){var e=t.parent(),i=e.find(".J_formFoldContent"),o=i.find(".form").length?parseInt(i.find(".form")[0].offsetHeight):parseInt(i.find(".emptyLabel")[0].offsetHeight);e.attr("id").replace("formFoldButton","");function n(){t.hasClass("active")&&(i.off("transitionend",n),i.off("webkitTransitionEnd",n),i.css("height","auto"))}t.addClass("active"),i.css("height",o+"px"),2==a?t.addClass("g_main_bgColor_v3"):t.addClass("g_main_color_v3"),i.one("transitionend",n),i.one("webkitTransitionEnd",n)}function s(t){if(t.hasClass("active")){var e=t.parent().find(".J_formFoldContent"),i=e.find(".form").length?parseInt(e.find(".form")[0].offsetHeight):parseInt(e.find(".emptyLabel")[0].offsetHeight);e.css("height",i+"px"),setTimeout((function(){t.removeClass("active g_main_color_v3 g_main_bgColor_v3"),e.css("height",0)}))}}function l(t){t.find(".form").find(".mobiVideo").css("display","block")}function c(t,i){1==t?(e.find(".form").find(".mobiVideo").each((function(t,e){e.pause()})),i.find(".form").hasClass("formStyle30")&&i.find(".form").find(".mobiVideo").css("display","none")):(e.find(".form").find(".mobiVideo").css("display","none"),e.find(".form").find(".mobiVideo").each((function(t,e){e.pause()})))}0==n?i.off("click.action").on("click.action",(function(){var t=jm(this),e=t.parent(),i=t.parent().find(".J_formFoldContent");c(n,i),t.hasClass("active")?s(t):(i.find(".form").hasClass("formStyle30")&&l(i),e.parent().find(".J_formFoldButton").each((function(t,e){jm(e).hasClass("active")&&s(jm(e))})),r(t))})):1==n&&i.off("click.action").on("click.action",(function(){var t=jm(this),e=t.parent().find(".J_formFoldContent");c(n,e),t.hasClass("active")?s(t):(e.find(".form").hasClass("formStyle30")&&l(e),r(t))})),i.length>0&&e.find(".J_formFoldItem").length>0&&o.find(".J_formFoldItem").each((function(){var t=jm(this).find(".J_formFoldButton");"true"==jm(this).attr("defaultopen")?r(t):s(t)}))}},158:function(t,e){function i(t){this.moduleId=t.moduleId,this.pgType=t.pgType,this.moduleStyle=t.moduleStyle,this.type=t.type,this.manageMode=t.manageMode,this.$module=jm("#module"+this.moduleId),this.$firstGrouplistDom=this.$module.find(".J_first_grouplist"),this.$firstGroupItemDom=this.$firstGrouplistDom.find(".J_first_groupitem"),this.grouplistHeight=this.$module.find(".J_first_grouplist")[0].clientHeight,this.firstGroupItemMarginWidth=parseInt(this.$firstGroupItemDom.css("margin-right"))+1,this.firstGroupAllWidth=0,this.init(t)}(Mobi.initModuleProductGroup||(Mobi.initModuleProductGroup={})).init=function(t){new i(t)},i.prototype={constructor:i,init:function(){if(this.type.length)if("Product"===this.type){var t=parseInt(jm.getCookie("pg_startX"))||0;4===this.moduleStyle&&(this.initFirstGroupAllWidth(),this.initSlide(t)),function(t){var e,i,o,n=t.moduleId,a=t.moduleStyle,r=t.pgType,s=t.$module.find("#productList"+n)[0].clientHeight,l=t.$module.find("#productList"+n),c=t.$firstGrouplistDom,d=!1,m=0,p=3,u=0;try{p=Fai.top._colInfo.id,u=Fai.top._colInfo.extId}catch(t){p=3,u=0}t.initFirstGroupHeight("J_verticalGroupHasProduct",s,t.grouplistHeight);var f="onmouseup"in document?"mouseup":"click";c.off(f+".J_first_groupitem").on(f+".J_first_groupitem",".J_first_groupitem",(function(){jm(this).hasClass("selected")||(4===a&&(m=parseInt(c.css("transform").match(/translate3d\((.*)\)/)[1].split(",")[0]),jm.setCookie("pg_startX",m)),c.find(".J_first_groupitem").removeClass("selected"),jm(this).addClass("selected"),0===r||1===r?(e=parseInt(jm(this).attr("data-id")),o="index.jsp?groupId="+e):2===r&&(i=jm(this).attr("data-cn"),o="index.jsp?groupName="+i),l.find(".J_groupItem").hide(),setTimeout((function(){d||t.showLoading()}),1e3),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/ajaxLoadModuleDom_h.jsp",data:"cmd=getWafNotCk_getAjaxPageModuleInfo&_colId="+p+"&_extId="+u+"&moduleId="+n+"&href="+jm.encodeUrl(o),error:function(){Mobi.ing(LS.js_systemError)},success:function(e,i,o){var a=o.getResponseHeader("wafUpdate");if(a&&"true"==a&&window.location.reload(),d=!0,t.closeLoading(n),(e=jm.parseJSON(e)).success){var r=jm(e.domStr).find(".middleCenter"+n).html();jm("#module"+n).find(".middleCenter"+n).html(r),jm.fkEval.call(window,e.scripts)}else Mobi.ing(e.msg)}}))}))}(this)}else if("Photo"===this.type){var e=parseInt(jm.getCookie("pg_startX_photo"))||0;6===this.moduleStyle&&(this.initFirstGroupAllWidth(),this.initSlide(e)),function(t){var e=t.$module,i=t.moduleStyle,o=t.pgType,n=t.$firstGrouplistDom,a=t.moduleId,r=e.find("#groupList"+a)[0].clientHeight,s=e.find("#groupList"+a),l=s.attr("_prUrl")||"",c="onmouseup"in document?"mouseup":"click";t.initFirstGroupHeight("J_verticalGroupHasPhoto",r,t.grouplistHeight),n.off(c+".J_first_groupitem").on(c+".J_first_groupitem",".J_first_groupitem",(function(){var s,c,d,m,p=0;if(4===i&&(p=parseInt(n.css("transform").match(/translate3d\((.*)\)/)[1].split(",")[0]),jm.setCookie("pg_startX_photo",p)),0===o?(s=parseInt(jm(this).attr("data-id")),m=e.find("#sed_"+s)):2===o&&(c=jm(this).attr("data-cn"),m=e.find(".J_secondGroupPanel[gcn='"+c+"']")),d=e.find(".J_secondGroupPanel"),!m.html().trim()&&l)return window.location.href=l+"?groupId="+s,!1;n.find(".J_first_groupitem").removeClass("selected g_main_color_v3"),jm(this).addClass("selected g_main_color_v3"),d.removeClass("selected g_main_color_v3"),m.addClass("selected g_main_color_v3"),r=e.find("#groupList"+a)[0].clientHeight,t.initFirstGroupHeight("J_verticalGroupHasPhoto",r,t.grouplistHeight)})),function(t,e){if(!e.manageMode||7===e.moduleStyle)return;var i={key:"productGroup",targets:t.find(".J_groupItem"),type:Mobi.QuickIn.TYPE.FU,popupWindowOption:{settings:{title:"添加图片",maxSize:5,type:["jpg","jpeg","bmp","png","gif"],imgMode:2,maxChoiceList:1,netFileMode:!0,openIcon:!0,tabIndex:0},closeFunc:o}};function o(t,e){if(0!=t.length&&e.fileId&&0!=e.fileId.length){var i=parseInt(jm(t).parent().attr("data-id")),o=e.fileId,n=e.filePath,a=e.isDefaultColor,r=e.color,s=Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/productGroup_h.jsp?cmd=setWafCk_setSingle&id="+i+"&mIcon="+o;a||(s=s+"&mIconColor="+Fai.top.Fai.encodeUrl(r)),jm.ajax({url:s,type:"get",error:function(){top.Fai.ing("服务繁忙，请稍候重试",!1)},success:function(i){var s=jm.parseJSON(i);if(s.success){var l=jm(t).parent().find(".J_itemImage"),c=jm(l).parent(),d="f-itemImg";c.empty(),top.Fai.isFontIcon(o)?a?c.append("<span class='J_itemImage isFontIcon "+d+" "+n+"'></span>"):c.append("<span class='J_itemImage isFontIcon "+d+" "+n+"' style='color:"+r+"'></span>"):c.append("<div class='J_itemImage "+d+"' style='background-image: url("+n+");' data-w='"+e.fileWidth+"' data-h='"+e.fileHeight+"' />"),top.Fai.ing(s.msg,!0)}else top.Fai.ing(s.msg,!0)}})}}Mobi.QuickIn.__createInstance(i)}(s,this)}(this)}},initFirstGroupAllWidth:function(){var t=this;this.$firstGroupItemDom.each((function(e,i){t.firstGroupAllWidth+=Math.ceil(jm(i).width())+t.firstGroupItemMarginWidth})),this.$firstGrouplistDom.css("width",t.firstGroupAllWidth+"px")},initSlide:function(t){new iScroll("J_first_group_"+this.moduleId,{x:t||0,scrollX:!0,scrollY:!1,mouseWheel:!0,remarkXCoordinate:!0,onBeforeScrollStart:null,onScrollMove:null,onBeforeScrollEnd:null})},initFirstGroupHeight:function(t,e,i){e>i&&this.$module.find("."+t+" .J_first_group").css({height:e+"px"})},showLoading:function(){var t=this.moduleId;this.$module.find(".productList"+t).empty().append("<div class='pageLoading J_pageLoading'><div class='fk-circle'><div class='fk-circle1 fk-child'></div><div class='fk-circle2 fk-child'></div><div class='fk-circle3 fk-child'></div><div class='fk-circle4 fk-child'></div><div class='fk-circle5 fk-child'></div><div class='fk-circle6 fk-child'></div><div class='fk-circle7 fk-child'></div><div class='fk-circle8 fk-child'></div><div class='fk-circle9 fk-child'></div></div></div>").css("height",this.grouplistHeight+"px")},closeLoading:function(){this.$module.find(".J_pageLoading").remove()}}},159:function(t,e){var i=Mobi._popupZone||(Mobi._popupZone={}),o=jm,n=!1;i.PopupZone=function(t,e,i,n,a){e=e||t&&t.attr("id").replace("module",""),t=t||e&&o("#module"+e),this.id=e,this.module=t,this.moduleInfo=a||{},this.create=n||!1,this.funPanel=null,this.enterState=i||"readOnly",this.allPopupZoneList=[],this.historyModules=[],this.inModuleListInfo=[],this.delModuleIdList=[],this.switchActive=!1,this.hasSave=!1},i.closeZone=function(){var t=i.pZone;if(t){if(Fai.top._manageMode){if(t&&"edit"==t.enterState)return;t.stateClassDeal()}t&&t.destroy(),i.pZone=null}},i.open=function(t,e,o){i.pZone&&i.pZone.destroy(),o=o||(Fai.top._manageMode?"preview":"readOnly"),i.pZone=new i.PopupZone(null,t,o);var n=i.pZone;n.initDom(e,n.show,!0),i.id=i.pZone.id},i.PopupZone.prototype.show=function(){"readOnly"==this.enterState?this.openPopupZone():"edit"==this.enterState?this.goEdit(this.module):"preview"==this.enterState&&this.goPreview(this.module),this.bindClikckMaskToClose()},i.PopupZone.prototype.openPopupZone=function(){i.pZone&&i.pZone.destroy();var t,e,n,a,r="";r+="<div class='jz_popupZone_wrap'>",r+="<div class='jz_popupZone_content'>",r+=this.module[0].outerHTML,r+="</div>",r+="</div>",o("#g_web").append(r),o("#g_body").addClass("jz_popupZoneShow"),o("html").addClass("jz_popupZoneShow2"),jm.fkEval.call(window,this.script),t=i.pZone,e=jm(".jz_popupZone_wrap").offset().top,n=parseInt(jm("body").height()),a=0,o("#module"+t.id).find(".form").each((function(t,e){var i=o(e).offset().bottom;a=i>a?i:a})),(a-=e)>n&&o(".J_formPopupZoneContent").height(a+"px"),this.initCloseBtn(),this.bindBeforeUnload()},i.PopupZone.prototype.initDom=function(t,e,i,n){t?(this.module=o(t),e.apply(this)):this.ajaxDom(e,i,n)},i.PopupZone.prototype.ajaxDom=function(t,e,a){if(!n){n=!0;var r=[];r.push("cmd=","getWafNotCk_getPopupZoneModule"),r.push("&_fresh=","false"),r.push("&_colId=",Fai.top._pageId),r.push("&_extId=",Fai.top._extId),r.push("&popupZoneId=",this.id),r.push("&manageMode=",Fai.top._manageMode),r.push("&onlyLoadVisitScript=",!!e),a&&(a.lType&&r.push("lType=",a.lType),a.lName&&r.push("lName=",a.lName)),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mobimodule_h.jsp",data:r.join(""),error:function(){Fai.top.Fai.ing("系统异常，请稍后重试",!0)},success:function(e){var a=jm.parseJSON(e),r=jm.parseJSON(a.rtInfo),s=i.pZone;if(r){if(s.module=o(r.dom),s.moduleInfo=r.moduleInfo,s.script=r.script,Fai.top._manageMode){for(var l in s.inModuleListInfo=r.inZoneModuleInfoList,r.inModuleAttr)Object.hasOwnProperty.call(r.inModuleAttr,l)&&(Fai.top.moduleAttr[l]=r.inModuleAttr[l],Fai.top._openThemeV3&&(Fai.top._allAttrV3[l]=r.inModuleAttr[l]));s.clickToClose=!Fai.top.Fai.checkBit(r.moduleInfo.flag,1)}t&&t.apply(s),n=!1}}})}},i.PopupZone.prototype.destroy=function(){o(".jz_popupZone_wrap").remove(),o("#g_body").removeClass("jz_popupZoneShow"),o("html").removeClass("jz_popupZoneShow2"),Fai.top._manageMode&&this.manageDestroy()},i.PopupZone.prototype.bindClikckMaskToClose=function(){var t=!function(t,e){var i=!0;(t>2147483647||t<0||e>2147483647||e<0)&&(i=!1);if(i)return(t&e)==e;var o,n,a,r,s,l,c=t.toString(2),d=e.toString(2);if(c.length>62||d.length>62)return alert("Does not support more than 62 bit. flagBinary.length="+c.length+",bitFlagBinary.length"+d.length+"."),!1;r=o=n=a=0,c.length>31?(l=c.slice(0,c.length-31),s=c.slice(c.length-31),r=parseInt(l,"2"),o=parseInt(s,"2")):o=parseInt(c.slice(0,c.length),"2");d.length>31?(l=d.slice(0,d.length-31),s=d.slice(d.length-31),n=parseInt(l,"2"),a=parseInt(s,"2")):a=parseInt(d.slice(0,d.length),"2");var m=(o&a)==a;m&&(m=(r&n)==n);return m}(this.moduleInfo.flag,1),e=o(".jz_popupZone_wrap");e.off("click.close"),t&&e.on("click.close",(function(t){var e=o(t.target);!e.hasClass("J_formPopupZoneContent")&&e.closest(".J_formPopupZoneContent").length>0||i.closeZone()}))},i.PopupZone.prototype.initCloseBtn=function(){var t=this.moduleInfo.content.cmi;o("#module"+this.id).find("#module"+t).removeClass("popupZoneCloseBtn").addClass("popupZoneCloseBtn")},i.PopupZone.prototype.bindBeforeUnload=function(){Fai.top._manageMode||o("#module"+this.id).find("a").off("click.zone").on("click.zone",(function(){var t=o(this).attr("href");t&&""!=t&&"javascript:void(0)"!=t&&"javascript: void(0)"!=t&&"javascript:;"!=t&&i.closeZone()}))}},160:function(t,e){function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a,r,s;!function(t,e){var i;e.googleMapList=[],e.hasLoadGoogleApiSuccess=!1,e.LoadingGoogleApi=!1,Fai.top.Fai.mapList=[],Fai.top.Fai.gMapList=[],e.initBaiDuMap=function(o,n,a,r){try{var s=new BMap.Map(o),l=new BMap.Point(n.x,n.y);s.centerAndZoom(l,n.z),s.enableDoubleClickZoom(),s.enablePinchToZoom();var c=new BMap.Icon(Fai.top._resRoot+"/image/onlineMap/marker_red_sprite.png?v=201809101152",new BMap.Size(22,25),{anchor:new BMap.Size(10,25)}),d=new BMap.Marker(l,{icon:c});s.addOverlay(d);var m=new BMap.NavigationControl;s.addControl(m),i||(i=e.addComplexCustomOverlay(BMap));var p=new i({point:l,content:'<div class="msg">'+a+"</div>",boxClass:"msgBox",arrowClass:"arrow",zIndex:1,offset:{x:0,y:-35}}),u=document.getElementById(o);Fai.top._manageMode&&t(u).on("mousedown",(function(t){t.stopPropagation()})),s.addEventListener("zoomend",(function(){p.reDraw()})),s.addOverlay(p),e.initMapEvent(s,o,d,l,p,r);var f={map:s,point:l,myIcon:c,marker:d};Fai.top.Fai.mapList[o]=f}catch(t){e.loadMapFailure(o,t.name)}},e.initGoogleMap=function(i,o,n,a){try{var r=window.google;if(!(r&&r.maps&&r.maps.LatLng)){var s={id:i,googleMapPos:o,googleNote:n,module:a};return e.googleMapList.push(s),void e.loadGoogleAPi()}var l=document.getElementById(i),c=new google.maps.LatLng(o.x,o.y),d=new google.maps.LatLng(o.ox,o.oy),m=new google.maps.Map(l,{draggable:!0,scrollwheel:!1,zoom:o.z,streetViewControl:!1,center:d,scaleControl:!0,mapTypeId:google.maps.MapTypeId.ROADMAP,clickableIcons:!Fai.top._manageMode}),p={url:Fai.top._resRoot+"/image/onlineMap/marker_red_sprite.png?v=201809101152",size:new google.maps.Size(22,25),anchor:new google.maps.Point(10,25),scaledSize:new google.maps.Size(22,25)};Fai.top._manageMode&&t(l).on("mousedown",(function(t){t.stopPropagation()}));var u=new google.maps.Marker({map:m,position:c,animation:google.maps.Animation.DROP,icon:p});u.setMap(m);var f=new google.maps.InfoWindow({content:n,width:"auto",height:"auto"});f.open(m,u),google.maps.event.addListener(u,"click",(function(){new google.maps.InfoWindow({content:n,width:"auto",height:"auto"}).open(m,u)}));var h={googleMap:m,marker:u,infoWin:f};Fai.top.Fai.gMapList[i]=h,Fai.top._manageMode&&e.initGoogleEvent(m,u,f,i,a),Mobi.jzFdpLogIns.logJzFdp("jz_google_maps",{jz_content_terminal:"mobi",free_bool_1:!1})}catch(t){e.loadMapFailure(i,t.name),console.log(t)}},e.loadGoogleAPi=function(){e.LoadingGoogleApi||e.hasLoadGoogleApiSuccess||(e.LoadingGoogleApi=!0,"complete"==document.readyState?i():t(window).on("load",(function(){i()})));function i(){Mobi.loadFile(document,{src:"https://maps.googleapis.com/maps/api/js?key=AIzaSyCQ8IYEmOy-pXjctSJAYGQsV997OgeXLzU",tag:"script",type:"text/javascript",defer:"defer"},(function(){e.googleMapList.length>0&&e.initGoogleMapList(),e.hasLoadGoogleApiSuccess=!0,e.LoadingGoogleApi=!1,Mobi.logDog(201508,2)}),(function(){e.googleMapList.length>0&&e.initGoogleMapFailure(),e.LoadingGoogleApi=!1}))}},e.initGoogleMapList=function(){var i=e.googleMapList;i.length>0&&(t(i).each((function(t,i){e.initGoogleMap(i.id,i.googleMapPos,i.googleNote,i.module)})),e.googleMapList=[])},e.initGoogleMapFailure=function(){var i=e.googleMapList;i.length>0&&(t(i).each((function(t,i){e.loadMapFailure(i.id,"地图加载超时")})),e.googleMapList=[])},e.baiduSearch=function(t,i,o,n,a){var r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];e.fuzzilySearch({province:o,address:n,mapZoom:a,module:i,node:t,isSearch:r,failCallback:function(){e.exactlySearch({province:o,address:n,mapZoom:a,module:i,node:t,isSearch:r})}})},e.changeNoteInfo=function(t,i,o){var n=Fai.top.Fai.mapList[t].map,a=new BMap.Point(n.getCenter().lng,n.getCenter().lat);e.refreshMarker(t,i,a,o)},e.refreshGoogleWinInfo=function(t,i,o){var n=Fai.top.Fai.gMapList[t].googleMap,a=Fai.top.Fai.gMapList[t].marker,r=Fai.top.Fai.gMapList[t].infoWin;r.close(),(r=new google.maps.InfoWindow({content:e.encodeHtml(o),width:"auto",height:"auto"})).open(n,a),Fai.top.Fai.gMapList[t].infoWin=r},e.refreshMarker=function(t,o,n,a){var r,s=o.content.mi,l=Fai.top.Fai.mapList[t].map;l.clearOverlays();var c=new BMap.Icon(Fai.top._resRoot+"/image/onlineMap/marker_red_sprite.png?v=201809101152",new BMap.Size(22,25),{anchor:new BMap.Size(10,25)}),d=new BMap.Marker(n,{icon:c,enableDragging:!0});l.addOverlay(d),l.panTo(n),!a||"-"!=s&&""!=s||(s=a),r=e.encodeHtml(s);var m=new i({point:n,content:'<div class="msg">'+r+"</div>",boxClass:"msgBox",arrowClass:"arrow",zIndex:1,offset:{x:0,y:-35}});l.addOverlay(m),setTimeout((function(){}),10)},e.exactlySearch=function(t){var i=new BMap.Geocoder,o=t.address,n=t.province,a=t.mapZoom,r=t.node,s=t.module,l=t.isSearch,c=Fai.top.Fai.mapList[r].map;i.getPoint(o,(function(i){i?(c.centerAndZoom(i,a),e.refreshMarker(r,s,i),e.setBaiduMap(t.node,t.module,i),l&&e.callSearchEnd(),e.callSearchForExactSearch()):e.callSearchFail()}),n)},e.fuzzilySearch=function(i){var o=i.province,n=i.address,a=i.failCallback,r=i.mapZoom,s=i.module,l=i.isSearch,c=i.node;t.isFunction(a)||(a=function(){}),void 0===Fai.top.Fai.mapList[i.node]&&e.initBaiDuMap(i.node,i.module.content.mp,i.module.content.mi);var d,m=Fai.top.Fai.mapList[i.node].map,p={onSearchComplete:function(t){if(d.getStatus()==BMAP_STATUS_SUCCESS)if(t.getCurrentNumPois()<=0)e.callSearchFail();else{var o,n=t.getPoi(0);m.centerAndZoom(n.point,r),o=n.title+"\n",o+="地址："+n.address,e.refreshMarker(c,s,n.point,o),!o||"-"!=i.module.content.mi&&""!=i.module.content.mi||(i.module.content.mi=o),e.setBaiduMap(i.node,i.module,n.point),l&&e.callSearchEnd(),d.enableAutoViewport()}else a()}};(d=new BMap.LocalSearch(o,p)).search(o+n)},e.doGoogleSearch=function(t,i,o,n,a){var r=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(""!=o)if(""!=n){void 0===Fai.top.Fai.gMapList[t]&&e.initGoogleMap(t,i.content.gmp,i.content.mi,i);var s=Fai.top.Fai.gMapList[t].googleMap,l=Fai.top.Fai.gMapList[t].marker,c=new google.maps.Geocoder,d=o+n;c.geocode({address:d},(function(o,a){if(a==google.maps.GeocoderStatus.OK){var c=(o=o[0]).geometry.viewport;s.fitBounds(c),l.setPosition(o.geometry.location),l.setTitle(n),e.setGoogleMap(t,i);var m=d+"\n";m+="地址："+o.formatted_address,"-"!=i.content.mi&&""!=i.content.mi.trim()||(i.content.mi=m,e.refreshGoogleWinInfo(t,i,m)),r&&e.callSearchEnd()}else e.callSearchFail(),e.setGoogleDefaultPoint(i)}))}else Fai.top.Fai.ing("搜索的地址不能为空。",!0);else Fai.top.Fai.ing("搜索的省市不能为空。",!0)},e.initMapEvent=function(i,o,n,a,r,s){var l=t("#"+o);Fai.top._manageMode||l.on("click",(function(t){t.stopPropagation()})),i.addEventListener("click",(function(t){if(Fai.top._manageMode){var i=new BMap.Point(t.point.lng,t.point.lat);e.refreshMarker(o,s,i,s.content.mi),e.setBaiduMap(o,s,i)}})),n.addEventListener("click",(function(){i.clearOverlays(),i.addOverlay(r),i.addOverlay(n),i.panTo(a)}))},e.initGoogleEvent=function(i,o,n,a,r){i.addListener("click",(function(t){Fai.top.Fai.gMapList[a].marker.setPosition(t.latLng),e.setGoogleMap(a,r)})),Fai.top._manageMode&&t("#"+a).on("mousedown",(function(t){t.stopPropagation()}))},e.loadMapFailure=function(e,i){if(0!=t("#"+e).attr("type")){var o="<div class='mapLoadError'><div class='errorMsgBox'><div class='errName'>"+i+"</div><div class='errorImg'></div><div class='errorMsg'>地图加载失败</div></div></div>";t("#"+e).html(o)}},e.loadMapFailure2=function(e,i){if(0!=t("#"+e).attr("type")){var o="<div class='mapLoadError'><div class='errorMsgBox'><div class='errName'>"+i+"</div><div class='errorImg'></div><div class='errorMsg'>地图加载失败</div></div></div>";t("#"+e).html(o);var n=window.google;n&&n.maps&&n.maps.LatLng||Fai.top.Fai.ing("当前网络不支持访问，谷歌地图在中国大陆地区已被屏蔽，可切换使用百度地图",!1)}},e.loadingMap=function(e){t("#"+e).html("<div class='mapLoadingBox'></div>")},e.setGoogleDefaultPoint=function(t){t.content.gmp.ox=23.133158856784426,t.content.gmp.oy=113.33254255767213,t.content.gmp.x=23.133158856784426,t.content.gmp.y=113.33254255767213,t.content.gmp.z=17},e.setBaiduMap=function(t,e,i){var o,n=Fai.top.Fai.mapList[t].map;if(n&&(o=n.getOverlays()),o&&o.length>0){var a=o[0].point;e.content.mp.ox=a.lng,e.content.mp.oy=a.lat,e.content.mp.x=i.lng,e.content.mp.y=i.lat,e.content.mp.z=n.getZoom()}else e.content.ox=113.333394,e.content.oy=23.139114,e.content.x=113.333394,e.content.y=23.139114,e.content.z=17},e.setGoogleMap=function(t,e){var i=Fai.top.Fai.gMapList[t].googleMap,o=Fai.top.Fai.gMapList[t].marker.getPosition(),n=i.getCenter();o?(e.content.gmp.ox=n.lat(),e.content.gmp.oy=n.lng(),e.content.gmp.x=o.lat(),e.content.gmp.y=o.lng(),e.content.gmp.z=i.getZoom()):(e.content.gmp.ox=23.133158856784426,e.content.gmp.oy=113.33254255767213,e.content.gmp.x=23.133158856784426,e.content.gmp.y=113.33254255767213,e.content.gmp.z=17)},e.callSearchEnd=function(){Fai.top.Fai.ing("搜索结束。",!0),this.searchDone=!0},e.callSearchForExactSearch=function(){Fai.top.Fai.ing("搜索结束。若定位有误，建议先确认地址是否已被百度地图标注，或重新输入正确地址搜索。"),this.searchDone=!0},e.callSearchFail=function(){Fai.top.Fai.ing("未能找到搜索的省市地址。"),this.searchDone=!0},e.encodeHtml=function(t){return t&&t.replace?t.replace(/&/g,"&amp;").replace(/ /g,"&nbsp;").replace(/\b&nbsp;+/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\\/g,"&#92;").replace(/'/g,"&#39;").replace(/"/g,"&quot;").replace(/\n/g,"<br/>").replace(/\r/g,""):t},e.addComplexCustomOverlay=function(t){function e(t){this.point=t.point,this.content=t.content||"",this.zIndex=t.zIndex||1,this.boxClass=t.boxClass||"",this.boxStyle=a(t.boxStyle),this.arrowClass=t.arrowClass||"",this.arrowStyle=a(t.arrowStyle),this.offset=t.offset||{x:0,y:0}}function i(t){var e=t.map.pointToOverlayPixel(t.point);t.box.style.left=e.x-parseInt(o(t.box,"width"))/2-(parseInt(o(t.box,"padding-left"))+parseInt(o(t.box,"padding-right")))/2+t.offset.x+"px",t.box.style.bottom=-e.y+parseInt(o(t.arrow,"height"))-t.offset.y+"px",t.arrow.style.left=parseInt(o(t.box,"width"))/2+9+"px"}function o(t,e){if("undefined"!=typeof getComputedStyle){var i=getComputedStyle(t,null).getPropertyValue(e);return"opacity"==e?100*i:i}if(void 0!==t.currentStyle)return"opacity"==e?Number(t.currentStyle.getAttribute("filter").match(/(?:opacity[=:])(\d+)/)[1]):t.currentStyle.getAttribute(e)}function a(t){var e="";if("string"==typeof t)e=t;else if("object"==n(t)){for(var i in t)Object.hasOwnProperty.call(t,i)&&Object.hasOwnProperty.call()&&(e+=i+":"+t[i]+";");return e}}return e.prototype=new t.Overlay,e.prototype.initialize=function(t){return this.map=t,this.box=document.createElement("div"),this.box.className=this.boxClass,this.box.style.cssText=this.boxStyle,this.box.innerHTML=this.content,this.close=document.createElement("div"),this.close.className="close",this.arrow=document.createElement("div"),this.arrow.className=this.arrowClass,this.arrow.style.cssText=this.arrowStyle,this.box.appendChild(this.arrow),this.box.appendChild(this.close),t.getPanes().labelPane.appendChild(this.box),this.initDefaultEvent(t),this.box},e.prototype.addEventListener=function(t,e){this.box.addEventListener(t,e)},e.prototype.initDefaultEvent=function(t){var e=this;this.addEventListener("mousedown",(function(t){t.stopPropagation()})),this.addEventListener("click",(function(t){t.stopPropagation()})),this.addEventListener("touchmove",(function(t){t.stopPropagation()})),this.addEventListener("touchstart",(function(i){-1!=i.target.getAttribute("class").indexOf("close")&&t.removeOverlay(e)})),this.addEventListener("mousedown",(function(i){-1!=i.target.getAttribute("class").indexOf("close")&&t.removeOverlay(e)}))},e.prototype.draw=function(){i(this)},e.prototype.hide=function(){this.box.style.display="none"},e.prototype.reDraw=function(){i(this)},e}}(jm,Mobi.mobiMapModule||(Mobi.mobiMapModule={})),function(t,e){var o={};Fai.top.Fai.bMapCache=o,Fai.top.Fai.gMapCache={},e.initBMap=function(i,n){var a={enableMapClick:!Fai.top._manageMode},r=new BMap.Map(i,a);o[i]={map:r};var s=new BMap.NavigationControl;r.addControl(s);var l=document.getElementById(i);return Fai.top._manageMode&&t(l).on("mousedown",(function(t){t.stopPropagation()})),r.addEventListener("click",(function(t){if(Fai.top._manageMode&&(0!==Fai.top.vue_utils.findComponentsDownward(Fai.top.mobiDesigner,"jz-onlineMap-edit-item").length&&!Fai.top.vue_utils.findComponentsDownward(Fai.top.mobiDesigner,"jz-onlineMap-edit-item")[0]._inactive)){t.domEvent.stopPropagation();var o=t.point,a={x:o.lng,y:o.lat},r=Fai.top._rootStore.state.curOnlineMapItemEdit.itemId,s=n.content.locationList;s.find((function(t){return t.id===r})).bmp=a,e.repaintMapIcon(i,s,n,!0)}})),r},e.getBMapInfoById=function(t){return o[t]||e.initBMap(t),o[t]},e.bMapSearch=function(t,e,i,o){return new Promise((function(t,e){var n={onSearchComplete:function(i){if(a.getStatus()==BMAP_STATUS_SUCCESS)if(i.getCurrentNumPois()<=0)e();else{var o=i.getPoi(0);t(o)}else e()}},a=new BMap.LocalSearch(i,n);a.search(i+o)}))},e.genBMapIcon=function(t,i){var o=e.getBMapInfoById(t).map,n=new BMap.Icon(Fai.top._resRoot+"/image/onlineMap/marker_red_sprite.png?v=201809101152",new BMap.Size(22,25),{anchor:new BMap.Size(10,25)});i=new BMap.Point(i.lng,i.lat);var a=new BMap.Marker(i,{icon:n});return o.addOverlay(a),a},e.encodeHtml=function(t){return t&&t.replace?t.replace(/&/g,"&amp;").replace(/ /g,"&nbsp;").replace(/\b&nbsp;+/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\\/g,"&#92;").replace(/'/g,"&#39;").replace(/"/g,"&quot;").replace(/\n/g,"<br/>").replace(/\r/g,""):t},e.repaintMapIcon=function(t,i,o,n){var a=e.getBMapInfoById(t).map,r=[],s=e.addComplexCustomOverlay(BMap),l=[];if(a.clearOverlays(),i.forEach((function(i,n){var c=i.bmp,d={lng:c.x,lat:c.y},m=new BMap.Point(d.lng,d.lat);r.push(m);var p=e.genBMapIcon(t,d),u=o.content.isNew,f=u&&i.name,h=!u&&""!==i.name&&"新增地址"!==i.name,g=f||h,v='<div class="name">'.concat(e.encodeHtml(i.name),"</div>"),b='<div class="address">'.concat(LS.js_onlineMapAddressTip,"：").concat(e.encodeHtml(i.detail),"</div>"),_=' <div class="tel">'.concat(LS.js_onlineMapPhoneTip,"：").concat(e.encodeHtml(i.tel),"</div>"),j=' <div class="other">'.concat(e.encodeHtml(i.other),"</div>"),M="\n                ".concat(g?v:"","\n                ").concat(i.detail?b:"","\n                ").concat(i.tel?_:"","\n                ").concat(i.other?j:"","\n            "),y=new s({point:d,content:'<div class="msg">'+M+"</div>",boxClass:"msgBox",arrowClass:"arrow",zIndex:9,offset:{x:0,y:-35}});l[n]=y,p.addEventListener("click",(function(t){t.domEvent.stopPropagation(),l.forEach((function(t,e){a.removeOverlay(l[e])})),a.panTo(m),a.addOverlay(y),y.addEventListener("click",(function(t){t.stopPropagation(),e.openOnlineMapEditPanel(o.id,i.id)}))}))})),n){var c=Fai.top._rootStore.state.curOnlineMapItemEdit,d=c.moduleId,m=c.itemId,p=i.findIndex((function(t){return t.id===m})),u=i.find((function(t){return t.id===m})).bmp,f=u.x,h=u.y,g=new BMap.Point(f,h);a.addOverlay(l[p]),a.panTo(g),l[p].addEventListener("click",(function(t){t.stopPropagation(),e.openOnlineMapEditPanel(d,m)}))}if(!n){var v=l[0];a.addOverlay(v),v.addEventListener("click",(function(t){t.stopPropagation();var n=i[0].id;e.openOnlineMapEditPanel(o.id,n)}));var b=a.getViewport(r),_=b.center,j=b.zoom;a.centerAndZoom(_,j)}},e.getBMAPCurPositionPoint=function(){var t=new BMap.Geolocation;return new Promise((function(e,i){t.getCurrentPosition((function(t){this.getStatus()==BMAP_STATUS_SUCCESS?e({x:t.point.lng,y:t.point.lat}):i()}))}))},e.getBMAPtoPointDistance=function(t,i,o){t=new BMap.Point(t.x,t.y),i=new BMap.Point(i.x,i.y);var n=e.getBMapInfoById(o).map;return String(n.getDistance(t,i))},e.deleteLocationById=function(t,e){Mobi.logDog(200648,8);var o=Fai.top._rootStore.getters.getModuleById(t),n=o.content.locationList,a=n.findIndex((function(t){return t.id===e}));n.splice(a,1),o.content.locationList=i(o.content.locationList),o.content.isEdit=!0},e.openOnlineMapEditPanel=function(t,e){Mobi.logDog(200648,7),Fai.top.Mobi.closeDesigner(),Object.assign(Fai.top._rootStore.state.curOnlineMapItemEdit,{moduleId:t,itemId:e});setTimeout((function(){Fai.top.Mobi.openDesigner("jzOnlineMapEditItem")}),200)},e.sortListByDistanceASC=function(t){return t.sort((function(t,e){return Number(t.distance)-Number(e.distance)}))}}(jm,Mobi.mobiMapModule||(Mobi.mobiMapModule={})),jm,a=Mobi.loadBDMap||(Mobi.loadBDMap={}),r=[],s=!1,a.addMapModuleInit=function(t){var e=t.id,i=t.fn;r.push({moduleId:e,initFn:i})},a.loadBDMapScript=function(){var t=document.createElement("script");t.src="https://api.map.baidu.com/api?v=2.0&ak=BPPrdn0rN6iz2l1o97PohYt2Q7aOT9lW&callback=Mobi.loadBDMap.runMapModuleInit",document.body.appendChild(t)},a.runMapModuleInit=function(){s=!0,r.forEach((function(t){t.initFn&&t.initFn()}))},a.bdMapIsLoad=function(){return s}},161:function(t,e){Mobi.showSaleTimeTypeV3=function(t,e,i){if(e){if(t||1==i)return jm(".isShowOldSaleCountDown").each((function(t,e){jm(e).hasClass("proCommProperty")&&!jm(e).children().length?jm(e).hide():jm(e).show()})),void jm(".isShowNewSaleCountDown").hide();jm(".isShowOldSaleCountDown").hide(),jm(".isShowNewSaleCountDown").show()}},Mobi.showSaleTimeCountDownV3=function(t,e,i,o,n,a){jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mall_h.jsp?cmd=getWafNotCk_getSystemTime",success:function(n){if((n=jm.parseJSON(n)).success){var r=n.now||0,s=0,l=0,c=0;t-(r/=1e3)>0?(s=t-r,l=e-t,c=1):e-r>0&&(s=t-r,l=e-r,c=2);var d="",m=LS.salePromotionBegin,p=LS.salePromotionEnd,u=0;Mobi.salePromotionDetail.showType=c,Mobi.salePromotionDetail.showSaleTime=!0,1==c?(d=m,u=s,jm(".J_salePromotionNewMessage").html(LS.salePromotionNewBeginMessage)):(d=p,u=l,jm(".J_salePromotionNewMessage").html(LS.salePromotionNewEndMessage)),1!=a&&(jm(".J_salePromotionDay").html(LS.salePromotionDay),jm(".J_salePromotionHour").html(":"),jm(".J_salePromotionMinute").html(":"),jm(".J_salePromotionSecond").html("")),window.onload=function(){jm(".showSaleTimeImg").css("display","block")},clearInterval(Mobi.salePromotionDetail.saleCountTimeInterval),Mobi.salePromotionDetail.saleCountTimeInterval=setInterval((function(){var t=parseInt(u/86400),e=parseInt(u/3600)-24*t,n=parseInt(u/60)-24*t*60-60*e,r=parseInt(u%60);if(2052!=Fai.top._lcid&&1028!=Fai.top._lcid&&(e<10&&(e="0"+e),n<10&&(n="0"+n),r<10&&(r="0"+r)),--u<=0&&Fai.top.location.reload(),1==c&&1!=a&&jm(".J_showCountDownClass").html("&nbsp;&nbsp;"+jm.format(d,t,e,n,r)),1!=i||!Fai.top._manageMode&&1!=a||jm(".showSaleTimeClass").html("&nbsp;&nbsp;"+jm.format(d,t,e,n,r)),1==i&&1!=a&&(t<10&&(t="0"+t),e<10&&(e="0"+e),n<10&&(n="0"+n),r<10&&(r="0"+r),"00"==t?(jm(".J_salePromotionDay").css("display","none"),jm(".J_salePromotionDayNum").css("display","none")):jm(".J_salePromotionDayNum").html(t),jm(".J_salePromotionHourNum").html(e),jm(".J_salePromotionMinuteNum").html(n),jm(".J_salePromotionSecondNum").html(r)),u<0)if(1==c)u=l,d=p,c=2,Mobi.salePromotionDetail.showType=2,Mobi.showSalePromotionDl(Mobi.salePromotionDetail.salePromotionParam,Mobi.salePromotionDetail.styleType,Mobi.salePromotionDetail.saleReSalePriceHtml);else{if(clearInterval(Mobi.salePromotionDetail.saleCountTimeInterval),Mobi.salePromotionDetail.showType=1,"1"==Mobi.salePromotionDetail.salePromotionParam.saleType){var s=jm(".J_salePrePrice").html();null!=s&&jm(".J_saleMallPrice").html(s)}jm(".J_salePromotionRemove").remove(),1==o?jm(".productPrice").css("height","3.75rem"):jm(".productPrice").css("height","2.75rem")}}),1e3)}}})},Mobi.showGbTimeCountDownV3=function(t,e,i){jm.ajax({url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mall_h.jsp?cmd=getWafNotCk_getSystemTime",success:function(o){if((o=jm.parseJSON(o)).success){var n=o.now||0,a=0,r=0,s=0;t-(n/=1e3)>0?(a=t-n,r=e-t,s=1):e-n>0&&(a=t-n,r=e-n,s=2);var l="",c=0;1==s?(l="距拼团活动开始仅剩：{0}天{1}小时{2}分{3}秒",c=a):(l="距拼团活动结束仅剩：{0}天{1}小时{2}分{3}秒",c=r,jm(".J_salePromotionNewMessage").html(LS.salePromotionNewEndMessage)),1!=i&&(jm(".J_salePromotionDay").html(LS.salePromotionDay),jm(".J_salePromotionHour").html(":"),jm(".J_salePromotionMinute").html(":"),jm(".J_salePromotionSecond").html("")),window.onload=function(){jm(".showSaleTimeImg").css("display","block")},clearInterval(Mobi.gbCountTimeInterval),Mobi.gbCountTimeInterval=setInterval((function(){var t=parseInt(c/86400),e=parseInt(c/3600)-24*t,o=parseInt(c/60)-24*t*60-60*e,n=parseInt(c%60);2052!=Fai.top._lcid&&1028!=Fai.top._lcid&&(e<10&&(e="0"+e),o<10&&(o="0"+o),n<10&&(n="0"+n)),--c<=0&&Fai.top.location.reload(),1==s&&1!=i&&jm(".J_showCountDownClass").html("&nbsp;&nbsp;"+jm.format(l,t,e,o,n)),(Fai.top._manageMode||1==i)&&jm(".showSaleTimeClass").html("&nbsp;&nbsp;"+jm.format(l,t,e,o,n)),1!=i&&(t<10&&(t="0"+t),e<10&&(e="0"+e),o<10&&(o="0"+o),n<10&&(n="0"+n),jm(".J_salePromotionDayNum").html(t),jm(".J_salePromotionHourNum").html(e),jm(".J_salePromotionMinuteNum").html(o),jm(".J_salePromotionSecondNum").html(n)),c<0&&clearInterval(Mobi.gbCountTimeInterval)}),1e3)}}})},Mobi.marketingPdIntervalV3=null,Mobi.initMarketPdDetailV3=function(t,e,i,o,n){window.onload=function(){jm(".showSaleTimeImg").css("display","block")},0!=t?(jm(".J_salePromotionNewMessage").html(LS.salePromotionNewEndMessage),"secKill"==n&&jm(".J_salePromotionNewMessage").html("距秒杀结束还有：")):"secKill"==n&&jm(".J_salePromotionNewMessage").html("距秒杀开始还有："),1!=o&&(jm(".J_salePromotionDay").html(LS.salePromotionDay),jm(".J_salePromotionHour").html(":"),jm(".J_salePromotionMinute").html(":"),jm(".J_salePromotionSecond").html(""));var a="",r="仅剩：";"cutPrice"==n?a="砍价":"secKill"==n&&(a="秒杀",r="还有：");var s=null;Mobi.marketingPdIntervalV3&&clearInterval(Mobi.marketingPdIntervalV3),Mobi.marketingPdIntervalV3=setInterval((function(){var c=(new Date).getTime(),d=0==t?e-c:i-c,m=Mobi.translateDiffTime(d),p=0==t?"开始":"结束",u="距"+a+"活动"+p+r+m,f="距"+a+"活动"+p+"仅剩：";if(0==t&&1!=o&&(jm(".J_showCountDownClass").html("&nbsp;&nbsp;"+u),jm(".J_salePromotionNewMessage").html(f)),(Fai.top._manageMode||1==o)&&jm(".showSaleTimeClass").html("&nbsp;&nbsp;"+u),1!=o){var h=m.split(/[^0-9]/gi),g=h[0],v=h[1],b=h[2],_=h[3];g<10&&(g="0"+g),v<10&&(v="0"+v),b<10&&(b="0"+b),_<10&&(_="0"+_),"secKill"==n?0==t?(jm(".J_salePromotionDay").html("天"),jm(".J_salePromotionHour").html(":"),jm(".J_salePromotionMinute").html(":"),jm(".J_salePromotionSecond").html(""),jm(".J_salePromotionDayNum").html(g),jm(".J_salePromotionHourNum").html(v),jm(".J_salePromotionMinuteNum").html(b),jm(".J_salePromotionSecondNum").html(_),s&&clearInterval(s)):(jm(".J_salePromotionDay").html("天"),jm(".J_salePromotionHour").html(":"),jm(".J_salePromotionMinute").html(":"),jm(".J_salePromotionSecond").html("."),jm(".J_salePromotionMilliSecond").html(""),jm(".J_salePromotionDayNum").html(g),jm(".J_salePromotionHourNum").html(v),jm(".J_salePromotionMinuteNum").html(b),jm(".J_salePromotionSecondNum").html(_),jm(".showNewThemeSaleTimeClass").hasClass("showMillisTime")||jm(".showNewThemeSaleTimeClass").addClass("showMillisTime"),l()):(jm(".J_salePromotionDayNum").html(g),jm(".J_salePromotionHourNum").html(v),jm(".J_salePromotionMinuteNum").html(b),jm(".J_salePromotionSecondNum").html(_))}d<=0&&"secKill"==n&&(window.location.reload(),clearInterval(Mobi.marketingPdIntervalV3),s&&clearInterval(s))}),1e3);var l=function(){var t=[9,8,7,6,5,4,3,2,1,0],e=0;s=setInterval((function(){jm(".J_salePromotionMilliSecondNum").html(t[e]),++e>=10&&(e=0)}),100)}},Mobi.initProductRestrictV3=function(t,e,i,o,n){if(t){var a=0;null!=o.count&&(a=o.count);var r=i-a;jm.fkEval(r)<0&&(r=-1);var s=1,l=-1;e>1&&0!=i?(jm("#limitAmountDiv").text("( "+LS.minAmount+" : "+e+" ; "+LS.maxAmount+" : "+r+" )"),s=e,l=r):1==e&&0!=i?(jm("#limitAmountDiv").text("( "+LS.maxAmount+" : "+r+" )"),l=r):e>1&&0==i&&(jm("#limitAmountDiv").text("( "+LS.minAmount+" : "+e+" )"),s=e),n&&(-1==l||l>5)&&(l=5),jm("#productNum").val(s).unbind("change").change((function(){var t=c();t<s||t==s?(t=s,jm("#g_decrease").addClass("disabled"),jm("#g_increase").removeClass("disabled"),(l<s||l==s)&&jm("#g_increase").addClass("disabled")):-1!=l&&(t>l||t==l)?(t=l,jm("#g_decrease").removeClass("disabled"),jm("#g_increase").addClass("disabled")):t>9999998?(t=9999999,jm("#g_decrease").removeClass("disabled"),jm("#g_increase").addClass("disabled")):jm("#g_decrease, #g_increase").removeClass("disabled"),jm(this).val(t)})).change(),jm("#g_decrease").click((function(){c()<s+1&&jm("#productNum").val(s),jm("#productNum").change(),n&&Mobi.renderTotalPrice()})),jm("#g_increase").click((function(){c()>l-1&&-1!=l&&jm("#productNum").val(l>s?l:s),jm("#productNum").change(),n&&Mobi.renderTotalPrice()}))}function c(){var t=jm("#productNum").val(),e=1;return jm.isInteger(t)&&(e=parseInt(t)),e}},Mobi.productNewDetailEventInitV3=function(t){if("inline-block"==jm(".J_salePrePrice").css("display")&&jm(".marketPriceV3").css("display","none"),t){var e=t.moduleId,i=t.productId,o=t.mallOptionsOpen,n=t.pageStyle,a=t.returnUrl,r=void 0===a?"":a,s=t.isGroupBuy,l=void 0!==s&&s,c=t.groupBuyId,d=void 0===c?0:c,m=t.groupBuyDetailId,p=void 0===m?0:m,u=t.groupPriceStr,f=void 0===u?"":u,h=t.isCutPrice,g=void 0!==h&&h,v=t.cutPriceId,b=void 0===v?0:v,_=(t.cutPriceDetailId,t.cpPriceStr),j=void 0===_?" ":_,M=t.isSecKill,y=void 0!==M&&M,w=t.secKillId,S=void 0===w?0:w,I=t.isPtLimitBuy,C=void 0===I?0:I,P=t.isIntegralMall,x=void 0!==P&&P,k=t.integralMallId,L=void 0===k?0:k,F=t.integtalMallType,T=void 0===F?0:F,A=t.imMinPrice,B=void 0===A?{}:A,D=t.isImLimitBuy,O=void 0===D?0:D,N=t.isEarnestSale,E=void 0!==N&&N,R=t.earnestSaleId,U=void 0===R?0:R,J=t.pd_optionsAmountInfo,H=void 0===J?{}:J,W=t.pd_showOptionList,V=void 0===W?[]:W,q=t.mkt_optionsAmountInfo,z=void 0===q?{}:q,G=t.mkt_showOptionList,$=void 0===G?[]:G,Y=t.openPriceCalendar,K=t.themeV3,X=void 0!==K&&K,Z=t.isUseSwipe,Q=t.isHotelProduct,tt=void 0!==Q&&Q;void 0===Z&&(Z=!0),window.isGroupBuy=l;var et=p;Mobi.scrollFadeInV3("productDetailHeader"+e,"productNewDetailSwipe"+e,n),Mobi.initAjaxTab({pid:i,moduleId:e,themeV3:X,isUseSwipe:Z});var it=document.getElementById("productDetailHeader"+e),ot=document.getElementById("productNewDetailPanel"+e),nt=it.querySelector(".icon-gClose.proBack"),at=it.querySelector(".icon-gOther.proOther"),rt=it.querySelector(".proOtherPanel"),st=ot.querySelector(".J_productImmediatelyBug"),lt=ot.querySelector(".J_groupBuyBtn"),ct=ot.querySelector(".J_cpButton"),dt=ot.querySelector(".J_integralMallBtn"),mt=ot.querySelector(".J_earnestSaleBtn"),pt=document.getElementById("productNewDetailSwipe"+e),ut=jm("#productDetailV3_title"+e),ft=!1;if(window.sessionStorage){ft=Mobi.checkWindowSeStgValue(window.sessionStorage._isJumpFromMlist);try{window.sessionStorage._isJumpFromMlist=!1}catch(t){}}var ht;if(ht=jm.getCookie("_fromCollect"),jm.setCookie("_fromCollect","",-1),jm(nt).bind("click",(function(){if(window.sessionStorage){if(ft)window.sessionStorage._jumpMlistUrl.indexOf("?")<=-1?window.location.href=window.sessionStorage._jumpMlistUrl+"?commHideFlag=true":window.sessionStorage._jumpMlistUrl.indexOf("commHideFlag")<=-1?window.location.href=window.sessionStorage._jumpMlistUrl+"&commHideFlag=true":window.location.href=window.sessionStorage._jumpMlistUrl,window.sessionStorage._backFromProDetail=!0;else if(ht)jm.setCookie("_openCollect",!0),window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"profile.jsp";else if(window.history.length<=1)window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"index.jsp";else if(r.length>0)window.location.href=r;else if(Fai.top._manageMode)sessionStorage.getItem("historyList")?jm(Fai.top.document.getElementById("jz_designerOperate").querySelector(".j_designerBack")).click():window.location.href="index.jsp";else{if(navigator.userAgent.toLocaleLowerCase().includes("ucbrowser")&&history.length<=2)return void(window.location.href="/");history.back()}return!1}return window.history.length<=1?window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"index.jsp":(window.location.href=document.referrer,setTimeout((function(){window.location.href=document.referrer;setTimeout((function(){window.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"index.jsp",null}),500)}),300)),!1})),jm(ot).bind("click",(function(){jm(rt).hasClass("proOtherPanelOpen")&&jm(rt).removeClass("proOtherPanelOpen")})),jm(at).bind("click",(function(t){jm(rt).hasClass("proOtherPanelOpen")?jm(rt).removeClass("proOtherPanelOpen"):jm(rt).addClass("proOtherPanelOpen"),t.stopPropagation()})),ut){var gt=function(){document.body.scrollTop>pt.clientHeight||document.documentElement.scrollTop>pt.clientHeight?ut.show():ut.hide()};document.addEventListener("touchmove",gt),document.addEventListener("scroll",gt)}var vt=jm(".productMallShop").html(),bt=jm(".productMallBuyPanel").html(),_t=Mobi.initWebPage({triggerId:"productInfoSize",panelId:"productMallOptionPanel",callback:function(){Mobi.deviceTypeIsMobi()&&jm("#mallOptionAndNumContainer").length>0&&(Mobi.productNewDetailIScrollObj=new iScroll("mallOptionAndNumContainer",{onBeforeScrollStart:function(t){for(var e=t.target;1!=e.nodeType;)e=e.parentNode;"INPUT"!=e.tagName&&t.preventDefault()}}));return!1},pageBg:!0,returnSeltFun:!0,direction:"bottom",closeWebPage:"#productMallOptionPanel .productDetailClose.icon-Off",closeCallBack:function(){jm(".productMallOptionPanel .productMallOptionContentPanel").removeClass("mallThemeProductContentPanel"),jm(".productMallBuyPanel").css("display","flex"),jm("video").css("display","block")}});jm("#productInfoSize").bind("click",(function(){var t=jm(".productMallBuyPanel");if(tt){if(null==bt||""==bt)return;t.html(bt),jt=1}else{if(null==vt||""==vt)return;t.html(vt)}jm(".productMallBuyPanel .productAddMall").css("color",jm(".productNewDetailPanel .productAddMall").css("color")).css("border-color",jm(".productNewDetailPanel .productAddMall").css("border-left-color")),jm(".productMallBuyPanel .productImmediatelyBug").css("background-color",jm(".productNewDetailPanel .productImmediatelyBug").css("background-color")).css("border-color",jm(".productNewDetailPanel .productImmediatelyBug").css("border-left-color")),jm(".productMallOptionPanel .productMallOptionContentPanel").css("overflow","hidden").addClass("mallThemeProductContentPanel"),jm(".productMallBuyPanel .J_productAddMall").bind("click",(function(){Mobi.mallBuy(i,0)})),jm(".productMallBuyPanel .J_productImmediatelyBug").unbind("click").bind("click",(function(){y?Mobi.mallBuy(i,1,null,null,null,null,{isSecKill:y,secKillId:S}):Mobi.mallBuy(i,1)})),jm(".productMallBuyPanel .J_groupBuyBtn").unbind("click").bind("click",(function(){Mobi.mallBuy(i,1,null,null,null,null,{isGroupBuy:l,groupBuyId:d,groupBuyDetailId:p})})),jm(".productMallBuyPanel .J_cpButton").unbind("click").bind("click",(function(){Mobi.logDog(200535,0),Mobi.cutPrice(b,i)})),jm(".productMallBuyPanel .serviceBtn").off("click.pp").on("click.pp",(function(){Mobi.createMallServicePanel()})),jm(".productMallBuyPanel .J_integralMallBtn").unbind("click").bind("click",(function(){Mobi.mallBuy(i,1,null,null,null,null,{isIntegralMall:x,integralMallId:L})})),jm(".productMallBuyPanel .J_earnestSaleBtn").unbind("click").bind("click",(function(){Mobi.mallBuy(i,1,null,null,null,null,{isEarnestSale:E,earnestSaleId:U})}))}));var jt;jm("#productNewDetailPanel"+e+" .J_productAddMall").bind("click",(function(){jm(".productMallBuyPanel").html(bt),jt=0,Mobi.isPtBtn=!1,Mobi.isImBtn=!1,Mobi.isMarketingBtn=!1,_t()})),jm(".J_pdJoinGroupBuyBtn").bind("click",(function(){if(0==Fai.top.sessionMemberId&&(Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?returnUrl="+jm.encodeUrl(Fai.top.location.href)),p=jm(this).attr("_groupBuyDetailId"),"true"===jm(this).attr("_oldMemberBlock")){var t="";return t+="<div style='width: 11.9rem; height: 10.476rem; background: rgba(255,255,255,1); border-radius: .357rem; margin: 0 auto; position: relative; top: -3rem; display: flex; flex-direction: column; align-items: center; padding: 1.05rem; box-sizing: border-box;'>",t+="<div style='width: 8.12rem; height: 4.69rem; overflow: hidden; margin-bottom: .84rem;'>",t+="<img src='"+Fai.top._resImageRoot+"/image/gbNewMemOnly.png' style='width: 8.12rem; height: 4.69rem;'>",t+="</div>",t+="<div style='font-size: .62rem; color:rgba(0,0,0,1); margin-bottom: .857rem;'>仅限新客参团，老客可以开团</div>",t+="<div class='J-prompt-callback' style='width: 5.714rem; height: 1.43rem; background: rgba(242,48,48,1); border-radius: .1429rem; color: #fff; margin: 0 auto; font-size: .62rem; display: flex; align-items: center; justify-content: center; cursor: pointer;'>去开新团</div>",t+="</div>",t+="<div class='J-prompt-cancel' style='display: inline-block; width: 1.67rem; height: 1.67rem; z-index: 9999; margin: 0 auto; cursor: pointer;'>",t+="<img src='"+Fai.top._resImageRoot+"/image/hdCouponClose.png'>",t+="</div>",void Mobi.customPopup({content:t,callback:function(){l&&jm("#mallPrice").html(f),jm(".productMallBuyPanel").html(bt),jt=2,p=0,Mobi.isPtBtn=!0,Mobi.isImBtn=!1,Mobi.isMarketingBtn=!0,_t()}})}jt=2,_t(),It(),jm("#mallPrice").html(f),Mobi.isPtBtn=!0,Mobi.isImBtn=!1,Mobi.isMarketingBtn=!0})),jm(".productMallBuyPanel").delegate(".productMallBuy","click",(function(){Mobi._isCommunityGroup?Mobi.mallBuy(i,0,null,null,null,null,{cb:function(t,e){Mobi._communityPdDetailVm&&Mobi._communityPdDetailVm.confirmPd2Cart(i,t,e)},hideAddCartTips:!0,fromCommunityGroup:!0}):1==jt?y?Mobi.mallBuy(i,1,null,null,null,null,{isSecKill:y,secKillId:S}):Mobi.mallBuy(i,jt):2==jt?Mobi.mallBuy(i,1,null,null,null,null,{isGroupBuy:l,groupBuyId:d,groupBuyDetailId:p}):3==jt?Mobi.cutPrice(b,i):4==jt?(0==Fai.top.sessionMemberId&&(Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?returnUrl="+jm.encodeUrl(Fai.top.location.href)),Mobi.mallBuy(i,1,null,null,null,null,{isIntegralMall:x,integralMallId:L})):5==jt?Mobi.mallBuy(i,1,null,null,null,null,{isEarnestSale:E,earnestSaleId:U}):Mobi.mallBuy(i,jt,null,null,null,null,{cb:function(){0==jt&&!Fai.top._manageMode&&Fai.top._isMall&&Mobi.logMallFdp("mall_mem_cart_add",{mall_free_text_0:"产品详情页",mall_free_text_1:Fai.top._fdpProperties.productName,mall_gds:Fai.top._fdpProperties.productTypeName,mall_mkt_type:Fai.top._fdpProperties.marketType,mall_dist_type:Fai.top._fdpProperties.distType},!0),y&&(0==jt?Mobi.logMallFdp("mall_seckill_gwc",{mall_free_bool_0:!0},!0):Mobi.logMallFdp("mall_seckill_js",{mall_free_bool_0:!1},!0))}})}));var Mt=jm("#mallPrice").html()||"";jm(st).bind("click",(function(){jm(".productMallBuyPanel").html(bt),jt=1,Mobi.isPtBtn=!1,Mobi.isImBtn=!1,Mobi.isMarketingBtn=!1,_t(),It(),Ct(),Pt(),xt(),l&&(jm("#mallPrice").html(Mt),jm(jm("#productMallOptionPanel .optionSelected")[0]).click().click()),x&&(jm("#mallPrice").html(Mt),jm(jm("#productMallOptionPanel .optionSelected")[0]).click().click(),jm("#integral").hide(),jm("#itgName").hide(),jm("#plus").hide()),E&&(jm("#mallPrice").html(Mt),jm(jm("#productMallOptionPanel .optionSelected")[0]).click().click())})),jm(lt).bind("click",(function(){if(0==Fai.top.sessionMemberId&&(Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?returnUrl="+jm.encodeUrl(Fai.top.location.href)),jm(this).find("._oldMemberBlock").length>0){var t="";return t+="<div style='width: 11.9rem; height: 10.476rem; background: rgba(255,255,255,1); border-radius: .357rem; margin: 0 auto; position: relative; top: -3rem; display: flex; flex-direction: column; align-items: center; padding: 1.05rem; box-sizing: border-box;'>",t+="<div style='width: 8.12rem; height: 4.69rem; overflow: hidden; margin-bottom: .84rem;'>",t+="<img src='"+Fai.top._resImageRoot+"/image/gbNewMemOnly.png' style='width: 8.12rem; height: 4.69rem;'>",t+="</div>",t+="<div style='font-size: .62rem; color:rgba(0,0,0,1); margin-bottom: .857rem;'>仅限新客参团，老客可以开团</div>",t+="<div class='J-prompt-callback' style='width: 5.714rem; height: 1.43rem; background: rgba(242,48,48,1); border-radius: .1429rem; color: #fff; margin: 0 auto; font-size: .62rem; display: flex; align-items: center; justify-content: center; cursor: pointer;'>去开新团</div>",t+="</div>",t+="<div class='J-prompt-cancel' style='display: inline-block; width: 1.67rem; height: 1.67rem; z-index: 9999; margin: 0 auto; cursor: pointer;'>",t+="<img src='"+Fai.top._resImageRoot+"/image/hdCouponClose.png'>",t+="</div>",void Mobi.customPopup({content:t,callback:function(){l&&jm("#mallPrice").html(f),jm(".productMallBuyPanel").html(bt),jt=2,p=0,Mobi.isPtBtn=!0,Mobi.isImBtn=!1,Mobi.isMarketingBtn=!0,_t()}})}l&&jm("#mallPrice").html(f),jm(".productMallBuyPanel").html(bt),jt=2,p=et,Mobi.isPtBtn=!0,Mobi.isImBtn=!1,Mobi.isMarketingBtn=!0,_t(),It(),xt()})),jm(ct).bind("click",(function(){o?(g&&jm("#mallPrice").html(j),jm(".productMallBuyPanel").html(bt),jt=3,Mobi.isPtBtn=!1,Mobi.isImBtn=!1,Mobi.isMarketingBtn=!1,_t()):Mobi.cutPrice(b,i)})),jm(dt).bind("click",(function(){if(jm(".productMallBuyPanel").html(bt),jt=4,Mobi.isImBtn=!0,Mobi.isMarketingBtn=!0,_t(),Ct(),xt(),x){var t=jm(".J-op-box").find(".J-op"),e=jm(".J-op-box").find(".optionSelected");(0==t.length||t.length>0&&e.length<t.length)&&(jm("#integral").html(B.minIntegral),jm("#mallPrice").html(parseFloat(B.minPrice).toFixed(2))),1==T&&(jm("#choiceCurrencyVal").hide(),jm("#mallPrice").hide()),jm("#integral").show(),jm("#itgName").show(),jm("#plus").show(),jm(jm("#productMallOptionPanel .optionSelected")[0]).click().click()}})),jm(mt).bind("click",(function(){jm(".productMallBuyPanel").html(bt),jt=5,Mobi.isImBtn=!1,Mobi.isPtBtn=!1,Mobi.isEsBtn=!0,Mobi.isMarketingBtn=!0,_t(),Pt()}));var yt=JSON.parse(JSON.stringify(Fai.top._shareDataProdectDetail));yt.shareLinkList='[{"url":"?","icon":"Weixin"}]';var wt={triggerId:"productDetailShare",pageBg:!0,pageHtml:Mobi.sharePage(Fai.top._shareDataProdectDetail),direction:"bottom",callback:function(){Mobi.initProductSwipe("shareListShowSwipe")},closeWebPage:"#shareListPanelBg"};Mobi.initWebPage(wt);wt={triggerId:"productDetailShare2",pageBg:!0,pageHtml:Mobi.sharePage(Fai.top._shareDataProdectDetail),direction:"bottom",callback:function(){Mobi.initProductSwipe("shareListShowSwipe")},closeWebPage:"#shareListPanelBg"};Mobi.initWebPage(wt);wt={triggerId:"promoShareIconForNotOpenShare",pageBg:!0,pageHtml:Mobi.sharePage(yt),direction:"bottom",callback:function(){Mobi.initProductSwipe("shareListShowSwipe")},closeWebPage:"#shareListPanelBg"};Mobi.initWebPage(wt);var St={triggerId:"showCouponList",pageBg:!0,pageHtml:Mobi.couponPage(Fai.top._couponInfo),direction:"bottom",closeWebPage:"#contentBottomPanel,#closeCouponListBottomPanel",callbackAlways:!0,callback:function(){jm("#couponListBottomPanel").unbind("click mousedown touchstart").bind("click mousedown touchstart",(function(t){t.stopPropagation()})),jm("#contentBottomPanel").show(),jm(".toUseCoupon").unbind("click").bind("click",(function(t){var e=jm(this).parents(".couponItem").attr("couponid");Fai.top.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"pr.jsp?couponId="+e,t.stopPropagation()})),Mobi.logDog(200474,4);for(var t=0;t<Fai.top._couponInfo.length;t++)Mobi.logDog(200474,5)}};Mobi.initWebPage(St),Mobi.hidePlaceholder()}function It(){C&&(Mobi.isPtBtn?(jm("#limitAmountDiv").hide(),jm(".J_productNumberContent_simple").hide(),jm("#limitAmountDiv_pt").show(),jm(".J_productNumberContent_pt").show()):(jm("#limitAmountDiv_pt").hide(),jm(".J_productNumberContent_pt").hide(),jm("#limitAmountDiv").show(),jm(".J_productNumberContent_simple").show()))}function Ct(){O&&(Mobi.isImBtn?(jm("#limitAmountDiv").hide(),jm(".J_productNumberContent_simple").hide(),jm("#limitAmountDiv_im").show(),jm(".J_productNumberContent_im").show()):(jm("#limitAmountDiv_im").hide(),jm(".J_productNumberContent_im").hide(),jm("#limitAmountDiv").show(),jm(".J_productNumberContent_simple").show()))}function Pt(){Mobi.isEsBtn&&jm(".productName").hide()}function xt(){var t={},e=[];if(Mobi.isMarketingBtn?(t=z,e=$):(t=H,e=V),!(e.length<=0))for(var i=(t.t||"").split("_"),o=t.d||[],n=0,a=0;a<e.length;a++){for(var r=e[a],s=r.items||[],l=r.fieldKey||"",c=0;c<i.length;c++)l==i[c]&&(n=c);4==r.type&&(l="opIndept"+l),s.length>0&&!Y&&(jm.each(s,(function(t,e){var i=e.i,a=!1;jm.each(o,(function(t,e){var o=e.t2,r=null===e.flag?1:e.flag,s=o.split("_");if(1==r&&n<s.length&&parseInt(s[n])==i)return a=!0,!1})),a?jm(".g_mallLabel[for='"+l+i+"']").show():jm(".g_mallLabel[for='"+l+i+"']").hide()})),n++)}}},Mobi.scrollFadeInV3=function(t,e,i){e=document.getElementById(e),t=document.getElementById(t);var o=document.getElementById("g_body");if(t){var n=t.clientHeight,a=e&&e.clientHeight,r=jm(t).find(".g_round");jm(document).off("touchstart.hfi").on("touchstart.hfi",s),jm(document).off("touchmove.hfi").on("touchmove",s),jm(document).off("touchend.hfi").on("touchend",s),jm(document).off("touchcancel.hfi").on("touchcancel.hfi",s),jm(document).off("scroll.hfi").on("scroll.hfi",s),s()}function s(){var e=function(){var t=o;document.documentElement&&document.documentElement.scrollTop>0&&(t=document.documentElement);return t.scrollTop}();if(1!=i){if(e<a+1){var s=1*e/(a-2*n);t.style.background="rgba(255,255,255,"+s+")",t.style.borderBottom="";var l=.4*(1-3*s),c=parseInt(255*(1-s));c<51&&(c=51),r.css("background","rgba(0,0,0,"+l+")"),r.css("color","rgb("+c+","+c+","+c+")")}e>a-2*n&&(t.style.background="rgba(255,255,255,0.99)",t.style.borderBottom="1px solid #e5e5e5")}}},Mobi.showMallCartScreenV3=function(t,e,i,o,n,a,r){var s=jm(".productMallOptionPanel");jm("#module"+t+" .J_fk-mallCart").off("click.cart").bind("click.cart",(function(e){e.stopPropagation();var o=n&&n.replace?n.replace(/&nbsp;/gi," ").replace(/&lt;/gi,"<").replace(/&gt;/g,">").replace(/&#92;/gi,"\\").replace(/&#39;/gi,"'").replace(/&quot;/gi,'"').replace(/<br\/>/gi,"\n").replace(/&amp;/gi,"&"):n;jm("#productMallOptionPanel_mcs_"+t+" .productMallOptionContent").append(o),s=jm(".productMallOptionPanel");var a=jm(this).attr("id")||"",d=jm(this).attr("reelect-item-id")||-1,m=!1,p={},u="",f="",h={},g=!1,v=!1;return jm.each(Mobi.showProductCacheList,(function(t,e){if(e.id==a)return m=!0,p=e.pinfo,u=e.showOptionHtml,f=e.script,h=e.otherHtml,g=e.isPtLimitBuy,v=e.isImLimitBuy,!1})),l(),jm("#productMallOptionPanel_mcs_"+t).find(".productMallOptionPanel").hide(),m?c(p,u,f,h,g,v,{reelectItemId:d}):jm.ajax({type:"POST",url:"".concat(Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"}),"/product_h.jsp?cmd=getWafNotCk_getProductInfoAndDomV3"),data:{pid:a,moduleId:t,mallShoppingOptions:i,isFromCart:r.isReselect||!1},error:function(){Mobi.ing(LS.js_systemError)},success:function(t){var e=jm.parseJSON(t);if(e.success){var i=e.pinfo,o=e.showOptionHtml,n=e.script,r=e.otherHtml,s=e.isPtLimitBuy,l=e.isImLimitBuy,m=e.isEarnestSale;Mobi.showProductCacheList.push({id:a,pinfo:i,showOptionHtml:o,script:n,otherHtml:r,isPtLimitBuy:s,isImLimitBuy:l,isEarnestSale:m}),c(i,o,n,r,s,l,{reelectItemId:d})}}}),!1}));var l=Mobi.initWebPage({triggerId:"f"+t,panelId:"productMallOptionPanel_mcs_"+t,pageBg:!0,returnSeltFun:!0,direction:"bottom",closeWebPage:"#productMallOptionPanel_mcs_"+t+" .productDetailClose.icon-Off",closeCallBack:function(){jm(".productMallOptionPanel .productMallOptionContentPanel").removeClass("mallThemeProductContentPanel"),jm("#productMallOptionPanel_mcs_"+t+" .productMallOptionContent .productMallOptionHead").remove(),jm("#productMallOptionPanel_mcs_"+t+" .productMallOptionContent .mallOptionAndNumBox").remove(),jm("#productMallOptionPanel_mcs_"+t+" .productMallOptionContent .productMallShop").remove(),jm("#productMallOptionPanel_mcs_"+t+" .productMallOptionContent .separatorLine").remove()}});function c(n,l,c,d,m,p,u){s=jm(".productMallOptionPanel");var f=n.id;s.attr("id","productMallOptionPanel"+f);var h=d.mallAmountHtml||"",g=d.mallWeightHtml||"",v=d.mallPriceHtml||"",b=d.productMallShopHtml||"",_=d.siteFormPleaseSelect||"请选择",j=n.mallPrice.toFixed(2),M=j,y="",w="";if(n.openPriceCalendar?(s.addClass("withPriceCalendar"),s.find(".productMallOptionHead .productMallOptionImage").hide(),s.find(".productMallOptionHead .mallOptionImg").hide(),s.find(".productMallOptionHead .productDetail").hide(),s.find(".productMallOptionHead").append("<div class='indicator'>"+_+"</div>")):s.removeClass("withPriceCalendar"),i){var S=j,I=j,C=(n.optionsAmountList||{}).d||[];jm.each(C,(function(t,e){var i=e,o=i.oPrice;if(null!=o&&""!=o&&0!=(i.flag||0)){var n=o||0;S=S<n?S:n,I=I>n?I:n,S=parseFloat(S)||0,I=parseFloat(I)||0,S==I?j=S.toFixed(2):(j=S.toFixed(2)+"~"+I.toFixed(2),y=I.toFixed(2),w=S.toFixed(2))}}))}if(""!=w||""!=y){var P=parseFloat(y)*o*.01;M=parseFloat(w)*o*.01+"~"+P}jm("#choiceCurrency").text(e),jm("#mallPrice").text(M),s.find(".mallOptionImg").css("background-image","url("+n.picPath+")").attr("src",n.picPath),s.find(".productMallAmount").html(h),s.find(".productMallWeight").html(g),s.find(".productDetailPrice").html(v),s.find(".J-op-box").html(l),s.find(".btnGroup").html(b);var x=m?"_pt":p?"_im":"";jm("#g_increase"+x).unbind("click.ic").bind("click.ic",(function(){Mobi.decrease2(f,x)})),jm("#g_decrease"+x).unbind("click.dc").bind("click.dc",(function(){Mobi.increase2(f,x)}));var k=document.createElement("script");k.type="text/javascript",k.innerHTML=c,k.id="opScript_"+t,document.getElementById("productMallOptionPanel_mcs_"+t).appendChild(k),jm("#opScript_"+t).remove(),m?(jm("#limitAmountDiv").hide(),jm(".J_productNumberContent_simple").hide(),jm("#limitAmountDiv_pt").show(),jm(".J_productNumberContent_pt").show()):(jm("#limitAmountDiv_pt").hide(),jm(".J_productNumberContent_pt").hide(),jm("#limitAmountDiv").show(),jm(".J_productNumberContent_simple").show()),p?(jm("#limitAmountDiv").hide(),jm(".J_productNumberContent_simple").hide(),jm("#limitAmountDiv_im").show(),jm(".J_productNumberContent_im").show()):(jm("#limitAmountDiv_im").hide(),jm(".J_productNumberContent_im").hide(),jm("#limitAmountDiv").show(),jm(".J_productNumberContent_simple").show()),jm("#productMallOptionPanel_mcs_"+t+" .J_productReelectConfirm").unbind("click.msc").bind("click.msc",(function(){Mobi.mallBuy(f,0,1,t,null,null,{cb:function(){Vue.prototype.$modulesEventBus.$emit("cartPageDataRefresh")},isReselect:r.isReselect,reelectItemId:u.reelectItemId})})),jm("#productMallOptionPanel_mcs_"+t+" #productBuy").unbind("click.msc").bind("click.msc",(function(){Mobi.mallBuy(f,0,1,t,null,null,{cb:function(){!Fai.top._manageMode&&Fai.top._isMall&&Mobi.logMallFdp("mall_mem_cart_add",{mall_free_text_0:a||"未知入口",mall_free_text_1:n.name,mall_gds:["实体产品","卡密产品","知识付费产品","酒店产品"][n.productType],mall_mkt_type:n.marketType,mall_dist_type:n.distType},!0)}})})),jm("#productMallOptionPanel_mcs_"+t+" .J_productImmediatelyBug").unbind("click.msc").bind("click.msc",(function(){Mobi.mallBuy(f,1,1,t)})),jm("#productMallOptionPanel_mcs_"+t+" .J_productImmeSecKill").unbind("click.msc").bind("click.msc",(function(){var e=parseInt(jm(this).attr("secKillId")||0);Mobi.mallBuy(f,1,null,t,null,null,{isSecKill:!0,secKillId:e})})),jm("#productMallOptionPanel_mcs_"+t+" .J_productImmeGroupBuy").unbind("click.msc").bind("click.msc",(function(){var t=parseInt(jm(this).attr("groupBuyId")||0);Mobi.mallBuy(f,1,null,null,null,null,{isGroupBuy:!0,groupBuyId:t,groupBuyDetailId:0})})),jm("#productMallOptionPanel_mcs_"+t+" .J_productImmeCutPrice").unbind("click.msc").bind("click.msc",(function(){var t=parseInt(jm(this).attr("cutPriceId")||0);Mobi.cutPrice(t,f)})),jm("#productMallOptionPanel_mcs_"+t+" .J_productImmeIntegralMall").unbind("click.msc").bind("click.msc",(function(){var t=parseInt(jm(this).attr("integralMallId")||0);Mobi.mallBuy(f,1,null,null,null,null,{isIntegralMall:!0,integralMallId:t})})),jm("#productMallOptionPanel_mcs_"+t+" .J_productImmeEarnestSale").unbind("click.msc").bind("click.msc",(function(){var t=parseInt(jm(this).attr("earnestSaleId")||0);Mobi.mallBuy(f,1,null,null,null,null,{isEarnestSale:!0,earnestSaleId:t})})),jm("#productMallOptionPanel_mcs_"+t).find(".mallOptionImg").click((function(){var e=jm(this).attr("src");jm("#module"+t).find("#J_acct_pic").attr("src",e).click()})),jm("#productMallOptionPanel_mcs_"+t).find(".productMallOptionPanel").show();var L=document.createElement("script");L.type="text/javascript",L.innerHTML='jm(window).bind("pageshow", function(){jm("#productNum'+x+'").change();});',L.id="opScript2_"+t,document.getElementById("productMallOptionPanel_mcs_"+t).appendChild(L)}},Mobi.addTheNewCommentV3=function(t){var e=[],i="VIP";if(null!=t.newsId){0==t.memberId&&(i=LS.Incognito);var o=new Date(t.createTime);o=Mobi.formatDate(o),e.push("<div class='msgArea'>"),e.push("  <div class='msgTitle'>"),e.push("  <div class='userInfoBox'>"),e.push("    <div class='msgUser'><span class='g_mainColor g_main_color_v3'>["+i+"]</span>"+t.creator+"</div>"),e.push("  </div>"),e.push("  <div class='msgTime'>"+o+"</div>"),e.push("  </div>"),e.push("  <div class='msgContent'>"+t.comment+"</div>"),e.push("</div>"),0!=jm(".nnewsComHeader").length?jm(e.join("")).insertAfter(jm(".nnewsComHeader")):location.reload()}else{i=0==t.memberId?LS.Incognito:t.level;o=new Date(t.createTime);o=Mobi.formatDate(o);var n=jm("html").css("font-size");n=n.substring(0,n.length-2);var a=t.headPic;if(e.push("<div class='msgArea ct-panel productCommentPanel'>"),e.push("<div class='pdMsgTitle'>"),e.push('<div class="msgUserHeacPic"><img src="'+a.path+'" '),a.thumbId){var r=a.width,s=a.left,l=a.top,c=a.imgW,d=a.imgH,m=r/(1.25*n);e.push('style="top:'+-l/m+"px; left:"+-s/m+"px; width:"+c/m+"px; height:"+d/m+'px"')}else e.push('style="height:'+1.25*n+'px"');if(e.push(" /></div>"),e.push("<div class='msgCenterBox'>"),e.push("<div class='userInfoBox'>"),e.push("<div class='msgUser g_mirrorColor'>&nbsp;"+t.creator+"</div>"),e.push("<span class='msgLevalUser'></span>"),e.push("</div>"),"star"in t){e.push("<div class='fk-star-list'>");for(var p=Number(t.star),u=0;u<5;u++)u<p?e.push("<li class='faisco-icons-star3 select_more'></li>"):e.push("<li class='faisco-icons-star3 select_less'></li>");if(e.push("</div>"),1==p){var f=Number(jm(".fk-right-statisBox .badComm").text());jm(".fk-right-statisBox .badComm").text(f+1)}else if(p>3){var h=Number(jm(".fk-right-statisBox .hignComm").text());jm(".fk-right-statisBox .hignComm").text(h+1)}else{var g=Number(jm(".fk-right-statisBox .middComm").text());jm(".fk-right-statisBox .middComm").text(g+1)}var v=jm(".fk-comm-avgScore"),b=Number(v.attr("_tc"))+p,_=Number(v.attr("_ts"))+1,j=b/_;v.text(j.toFixed(1)),v.attr("_tc",b),v.attr("_ts",_)}if(e.push("</div>"),e.push("<div class='msgTime g_mirrorColor'>"+o+"</div>"),e.push("</div>"),e.push("<div class='msgContent g_defaultColor'>"+t.comment+"</div>"),void 0!==t.commImgList&&"null"!=t.commImgList){var M=jm.parseJSON(t.commImgList);if(null!=M&&M.length>0){e.push("<div class='ct-s-content-m'>"),e.push("<ul style='line-height:0'>");for(var y=0;y<M.length;y++)e.push("<li class='s-img-f-tb'>"),e.push("<table class='s-img-tb' cellpadding='0' cellspacing='0'>"),e.push("<tr>"),e.push("<td class='s-img-bd' valign='middle'   align='center'>"),e.push("<img src='"+M[y].path+"' alt='' class='s-img-set'>"),e.push("</td>"),e.push("</tr>"),e.push("</table>"),e.push("</li>");e.push("</ul>"),e.push("</div>")}}e.push("</div>"),null!=jm("#tabPanel3 .msgArea")[0]?(jm(e.join("")).insertBefore(jm("#tabPanel3 .msgArea")[0]),Mobi.setNewCommImgBindShow(),jm("#tabPanel3 .noCommentListDescribe").length&&jm("#tabPanel3 .noCommentListDescribe").parent().remove()):location.reload()}jm("#userCommentPanel .userCommentGoBack").click()},Mobi.getCommentAjaxPagenationV3=function(t,e){if(t){var i=jm("html").css("font-size"),o="pid="+t+"&pageno="+e+"&ajaxPage="+!0+"&rem="+(i=i.substring(0,i.length-2))+"&loadingPath="+Fai.top._loadingPath;jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/product_h.jsp?cmd=getWafNotCk_getProductInfoCommentV3",data:o,error:function(){Mobi.ing(LS.js_systemError)},success:function(t){var e=jm.parseJSON(t);e.html||(e.html=""),jm("#tabPanel3 .commentBoxPanel").remove(),document.getElementById("tabPanel3").insertBefore(jm(e.html)[0],jm("#tabPanel3 .userCommentBox")[0]),setTimeout((function(){Mobi.bindImgLazyLoad("tabPanel3")}),0),Mobi.setCommImgBindShow()}})}}},162:function(t,e){function i(t,e,i,o,n,a,r){try{var s=t[a](r),l=s.value}catch(t){return void i(t)}s.done?e(l):Promise.resolve(l).then(o,n)}function o(t){return function(){var e=this,o=arguments;return new Promise((function(n,a){var r=t.apply(e,o);function s(t){i(r,n,a,s,l,"next",t)}function l(t){i(r,n,a,s,l,"throw",t)}s(void 0)}))}}!function(t,e){e.component={el:"#weChatConsult",template:'\n\t\t\t<div id="weChatConsult" class="weChatConsult">\n                <div class="weChatConsultBg" @click="closeHandle"></div>\n                <div class="weChatConsultBox consultWechatQrCodeBounceIn">\n                \t<svg class="weChatConsultCloseBtn" @click="closeHandle"><use xlink:href="#jzm-v26" /></svg>\n                    <img class="weChatConsultImg" :src="imgSrc">\n                    <div class="weChatConsultTextBox">\n                    \t<span class="centerText">请使用微信扫描二维码</span>\n                    </div>\n                </div>\n            </div>\n         ',computed:{},methods:{closeHandle:function(){e.destroy()}},mounted:function(){}},e.render=function(e){this.vm&&(this.vm.imgSrc=e),t("<div id='weChatConsult'></div>").appendTo("body"),this.component.data={imgSrc:e},this.vm=new Vue(this.component)},e.destroy=function(){this.vm&&(t(this.vm.$el).remove(),this.vm&&this.vm.$destroy(),this.vm=null)}}(jm,Mobi.consultImmediately||(Mobi.consultImmediately={})),function(t,e){e((function(){Vue.component("picker-view",{props:{values:Array},template:"\n\t\t\t\t<div class='fk_picker_view'>\n\t\t\t\t\t<slot></slot>\n\t\t\t\t</div>\n\t\t\t"}),Vue.component("picker-view-column",{props:{list:{type:Array,required:!0},checkedIndex:Number},data:function(){return{startTime:null,endTime:null,startX:0,startY:0,endX:0,endY:0,moveX:0,moveY:0,currStyle:{},currIndex:this.checkedIndex||0}},computed:{offsetIndex:function(){return Math.round(this.offsetY/this.cellHeight)},offsetY:function(){var t=Math.round(this.moveY-this.startY);return t},moveOffsetY:function(){return Math.round(this.endY-this.startY)},moveOffsetIndex:function(){return Math.round(this.moveOffsetY/this.cellHeight)},cellHeight:function(){return 2.1*parseFloat(e("html").css("font-size"))}},watch:{checkedIndex:function(t){this.currIndex=t;var e=-this.currIndex*this.cellHeight;this.currStyle.transform="translate3d(0, ".concat(e,"px, 0)"),this.$forceUpdate()}},methods:{start:function(t){this.startTime=(new Date).getTime();var e=this.getTouch(t);this.startX=e.screenX,this.startY=e.screenY},move:function(t){var e=this.getTouch(t);this.moveX=e.screenX,this.moveY=e.screenY;var i=-this.currIndex*this.cellHeight+this.offsetY;this.currStyle={transform:"translate3d(0, ".concat(i,"px, 0)")}},end:function(t){this.endTime=(new Date).getTime();var e=this.getTouch(t);this.endX=e.screenX,this.endY=e.screenY;var i=this.endTime-this.startTime,o=this.moveOffsetY/i,n=30*this.cellHeight*o*.5,a=-Math.round(n/this.cellHeight),r=this.currIndex+a;r>this.list.length-1?r=this.list.length-1:r<=0&&(r=0),a=r-this.currIndex,this.currIndex=r;var s=Math.max(a/10*.3,.3),l=-this.currIndex*this.cellHeight;this.currStyle={transition:"transform ".concat(s,"s cubic-bezier(0.23, 1, 0.68, 1)"),transform:"translate3d(0, ".concat(l,"px, 0)")}},transitionEnd:function(){this.currStyle.transition="",this.$emit("change",this.currIndex)},getTouch:function(t){return t.changedTouches[0]}},template:'\n\t\t\t\t<div class="fk_picker_view_column">\n\t\t\t\t\t<div class=\'fk_picker_view_column_list\' @touchstart="start" @touchend="end" @touchmove="move" :style="currStyle" @transitionEnd="transitionEnd" @webkitTransitionEnd="transitionEnd">\n\t\t\t\t\t\t<div class="fk_picker_view_column_item"></div>\n\t\t\t\t\t\t<div class="fk_picker_view_column_item"></div>\n\t\t\t\t\t\t<div class="fk_picker_view_column_item" :active=\'currIndex===index\' :disabled="item.disabled" v-for="(item, index) in list">{{item.text}}</div>\n\t\t\t\t\t\t<div class="fk_picker_view_column_item"></div>\n\t\t\t\t\t\t<div class="fk_picker_view_column_item"></div>\n\t\t\t\t\t\t<div class="fk_picker_view_column_item"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'})}))}(Mobi,jm),function(t,e){e.component={el:"#calculationModalFrame",template:'\n\t\t\t<div id="calculationModalFrame" class="calculationModalFrame">\n                <div class="calculationModalFrameBg" @click="closeHandle">\n\t                <div class="content_box consultWechatQrCodeBounceIn" @click.stop>\n\t                \t<svg class="close_btn" @click="closeHandle"><use xlink:href="#jzm-v26" /></svg>\n\t                \t<div class="result_content">\n\t                \t\t<div class="formula_result" v-for="(item, index) in calculateReultList">\n\t\t                \t\t<div class="formula_result_text" v-html="encodeHtml(item.name)"></div>\n\t\t                \t\t<div class="formula_result_money">{{formatMoney(item.value)}}<span v-if="item.uHide == 0" class="formula_result_unit">{{item.unit}}</span></div>\n\t                \t\t</div>\n\t                \t\t<div class="variable_list">\n\t                \t\t\t<div class="vaiable_item" v-for="(item, index) in variableData">\n\t                \t\t\t\t<div class="variable_name" v-html="encodeHtml(item.name)"></div>\n\t                \t\t\t\t<div class="variable_value" v-if="item.type == 0">{{formatMoney(item.value)}}<span v-if="item.uHide == 0" class="variable_unit">{{item.unit}}</span></div>\n\t                \t\t\t\t<div class="variable_value" v-else>{{item.valueKey}}</div>\n\t                \t\t\t</div>\n\t                \t\t</div>\n\t                \t\t<a @click="clickHandle($event)" :href="imgHref" :onclick="jumpOnclickStr" class="result_img">\n\t                \t\t\t<img :src="imgSrc">\n\t                \t\t</a>\n\t                \t\t<div class="result_note_text" v-html="encodeHtml(resultText)"></div>\n\t                \t</div>\n\t                </div>\n                </div>\n            </div>\n         ',computed:{imgSrc:function(){return this.resultMsg.mip?this.resultMsg.mip:Fai.top._resRoot+"/image/v2/calculation_default_img.jpg?v=202003021225"},imgHref:function(){return"103"==this.resultMsg.jumpData.t&&Fai.top.manageMode?"javascript:top.Fai.ing('管理态不支持跳转外部链接，请通过“预览”进行访问', true)":this.resultMsg.jumpData.u?this.resultMsg.jumpData.u:"javascript:void(0)"},jumpOnclickStr:function(){return Fai.top.JZ.createUrlArgsOnclickStr(this.resultMsg.jumpData.reqArgs,!1)||null},resultText:function(){return this.resultMsg.mt?this.resultMsg.mt:" "}},methods:{encodeHtml:function(t){return t&&t.replace?t.replace(/&/g,"&amp;").replace(/ /g,"&nbsp;").replace(/\b&nbsp;+/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\\/g,"&#92;").replace(/'/g,"&#39;").replace(/"/g,"&quot;").replace(/\n/g,"<br/>").replace(/\r/g,""):t},closeHandle:function(){e.destroy()},clickHandle:function(t){if(Fai.top.Mobi.checkSaveBar())return t.preventDefault(),!1},formatMoney:function(t){t=(t+"").replace(/[^0-9+-Ee.]/g,"");var e=isFinite(+t)?+t:0,i="";i=function(t,e){var i=Math.pow(10,e);return""+Math.round(t*i,10)/i}(e,2).split(".");for(var o=/(-?\d+)(\d{3})/;o.test(i[0]);)i[0]=i[0].replace(o,"$1,$2");return(i[1]||"").length<2&&(i[1]=i[1]||"",i[1]+=new Array(2-i[1].length+1).join("0")),i.join(".")}},mounted:function(){}},e.render=function(e,i,o){this.vm&&(this.vm.calculateReultList=e,this.vm.variableData=i,this.vm.resultMsg=o),t("<div id='calculationModalFrame'></div>").appendTo("body"),this.component.data={calculateReultList:e,variableData:i,resultMsg:o},this.vm=new Vue(this.component)},e.destroy=function(){this.vm&&(t(this.vm.$el).remove(),this.vm&&this.vm.$destroy(),this.vm=null)}}(jm,Mobi.calculationModalFrame||(Mobi.calculationModalFrame={})),function(t,e){e((function(){var i=t.Toast,n=function(){var t={},e=1;return{open:function(o){i(o),e+=100,t[o._uid]=e},close:function(i){t[i._uid]<=1||(t[i._uid]=1,e-=100,Object.keys(t).every((function(e){return t[e]<=1}))&&(e=1))},get:function(e){return i(e),t[e._uid]}};function i(e){t[e._uid]=t[e._uid]||1}}();window.ZIndexController=n,Vue.component("coupon-popup",{props:{position:{type:String,default:"bottom"},visible:{type:Boolean,required:!0}},template:'\n                <div>\n                    <div @click.stop="call4Popup">\n                        <slot name="trigger"></slot>\n                    </div>\n                    <div v-dom-portal=\'"#portalContainer"\'>\x3c!-- 这个可能会导致组件通讯失败--\x3e\n                        <transition name="fade">\n                            <div class="fk_coupon_popup" :data-visible="visible" :data-pc="isPc" :style="style()">\n                                <div class="fk_coupon_popup_mask" @click.stop="hide4Popup"></div>\n                                \x3c!--阻止冒泡引起的奇怪问题--\x3e\n                                <div id="J_coupon_popup_box" class="fk_coupon_popup_box" :data-position="position" @click.stop="noop" >\n                                    <slot name="content"></slot>\n                                </div>\n                            </div>\n                        </transition>\n\n                    </div>\n                </div>\n            ',watch:{visible:function(){}},computed:{isPc:function(){return Mobi.isPC()}},methods:{style:function(){return{position:"relative","z-index":n.get(this)}},noop:function(){},call4Popup:function(){n.open(this),this.$emit("show")},hide4Popup:function(){n.close(this),this.$emit("hide")}},mounted:function(){var t=e(window).height();e(window).resize((function(){var i=e("#g_body").height()||0,o=t-i-380;e(window).height()<t?e("#J_coupon_popup_box").css("bottom",o/window._htmlFontSize+"rem"):e("#J_coupon_popup_box").css("bottom","0")}))}}),Vue.component("coupon-panel-item",{props:{isAvailableTab:{type:Boolean,required:!0},conponListFilter:{type:Array,required:!0},couponDetailId:{type:Number,default:-1},choiceCurrencyVal:{type:String,default:""},couponCodeOpen:{type:Boolean,default:!1},couponType:{type:Number,default:0},couponSysCode:{type:String,default:""}},data:function(){return{}},methods:{change:function(t){if(this.isAvailableTab||!1){var e=t.cdId||0,i=t.type||0,o=0,n=t.sysCode||"",a=!1;7==i?((a=this.couponSysCode==n)&&(n=""),o=1):((a=this.couponDetailId==e)&&(e=0),o=0),a?Mobi.logMallFdp("mall_consumer_coupon_operation",{mall_free_text_0:"取消使用优惠券"},!0):Mobi.logMallFdp("mall_consumer_coupon_operation",{mall_free_text_0:"切换优惠券"},!0),this.couponDetailId=e,this.$emit("change",{couponDetailId:e,couponType:o,sysCode:n})}}},template:'\n            <div class=\'coupon_list_scroll\'>\n                <div class="coupon_item"\n                    :class="isAvailableTab ? \'\' : \'coupon_disabled\'"\n                    v-for="(item, index) in conponListFilter" :key="index"\n                    @click.stop="change(item)">\n                    \x3c!-- 选中状态 --\x3e\n                    <div v-if="couponType == 1 ? (couponSysCode == item.sysCode && item.type == 7) : (couponDetailId == item.cdId && item.type != 7)"\n                        class="g_bgColor g_main_bgColor_v3 coupon_checked ">\n                        <svg class="coupon_checked_icon fk_mstl_icon" role=\'img\' ><use xlink:href=\'#icon_right01\'></use></svg>\n                    </div>\n                    \x3c!-- 优惠券信息 --\x3e\n                    <div class="coupon_item_content">\n                        \x3c!-- 价格信息 --\x3e\n                        <div class="coupon_price">\n                            <div class="save_price_wrap" v-if="item.saveType == 1">\n                                <div class="save_price g_mainColor g_main_color_v3">{{item.saveDiscount}}</div>\n                                <div class="currencyVal g_mainColor g_main_color_v3">折</div>\n                            </div>\n                            <div class="save_price_wrap" v-else>\n                                <div class="currencyVal g_mainColor g_main_color_v3">{{choiceCurrencyVal}}</div>\n                                <div class="save_price g_mainColor g_main_color_v3">{{item.savePrice}}</div>\n                            </div>\n                            \x3c!-- 使用门槛 --\x3e\n                            <div class="threshold">{{item.useCondition}}</div>\n                        </div>\n                        <div class="coupon_info">\n                            <div class="coupon_tit">{{item.couponName}}</div>\n                            <div class="coupon_time">{{item.validityStr}}</div>\n                            <div class="coupon_time" v-if="item.type == 7">兑换码：{{item.redeemCode}}</div>\n                        </div>\n                    </div>\n                    <div class="coupon_desc_wrap"\n                        v-if="isAvailableTab && item.comments">\n                        <div class="coupon_item_desc">{{item.comments}}</div>\n                    </div>\n                    <div class="coupon_desc_wrap"\n                        v-if="!isAvailableTab && item.unavailableReason">\n                        <div class="coupon_item_desc">\n                            {{item.unavailableReason}}\n                            <div v-if="item.comments">{{item.comments}}</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            '}),Vue.component("coupon-panel-tool",{props:{couponCode:{type:String,default:""}},data:function(){return{}},computed:{enabledCodeBtn:function(){var t=this.couponCode.length||0;return t>=6&&t<=15}},methods:{couponCodeInput:function(){this.$emit("change",this.couponCode)},exchange:function(){this.enabledCodeBtn&&this.$emit("exchange",this.couponCode)},resetCouponCode:function(){this.couponCode=""}},template:'\n            <div class="coupon_toolbar">\n                <input class="coupon_code_input" placeholder="请输入优惠码" maxlength="15" v-model="couponCode" @input="couponCodeInput"></input>\n                <button class="coupon_code_btn g_bgColor  g_main_bgColor_v3" :disabled="!enabledCodeBtn" @click.stop="exchange">兑换</button>\n            </div>\n            '}),Vue.component("coupon-panel",{props:{couponList:{type:Array,required:!0,default:function(){return[]}},unavailableCouponList:{type:Array,required:!0,default:function(){return[]}},couponDetailId:{type:Number,default:-1},choiceCurrencyVal:{type:String,default:""},couponCodeOpen:{type:Boolean,default:!1},couponType:{type:Number,default:0},couponSysCode:{type:String,default:""},checkType:{type:Number,default:0},preOrderId:{type:Number,default:0},totalPrice:{type:String,default:""}},data:function(){return{visible:!1,tabIndex:0,isAvailableTab:!0,couponCode:"",emptyIcon:"".concat(Fai.top._resRoot,"/image/coupon/coupon_panel_empty.png")}},computed:{tabList:function(){var t=this.couponList||[],e=this.unavailableCouponList||[];return[{name:LS.itgCanUse+LS.coupon,num:t.length||0},{name:LS.expired+LS.coupon,num:e.length||0}]},conponListFilter:function(){var t=[];return 0==this.tabIndex?t=this.couponList||[]:1==this.tabIndex&&(t=this.unavailableCouponList||[]),t.map((function(t){t.unavailableReason&&t.orderMinPrice&&(t.unavailableReason=LS.fullMinCanUse.replace("{0}",t.orderMinPrice))})),t},enabledCodeBtn:function(){var t=this.couponCode.length||0;return t>=6&&t<=15},choosedCoupon:function(){var t=this,e=this.couponList.filter((function(e){return 1==t.couponType?7==e.type&&e.sysCode==t.couponSysCode:7!=e.type&&e.cdId==t.couponDetailId}))[0]||null;return e},notUse:function(){return LS.notUse},coupon:function(){return LS.coupon},numberAvailable:function(){return LS.mobi_piece+LS.itgCanUse},noCouponToUse:function(){return LS.noCouponToUse},numberOrCoupon:function(){return LS.coupon+"/"+LS.couponNumber}},methods:{call4Popup:function(){this.visible=!0,Mobi.logMallFdp("mall_discode_view",{mall_free_bool_0:!0},!0)},switchTab:function(t){var e=0==t;this.tabIndex=t,this.isAvailableTab=e,e||Mobi.logMallFdp("mall_consumer_coupon_operation",{mall_free_text_0:"查看不可用优惠券"},!0)},changeCoupon:function(t){this.visible=!1,this.$emit("change",t)},checkCouponCode:function(t){},couponCodeInput:function(t){},waitToast:function(){return new Promise((function(t){setTimeout((function(){t()}),1e4)}))},resetCouponCode:function(){this.$refs.couponPanelTool.resetCouponCode()},exchange:function(t){var e=this;return o(regeneratorRuntime.mark((function n(){var a,r,s,l,c,d,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.couponCode=t||"",a=e.couponDetailId||"",r=e.couponType||0,s=e.couponSysCode||"",e.couponCodeOpen){n.next=6;break}return n.abrupt("return");case 6:l=e.checkType,c=!1,!1,d="",m="",n.t0=l,n.next=0===n.t0?14:1===n.t0?16:2===n.t0?18:20;break;case 14:return m="优惠券中心",n.abrupt("break",21);case 16:return m="订单结算页",n.abrupt("break",21);case 18:return m="当面付",n.abrupt("break",21);case 20:return n.abrupt("break",21);case 21:o(regeneratorRuntime.mark((function o(){var n,p;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Mobi.Ajax.checkAndSetCode({code:t,checkType:l,preOrderId:e.preOrderId,totalPrice:e.totalPrice});case 3:return(n=o.sent).success&&!n.isAvailable?(l&&(i.fail("当前订单不可用",{time:3e3}),e.waitToast()),n.codeInfo||{},e.$emit("change",{couponDetailId:a,couponType:r,sysCode:s}),e.switchTab(1),c=!0,e.resetCouponCode()):n.success&&n.isAvailable?(i.success(n.msg,{time:3e3}),e.waitToast(),p=n.codeInfo||{},e.$emit("change",{couponDetailId:-1,couponType:1,sysCode:p.sysCode}),e.visible=!1,e.resetCouponCode(),c=!0,!0):(d=n.msg||"",i.fail(n.msg,{time:3e3})),Mobi.logMallFdp("mall_discode_consumer",{mall_free_bool_0:c,mall_free_text_0:d,mall_free_text_1:m},!0),o.abrupt("return",n);case 9:o.prev=9,o.t0=o.catch(0),i.fail("网络繁忙",{time:3e3});case 12:case"end":return o.stop()}}),o,null,[[0,9]])})))();case 22:case"end":return n.stop()}}),n)})))()}},template:'\n\t\t\t\t<div class="">\n\n                    <coupon-popup :visible="visible" @show="call4Popup" @hide="visible=false">\n                        <template v-slot:trigger>\n                            <div class=\'coupon_panel_wrap\'>\n                                <div class=\'l_area\'>{{coupon}}<div class=\'couponTips\'>({{couponList.length}}{{numberAvailable}})</div></div>\n                                <div class=\'r_area\'>\n                                    <div class=\'rightKeyName\'>\n                                        <div class="save_price_tip g_mainColor g_main_color_v3" v-if="choosedCoupon && choosedCoupon.saveType == 1">-{{choiceCurrencyVal}}{{choosedCoupon.tmpSavePrice}}</div>\n                                        <div class="save_price_tip g_mainColor g_main_color_v3" v-else-if="choosedCoupon && choosedCoupon.saveType == 0">-{{choiceCurrencyVal}}{{choosedCoupon.savePrice}}</div>\n                                        <div v-else>{{notUse}}</div>\n                                    </div>\n                                    \x3c!-- <div class=\'icon-rightIcon iconRight\'></div> --\x3e\n\n                                    <svg class="jzm-v2 fk_mstl_icon" role=\'img\' ><use xlink:href=\'#jzm-v2\'></use></svg>\n                                </div>\n                            </div>\n                        </template>\n                        <template v-slot:content>\n                            \x3c!-- 内容区 start --\x3e\n                            <div class="coupon_panel" :class="couponCodeOpen ? \'show_coupon_code\': \'\'">\n                                <div class="coupon_header">{{numberOrCoupon}}</div>\n                                \x3c!-- 优惠码兑换 --\x3e\n                                <coupon-panel-tool ref="couponPanelTool" :counponCode="couponCode" @change="couponCodeInput" @exchange="exchange"></coupon-panel-tool>\n                                \x3c!--\n                                <div class="coupon_toolbar">\n                                    <input class="coupon_code_input" placeholder="请输入优惠码" maxlength="15" :value="couponCode" @input="couponCodeInput($event)"></input>\n                                    <button class="coupon_code_btn g_bgColor  g_main_bgColor_v3" :disabled="!enabledCodeBtn" @click.stop="exchange">兑换</button>\n                                </div>\n                                --\x3e\n                                <div class="coupon_wrap">\n                                    \x3c!-- 可用/不可用 --\x3e\n                                    <div class="coupon_nav">\n                                        <div v-for="(item, index) in tabList" :key="index"\n                                            class="coupon_type_item"\n                                            :class="tabIndex == index ? \'enable_tab\': \'\'"\n                                            @click.stop="switchTab(index)"\n                                            >{{item.name}}（{{item.num}}）\n                                            <div class="active_nav g_bgColor g_main_bgColor_v3" :class="tabIndex == index ? \'active\': \'\'"></div>\n                                        </div>\n                                    </div>\n                                    \x3c!-- 优惠券列表 --\x3e\n                                    <div class="coupon_list">\n\n                                            <coupon-panel-item\n                                                v-if="conponListFilter.length"\n                                                :isAvailableTab="isAvailableTab"\n                                                :conponListFilter="conponListFilter"\n                                                :couponDetailId="couponDetailId"\n                                                :choiceCurrencyVal="choiceCurrencyVal"\n                                                :couponCodeOpen="couponCodeOpen"\n                                                :couponType="couponType"\n                                                :couponSysCode="couponSysCode"\n                                                @change="changeCoupon">\n                                            </coupon-panel-item>\n\n                                        <div class="empty_panel" v-else>\n                                            <img class="empty_panel_icon" :src="emptyIcon"></img>\n                                            <div class="empty_panel_text">{{noCouponToUse}}</div>\n                                        </div>\n                                    </div>\n                                    \x3c!-- 优惠券列表 --\x3e\n                                </div>\n                            </div>\n                            \x3c!-- 内容区 end --\x3e\n                        </template>\n                    </coupon-popup>\n                </div>\n\t\t\t'})}))}(Mobi,jm)},163:function(t,e){function i(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function o(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var a=Mobi.formPopup||(Mobi.formPopup={},Fai.top.Mobi.formPopup=Mobi.formPopup),r=jm("body"),s=jm;function l(t){if(!t)return document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;document.documentElement.scrollTop=t,window.pageYOffset=t,document.body.scrollTop=t}a.component={el:"#formDiv",template:'\n\t\t\t<div id="formDiv" class="formDiv" :class="popupStyle" @click="panelClick" ref="formDiv">\n\t\t\t\t<div v-if="isCoverStyle" @click="stopPropagation" class=\'formHeader ShipDetailsHeader webHeaderBg g_main_bgColor_v3 g_oldThemeBgColor\'>\n\t\t\t\t\t<span class=\'g_close icon-gClose J_popup_close\' @click="closeHandle"></span>\n\t\t\t\t\t<span class=\'popupName\'>{{module.name}}</span>\n\t\t\t\t</div>\n\t\t\t\t<div id=\'modulePopupWrap\' v-drag-resize="resizeOptions" :style="popupWidthStyle" ref="modulePopupWrap">\n\t\t\t\t\t<div id=\'modulePopup\' @click="stopPropagation">\n\t\t\t\t\t\t<div class="fixedHead" :class="noAnimationClass" :style="fixedHeadWidthStyle"  ref="fixedHead">\n\t\t\t\t\t\t\t<span v-if="!isCoverStyle" class=\'popupName\'>{{module.name}}</span>\n\t\t\t\t\t\t\t<span v-if="!isCoverStyle && showCloseBtn" class="mask_close J_popup_close" @click="closeHandle">\n\t\t\t\t\t\t\t\t<svg role="img" class="jzm-v26 J_popup_close">\n\t\t\t\t\t\t\t\t\t<use xlink:href="#jzm-v26"></use>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div id=\'formComponent\'></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n            </div>\n\t\t ',data:function(){return{formId:a.formId,module:a.module}},computed:{isCoverStyle:function(){return 0===this.module.content.ps},popupStyle:function(){return this.isCoverStyle?"coverStyle":"maskStyle"},showCloseBtn:function(){return 0===this.module.content.pcb},noAnimationClass:function(){return Fai.top._manageMode?"":"noAnimationClass"},popupWidthStyle:function(){if(!this.isCoverStyle){var t={},e=this.module.content.pw;return 1===e.t?t.width=e.w+"%":t.width="90%",t}},fixedHeadWidthStyle:function(){var t={},e=this.module.content.pw;return 1===e.t?t.width=e.w-3+"%":t.width="88%",t},resizeOptions:function(){var t=!Fai.top._manageMode||Fai.top._manageMode&&this.isCoverStyle,e=.5*r[0].offsetWidth,i=.9*r[0].offsetWidth;return{notAllow:t,handles:"w,e",alsoResizeParentSelector:null,alsoResizeChildSelector:null,fixPosition:!0,resize:this.resizeing,stop:this.resizeStop,maxHeight:null,maxWidth:i,minHeight:null,minWidth:e}}},methods:{resizeing:function(t,e){var i=o({},e.size).width,n=jm(t.target),a=jm(n).find(".fixedHead");n.css({height:"auto"}),a.css({width:i-2+"px"})},resizeStop:function(t,e){var i=jm(t.target),n=o({},e.size).width,a=r[0].offsetWidth,s=Math.round(n/a*100);s<50&&(s=50),s>90&&(s=90),this.module.content.pw.t=1,this.module.content.pw.w=s,i.css({height:"auto",width:n+"px"}),this.resize=1,Mobi.logDog(201228,12),Fai.top._mobiFormChange=!0,Fai.top.Mobi.styleChanged()},panelClick:function(){this.isCoverStyle&&Fai.top._manageMode?Fai.top.Mobi.openDesigner("mobiFormPopup","84",84,"","",!0):this.isCoverStyle||(1!=this.resize?a.destroy():1==this.resize&&(this.resize=0))},closeHandle:function(){a.destroy()},stopPropagation:function(t){var e=jm(t.target);e.hasClass("J_popup_close")||e.parents(".mask_close").hasClass("J_popup_close")||(1!=this.resize&&Fai.top._manageMode?Fai.top.Mobi.openDesigner("mobiFormPopup","84",84,"","",!0):1==this.resize&&(this.resize=0)),t.stopPropagation()}},mounted:function(){a.rending=!0;var t=this.$refs.modulePopupWrap.offsetWidth;jm(".fixedHead").css({transition:"none",width:"".concat(t,"px")}),setTimeout((function(){jm(".fixedHead").css({transition:"width 0.5s, height 0.5s"})}),0)},watch:{"module.content.ps":{handler:function(){this.$nextTick((function(){var t=this.$refs.modulePopupWrap.offsetWidth,e=jm(".fixedHead");e.css({transition:"none",width:"".concat(t,"px")}),setTimeout((function(){e.css({transition:"width 0.5s, height 0.5s"})}),0)}))},deep:!0}}},a.render=function(t,e,i){var o=e;if(a.scrollTop=l(),jm(this.component.template).appendTo("body"),this.formId=t,this.module=o,this.moduleWrap=new Vue(this.component),this.vueModule=new Vue({el:"#formComponent",provide:{module:o,options:i,formId:t},render:function(t){return t(JzmModule.default)}}),a.module=o,a.formId=t,Fai.top._manageMode){var n=i.args.itemList;Mobi.initModuleLayer("Popup",n,[],!1,!1,!1,7),Fai.top.mobiFormPopupIng=!0}},a.destroy=function(){a.rending=!1;var t=this.moduleWrap,e=this.vueModule;l(a.scrollTop),t&&(s(t.$el).remove(),t&&t.$destroy(),t=null),e&&(s(e.$el).remove(),e&&e.$destroy(),e=null),Fai.top._manageMode&&(Fai.top.Mobi.closeDesigner(),Fai.top.Designer.formPanel.destroy(),Fai.top.mobiFormPopupIng=!1)}},164:function(t,e){(Mobi.mapDetail||(Mobi.mapDetail={},Fai.top.Mobi.mapDetail=Mobi.mapDetail)).render=function(t,e,i){var o=JzmModule.utils.getComponentByName("mapView"),n=jm("body");jm(".map_view").remove(),n.append("\n\t\t<div class='map_view'>\n\t\t\t<map-view :location='location' :module=\"module\" :options=\"options\"></map-view>\n\t\t</div>\n\t\t"),n.css("overflow-y","hidden"),new Vue({el:".map_view",components:{mapView:o},data:function(){return{}},computed:{location:function(){return t},module:function(){return i},options:function(){return e}}})}},165:function(module,exports){function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function asyncGeneratorStep(t,e,i,o,n,a,r){try{var s=t[a](r),l=s.value}catch(t){return void i(t)}s.done?e(l):Promise.resolve(l).then(o,n)}function _asyncToGenerator(t){return function(){var e=this,i=arguments;return new Promise((function(o,n){var a=t.apply(e,i);function r(t){asyncGeneratorStep(a,o,n,r,s,"next",t)}function s(t){asyncGeneratorStep(a,o,n,r,s,"throw",t)}r(void 0)}))}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}Mobi.closeFloatZone=function(){jm("#floatZoneContainer").remove()},Mobi.isPCPreview=function(){var t=self!=top,e=function(){for(var t=navigator.userAgent,e=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],i=!0,o=0;o<e.length;o++)if(t.indexOf(e[o])>0){i=!1;break}return i}();return!t&&e},Mobi.fixFixedPostion=function(){var t=jm("body"),e=jm("#g_web"),i=t.length&&e.length,o=Mobi.isPCPreview(),n=(t.offset().width-e.offset().width)/2;o&&i&&jm(".floatZoneContainer .float_zone_wrap .form").each((function(t,e){var i=jm(e).offset().left+n;jm(e).css({left:"".concat(i,"px")})}))},Mobi.initFloatEffect=function(t){Vue.component("float-effect",{name:"FloatEffect",props:{iconType:{type:Number},imgSrc:{type:String},styleType:{type:Number},iconBackgroundColor:{type:String},iconBackgroundColorType:{type:Number},iconColor:{type:String},iconColorType:{type:Number},jumpUrl:{type:String},jumpInfo:{type:Object}},computed:{svgIconId:function(){return{0:"#jzm-vphone_1",1:"#jzm-vmessage",2:"#jzm-vcustomer_service"}[this.iconType]},iconBgStyle:function(){return 0===this.iconBackgroundColorType?{}:{"background-color":this.iconBackgroundColor}},iconStyle:function(){return 0===this.iconColorType?{}:{color:this.iconColor}},hasLink:function(){return-1!==this.jumpInfo.t}},methods:{jumpClickHandler:function(){if(this.jumpUrl){if(Fai.top._manageMode){if(this.jumpUrl.includes("http")||this.jumpUrl.includes("https"))return void Fai.top.Fai.ing("管理态不支持跳转外部链接，请通过“预览”进行访问",!0);if(this.hasLink&&Fai.top.Mobi.checkSaveBar())return}Fai.top.JZ.setUrlArgToCookieAndJump(this.jumpUrl,this.jumpInfo.reqArgs)}}},template:'\n      <div class ="float_effect" @click.stop="jumpClickHandler">\n        <div v-if="styleType === 1" class="float_effect_style float_effect_style_1 g_main_bgColor_v3 g_oldThemeBgColor" :style="iconBgStyle">\n          <svg v-if="iconType !== 3" class="preview_icon" :style="iconStyle">\n            <use :xlink:href="svgIconId" />\n          </svg>\n          <img v-else-if="imgSrc" :src="imgSrc" class="preview_icon"/>\n        </div>\n        <div v-if="styleType === 2" class="float_effect_style float_effect_style_2 g_main_bgColor_v3 g_oldThemeBgColor" :style="iconBgStyle" >\n          <svg v-if="iconType !== 3" class="preview_icon" :style="iconStyle">\n            <use :xlink:href="svgIconId" />\n          </svg>\n          <img v-else-if="imgSrc" :src="imgSrc" class="preview_icon"/>\n        </div>\n        <div v-if="styleType === 3" class="float_effect_style float_effect_style_3" :style="iconBgStyle">\n          <svg v-if="iconType !== 3" class="preview_icon" :style="iconStyle">\n            <use :xlink:href="svgIconId" />\n          </svg>\n          <img v-else-if="imgSrc" :src="imgSrc" class="preview_icon"/>\n        </div>\n      </div>\n    '}),jm("#J_floatEffectPH").append('\n  <float-effect\n    id="floatEffect"\n    :icon-type="it"\n    :img-src="imgSrc"\n    :style-type="st"\n    :icon-background-color="ibc"\n    :icon-background-color-type="ibct"\n    :icon-color="ic"\n    :icon-color-type="ict"\n    :jump-url="jumpInfo.u"\n    :jump-info="jumpInfo"\n    v-if="isShow"\n    >\n\n  </float-effect>');var e=new Vue({el:"#floatEffect",data:t,computed:{isShow:function(){return 0===this.ft&&this.isShowFloatEffect}},watch:{isShow:function(){var t=this;this.isShow&&this.$nextTick((function(){t.initModuleLayer()}))}},mounted:function(){this.initModuleLayer(),this.fixPosition()},methods:{initModuleLayer:function(){if(Fai.top._manageMode){var t=[];t.push({display:"text",text:"编辑",title:"点击编辑悬浮效果",evalScript:"Fai.top.Mobi.openDesigner('JzFloatEffectEdit')"}),t.push({display:"icon",iconClass:"close",text:"隐藏",title:"点击隐藏浮效果",evalScript:"top.Fai.ing('点击隐藏悬浮图标，隐藏后可以从“设置”-“基本设置”-“全站设置”重新选择。',true);Fai.top.Mobi.hideFloatEffect();Mobi.setFloatEffectShowStatus();"}),$("#floatEffect").off("mousemove").on("mousemove",(function(){Mobi.addModuleLayer("floatEffect",t,1)})).off("mouseleave").on("mouseleave",(function(){Mobi.removeModuleLayer("floatEffect")}))}},fixPosition:function(){if(this.isShow){var t=Mobi.isPCPreview(),e=jm("body"),i=jm("#g_web"),o=e.length&&i.length,n=jm(this.$el);if(t&&n&&o){var a=(e.offset().width-i.offset().width)/2,r=n.offset().left+a;n.css({left:"".concat(r,"px")})}}}}});Fai.top._manageMode&&(Fai.top.Mobi.setFloatEffectShowStatus=function(){var t;(t=Fai.top._rootStore.getters.getIsIndependentShowFloatEffectType?Fai.top._rootStore.getters.getIsIndependentShowFloatEffect:Fai.top._rootStore.getters.getIsShowFloatEffect)&&e.initModuleLayer(),e.isShowFloatEffect=t;var i=$("#floatZoneContainer");1===e.ft&&t?i.show():i.hide()},Fai.top.Mobi.hideFloatEffect=function(){Fai.top.Mobi.JZFloatEffectGuide.run(),Fai.top._rootStore.commit("changeIsShowFloatEffect",!1),Fai.top.Mobi.styleChanged(),Mobi.removeModuleLayer("floatEffect")},Fai.top.Mobi.hideFloatContainer=function(){Fai.top.Mobi.JZFloatEffectGuide.run(),Fai.top._rootStore.commit("changeIsShowFloatEffect",!1),Fai.top.Mobi.styleChanged()})};var FloatZone=function(){function FloatZone(){_classCallCheck(this,FloatZone),this.editClass="jz_floatZoneEdit",this.moduleClass="jz_float_zone_module",this.isEdit=!1,this.moduleContentClass="float_zone_wrap",this.activeBtnClass="active",this.modulePosition=null,this.delModuleList=[],this.historyModules=[],this.curColHistoryModules=[],this.dragChange="dragChange"}var _cancelEdit,_initLayout,_edit;return _createClass(FloatZone,[{key:"edit",value:(_edit=_asyncToGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initLayout();case 2:this.initAddModuleDragable(),this.isEdit=!0,this.initHistoryModules(!0);case 5:case"end":return t.stop()}}),t,this)}))),function(){return _edit.apply(this,arguments)})},{key:"initDesignLayout",value:function(){this.$designBody=Fai.top.$("body"),this.$designBody.addClass(this.editClass),this.initBtn()}},{key:"initBtn",value:function(){var t=this;Fai.top.$("\n            <div id='float_zone_edit_wrap' class=\"float_zone_edit_wrap\">\n                <span class='jz_button float_zone_edit_save' >保 存</span>\n                <span class='jz_button float_zone_edit_cancel '>取 消</span>\n                <span class='jz_button float_zone_edit_close active'>退出弹窗设计</span>\n            </div>\n        ").appendTo(Fai.top.$("#mobiReviewPage"));var e=Fai.top.$("#float_zone_edit_wrap");this.$saveBtn=e.find(".float_zone_edit_save"),this.$saveBtn.click((function(e){t.$saveBtn.hasClass(t.activeBtnClass)&&(e.stopPropagation(),t.save(),t.deactiveBtn())})),this.$cancelBtn=e.find(".float_zone_edit_cancel"),this.$cancelBtn.click((function(e){t.$cancelBtn.hasClass(t.activeBtnClass)&&(e.stopPropagation(),t.cancelEdit())})),this.$exitBtn=e.find(".float_zone_edit_close"),this.$exitBtn.click((function(e){t.$exitBtn.hasClass(t.activeBtnClass)&&(e.stopPropagation(),t.exitEdit(),t.refreshVisit())}))}},{key:"destoryBtn",value:function(){Fai.top.$("#float_zone_edit_wrap").remove()}},{key:"resetDesignLayout",value:function(){this.$designBody.removeClass(this.editClass),this.destoryBtn()}},{key:"initModulePanelLayout",value:function(){this.$modulePanel=Mobi.getModuleWindow().$("body"),this.$modulePanel.addClass(this.editClass);var t=Fai.top.v_colModuleManagePanel,e=t.commFun,i=t.pageManageVue.pageManageTabDef;e.switchPanel("addModule",i,(function(){i[1].hidden=!0,i[2].hidden=!0}))}},{key:"resetModulePanelLayout",value:function(){this.$modulePanel.removeClass(this.editClass);var t=Fai.top.v_colModuleManagePanel,e=t.commFun,i=t.pageManageVue.pageManageTabDef;e.switchPanel("addModule",i,(function(){i[1].hidden=!1,i[2].hidden=!0})),i[0].innerTag[0].isActive=!0,i[0].innerTag[1].isActive=!1,this.resetHistoryModules()}},{key:"initVisitLayout",value:function(){var _initVisitLayout=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var _this3=this,data,id,div,moduleInfo,script,inModuleListInfo,content,moduleList;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.ajaxDom();case 2:data=_context2.sent,id=data.id,div=data.div,moduleInfo=data.moduleInfo,script=data.script,inModuleListInfo=data.inModuleListInfo,content=moduleInfo.content,moduleList=content.moduleList,this.inModuleListInfo=inModuleListInfo,this.moduleInfo=moduleInfo,this.id=id,$("#floatZoneContainer").remove(),Fai.top._floatZoneId=id,this.$module&&this.$module.remove(),this.$module=$(div),this.$module.addClass(this.moduleClass),this.$visitModuleContainer=$("#webModuleContainer"),this.$visitModuleContainer.append(this.$module),this.$visitBody=$("body"),this.$visitBody.addClass(this.editClass),this.script=script,eval(this.script),moduleList.forEach((function(t){_this3.activeModuleAction(t.id)}));case 21:case"end":return _context2.stop()}}),_callee2,this)})));function initVisitLayout(){return _initVisitLayout.apply(this,arguments)}return initVisitLayout}()},{key:"resetVisitLayout",value:function(){this.$visitBody.removeClass(this.editClass),this.$module.remove()}},{key:"initLayout",value:(_initLayout=_asyncToGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initVisitLayout();case 2:this.initDesignLayout(),this.initModulePanelLayout();case 4:case"end":return t.stop()}}),t,this)}))),function(){return _initLayout.apply(this,arguments)})},{key:"resetLayout",value:function(){this.resetDesignLayout(),this.resetModulePanelLayout(),this.resetVisitLayout(),this.isEdit=!1}},{key:"exitEdit",value:function(){this.resetLayout(),Fai.top.preModulePosition=0,Fai.top.Mobi.openDesigner("JzFloatEffectEdit")}},{key:"cancelEdit",value:(_cancelEdit=_asyncToGenerator(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Fai.top.Fai.ing("正在取消..."),t.next=3,this.initVisitLayout();case 3:this.initAddModuleDragable(),this.initHistoryModules(),this.delModuleList=[],Fai.top.Fai.ing("取消成功",!0),this.deactiveBtn();case 8:case"end":return t.stop()}}),t,this)}))),function(){return _cancelEdit.apply(this,arguments)})},{key:"ajaxDom",value:function(t){return t||(t={}),0!==Fai.top._floatZoneId&&Fai.top._hasFloatZoneInfo?this.getFloatZone(t):this.initFloatZone()}},{key:"initFloatZone",value:function(){return new Promise((function(t,e){$.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax/mobimodule_h.jsp",oldPath:Mobi.genAjaxUrl("mobimodule_h.jsp")})+"?cmd=addWafCk_addFloatZoneModule&style=103&colId="+Fai.top._colId+"&extId="+Fai.top._extId,error:function(){Fai.top.Fai.ing("打开悬浮容器失败！",!1),e()},success:function(e){var i=$.parseJSON(e);i.script="",t(i)}})}))}},{key:"getFloatZone",value:function(t){var e=t.isEditFloatZone,i=void 0===e||e;return new Promise((function(t,e){$.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax/mobimodule_h.jsp",oldPath:Mobi.genAjaxUrl("mobimodule_h.jsp")})+"?cmd=getWafNotCk_getFloatZoneModule&style=103&colId="+Fai.top._colId+"&extId="+Fai.top._extId+"&floatZoneId="+Fai.top._floatZoneId,data:"isEditFloatZone=".concat(i),error:function(){Fai.top.Fai.ing("打开悬浮容器失败！",!1),e()},success:function(e){var i=$.parseJSON(e).rtInfo,o=i=$.parseJSON(i),n=o.moduleId,a=o.moduleInfo,r=o.dom,s=o.script,l=o.inModuleListInfo;t({id:n,moduleInfo:a,div:r,script:s,inModuleListInfo:l})}})}))}},{key:"initPreview",value:function(){var _initPreview=_asyncToGenerator(regeneratorRuntime.mark((function _callee5(){var data,div,script,isShowFloatEffect,isIndependentShowFloatEffectType,isIndependentShowFloatEffect,isShowFloatZone,style,floatZoneContainer;return regeneratorRuntime.wrap((function _callee5$(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,this.ajaxDom({isEditFloatZone:!1});case 2:data=_context5.sent,div=data.div,script=data.script,$("#floatZoneContainer").remove(),isShowFloatEffect=Fai.top._rootStore.getters.getIsShowFloatEffect,isIndependentShowFloatEffectType=Fai.top._rootStore.getters.getIsIndependentShowFloatEffectType,isIndependentShowFloatEffect=Fai.top._rootStore.getters.getIsIndependentShowFloatEffect,isShowFloatZone=!1,isShowFloatZone=isIndependentShowFloatEffectType?isIndependentShowFloatEffect:isShowFloatEffect,style=isShowFloatZone?"":"display:none;",floatZoneContainer=$('<div id="floatZoneContainer" class="floatZoneContainer" style="'.concat(style,'">').concat(div,"</div>")),$("#g_web").append(floatZoneContainer),this.script=script,eval(this.script);case 15:case"end":return _context5.stop()}}),_callee5,this)})));function initPreview(){return _initPreview.apply(this,arguments)}return initPreview}()},{key:"initAddModuleDragable",value:function(){this.$module.find("J_floatZoneSortContainer").length<1&&$("<div moduleId='"+this.id+"' class='J_floatZoneSortContainer fk-floatZoneSortContainer'></div>").appendTo(this.$module)}},{key:"addModule",value:function(t,e,i){var o,n=e.id,a=null;if(o=t.replace("inFloat_",""),$("#module"+o).find(".float_zone_wrap").append(i),a=$("#module"+n),this.modulePosition){var r=this.modulePosition,s=r.top,l=r.left,c=0,d=0;a.hasClass("formStyle54")?(c=a[0].offsetHeight,d=a.find(".floatBtn").width()+a[0].offsetWidth-a.width()):a.hasClass("formStyle52")?(c=a.height(),d=a.find(".fkEditor").width()):a.hasClass("formStyle53")&&(c=a.height(),d=a.find(".floatImgWrap").width()),(s-=c/2)<0&&(s=0),(l-=d/2)<0&&(l=0),a.css({position:"absolute",top:s,left:l})}else a.css({position:"absolute",top:0,left:0});this.modulePosition=null,Fai.top.Mobi.getModuleAttr(n).pattern.changed=!0,Fai.top.Mobi.styleChanged(),this.activeModuleAction(n)}},{key:"activeModuleAction",value:function(t){var e=$("#module"+t);e.attr("_infloatzone",this.id),e.css({position:"absolute"}),this.initResizable(e),this.initDragble(e)}},{key:"initDragble",value:function(t){var e=this,i=$(t);if(!(i.length<1)){var o=parseInt(i.attr("_modulestyle")),n=parseInt(i.attr("id").replace("module",""));i.draggable("destroy").draggable({containment:"parent",cursor:"move",axis:"x,y",scroll:!1,distance:3,tolerance:2,smartguides:".form",cancel:".formLockEdit, input, textarea, select, .ui-resizable-handle",start:function(){i.css({"pointer-events":"none"})},drag:function(){52!=o&&53!=o&&54!=o||Fai.top.$("#fkEditor-toolBar-"+n).hide()},stop:function(){var t=$("#module"+n),i=Fai.top.Mobi.getModuleAttr(n);t.data(e.dragChange,!0),i.pattern.changed=!0,Fai.top.Mobi.styleChanged(),t.css({"pointer-events":"auto"})}})}}},{key:"initResizable",value:function(t){t.hasClass("formStyle52")?Mobi.getPreviewWindow().Mobi.simpleTextResize(t):t.hasClass("formStyle53")?Mobi.getPreviewWindow().Mobi.floatImgResize(t):t.hasClass("formStyle54")&&Mobi.getPreviewWindow().Mobi.floatBtnResize(t)}},{key:"save",value:function(){var t=this.getFloatZoneInfo(),e=this.getInModuleContent(),i=this.id,o=[];o.push("&content=".concat(JSON.stringify(t))),o.push("&inModules=".concat(encodeURIComponent(JSON.stringify(e)))),o.push("&floatZoneId=".concat(JSON.stringify(i))),o.push("&delModuleList=".concat(JSON.stringify(this.delModuleList))),$.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax/mobimodule_h.jsp",oldPath:Mobi.genAjaxUrl("mobimodule_h.jsp")})+"?cmd=setWafCk_setFloatZoneModule&style=103&colId="+Fai.top._colId+"&extId="+Fai.top._extId+"&id="+i,data:o.join(""),error:function(){Fai.top.Fai.ing("服务繁忙，请稍候重试",!1)},success:function(t){Fai.top.Fai.successHandle(t,"保存成功","系统错误","",3,1)}})}},{key:"getFloatZoneInfo",value:function(){var t=this,e={},i=[],o=this.moduleInfo.content.moduleList,n=Fai.top.$("#mobiReviewPage").height();this.$module.find(".".concat(this.moduleContentClass," .form")).each((function(e,a){var r=parseInt($(a).attr("id").replace("module","")),s={},l=$(a),c=l.data(t.dragChange),d=o.find((function(t){return t.id===r}));d||(c=!0),s.id=r,s.t=c?Math.trunc(1e4*t.toFixedFix(l[0].offsetTop/n,4)):d.t,s.l=c?l[0].offsetLeft:d.l,s.s=l.is(":visible"),i.push(s)})),o.forEach((function(e){var o=e.s,n=e.id,a=t.$module.find("#module".concat(n));o||0!==a.length||t.delModuleList.includes(n)||i.push(e)}));var a=Object.create(null),r=[];return i.forEach((function(t){var e=t.id;a[e]||(r.push(t),a[e]=!0)})),e.moduleList=r,e}},{key:"getInModuleContent",value:function(){if(void 0!==Fai.top.moduleAttr){var t,e=[],i=Fai.top;return $("#module"+this.id).find(".form").each((function(o,n){var a=$(n),r=parseInt($(n).attr("id").replace("module","")),s=a.hasClass("formStyle".concat(52)),l=a.hasClass("formStyle".concat(54)),c=a.hasClass("formStyle".concat(53)),d=l&&Mobi.isModuleV2(54),m=c&&Mobi.isModuleV2(53);if(void 0!==Fai.top.moduleAttr["module"+r]){var p=Fai.top.moduleAttr["module"+r],u={},f=!1,h=i.Mobi.getModuleAttr(r);if(d&&(p=Fai.top._rootStore.getters.getModuleById(r)),Fai.top._openThemeV3&&(m||d)){var g=i.Mobi.getModuleAttrV3(r);g.patternChanged&&(u.patternV3=g.patternV3,f=!0)}if(h.pattern.changed&&(u.pattern=i.$.toJSON(i.Mobi.getModuleAttrPatternStg(r)),f=!0),p.contentChange&&p.content){if(t=p.content,s){var v=t.fontList.map((function(t){return t.resId}));t=i.Mobi.getSimpleTextContent(a);var b=a.find(".fkEditor"),_=i.Mobi.mergeFonts(b);t.fontList=_,t.oldFontResIdList=v;var j=Fai.top.allModule["module".concat(r)]||{};t.jumpMode=j.content.jumpMode,t.jumpWxAppData=j.content.jumpWxAppData,t.tcc=-1===t.text.indexOf("_themecolor")?0:1,1==t.tcc&&(t.themeColor=Fai.top._themeColor)}if(l){t=i.Mobi.getFloagBtnContent(a);var M=Fai.top.allModule["module".concat(r)]||{};t.jumpMode=M.content.jumpMode,t.jumpWxAppData=M.content.jumpWxAppData}u.content=t,f=!0}if(h.pattern.changed&&l){var y=(t=p.content).fontList.map((function(t){return t.resId}));t=i.Mobi.getFloagBtnContent(a);var w=a.find(".floatBtn"),S=w.css("font-family")||"",I=[],C=i.Mobi.analysisCustomFontFaceFamily(S),P=C.flag,x=C.id,k=C.random;if("fontface"===P){var L=w.text();I.push({id:k,fontId:+x,fontFamily:S,substring:Fai.top.window.Fai.unique(L)})}t.fontList=I,t.oldFontResIdList=y;var F=Fai.top.allModule["module".concat(r)]||{};t.jumpMode=F.content.jumpMode,t.jumpWxAppData=F.content.jumpWxAppData,u.content=t,f=!0}f&&(u.id=r,e.push(u))}})),e}}},{key:"delModule",value:function(t){if(confirm("删除后模块将无法恢复，确定删除“"+t.title+"”？")){var e=t.id,i=Mobi.getPreviewWindow().$("#module".concat(e));i.length>0&&i.fadeOut(0,(function(){i.remove()})),this.delModuleList.push(e),this.delModuleList=_toConsumableArray(new Set([].concat(_toConsumableArray(this.delModuleList),[e])));var o=this.historyModules.findIndex((function(t){return t.id===e}));this.historyModules.splice(o,1),Fai.top.floatZone.activeBtn()}}},{key:"initHistoryModules",value:function(t){t&&this.updateCurColHistoryModules();var e=Fai.top.v_colModuleManagePanel;return this.historyModules=JSON.parse(JSON.stringify(this.inModuleListInfo)),this.historyModules=e.commFun.getCurColData(this.historyModules,e.commData.colModules.data,"floatZone"),e.commData.colModules.curCol=this.historyModules,this.historyModules}},{key:"resetHistoryModules",value:function(){var t=Fai.top.v_colModuleManagePanel;this.curColHistoryModules&&(t.commData.colModules.curCol=this.curColHistoryModules)}},{key:"updateCurColHistoryModules",value:function(){var t=Fai.top.v_colModuleManagePanel;this.curColHistoryModules=JSON.parse(JSON.stringify(t.commData.colModules.curCol))}},{key:"activeBtn",value:function(){this.$saveBtn.addClass(this.activeBtnClass),this.$cancelBtn.addClass(this.activeBtnClass),this.$exitBtn.removeClass(this.activeBtnClass)}},{key:"deactiveBtn",value:function(){this.$saveBtn.removeClass(this.activeBtnClass),this.$cancelBtn.removeClass(this.activeBtnClass),this.$exitBtn.addClass(this.activeBtnClass)}},{key:"refreshVisit",value:function(){this.initPreview()}},{key:"toFixedFix",value:function(t,e){var i=Math.pow(10,e);return Math.round(t*i,10)/i}}]),FloatZone}();Fai.top.floatZone=new FloatZone},166:function(t,e){var i=Mobi;i.jzPayUtils={openPayPage:function(t,e,i,o){""==o&&(o=i),window.location.href="/mallPayment.jsp?bssId=".concat(e,"&bssType=").concat(t,"&returnUrl=").concat(o,"&sucUrl=").concat(i)},setPayCookie:function(t,e,i,o){if(null==i||""==i){var n=location.pathname.split("/");i=n[n.length-1]}null!=o&&""!=o||(o=location.search),"?"!=o[0]&&(o="?"+o);var a="payReturnUrl_".concat(t,"_").concat(e),r="/".concat(i).concat(o);jm.cookie(a,r,{path:"/",expires:1})},normalOpenPay:function(t){var e=t.bssId,i=t.bssType,o=t.sucUrl,n=t.failUrl;this.isWeChatPay()&&Mobi.isPC()?Mobi.ing("请在手机微信上访问和提交支付"):!this.isFaiWeChatPay()||this.isWechat()?(this.setPayCookie(i,e),this.openPayPage(i,e,o,n)):Mobi.ing("非微信环境不支持支付，请在微信浏览器下进行操作")},isWeChatPay:function(){var t=Fai.top._jzPayTypeList[0];return 1==Fai.top._jzPayTypeList.length&&t==Mobi.PayType.WXPAY},isFaiWeChatPay:function(){var t=Fai.top._jzPayTypeList[0];return 1==Fai.top._jzPayTypeList.length&&t==Mobi.PayType.FAIPAY},isWechat:function(){return"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)}},i.BussinessType={BSSTYPE_FORM:5,BSSTYPE_KNOWPRODUCT:6},i.PayType={WXPAY:10,ALIAPY:12,FAIPAY:50}},167:function(t,e){var i=window.Site||(window.Site={}),o=window.JZ||(window.JZ={});i.fileDownload=function(t){var e={ide:t,url:window.location.pathname+window.location.search+window.location.hash};jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"../ajax"})+"/fileDownload_h.jsp?cmd=getWafNotCk_getSiteDownloadInfo",data:e,success:function(t){var e=JSON.parse(t);if(e.success){var i=e.file,o=i.allowDownload,n=i.downloadUrl,a=i.memberLevelIsLow,r=i.visitorMemberAcct,s=i.levelLimitName,l=i.allowFileDownload,c=i.memberId,d=i.memberGroupIsOk,m=i.memberOnlyLevel,p=i.memberOnlyLevelIsOk;if(o)n?self!==top?window.open(n):window.open(n,"_self"):Mobi.ing("当前文件已丢失",0);else if(1==l&&!m&&a&&c>0)Mobi.ing(Fai.format(LS.memberDownloadLevelLimit,r,s),!0);else if(1==l&&m&&!p&&c>0)Mobi.ing("亲爱的".concat(r,"，您暂无权限下载该文件。"),!0);else{if(2!=l||d||!(c>0)){var u="".concat(window.location.pathname).concat(window.location.search);return u=Fai.top.encodeURIComponent(u),void(document.location.href=Mobi.preprocessUrl({path:"",oldPath:""})+"login.jsp?returnUrl=".concat(u))}Mobi.ing("亲爱的".concat(r,"，您暂无权限下载该文件。"),!0)}}}})},o.transformForLinkFunc=function(t,e){var o="fileDownload";try{switch(t){case o:var n=e.jumpIde,a=void 0===n?"":n,r=e.info;a&&i.fileDownload&&i.fileDownload(a),r&&Mobi.fileDownload&&Mobi.fileDownload(r);break;case"linkForm":var s=e;s&&Mobi.linkToForm&&Mobi.linkToForm(s);break;case"linkFlv":e&&Mobi.openLinkFlv&&Mobi.openLinkFlv(e)}}catch(t){console.log(t)}}},2:function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__2__},3:function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__3__},306:function(t,e,i){"use strict";i.r(e);var o={};i.r(o),i.d(o,"initMobiAnimation",(function(){return S})),i.d(o,"refreshOneMobiAnimationEl",(function(){return I}));var n={};i.r(n);i(124),i(125),i(126),i(127),i(128),i(129),i(130),i(131),i(132),i(133),i(134),i(135),i(136),i(137),i(138),i(139),i(140),i(141),i(142),i(143),i(144),i(145),i(146),i(147),i(148),i(149),i(150),i(151);var a=i(3);Mobi.initShare=function(t,e,i){var o=t;jm("#"+o).unbind("click").bind("click",(function(){if(!t.includes("footer")&&a.Clue.logClueShareNewsAction(),Mobi.isWechat()){var e=[];e.push("<div class='shareCover'>"),e.push("\t\t<img class='shareCoverImg' src='"+Fai.top._resRoot+"/image/v2/shareTip.png?v=201703240921'/>"),e.push("</div>"),0==jm(".shareCover").length&&(jm("#g_web").append(e.join("")),jm(".shareCover").bind("click",(function(){jm(".shareCover").unbind().remove()})))}else{var i=[];i.push("<div class='shareCover' style='background-color:white;opacity:1;'>"),i.push("\t\t<img class='shareCoverIcon shareCoverContent' src='"+Fai.top._resRoot+"/image/v2/shareIcon.png?v=201703240921'/>"),i.push("\t\t<div class='shareCoverTip shareCoverContent'>请使用浏览器的分享功能分享到微信</div>"),i.push("\t\t<div class='shareCoverBtn shareCoverContent'>知道了</div>"),i.push("</div>"),0==jm(".shareCover").length&&(jm("#g_web").append(i.join("")),jm(".shareCoverBtn").bind("click",(function(){jm(".shareCoverBtn").unbind(),jm(".shareCover").remove()})))}})),null!=e&&(o=e,jm("#"+o).unbind("click").bind("click",(function(){!e.includes("footer")&&a.Clue.logClueShareNewsAction(),window.open("http://service.weibo.com/share/share.php?title= &url=http%3A%2F%2Fm.jack.iii.cc.jack.dev.cc%2Fpd.jsp%3Fpid%3D123%26_sc%3D2&pic=")})),o=i,jm("#"+o).unbind("click").bind("click",(function(){if(!i.includes("footer")&&a.Clue.logClueShareNewsAction(),Mobi.isQQ()){var t=[];t.push("<div class='shareCover'>"),t.push("\t\t<img class='shareCoverImg' src='"+Fai.top._resRoot+"/image/v2/shareTip02.png?v=201703240921' style=''/>"),t.push("</div>"),0==jm(".shareCover").length&&(jm("#g_web").append(t.join("")),jm(".shareCover").bind("click",(function(){jm(".shareCover").unbind().remove()})))}else{var e=[];e.push("<div class='shareCover' style='background-color:white;opacity:1;'>"),e.push("\t\t<img class='shareCoverIcon shareCoverContent' src='"+Fai.top._resRoot+"/image/v2/shareIcon.png?v=201703240921'/>"),e.push("\t\t<div class='shareCoverTip shareCoverContent'>请使用浏览器的分享功能分享到QQ</div>"),e.push("\t\t<div class='shareCoverBtn shareCoverContent'>知道了</div>"),e.push("</div>"),0==jm(".shareCover").length&&(jm("#g_web").append(e.join("")),jm(".shareCoverBtn").bind("click",(function(){jm(".shareCoverBtn").unbind(),jm(".shareCover").remove()})))}})))},Mobi.initFixAreaEvent=function(){var t=0,e=jm(".J_mallNavBtn");e.on("click.clickAnimate",(function(){var i=jm(this);return e.removeClass("f-navCheck"),e.find(".J_clickAnimate").css("opacity","0"),i.addClass("f-navCheck"),i.find(".clickAnimate").css("opacity","0.2").css("transform","scale(1.4)"),i.find(".mallNavText").addClass("mallTextAnimate"),i.find(".icon-navItemIcon").addClass("iconAnimate"),event.stopPropagation(),t>1&&(window.location.href=jm(this).attr("href")),!1})),e.off("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend").on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",(function(){if(jm(this).find(".J_clickAnimate").css("opacity","0"),!(++t>1)){var e=jm(this).attr("href");"string"==typeof e&&"javascript:;"==e||(Fai.top._manageMode&&Fai.top._changeStyleNum>0?Fai.top.Mobi.checkSaveBar():window.location.href=e)}}))},function(t,e){e.initFooter=function(){var i=Fai.top._openThemeV3?t("#webFooter_v3"):t("#webFooterBox"),o=200039,n=3,a=4,r=5,s=6;function l(){var t=!0!==Fai.top._oem,e=!c();return t&&e}function c(){return!0!==Fai.top._oem&&!0===Fai.top._isFreeVer}!function(t){if(Fai.top._oem||Fai.top._isMall)return;var e=t.find(".J_supportLink"),i=Fai.top._mjzHomeHost,o=!0===Fai.top._isFreeVer,n="//"+i+"/pro8.html?_ta="+(o?2508:2509);e.attr("href",n)}(i),function(t){var i=t.find(".J_supportLink"),r="touchend.logClick";e.isPC()||(r="click.logClick");i.off(r).on(r,(function(){l()&&e.logDog(o,a),c()&&e.logDog(o,n)}))}(i),function(i){var n=i.find(".J_supportLink");if(0===n.length)return;var a=t(window),d="scroll.footerSupportLinkExposure",m="resize.footerSupportLinkExposure",p=e.throttle(u);function u(){e.isInViewArea(a,n)&&(l()&&e.logDog(o,s),c()&&e.logDog(o,r),a.off(d).off(m))}a.off(d).on(d,p),a.off(m).on(m,p),u()}(i)},e.throttle=function(t,e){return t._throttleTime=e||300,function(){clearTimeout(t._throttleTimer),t._throttleTimer=setTimeout((function(){t.apply(this,arguments)}),t._throttleTime)}},e.isInViewArea=function(e,i){if(0===i.length)return!1;var o=i[0],n=t("#fixedAreaBox").offset().height,a=o.getBoundingClientRect(),r=a.top,s=a.bottom-a.height/2,l=a.left,c=a.right,d=t("#g_web").offset(),m=d.width,p=t("body").offset().height-n,u=d.left,f=!1;return l>=u&&c<=u+m&&(r>=0&&s<p)&&(f=!0),f}}(jm,Mobi),Mobi.initFooterLanguageEventV3=function(){var t=jm("#webFooter_v3"),e=t.find(".languageVis"),i=t.find(".languageFullBg"),o=t.find(".languageListPanel");1==t.find(".langItem").length&&t.find(".footLanguageItem").hide(),e.off("click.lang").on("click.lang",(function(){i.show(),o.addClass("langPanelUp")})),i.off("click.lang").on("click.lang",(function(){jm(this).hide(),o.removeClass("langPanelUp")}));var n=t.find(".langItem[currentlan='"+Fai.top._lcid+"']").text();t.find(".languageVis a").eq(0).text(2052==Fai.top._lcid?"中文版":n),jm(".langItem").click((function(t){t.stopPropagation(),document.location.href=jm(this).attr("value")}))},Mobi.fixFooterDividingV3=function(t){if(Fai.top._manageMode){var e=Fai.top._pattern.fs,i=jm("#webFooter_v3").find(".other_item");1==t?(1==e.se?i.find(".J_siteEntrance ").addClass("hideDivding"):i.find(".J_siteEntrance ").removeClass("hideDivding"),1!=e.se?i.find(".J_support").addClass("hideDivding"):i.find(".J_support").removeClass("hideDivding"),1!=e.se&&1!=e.fs?i.find(".rep").addClass("hideDivding"):i.find(".rep").removeClass("hideDivding"),1!=e.se&&1!=e.fs?i.find(".J_footerIpv6").addClass("hideDivding"):i.find(".J_footerIpv6").removeClass("hideDivding")):i.find(".J_support").addClass("hideDivding")}},Mobi.clickFooterSupport=function(){Mobi.logMallFdp("mall_mem_click_support",{mall_free_bool_0:Fai.top._logined,mall_free_text_0:"底部"},!0)},Mobi.clickFooterSupportV3=function(){Mobi.logMallFdp("mall_mem_click_support",{mall_free_bool_0:Fai.top._logined,mall_free_text_0:"底部"},!0)};i(152),i(153),i(154),i(155),i(156),i(157),i(158),i(159),i(160),i(161);var r=i(2),s=i(5),l=i.n(s);function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function m(t){var e=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){d(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({cmd:"getWafNotCk_getWeixinAppScheme"},t);return l.a.post("/ajax/mobi_h.jsp",{data:e})}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Mobi.initTemplate2=function(t){var e=t.layout,i=t.moduleStyle,o=t.designType,n=Mobi.getPreviewObject("navbar"),a=Mobi.getPreviewObject("navbarList");n&&n.setAttribute("style",""),a&&a.setAttribute("style",""),jm(Mobi.getPreviewObject("webTop")).css("height",""),Mobi.removeAllSwipeMenuClass(),1==e?(jm(Mobi.getPreviewObject("webFooterBox")).append(Mobi.getPreviewObject("navbar")),Mobi.showNavItemContainer(),1===o&&Mobi.navSwipeMenu(e)):2==e||4==e||5==e||7==e?(5!==e&&7!==e?Mobi.getPreviewObject("webTop").appendChild(Mobi.getPreviewObject("navbar")):Mobi.getPreviewObject("webHeaderBox").appendChild(Mobi.getPreviewObject("navbar")),Mobi.autoSetNavBarBottom(e),Mobi.navSwipeMenu(e)):3==e||0==e||8==e?(jm(Mobi.getPreviewObject("webHeaderBox")).append(Mobi.getPreviewObject("navbar")),0==e?Mobi.showNavItemContainer():8==e?(Mobi.showNavItemContainer(),Mobi.navSwipeMenu(e)):1===o&&Mobi.navSwipeMenu(e)):6==e&&(jm(Mobi.getPreviewObject("webBannerBox")).append(Mobi.getPreviewObject("navbar")),Mobi.showNavItemContainer()),Mobi.autoSetNavBarBottom(e),Mobi.autoFixGWebTop(e),Mobi.topTipMarquee(),Mobi.getPreviewObject("webMultilingualArea")&&(4==e?jm(Mobi.getPreviewObject("webHeaderBox")).append(Mobi.getPreviewObject("webMultilingualArea")):jm(Mobi.getPreviewObject("webBannerBox")).prepend(Mobi.getPreviewObject("webMultilingualArea"))),1005!==Fai.top._templateFrameId&&1004!==Fai.top._templateFrameId&&1019!==Fai.top._templateFrameId&&1023!==Fai.top._templateFrameId&&1024!==Fai.top._templateFrameId&&1021!==Fai.top._templateFrameId||(Mobi.scrollNavFix(),jm(window).bind("load",(function(){Mobi.scrollNavFix()}))),Mobi.getPreviewObject("navButton")&&(1004===Fai.top._templateFrameId||1023===Fai.top._templateFrameId?jm(Mobi.getPreviewObject("navbar")).append(Mobi.getPreviewObject("navButton")):jm(Mobi.getPreviewObject("webHeaderBox")).prepend(Mobi.getPreviewObject("navButton"))),Mobi.scrollHeaderTop(),Mobi.changeMorePosition(i),0==jm("#fixedAreaBox").height()&&jm(".J_area_box_wrap").addClass("fixedAreaBoxEmpty")},Mobi.changeMorePosition=function(t){if(!Fai.top._openThemeV3){var e=document.querySelectorAll("#webModuleContainer>.form"),i=e.length;if(1===t)for(var o=0;o<i;o++){var n=e[o],a=n.id||"",r=n.querySelector(".formBannerMore"+a.replace("module","")),s=Fai.top.isModuleV2Map["style_".concat(n.getAttribute("_modulestyle"))];r&&!s&&n.appendChild(r)}else for(var l=0;l<i;l++){var c=e[l],d=c.querySelector(".formBannerTitle>.titleCenter"),m=c.id||"",p=c.querySelector(".formBannerMore"+m.replace("module",""));Fai.top.isModuleV2Map["style_".concat(c.getAttribute("_modulestyle"))]||d&&d.appendChild(p)}}},Mobi.scrollHeaderTop=function(){function t(){if(document.getElementsByClassName("J_registerHeader").length){var t=document.getElementById("g_body"),e=document.getElementsByClassName("J_registerHeader")[0],i=!1,o=e.offsetTop,n=e.clientHeight,a=t.scrollTop;(a>o||a<o)&&!i&&(jm(e).addClass("headerScroll_fix"),i=!0),a-n<o&&i&&(jm(e).removeClass("headerScroll_fix"),i=!1)}}document.addEventListener("touchstart",(function(){t()}),!1),document.addEventListener("touchmove",(function(){t()}),!1),document.addEventListener("touchend",(function(){t()}),!1),document.addEventListener("touchcancel",(function(){t()}),!1),document.addEventListener("scroll",(function(){t()}),!1)},Mobi.scrollNavFix=function(t){var e=document.getElementById("navbar"),i=document.getElementById("g_body").scrollTop,o=jm("#webHeader_v3"),n=jm(".J_marqueeContainer").length?parseInt(jm(".J_marqueeContainer").height()):0,a=jm(".fk-mobiTips").length?parseInt(jm(".fk-mobiTips").height()):0,r=parseInt(o.height())||0;function s(){Fai.top._openThemeV3?function(){var s=document.documentElement.scrollTop||document.body.scrollTop,l=document.getElementById("webContainerBox").offsetTop-s,c=jm(e),d="none"!=o.css("display"),m=parseInt(n+a),p=m>0,u=0;Fai.top._manageMode?(t=Fai.top._pattern.hs.styleId||Fai.top._defaultPattern.hs.styleId||4,r=parseInt(o.height())||0):t=t||4;s>i?l<0&&(o.length>0&&d&&(1==t||2==t||3==t||4==t)&&(u+=r),p&&(u+=m),c.addClass("scroll_fix")):l>=0?(c.removeClass("scroll_fix"),u=0):(o.length>0&&d&&(1==t||2==t||3==t||4==t)&&(u+=r),p&&(u+=m));(d||p)&&c.css("top",u+"px");i=s}():function(){var t=document.documentElement.scrollTop||document.body.scrollTop,o=document.getElementById("webContainerBox").offsetTop-t;t>i?o<0&&jm(e).addClass("scroll_fix"):o>=0&&jm(e).removeClass("scroll_fix");i=t}()}jm(document).off("touchstart.nav").on("touchstart.nav",(function(){s()}),!1),jm(document).off("touchmove.nav").on("touchmove.nav",(function(){s()}),!1),jm(document).off("touchend.nav").on("touchend.nav",(function(){s()}),!1),jm(document).off("touchcancel.nav").on("touchcancel.nav",(function(){s()}),!1),jm(document).off("scroll.nav").on("scroll.nav",(function(){s()}),!1)},Mobi.initFooterHeight=function(){},Mobi.jumpAnchorModule=function(t){if(t&&jm("#module"+t).length){var e,i=parseInt(jm("#module"+t).offset().top),o=parseInt(jm("#module"+t).offset().height),n=parseInt(jm("body").height()),a=parseInt(n/2);e=a>i?0:n>i?i-a+o:i-a+parseInt(o/2),document.body.scrollTop=e,document.documentElement.scrollTop=e}},Mobi.autoSetNavBarHeight=function(t){var e=Mobi.getPreviewObject("webTips")?Mobi.getPreviewObject("webTips").offsetHeight:0,i=0,o=Fai.top._openOnlineService?parseInt(jm("#customerServiceDiv").height()):0,n=4+parseInt(jm(Mobi.getPreviewObject("navbar")).css("bottom").replace("px",""));(jm.os.iphone?4==t&&(n=Fai.top._openOnlineService?parseInt(jm("#customerServiceDiv").height())+35:n,i=Mobi.getPreviewWindow().innerHeight-n-e-o):jm.os.android?(i=Mobi.getPreviewWindow().screen.height/Mobi.getPreviewWindow().devicePixelRatio-Mobi.getPreviewWindow().screenTop,4==t&&(n=Fai.top._openOnlineService?parseInt(jm("#customerServiceDiv").height())+35:n,i=Mobi.getPreviewWindow().innerHeight-n-o)):jm.os.supportsTouch||(i=Mobi.getPreviewWindow().innerHeight-e,4==t&&(n=Fai.top._openOnlineService?parseInt(jm("#customerServiceDiv").height())+35:n,i=Mobi.getPreviewWindow().innerHeight-n-o)),i>0)&&(4==t?parseInt(jm("#navbarList").height())+parseInt(jm("#navbarList").css("padding-bottom").replace("px",""))>i&&jm("#navbar").css("height",i+"px"):jm("#navbar").css("height",i+"px"))},Mobi.autoSetNavBarBottom=function(t){var e,i=jm("#navbar");4==t?Fai.top._openOnlineService?(jm("#navButton").css("bottom",(parseInt(jm("#customerServiceDiv").height())+15)/_htmlFontSize+"rem"),i.css("bottom",(parseInt(jm("#customerServiceDiv").height())+35)/_htmlFontSize+"rem")):(/height/.test(i.attr("style"))?(e=i.height(),i.removeAttr("style"),i.css("height",e+"px")):i.removeAttr("style"),jm("#navButton").removeAttr("style")):(jm("#navButton").removeAttr("style"),i.removeAttr("style"))},Mobi.handlePirtureSize=function(){var t=document.getElementById("webContainerBox");if(t)for(var e=t.querySelectorAll("img"),i=0;i<e.length;i++)(e[i].offsetWidth<=0||e[i].offsetHeight<=0)&&(e[i].style.visibility="hidden"),e[i].onload=function(){this.style.visibility="visible"}},Mobi.fixImageHeight=function(t,e){if(t){var i=document.getElementById(t);if(i){for(var o=i.querySelectorAll("img"),n=1,a=0,r=o.length,s=0;s<r;s++)!function(t){var e=new Image;if(e.src=o[t].src,e.onload=function(){e.height>a&&(a=e.height),l()},0!=e.height&&e.height>a&&(a=e.height),n%2==0||t===o.length-1){if(a>0&&a<160&&(n%2==1&&t===o.length-1&&(o[t].parentNode.style.height=a/_htmlFontSize+"rem"),n%2==0))for(var i=0;i<2;i++)o[t+i-1].parentNode.style.height=a/_htmlFontSize+"rem";a=0}++n}(s);e&&l()}}function l(){var e=0,i=0,o=jm("#"+t).find(".photoListImg"),n=jm("#"+t).find(".imgClass_160");o.each((function(){(i=parseInt(jm(this).height()))>e&&(e=i)})),0!=e&&n.css("height",e/_htmlFontSize+"rem")}},Mobi.fixImageHeightPhoList=function(t,e,i){if(t){var o=document.getElementById(t);if(o){var n=jm("#"+t).find(".photoDiv"),a=jm("#"+t).find(".imgClass_160"),r=parseInt(a.eq(0).width()),s=o.querySelectorAll("img"),l=s.length,c=jm("#"+t).find(".imageMiddle");!function(){var o=jm("#"+t).find(".imgClass_160");1!=e&&o.css("height",r*i+"px")}();for(var d=0;d<l;d++){var m=jm(s[d]).attr("vwidth"),p=jm(s[d]).attr("vheight");if(2==e)for(var u=0;u<l;u++){var f=r,h=a.eq(0).height(),g=m/p;f/h<=g?(jm(s[d]).css("width",g*h+"px"),jm(s[d]).css("height",h+"px"),jm(s[d]).css("maxWidth","initial"),jm(a[d]).css("marginLeft",(f-g*h)/2+"px"),jm(n[d]).css({position:"relative",overflow:"hidden"}),jm(c[d]).css("display","none")):(jm(s[d]).css("height",f/g+"px"),jm(s[d]).css("width",f+"px"),jm(s[d]).css("marginTop",(h-f/g)/2+"px"),jm(a[d]).css("overflow","hidden"),jm(c[d]).css("display","none"))}}}}},Mobi.defImageHeightType2=function(t,e){if(t){var i=document.getElementById(t);if(i){for(var o=jm("#"+t).find(".photoCrossedSlideSec"),n=jm("#"+t).find(".imgClass_160"),a=i.querySelectorAll("img"),r=1,s=0,l=a.length,c=i.querySelectorAll(".imageMiddle"),d=0,m=0;m<l;m++)!function(t){var i=new Image;if(i.src=jm(a[t]).attr("src"),i.onload=function(){if(i.height>s&&(s=i.height),p(),2==e&&d==l)for(var t=0;t<l;t++){var r=i.width,m=i.height,u=n.eq(0).width(),f=n.eq(0).height(),h=r/m;u/f<=h?(jm(a[t]).css("width",h*f+"px"),jm(a[t]).css("height",f+"px"),jm(a[t]).css("maxWidth","initial"),jm(a[t]).css("marginLeft",(u-h*f)/2+"px"),jm(o[t]).css({position:"relative",overflow:"hidden"}),jm(c[t]).css("display","none")):(jm(a[t]).css("height",u/h+"px"),jm(a[t]).css("width",u+"px"),jm(a[t]).css("marginTop",(f-u/h)/2+"px"),jm(c[t]).css("display","none"))}},0!=i.height&&i.height>s&&(s=i.height),r%2==0||t===a.length-1){if(s>0&&s<160&&(r%2==1&&t===a.length-1&&(a[t].parentNode.style.height=s/_htmlFontSize+"rem"),r%2==0))for(var m=0;m<2;m++)a[t+m-1].parentNode.style.height=s/_htmlFontSize+"rem";s=0}++r}(m);0==e&&p()}}function p(){var i,o=0,n=0,a=jm("#"+t).find(".photoListImg"),r=jm("#"+t).find(".imgClass_160"),s=r.eq(0).width();a.each((function(){n=parseInt(jm(this).height()),i=parseInt(jm(this).width()),n>o&&(o=n)})),2==e?r.css("height",s*(o/i)+"px"):0!=o&&r.css("height",o/_htmlFontSize+"rem"),d++}},Mobi.initTemplate=function(t){0==t||1==t||6==t?Mobi.showNavItemContainer():2!=t&&4!=t&&5!=t||(Mobi.autoSetNavBarBottom(t),Mobi.navSwipeMenu(t)),Mobi.handlePirtureSize()},Mobi.fixGwebHieght=function(){var t=Mobi.getPreviewWindow().innerHeight,e=Mobi.getPreviewObject("g_web");t>e.offsetHeight&&(e.style.height=t+"px")},Mobi.initMobiPage=function(t){if(jm.os.supportsTouch||Mobi.resetHtmlFontSize(),Fai.top._openThemeV3||Mobi.initTemplate2(t),Fai.top._manageMode&&Mobi.initLocater(),Mobi.unloadForATag(),Mobi.initOnlineServiceWidth(),jm(document).ready((function(){var t=jm(window).width(),e=null;Fai.top.window.onresize=function(){jm(window).width()!=t&&(t=jm(window).width(),clearTimeout(e),e=setTimeout((function(){Mobi.bannerAnimate.init(Fai.top._bannerData)||(Mobi.initBannerDefaultDom(Fai.top._bannerData),Mobi.initSwipe("bannerSwipe",Fai.top._bannerData)),clearTimeout(e),e=null}),500),Mobi.resetHtmlFontSize(),Fai.top._openThemeV3||(Mobi.logoSizeCompressByMargin(),Mobi.titlePositionRefreshByLogo()),Mobi.autoFixGWebTop(Fai.top._templateLayoutId),Mobi.initBgmPosition())}})),Fai.top._openThemeV3||(Mobi.fixFontSizeDeviation(),Mobi.initForms()),Mobi.onlineServiceInputWord(),Mobi.closeLoading(),Mobi.bindBodyScrollTypeWritingEvent(),Mobi.initMobiPageWithLogDog(),setTimeout((function(){jm("#jiaxin-mcs-fixed-btn").off("click.log").on("click.log",(function(){Mobi.logDog(200171,6)}))}),1e3),window.Fai&&(window.Fai.top._popupZone={}),window.Fai&&(window.Fai.top._popupZone.openZone=function(){}),void 0===window.Site&&(window.Site={}),window.Site&&(window.Site.openSiteForm=function(){}),!Fai.top.Mobi.getPreviewWindow()._hmt&&jm("a[href*='Mobi.showBaiduBridge']").length>0){jm("#g_body").append("<div id='baiduBridgeScript'></div>");var e=Fai.top.Mobi.getPreviewWindow()._baiduBridgeCodes||Fai.top._onlineServiceJson.baiduBridge.codes;e&&(jm("#baiduBridgeScript").append(e),jm.fkEval.call(window,jm("#baiduBridgeScript script").html()))}Mobi.fixJzmHomeIframeNest(),Mobi.checkFaiAnchor(),Mobi.fixIphoneXFooter()},Mobi.initMobiPageWithLogDog=function(){!function(){var t,e,i,o,n,a=200100,r=Fai.top.devicePixelRatio,s=Fai.top.screen,l="fkLogDog-screenResolution";if(localStorage.getItem(l))return;e={"1920*1080":1,"1366*768":2,"1440*900":3,"1600*900":4,other:5,"1680*1050":6,"1280*800":7,"1280*1024":8,"1360*768":9,"1280*720":10,"1024*768":11,"1280*768":12,"1600*1200":13,"1600*1024":14},i={"1080*1920":15,"720*1280":16,"480*854":17,"540*960":18,"1080*1812":19,"720*1184":20,"1080*1776":21,"1080*1794":22,"750*1334":23,"1242*2208":24,"640*960":25,"768*1024":26,"1125*2001":27,other:28,"640*1136":29,"1440*2560":30,"1140*2960":31},o=Fai.top._manageMode?e:i,t=s.width*r*(s.height*r),o=function(t){var e,i;for(e in t)e.indexOf("*")>-1&&(t[(i=e.split("*"))[0]*i[1]]=t[e],delete t[e]);return t}(o),n=o[t]||o.other,Mobi.isPC()&&!Fai.top._manageMode&&(n=o.other);if(n)try{localStorage.setItem(l,!0),Mobi.logDog(a,n)}catch(t){}}()},Mobi.isFromJzmHomeIframe=function(){return"true"==Mobi.getUrlParam(window.location.href,"_fromJzmHome")},Mobi.fixJzmHomeIframeNest=function(){Mobi.isFromJzmHomeIframe()&&(jm("#mobiCornerAd").addClass("jz_foreHideCornerAd"),jm("#g_body").delegate("a","click",(function(){var t=jm(this);Mobi.fixJzmHomeIframeParam(t,t.attr("href"))})))},Mobi.fixJzmHomeIframeParam=function(t,e){if(!Mobi.isFromJzmHomeIframe())return e;if("string"!=typeof e)return e;if(e.indexOf("mailto")>=0||e.indexOf("sms")>=0||"#"==e||e.indexOf("javascript:")>=0||e.indexOf("tel")>=0)return e;var i=e.indexOf("?")<0?"?":"&",o=e+i+"_fromJzmHome=true";return t.attr("href",o),o},Mobi.bindBodyScrollTypeWritingEvent=function(){},Mobi.resetHtmlFontSize=function(){var t=document.documentElement?document.documentElement.clientWidth:document.body.clientWidth,e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;8===Mobi.getMobiOSType()&&4===Mobi.getBrowserType()&&(e=document.documentElement.clientWidth||document.body.clientWidth),e>768&&e<1280?t=768:e>=1280&&(t=512),document.documentElement.style.fontSize=1*t/16+"px",_htmlFontSize=1*t/16},Mobi.closeLoading=function(){var t=document.getElementById("webLoading");t&&(t.style.display="none")},Mobi.showLoading=function(){var t=document.getElementById("webLoading");t&&(t.style.display="block")},Mobi.MobiOSType={UNKNOWN:0,IPHONE:1,IPAD:2,WEBOS:3,ANDROID:4,ANDROIDICS:5,BLACKBERRY:6,WINDOW_DESKTOP:7,MAC:8,ANDROID_2_3:9,ANDROID_4_0:10,ANDROID_4_1:11,ANDROID_4_2:12,ANDROID_4_3:13,ANDROID_4_4:14,ANDROID_5_0:15,IOS_5_0:16,IOS_5_1:17,IOS_6_0:18,IOS_6_1:19,IOS_7_0:20,IOS_7_1:21,IOS_8_0:22,IOS_8_1:23},Mobi.getMobiOSType=function(){return jm.os.IOS_5_0?Mobi.MobiOSType.IOS_5_0:jm.os.IOS_5_1?Mobi.MobiOSType.IOS_5_1:jm.os.IOS_6_0?Mobi.MobiOSType.IOS_6_0:jm.os.IOS_6_1?Mobi.MobiOSType.IOS_6_1:jm.os.IOS_7_0?Mobi.MobiOSType.IOS_7_0:jm.os.IOS_7_1?Mobi.MobiOSType.IOS_7_1:jm.os.IOS_8_0?Mobi.MobiOSType.IOS_8_0:jm.os.IOS_8_1?Mobi.MobiOSType.IOS_8_1:jm.os.ANDROID_2_3?Mobi.MobiOSType.ANDROID_2_3:jm.os.ANDROID_4_0?Mobi.MobiOSType.ANDROID_4_0:jm.os.ANDROID_4_1?Mobi.MobiOSType.ANDROID_4_1:jm.os.ANDROID_4_2?Mobi.MobiOSType.ANDROID_4_2:jm.os.ANDROID_4_3?Mobi.MobiOSType.ANDROID_4_3:jm.os.ANDROID_4_4?Mobi.MobiOSType.ANDROID_4_4:jm.os.ANDROID_5_0?Mobi.MobiOSType.ANDROID_5_0:jm.os.iphone?Mobi.MobiOSType.IPHONE:jm.os.ipad?Mobi.MobiOSType.IPAD:jm.os.webos?Mobi.MobiOSType.WEBOS:jm.os.androidICS?Mobi.MobiOSType.ANDROIDICS:jm.os.android?Mobi.MobiOSType.ANDROID:jm.os.blackberry?Mobi.MobiOSType.BLACKBERRY:jm.os.WINDOW_DESKTOP?Mobi.MobiOSType.WINDOW_DESKTOP:jm.os.MAC?Mobi.MobiOSType.MAC:Mobi.MobiOSType.UNKNOWN},Mobi.BrowserType={UNKNOWN:0,CHROME:1,FIREFOX:2,MSIE10:3,WEBKIT:4,MSIE9:5,MSIE11:6,OPERA:7,WX_BROWSER:8,UC_BROWSER:9,QQ_BROWSER:10,B360_BROWSER:11,BD_BROWSER:12,SG_BROWSER:13,LB_BROWSER:14,SAFARI:15},Mobi.getBrowserType=function(){return jm.os.WXBrowser?Mobi.BrowserType.WX_BROWSER:jm.os.UCBrowser?Mobi.BrowserType.UC_BROWSER:jm.os.MQQBrowser?Mobi.BrowserType.QQ_BROWSER:jm.os.LieBaoFast?Mobi.BrowserType.LB_BROWSER:jm.os.BaiDuBrowser?Mobi.BrowserType.BD_BROWSER:jm.os.Sougou?Mobi.BrowserType.SG_BROWSER:jm.os.B360Browser?Mobi.BrowserType.B360_BROWSER:jm.os.ie10?Mobi.BrowserType.MSIE10:jm.os.chrome?Mobi.BrowserType.CHROME:jm.os.fennec?Mobi.BrowserType.FIREFOX:jm.os.safari?Mobi.BrowserType.SAFARI:jm.os.ie9?Mobi.BrowserType.MSIE9:jm.os.ie11?Mobi.BrowserType.MSIE11:jm.os.opera?Mobi.BrowserType.OPERA:jm.os.webkit?Mobi.BrowserType.WEBKIT:Mobi.BrowserType.UNKNOWN},Mobi.Screen=function(){var t=window.devicePixelRatio||1;return{width:window.screen.width*t,height:window.screen.height*t}},Mobi.ScreenType={OTHER:0,W320H480:1,W480H800:2,W480H854:3,W720H1280:4,WINDOW_SCREEN:5,W240H320:6,W600H800:7,W540H960:8,W640H960:9,W768H1024:10,W640H1136:11,W720H1184:12,W1440H2560:13,W800H1280:14,W750H1334:15,W1080H1776:16,W1080H1920:17,W1536H2048:18,W1280H720:19},Mobi.showLoginTip=function(t){Mobi.ing(t,!0)},Mobi.returnBack=function(){""===document.referrer&&(location.href="/"),document.referrer.indexOf("login.jsp")>0?history.go(-2):(history.go(-1),Fai.top._manageMode&&setTimeout((function(){history.go(-1)}),100))},Mobi.getScreenType=function(t,e){return 320==t&&480==e?Mobi.ScreenType.W320H480:480==t&&800==e?Mobi.ScreenType.W480H800:480==t&&854==e?Mobi.ScreenType.W480H854:720==t&&1280==e?Mobi.ScreenType.W1720H1280:240==t&&320==e?Mobi.ScreenType.W240H320:600==t&&800==e?Mobi.ScreenType.W600H800:540==t&&960==e?Mobi.ScreenType.W540H960:640==t&&960==e?Mobi.ScreenType.W640H960:768==t&&1024==e?Mobi.ScreenType.W768H1024:640==t&&1136==e?Mobi.ScreenType.W640H1136:720==t&&1184==e?Mobi.ScreenType.W720H1184:1440==t&&2560==e?Mobi.ScreenType.W1440H2560:800==t&&1280==e?Mobi.ScreenType.W800H1280:750==t&&1334==e?Mobi.ScreenType.W750H1334:1080==t&&1776==e?Mobi.ScreenType.W1080H1776:1080==t&&1920==e?Mobi.ScreenType.W1080H1920:1536==t&&2048==e?Mobi.ScreenType.W1536H2048:1280==t&&720==e?Mobi.ScreenType.W1280H720:Mobi.ScreenType.OTHER},Mobi.initWxConfig=function(){return Mobi.initWxConfig.p||(Mobi.initWxConfig.p=new Promise((function(t,e){var i=navigator.userAgent.toLowerCase();if(-1!=i.indexOf("micromessenger")||-1!=i.indexOf("wxwork"))if("object"===p(Fai.top.wxConfigData)){var o=Fai.top.wxConfigData,n=o.appId,a=o.openWxDebug;Mobi.getWXShareData(window.location.href,(function(i){var o=i.timestamp,r=i.noncestr,s=i.signature;wx.config({debug:a,appId:n,timestamp:o,nonceStr:r,signature:s,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","updateAppMessageShareData","onMenuShareQQ","onMenuShareWeibo","scanQRCode"],openTagList:["wx-open-launch-weapp"]}),wx.ready((function(){t()})),wx.error((function(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];(t=console).error.apply(t,["wx.error: "].concat(o)),e({type:-3,msg:"wxVerifyError"})}))}))}else e({type:-2,msg:"缺失Fai.top.wxConfigData"});else e({type:-1,msg:"不是微信浏览器"})})))},Mobi.initWxShare=function(t){var e=document.location.href,i=jm.decodeHtml(t.shareTit||""),o=jm.decodeHtml(t.shareDes||""),n=t.shareIconPath;Mobi.initWxConfig().then((function(){Mobi.isWxInit=!0,wx.onMenuShareAppMessage({title:i,desc:o,link:e,imgUrl:n,success:function(){[21,28,4].includes(Fai.top._colInfo.id)&&bizShared.Clue.logClueShareNewsAction()}}),wx.onMenuShareTimeline({title:i,desc:o,link:e,imgUrl:n,success:function(){[21,28,4].includes(Fai.top._colInfo.id)&&bizShared.Clue.logClueShareNewsAction()}}),wx.onMenuShareQQ({title:i,desc:o,link:e,imgUrl:n,success:function(){[21,28,4].includes(Fai.top._colInfo.id)&&bizShared.Clue.logClueShareNewsAction()}}),wx.onMenuShareWeibo({title:i,desc:o,link:e,imgUrl:n,success:function(){[21,28,4].includes(Fai.top._colInfo.id)&&bizShared.Clue.logClueShareNewsAction()}})})).catch((function(t){"object"===p(t)&&console.log(JSON.stringify(t))}))};var u,f,h,g,v,b,_=function(t){var e=t.type,i=void 0===e?0:e,o=t.isErrorInWx,n=void 0!==o&&o,a=r.browser.isWeChat(),s=r.browser.isWindowsWechat(),l=r.browser.isPc(),c=r.browser.isWechatMiniProgram(),d="";d=l?"pc":c?"微信小程序":a&&!s?"微信":"移动端外网",Mobi.logJZFdp("jz_fktzxcx",{jz_free_text1:0===i?"外部小程序":"轻站小程序",jz_content_terminal:"mobi",jz_free_bool1:n,jz_version:Fai.top._ver||0,jz_domain:window.location.href,jz_free_text0:d})};Mobi.initJumpWxApp=function(t,e){if(!Fai.top._manageMode){var i="",o="",n=e.type,a=void 0===n?0:n,s=e.qzOriginalId,l=void 0===s?"":s,c=e.qzWxAppPath,d=void 0===c?"":c,u=e.id,f=e.path,h=void 0===f?"":f,g=e.qzAppId,v=void 0===g?"":g;0===a?(o=u,i=h):1===a&&(o=l,i=d),""===i||i.includes(".html")||(i.includes("?")?i=i.replace(/(.*?)(\?)/g,"$1.html$2"):i+=".html");var b=jm("#module".concat(t));if(0!=b.length){var j=function(t){var e=t.clickNoEvent,i=void 0!==e&&e,o=!1;jm('<div class="wxapp_launch_btn_wrap"></div>').appendTo(b).click((function(t){if(_({type:a,isErrorInWx:!1}),t.stopPropagation(),!i)if(r.browser.isPc())Mobi.ing("请在手机微信端打开链接");else if(1===a){if(o)return;o=!0,m({appid:v,pageUrl:d}).then((function(t){var e=t.data,i=e.success,n=void 0!==i&&i,a=e.openlink,r=void 0===a?"":a;n&&r?window.location.href=r:Mobi.ing("请在手机微信端打开链接"),o=!1})).catch((function(){Mobi.ing("请在手机微信端打开链接"),o=!1}))}else Mobi.ing("请在手机微信端打开链接")}))};Fai.top._isAllowJumpWxApp?Mobi.initWxConfig().then((function(){if(r.browser.isWindowsWechat())j({clickNoEvent:!1});else{var e=window.getComputedStyle(b[0]),n=e.width,s=e.height,l="launchBtnWrap".concat(t),c='\n                <div id="'.concat(l,'" class="wxapp_launch_btn_wrap">\n                    <wx-open-launch-weapp\n                        class="wxapp_launch_btn"\n                        id="launchBtn').concat(t,'"\n                        username="').concat(o,'"\n                        path="').concat(i,'"\n                    >\n                        <template>\n                            <div style="width: ').concat(n,"; height: ").concat(s,';">&nbsp;</div>\n                        </template>\n                    </wx-open-launch-weapp>\n                </div>\n            ');jm(c).appendTo(b),jm("#".concat(l)).click((function(t){t.stopPropagation()}));var d=document.getElementById("launchBtn".concat(t));d.addEventListener("launch",(function(){_({type:a,isErrorInWx:!1})})),d.addEventListener("error",(function(){_({type:a,isErrorInWx:!0})}))}})).catch((function(t){var e="object"===p(t)&&-1===t.type;e||console.log(t),j({clickNoEvent:!e})})):j({clickNoEvent:!0})}else console.error("Mobi.initJumpWxApp: 找不到模块")}},Mobi.getWXShareData=function(t,e){var i=Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/wx_h.jsp?cmd=getWafNotCk_getWXShareData",o=[];o.push("&url="+jm.encodeUrl(t));var n={};jm.ajax({url:i,type:"post",cache:!1,data:o.join(""),async:!1,success:function(t){var i=jm.parseJSON(t);i.success&&(n.noncestr=i.noncestr,n.timestamp=i.timestamp,n.signature=i.signature,e(n))}})},Mobi.getGuanZhuData=function(t,e){var i=Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/wx_h.jsp?cmd=getWafNotCk_getGuanZhuData",o=[];t=jm.getCookie(e)||t||"",o.push("&wxOpenId="+t),jm.ajax({url:i,type:"post",cache:!1,data:o.join(""),async:!1,success:function(t){var e=jm.parseJSON(t);e.success&&jm(document).ready((function(){jm("#g_body").append(e.guanzhuDom),jm.fkEval.call(window,e.guanzhuScripts)}))}})},Mobi.statisticalMobiVisitors=function(t){if(t){var e=jm.extend({},{colId:-1,pdId:-1,ndId:-1},t);(null==e.colId||""==e.colId||e.colId<0)&&(e.colId=-1),(null==e.pdId||""==e.pdId||e.pdId<0)&&(e.pdId=-1),(null==e.ndId||""==e.ndId||e.ndId<0)&&(e.ndId=-1);var i="",o=navigator.userAgent;i=o.match(/AppleWebKit.*Mobile.*/)||o.match(/ipad/i)?o.match(/ipad/i)?"ipad":o.match(/android/i)?"android":o.match(/iphone/i)?"iphone":"other":"pc";var n,a,r=[],s=!1;Fai.top._manageMode?(n=Fai.top.Fai.getBrowserType(),a=Fai.top.Fai.getScreenType(Fai.top.Fai.Screen().width,Fai.top.Fai.Screen().height)):(n=Mobi.getBrowserType(),a=Mobi.getScreenType(Mobi.Screen().width,Mobi.Screen().height),s=jm.os.WINDOW_DESKTOP),r.push("&colId="+e.colId),r.push("&pdId="+e.pdId),r.push("&ndId="+e.ndId),r.push("&windowDesktop="+s),r.push("&mobiOSType="+Mobi.getMobiOSType()),r.push("&browserType="+n),r.push("&screenType="+a),r.push("&rf="+jm.encodeUrl(e.rf||document.referrer)),r.push("&sc="+e.sc),r.push("&visitUrl="+jm.encodeUrl(document.location.href)),r.push("&visitEquipment="+i),r.push("&statId="+e.statId),jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mobistatistics_h.jsp?cmd=wafNotCk_visited",data:r.join(""),success:function(){}})}},Mobi.mobiStatVisitTime=function(t){window.onbeforeunload=function(e){var i=e.timeStamp,o=Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mobistatistics_h.jsp?cmd=wafNotCk_visitTime",n=[];n.push("unloadTime="+i),n.push("&statId="+t),jm.ajax({url:o,type:"post",cache:!1,data:n.join(""),success:function(){}})}},Mobi.printBaiduPushJs=function(){jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mobi_h.jsp",data:"cmd=getWafNotCk_checkBaiduAutomaticPush",dataType:"json",success:function(t){if(t.printBaiduPushJs){var e=document.createElement("script"),i=window.location.protocol.split(":")[0];e.src="https"===i?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(e,o)}}})},Mobi.report=function(){setTimeout((function(){if(window.performance){var t=performance.timing,e=t.domainLookupEnd-t.domainLookupStart,i=t.connectEnd-t.connectStart,o=t.responseEnd-t.requestStart,n=t.domInteractive-t.responseEnd,a=t.domComplete-t.domInteractive,r=[];r.push("&dt="+e),r.push("&ct="+i),r.push("&rt="+o),r.push("&wt="+n),r.push("&pt="+a),r.push("&bt="+Mobi.getBrowserType());var s=Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/mobistatistics_h.jsp?cmd=wafNotCk_report";jm.ajax({url:s,type:"post",cache:!1,data:r.join(""),success:function(){}})}}),500)},Mobi.scrollToTop=function(){var t=document.getElementById("g_body"),e=t.scrollTop,i=document.createElement("div");i.setAttribute("id","scrollHideDiv"),i.style.cssText="position:absolute;width:100%;height:100%;top:0;z-index:9999;",jm("#navbar").hasClass("scroll_fix")&&jm("#navbar").removeClass("scroll_fix"),t.style.marginTop=-e+"px",window.scrollTo(0,0),t.appendChild(i),t.style[jm.feat.cssPrefix+"Transition"]="margin-top 1500ms cubic-bezier(0.175, 0.885, 0.320, 1.025)",t.style.marginTop="0px",setTimeout((function(){t.style[jm.feat.cssPrefix+"Transition"]="none";var e=document.getElementById("scrollHideDiv");t.removeChild(e)}),1500),Mobi.scrollBgmPosition()},Mobi.logDog=function(t,e){var i=[];i.push("dogId="+jm.encodeUrl(t)),i.push("&dogSrc="+jm.encodeUrl(e)),jm.ajax({type:"post",url:"/ajax/log_h.jsp?cmd=wafNotCk_dog",data:i.join("")})},u=[],f=null,Mobi.logMallFdp=function(t,e,i){Fai.top._isMall&&t&&(u.push({event:t,properties:JSON.stringify(e),withVer:i||!1}),f||(f=setTimeout((function(){jm.ajax({type:"post",url:"/ajax/log_h.jsp?cmd=wafNotCk_logMallFdpTrack",data:{trackList:JSON.stringify(u),fromVisitor:!0}}),f=null,u=[]}),0)))},Mobi.logMallMstlSucFdp=function(t){var e,i,o,n;if(!sessionStorage.getItem("orderSuclogged_"+t.id)){sessionStorage.setItem("orderSuclogged_"+t.id,!0),t.shipTypeName=function(t,e){if(null!=t&&""!=t&&"—"!=t&&"0"!=t)return"自提"===t?"到店自提":t;switch(e){case 1:return"快递发货";case 2:return"EMS";case 3:return"平邮";case 4:return"快递发货";case 5:return"同城配送";case 6:case 7:return"无需配送"}return"—"===t||""===t||"0"===t?"无需配送":void 0}(t.shipType,t.shipSort);var a=[];switch(t.mkType){case 1:t.marketType="多人拼团";break;case 2:t.marketType="砍价活动";break;case 3:t.marketType="秒杀";break;case 4:t.marketType="积分商城";break;case 5:t.marketType="定金预售";break;case 6:t.marketType="组合套餐";break;case 7:a.push("社区团购")}t.distId&&t.distId>0&&a.push("分销商"),t.promoteId&&t.promoteId>0&&a.push("推广员");var r=jm.parseJSON(t.content)||{},s=r.cp&&!!r.cp.cdId,l=!!(jm.parseJSON(t.integralInfo)||{}).useItg,c=["实体产品","卡密产品","知识付费产品","酒店产品"][t.itemList[0].pdType],d="";t.itemList&&t.itemList.length>0&&(t.itemList.map((function(t){var e=(t.choiceOption||[]).map((function(t){return t.c})).join("-");t.optionString=e})),d=t.itemList.map((function(t){return t.optionString})).join(";"));var m=!1;t.marketType&&0!==t.marketType.length||a.includes("社区团购")||jm.each(t.itemList,(function(t,e){if(e.levelDiscount&&e.levelDiscount<100)return m=!0,!1}));var p=t.itemList.reduce((function(t,e){return t+e.price}),0);Mobi.logMallFdp("mall_mem_order_pay",{mall_pay:t.payModeName,mall_free_text_0:t.payMode>=300?t.payModeName:"",mall_gds:c,mall_ship:t.shipTypeName,mall_mkt_type:t.marketType||"",mall_dist_type:a.join(","),mall_free_bool_0:s,mall_free_bool_1:l,mall_free_bool_4:m,mall_free_bool_3:!!t.merchantId,mall_free_text_1:p.toFixed(2),mall_free_text_2:t.price.toFixed(2),mall_free_text_5:d,mall_free_text_3:(null===(e=t.addrInfo)||void 0===e||null===(i=e.hai)||void 0===i?void 0:i.name)||"",mall_free_text_4:(null===(o=t.addrInfo)||void 0===o||null===(n=o.hai)||void 0===n?void 0:n.addr)||""},!0)}},Mobi.logMallMemberRechargeSucFdp=function(t){sessionStorage.getItem("flowSuclogged_"+t.id)||(sessionStorage.setItem("flowSuclogged_"+t.id,!0),Mobi.logMallFdp("mall_member_recharge",{mall_free_text_0:"手机商城",mall_free_num_0:parseInt(t.price),mall_free_text_1:t.payModeName,mall_free_bool_0:!0,mall_free_text_2:""},!0))},Mobi.logCorpDog=function(t,e){jm.ajax({type:"get",url:"/ajax/log_h.jsp?cmd=wafNotCk_logCorpDog&dogId="+jm.encodeUrl(t)+"&dogSrc="+jm.encodeUrl(e)})},Mobi.mobiHideScroll=function(){var t=document.getElementById("g_body"),e=document.getElementsByTagName("html")[0];t.style.overflowY="hidden",e.style.overflowY="hidden"},Mobi.mobiShowScroll=function(){var t=document.getElementById("g_body"),e=document.getElementsByTagName("html")[0];if(t.style.overflowY="",e.style.overflowY="",Fai.top._manageMode){var i=window.parent.document.getElementById("mobiReviewPageFrame");i.style.position="",i.style.left="",i.setAttribute("width","100%")}},Mobi.bindBodyScrollEvent=function(){window.onscroll=null,window.onscroll=function(){Mobi.scrollBgmPosition()}},Mobi.isWechat=function(){return"micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},Mobi.isQQ=function(){var t=window.navigator.userAgent.toLowerCase();return["qq"].some((function(e){return t.indexOf(e)>-1}))},Mobi.isMX=function(){var t=window.navigator.userAgent.toLowerCase();return["mx4 pro"].some((function(e){return t.indexOf(e)>-1}))},Mobi.isPC=function(){for(var t=navigator.userAgent,e=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],i=!0,o=0;o<e.length;o++)if(t.indexOf(e[o])>0){i=!1;break}return i},Mobi.setCtrlStyle=function(t,e){var i=jm("#"+t),o=new Array;if(1==i.length){var n=i.html();o=(n=n.replace(/{\r\n/g,"{").replace(/\t/g,"").replace(/\r\n}/g,";}")).split("\n"),i.remove()}o.push(e),jm("head").append('<style type="text/css" id="'+t+'">'+o.join("\n")+"</style>")},Mobi.setCtrlStyleCssList=function(t,e,i,o){var n=jm,a=n("#"+t),r=new Array;if(1==a.length){var s=a.html();r=(s=s.replace(/{\r\n/g,"{").replace(/\t/g,"").replace(/\r\n}/g,";}")).split("\n"),a.remove()}for(var l=r.length-1;l>=0;--l)for(var c=r[l],d=0;d<i.length;++d){var m=i[d].cls,p=i[d].key,u=new RegExp("#"+e+" +"+Mobi.fixRegSpecialCharacter(m)+" *{ *"+p+"s*:[^;]*;","gi");if(""!=e&&"undefined"!=e||(u=new RegExp(Mobi.fixRegSpecialCharacter(m)+" *{ *"+p+"s*:[^;]*;","gi")),0==c.length||/^\s$/.test(c)||u.test(c)){r.splice(l,1);break}}for(var f=0;f<i.length;++f)""==e||"undefined"==e?r.push(i[f].cls+"{"+i[f].key+":"+i[f].value+";}"):r.push("#"+e+" "+i[f].cls+"{"+i[f].key+":"+i[f].value+";}");o&&o.rev&&r.reverse(),n("head").append('<style type="text/css" id="'+t+'">'+r.join("\n")+"</style>")},Mobi.removeCtrlStyleCssList=function(t,e,i){var o=jm,n=o("#"+t),a=new Array;if(1==n.length){var r=n.html();a=(r=r.replace(/{\r\n/g,"{").replace(/\t/g,"").replace(/\r\n}/g,";}")).split("\n"),n.remove()}for(var s=a.length-1;s>=0;--s)for(var l=a[s],c=0;c<i.length;++c){var d=i[c].cls,m=i[c].key,p=new RegExp("#"+e+" +"+Mobi.fixRegSpecialCharacter(d)+" *{ *"+m+"s*:[^;]*;","gi");if(""!=e&&"undefined"!=e||(p=new RegExp(Mobi.fixRegSpecialCharacter(d)+" *{ *"+m+"s*:[^;]*;","gi")),0==l.length||/^\s$/.test(l)||p.test(l)){a.splice(s,1);break}}o("head").append('<style type="text/css" id="'+t+'">'+a.join("\n")+"</style>")},Mobi.removeCtrlStyleCssList2=function(t,e,i){var o=jm,n=o("#"+t),a=new Array;if(1==n.length){var r=n.html();a=(r=r.replace(/{\r\n/g,"{").replace(/\t/g,"").replace(/\r\n}/g,";}")).split("\n"),n.remove()}for(var s=a.length-1;s>=0;--s)for(var l=a[s],c=0;c<i.length;++c){var d="#"+e+" "+i[c].cls+"{"+i[c].key;if(0==l.length||/^\s$/.test(l)||-1!=l.indexOf(d)){a.splice(s,1);break}}o("head").append('<style type="text/css" id="'+t+'">'+a.join("\n")+"</style>")},Mobi.fixRegSpecialCharacter=function(t){for(var e=["\\",".","?","$","*","^","[","]","{","}","|","(",")","/"],i=0,o=e.length;i<o;i++)t=t.replace(e[i],"\\"+e[i]);return t},Mobi.bindTouchEvent=function(t,e,i){var o,n,a,r,s,l,c=jm(t),d=Fai.top.navigator.userAgent,m=/(iPhone|iPad|iPod|iOS|Android)/i.test(d),p=/(MQQBrowser)/i.test(d),u=/(iPhone|iPad|iPod|iOS)/i.test(d),f=Mobi.isWechat(),h=_htmlFontSize,g=_htmlFontSize,v=!1;function b(t,e,i){var o,a=[];if("function"==typeof e.callBack){for(o=0;o<e.args.length;o++)a.push(e.args[o]);a.push(n),a.push(i),e.callBack.apply(t,a)}}function _(t){var e=t||window.event;return"ontouchstart"in window&&(e=t.changedTouches&&t.changedTouches.length>0?t.changedTouches[0]:t.touches[0]),{pageX:e.pageX,pageY:e.pageY}}p&&(g=8),u&&(g=4),c.length<1||(r="ontouchstart"in window,s=r?"touchstart":"mousedown",l=r?"touchend":"mouseup",n={touchMove:!1,toTop:!1,toLeft:!1,toRight:!1,toBottom:!1,mouseDownX:0,mouseDownY:0,mouseUpX:0,mouseUpY:0},o={stopPropagation:!0,callBack:"",args:[]},e=jm.extend({},o,e),i=jm.extend({},o,i),c.each((function(t,o){jm(o).on(s,(function(t){n=function(t){return t.touchMove=!1,t.toTop=!1,t.toLeft=!1,t.toRight=!1,t.toBottom=!1,t.mouseDownX=0,t.mouseDownY=0,t.mouseUpX=0,t.mouseUpY=0,t}(n),a=_(t),n.mouseDownX=a.pageX,n.mouseDownY=a.pageY,e&&(b(this,e,t),e.stopPropagation&&!m&&(t.stopPropagation(),t.preventDefault()))})).on(l,(function(t){a=_(t),n.mouseUpX=a.pageX,n.mouseUpY=a.pageY,n.mouseDownX==n.mouseUpX&&n.mouseDownY==n.mouseUpY||(n.touchMove=!0),n.mouseDownX>n.mouseUpX+h?n.toLeft=!0:n.mouseDownX+h<n.mouseUpX&&(n.toRight=!0),n.mouseUpY-n.mouseDownY>g?n.toBottom=!0:n.mouseDownY-n.mouseUpY>g&&(n.toTop=!0),b(this,i,t),i.stopPropagation&&!m&&(t.stopPropagation(),t.preventDefault())})),m&&jm(o).on("touchmove",(function(){a=_(event),v=Math.abs(a.pageY-n.mouseDownY)>=g,!i.stopPropagation||v||u&&f||event.preventDefault()}))})))},Mobi.loadImgAlone=function(t,e){var i=jm("#module"+t),o=jm(window).height();i.hasClass("formStyle31")?function(t,e){var i;t&&"number"==typeof t||(t=jm(window).height());i=e?jm("#module"+e).find(".cubeNavigationArea div.J_cubeLink_bg"):jm(".cubeNavigationArea div.J_cubeLink_bg");i.lazyload({threshold:parseInt(t/2),loadingClass:"",load:null})}(o,t):i.hasClass("formStyle5")&&3==parseInt(e.type)&&function(t,e,i){var o;t&&"number"==typeof t||(t=jm(window).height());e&&(o=2==i?jm("#module"+e).find(".mProductList img.style3Img"):jm("#module"+e).find(".mProductList img.style1Img"));o.lazyload({threshold:t,load:null})}(o,t,2)},Mobi.triggerAllLazyLoad=function(){jm(window).trigger("scroll")},Mobi.getUrlParam=function(t,e){var i,o=t.substring(t.indexOf("?")+1,t.length).split("&");return jm.each(o,(function(t,o){if(decodeURIComponent(o.substring(0,o.indexOf("=")))===e)return i=decodeURIComponent(o.substring(o.indexOf("=")+1,o.length)),!1})),i},Mobi.addDistCode=function(){var t=Fai.top.navigator.userAgent,e=/(iPhone|iPad|iPod|iOS)/i.test(t),i=window.location.href;if(!(i.indexOf("dist")>0||i.indexOf("mstl.jsp")>0||i.indexOf("mdetail.jsp")>0||i.indexOf("mlist.jsp")>0||i.indexOf("h-mstl")>0||i.indexOf("h-mdetail")>0||i.indexOf("h-mlist")>0)){var o=Mobi.getDistCodeByArgOrCookie();if(""!=o){var n="?dist="+o;if(i.indexOf("?")>0&&(n+="&"+i.split("?")[1]),e&&Mobi.isWechat())return i=i.split("?")[0],void window.location.replace(i+n);history.replaceState&&history.replaceState(null,"",n)}}},Mobi.bindMemberDistId=function(){var t=window.location.href;if(!(t.indexOf("dist")<0)&&t.indexOf("?")>0){var e=Mobi.getDistCodeByArgOrCookie();if(""==e){var i=Mobi.getUrlParam(t,"returnUrl")||"";""!=i&&(e=Mobi.getUrlParam(i,"dist")||"")}var o=jm.cookie("oldDistUVRecordKey")||"";""!=e&&jm.ajax({type:"get",url:"/ajax/dist_h.jsp?cmd=setWafCk_bindMemberDistTime&distCode="+e,success:function(){var t=jm.cookie("_distCode")||"",e=Fai.top.sessionMemberId||0;o!=(t=t+"_"+e)&&jm.cookie("distUVRecordKey",""),Mobi.distUVDailyTotal()}})}},Mobi.distUVDailyTotal=function(){var t=jm.cookie("_distCode")||"",e=Fai.top.sessionMemberId||0,i=jm.cookie("distUVRecordKey")||"";if(""!=t&&""==i){var o=t+"_"+e;jm.ajax({type:"get",url:"/ajax/dist_h.jsp?cmd=addWafCk_distUVDailyTotal&distCode="+t,success:function(t){var e=jm.parseJSON(t);if(e.success){var i=new Date;i.setHours(23),i.setMinutes(59),i.setSeconds(59),document.cookie="distUVRecordKey="+e.distUVRecordCookie+";expires="+i.toGMTString(),document.cookie="oldDistUVRecordKey="+o+";expires="+i.toGMTString()}}})}},Mobi.getDistCodeByArgOrCookie=function(){var t="",e=window.location.href;return""==(t=Mobi.getUrlParam(e,"dist")||"")&&(t=jm.cookie("_distCode")||""),t},Mobi.getLanCodeFromLcid=function(t){switch(t=parseInt(t)){case 2052:return"cn";case 1033:return"en";case 1028:return"tcn";case 1041:return"jap";case 1042:return"kor";case 1108:return"lo";case 1054:return"th";case 11274:return"es";case 1049:return"ru";case 1036:return"fra";case 1040:return"it";case 1031:return"de"}},Mobi.getUrlParamObj=function(t){var e=new Object;if(-1!=t.indexOf("?"))for(var i=t.substr(1).split("&"),o=0;o<i.length;o++){var n=decodeURIComponent(i[o].split("=")[0]),a=i[o].split("=")[1];e[n]=a?decodeURIComponent(a):""}return e},function(t,e){t.lockDocScroll=function(){e("body").data("fk-scroll","false")},t.openDocScroll=function(){e("body").data("fk-scroll","true")},e((function(){e("#g_web").on("touchmove",(function(){if("false"===e("body").data("fk-scroll"))return!1}))}))}(Mobi,jm),Mobi.bindInteractive=function(t){var e=Mobi.getPreviewWindow(),i=e.Mobi,o=e.jm("#module"+t,e.document),n=i.photoGroup;o.hasClass("formStyle34")&&jm.isFunction(i.photoGroup.bindInteractive)&&n.bindInteractive(o),o.hasClass("formStyle35")&&Mobi.bindServiceBtnEvent()},Mobi.forbiddenExternalLinks=function(){},Mobi.isContainExternallink=function(){},Mobi.preciseDecimal=function(t,e){if(isNaN(parseFloat(t))&&!isFinite(t)||"number"!=typeof e||e<=0)return t;var i,o,n=t+"",a=n.indexOf(".");return a<0?t:(i=parseInt(n.slice(0,a)),o=parseFloat(n.slice(a,n.length)),i+parseFloat(o.toPrecision(e)))},Mobi.showBookingPanel=function(){Mobi.bookingBoxBind(!1),jm("#bookingPanelTriggle").data("pid",-1),jm("#bookingPanelTriggle").trigger("click")},Mobi.encodeHtml=function(t){return t&&t.replace?t.replace(/&/g,"&amp;").replace(/ /g,"&nbsp;").replace(/\b&nbsp;+/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\\/g,"&#92;").replace(/'/g,"&#39;").replace(/"/g,"&quot;").replace(/\n/g,"<br/>").replace(/\r/g,""):t},Mobi.wxShareAlter=function(t){var e=[];e.push("<div class='wxShare'>"),e.push("<div class='wxShareContent'>"),e.push("<div class='wxShareDesc'>"),e.push("<span>"+LS.weChatShare+"</span>"),e.push("</div>"),e.push("<div class='wxShareQrcode'><img width='190' height='190' alt='' src='"+t+"' /></div>"),e.push("</div>"),e.push("</div>");var i={title:"微信分享",width:480,height:480,divContent:e.join("")};Fai.top.Fai.popupWindowVersionTwo.createPopupWindow(i).getPopupWindowId()},Mobi.logErr=function(t){t&&jm.ajax({type:"GET",url:"/ajax/log_h.jsp?cmd=wafNotCk_err&err="+Fai.encodeUrl(t)})},Mobi.isSupportWebp=function(){var t=!1;try{t=0==document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch(t){console.log(t)}return Mobi.isSupportWebp=function(){return t},Mobi.isSupportWebp()},Mobi.img2Webp=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Fai.top._openWebp&&Mobi.isSupportWebp()&&!Fai.top._webDebug&&/(.faiusr.com)/.test(t)&&(t=t.replace(/(jpg|jpeg|png|gif)$|(jpg|jpeg|png|gif)\?v=/,(function(t,e,i){return e?e+".webp":i?t.replace(i,i+".webp"):void 0}))),t},Mobi.checkNestModule=function(t){var e,i,o,n={nest:!1,isTab:!1,isPack:!1,isFold:!1,isPopupZone:!1,isFloatZone:!1,parentId:0,inTab:!1,inPack:!1,inFold:!1,inPopupZone:!1,inFloatZone:!1,inList:[]},a=parseInt(t.attr("_intab"))||0,r=parseInt(t.attr("_inpack"))||0,s=parseInt(t.attr("_infold"))||0,l=parseInt(t.attr("_inpopupzone"))||0,c=parseInt(t.attr("_infloatzone"))||0;return t.hasClass("formStyle50")?(n.nest=!0,n.isTab=!0,t.find(".J_formTabButton").each((function(t,i){e=parseInt(jm(i).attr("tabmoduleid")),isNaN(e)||n.inList.push(e)}))):t.hasClass("formStyle51")?(n.nest=!0,n.isPack=!0,t.find(".J_formPackContent .form").each((function(t,e){i=parseInt(jm(e).attr("id").replace("module","")),isNaN(i)||n.inList.push(i)}))):t.hasClass("formStyle58")?(n.nest=!0,n.isFold=!0,t.find(".J_formFoldItem .form").each((function(t,e){o=parseInt(jm(e).attr("id").replace("module","")),isNaN(o)||n.inList.push(o)}))):t.hasClass("formStyle62")?(n.nest=!0,n.isPopupZone=!0):t.hasClass("formStyle103")&&(n.nest=!0,n.isFloatZone=!0),a>0?(n.parentId=a,n.inTab=!0):r>0?(n.parentId=r,n.inPack=!0):s>0?(n.parentId=s,n.inFold=!0):l>0?(n.parentId=l,n.inPopupZone=!0):c>0&&(n.parentId=c,n.inFloatZone=!0),n},Mobi.getModuleAnimationStatus=function(t){var e=jm("#module"+t);return Mobi.checkNestModule(e).inPack?1:-1},Mobi.limitUv=function(){var t,e,i,o,n,a,r,s;if(o="&typeQy=0&isMobile=1&siteLan="+Fai.top._wid+"&startTime="+(t=new Date,e=t.getFullYear(),(i=t.getMonth()+1)<10&&(i="0"+i),new Date([e,i,"01"].join("-")).getTime()/1e3+"&endTime=")+(n=new Date,a=n.getMonth(),r=++a,s=new Date(n.getFullYear(),r,1),new Date(s-864e5).getTime()/1e3),jm.ajax({type:"post",url:"/ajax/mobistatistics_h.jsp?cmd=getWafNotCk_timeDataNoAuth",data:o,timeout:6e4,async:!1,error:function(t,e){"timeout"==e&&Fai.ing("抱歉，数据量过大查询失败。请稍后再试")},success:function(t){var e=jm.parseJSON(t);e.success&&(Fai.top.usedUv=e.iVisitors)}}),Fai.top.usedUv>=300||Fai.top.isJuly3FreeUser&&Fai.top.usedUv>=100){Mobi.logDog(200618,14);var l='<div class="tipDialog"><span class="quitIcon"></span><img class="tipComtent" src="'+Fai.top._resImageRoot+'/image/v2/pageNotFound.png"></img><div class="tipFont"> 网站流量已达上限，暂时无法访问</div><div id="tipButton" class="tipButton"> 升级网站，拥有无限流量</div><div class="tipButton tipButtonFk"> 我是访客，也想免费建站</div></div>';jm("#g_body .fk-limtUv").append(l),document.getElementById("g_body").style.overflowY="hidden",jm(".fk-limtUv .quitIcon").click((function(){top.window.close()})),jm("#tipButton").click((function(){Mobi.logDog(200618,15),window.open("https://jzm.fkw.com/?_ta=2549")})),jm(".fk-limtUv .tipButtonFk").click((function(){Mobi.logDog(200618,18),window.open("https://jzm.fkw.com/?_ta=2550")}))}else jm("#fk-limtUv").remove()},Mobi.limitDayUv=function(){var t="&siteLan="+Fai.top._wid+"&siteId="+Fai.top._siteId;jm.ajax({type:"post",url:"/ajax/site_h.jsp?cmd=getWafNotCk_getLimitPreview",data:t,timeout:6e4,success:function(t){var e=jm.parseJSON(t);if(e.success&&0!=e.type){var i="";if(1==e.type){if(Fai.top._oem)i+="免费域名"+e.acct+"只用作预览使用，如涉及到不良信息传播、转账交易等，请谨慎对待。";else{Mobi.logDog(200732,1);var o="";e.prefix&&e.mHomeHost&&(o=e.prefix+e.mHomeHost+"/feedBack/feedBack.jsp?url_s="+e.prefix+e.acct),Fai.top._isShowFkAuthTips?i+="免费域名"+e.acct+"只用作预览访问，商业用途请先<a href='https://www.fkw.com/marketing/domain.html' target='_blank' style='color:#5874d8;font-size:12px;text-decoration:underline;'>绑定独立域名</a>或<a href='https://i.fkw.com/portal.jsp#appId=setAuth' target='_blank' style='color:#5874d8;font-size:12px;text-decoration:underline;'>开通"+Fai.top._fkAuthTitle+"</a>":i+="免费域名"+e.acct+"只用作预览使用，如涉及到不良信息传播、转账交易等，请谨慎对待。<a style='color:#ff8e1e;font-size:14px;text-decoration:underline;' onclick='javascript:Mobi.logDog(200732, 2);'  href='"+o+"'>我要投诉</a>"}var n='<div id="fk-tipsLimitUv" class="fk-tipsDiv"><div  class="fk-mobiTips"><div class="scroll"><li>'+i+"</li><li>"+i+"</li></div></div></div>";jm("body").prepend(n),Fai.top.scollDistance=0,setInterval((function(){-780==Fai.top.scollDistance&&(Fai.top.scollDistance=0),Fai.top.scollDistance-=1,jm(".fk-mobiTips .scroll").css({left:Fai.top.scollDistance+"px"})}),20),Mobi.autoFixGWebTop(_templateLayoutId)}else if(2==e.type)if(Fai.top._oem){i+="访客量超出限制，免费域名"+e.acct+"只用作预览访问，商业使用请绑定独立域名访问。";var a='<div class="fk-limtUv"><div class="tipDialog"><span class="quitIcon"></span><img width="440px" height="245px" class="tipComtent" src="'+Fai.top._resImageRoot+'/image/v2/pageNotFound.png"></img><div class="tipFont" style="font-size:16px;width:90%;margin-left:5%;"> '+i+"</div></div></div>";jm("body").append(a),document.getElementById("g_body").style.overflowY="hidden"}else{if(Fai.top._isShowFkAuthTips){var r="//"+Fai.top._homeHost+"/marketing/domain.html",s="//"+Fai.top._portalHost+"/portal.jsp#appId=setAuth";i+="免费域名"+e.acct+"只用作预览访问，商业用途请先<a href='"+r+"' onclick='Site.logCorpDog(200848, 6);' target='_blank' style='color:#5874d8;text-decoration:underline;'>绑定独立域名</a>或<a href='"+s+"' target='_blank' onclick='Site.logCorpDog(200848, 3);' style='color:#5874d8;text-decoration:underline;'>开通"+Fai.top._fkAuthTitle+"</a>"}else i+="访客量超出限制，免费域名"+e.acct+"只用作预览访问，商业使用请绑定独立域名访问。";var l="";0==e.ver?l+="升级网站,绑定域名":e.isFaiDomain?l+="访问:"+e._mainUrl:l+="登陆后台，绑定域名";var c='<div class="fk-limtUv"><div class="tipDialog"><span class="quitIcon"></span><img width="440px" height="245px" class="tipComtent" src="'+Fai.top._resImageRoot+'/image/v2/pageNotFound.png"></img><div class="tipFont" style="font-size:16px;width:90%;margin-left:5%;"> '+i+'</div><div class="tipButton tipButton2">'+l+"</div></div></div>";jm("body").append(c),jm(".fk-limtUv .tipButton").click((function(){0==e.ver?window.open("https://jzm.fkw.com/product.html"):e.isFaiDomain?window.open(Fai.top.httpStr+e._mainUrl):window.open("https://i.fkw.com/portal.jsp")})),document.getElementById("g_body").style.overflowY="hidden"}else if(3==e.type){i="当前域名禁止访问";var d='<div class="fk-limtUv"><div class="tipDialog"><span class="quitIcon"></span><img width="440px" height="245px" class="tipComtent" src="'+Fai.top._resImageRoot+'/image/v2/pageNotFound.png"></img><div class="tipFont" style="font-size:16px;width:90%;margin-left:5%;"> '+i+'</div><div class="tipButton tipButton2">点击这里访问您的网站</div></div></div>';jm("body").append(d),jm(".fk-limtUv .tipButton").click((function(){window.open(Fai.top.httpStr+e.acct)})),document.getElementById("g_body").style.overflowY="hidden"}}}})},Mobi.ajaxLogDog=function(){jm.ajax({type:"POST",url:"/ajax/log_h.jsp?cmd=wafNotCk_mobiLogDog&hostName="+Fai.top.location.host,error:function(){},success:function(){}})},Mobi.throttle=function(t,e){var i=0;return e=e||300,function(){var o=new Date;o-i>=e&&(t.apply(this,arguments),i=o)}},Mobi.debounce=function(t,e){var i=null;return e=e||300,function(){var o=this,n=arguments;clearTimeout(i),i=setTimeout((function(){t.apply(o,n)}),e)}},Mobi.loadFile=function(){var t=[];function e(e,i){try{for(var o,n=0;o=t[n++];)if(o.doc===e&&o.url==(i.src||i.href))return o}catch(t){return null}}return function(i,o,n,a){var r=e(i,o);if(r)r.ready?n&&n(r):(r.funs.push(n),a&&r.errFuns.push(a));else if(t.push({doc:i,url:o.src||o.href,funs:[n],errFuns:a?[a]:[]}),i.body){if(o.id&&o.realTime){var s=i.getElementById(o.id);s&&s.parentNode&&s.parentNode.removeChild(s)}if(!o.id||!i.getElementById(o.id)){var l=i.createElement(o.tag);for(var c in delete o.tag,o)Object.hasOwnProperty.call(o,c)&&l.setAttribute(c,o[c]);l.onload=l.onreadystatechange=function(){if(!this.readyState||/loaded|complete/.test(this.readyState)){if((r=e(i,o)).funs.length>0){r.ready=1;for(var t;t=r.funs.pop();)t(r)}l.onload=l.onreadystatechange=null}},l.onerror=function(){if((r=e(i,o)).errFuns&&r.errFuns.length>0)for(var t;t=r.errFuns.pop();)t();throw Error("加载文件 "+(o.href||o.src)+" 失败 ")},i.getElementsByTagName("head")[0].appendChild(l)}}else{var d=[];for(var m in o)"tag"!=m&&d.push(m+'="'+o[m]+'"');i.write("<"+o.tag+" "+d.join(" ")+" ></"+o.tag+">")}}}(),Mobi.jumpToModulePosition=function(t){var e=t.jumpModuleId,i=t.colUrl,o=t.colId,n=jm("#webModuleContainer #module"+e),a=!1;if(n.length<1){var r="/h-col-"+Fai.top._pageId+".html";return Fai.top._openStaticUrl&&(r="/sys-col-".concat(Fai.top._pageId,".html")),i=="/col.jsp?id="+Fai.top._pageId||i==r?void(Fai.top._manageMode?Fai.top.Fai.ing("该模块已被删除或隐藏",!0):Mobi.ing(LS.linkPositionNotFound,3)):void(-1!=o&&jm.ajax({type:"post",data:"&_colId="+o+"&extId="+Fai.top._extId+"&v="+1e3*Math.random(),url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/colModuleManage_h.jsp?cmd=getWafNotCk_getColModulesId",error:function(){Fai.ing("加载失败",!0)},success:function(t){t=jm.parseJSON(t);for(var o=0;o<t.moduleListId.length;o++)if(t.moduleListId[o]==parseInt(e)){a=!0;break}if(a){var n=Mobi.getMobiLanCode();n=""==n?"":"/"+n,document.location.href=n+i+"#fai_"+e}else Fai.top._manageMode?Fai.top.Fai.ing("该模块已被删除或隐藏",!0):Mobi.ing(LS.linkPositionNotFound,3)}}))}n.length>=1&&n.parents(".formStyle50").length>0||n.length>=1&&n.parents(".formStyle51").length>0||n.length>=1&&n.parents(".formStyle58").length>0?Fai.top._manageMode?Fai.top.Fai.ing("此链接已失效",!0):Mobi.ing(LS.linkFailure,2):(""==window.location.hash&&(window.location.hash="fai_"+e),Mobi.jumpAnimation(e))},Mobi.jumpAnimation=function(t){var e,i=jm("#web_header_fixed_box"),o=jm("#webModuleContainer #module"+t);if(Fai.top._openThemeV3)if("fixed"==i.css("position")){var n=isNaN(Number(i.height()))?0:i.height();e=o.offset().top-n+.1}else e=o.offset().top;else e="fixed"==jm("#webHeaderBox").css("position")?o.offset().top-jm("#webHeaderBox").height()+.1:o.offset().top,1023!=Fai.top._templateFrameId&&1019!=Fai.top._templateFrameId&&1024!=Fai.top._templateFrameId||(e-=jm("#webHeaderBox").height()),1021==Fai.top._templateFrameId&&(e=e-jm("#webHeaderBox").height()-jm("#webHeaderBox").height());var a=parseInt(e)-10,r=parseInt(e)+10,s=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;if(!(s>a&&s<r)){var l,c,d=e,m=0;if(c=setInterval((function(){isNaN(d)?clearInterval(c):(l=d/20,e=parseInt(m+l),m=e,document.body.scrollTop=e,document.documentElement.scrollTop=e,(0==e||e>=d-l)&&clearInterval(c))}),1e3/90),Fai.top._openThemeV3){var p=parseInt(Mobi.getMainNavLayoutId());Mobi.closeNavV3(p)}else Mobi.clickJumpremoveAllSwipeMenuClass()}},Mobi.getMobiLanCode=function(){var t=Fai.top._lcid,e="";return 2052==(t=t||2052)&&(e="cn"),1033==t?e="en":1028==t?e="tcn":1041==t?e="jp":1042==t?e="kor":1108==t?e="lo":1054==t?e="th":11274==t?e="es":1049==t?e="ru":1036==t?e="fra":1040==t?e="it":1031==t&&(e="de"),window.location.pathname.startsWith("/"+e)||(e=""),e},Mobi.clickJumpremoveAllSwipeMenuClass=function(){var t,e=Fai.top._templateLayoutId;-1!==Mobi.getPreviewObject("navbar").className.indexOf("open")&&(jm("#navbar").removeClass("open"),jm("#navExistOffPanel").removeClass("navPanelOpen"),jm("#navButton").removeClass("navButtonOpen"),t="moveRight",jm("#webHeaderBox").removeClass(t),jm("#webBannerBox").removeClass(t),jm("#webContainerBox").removeClass(t),jm("#customerServiceDiv").removeClass(t),jm("#webFooter").removeClass(t),jm("#bgm_icon").removeClass(t),2===e&&jm("#webTop").css("height",""))},function(t,e){var i={};e.bindImgLazyLoad=function(e,o){var n={root:null,threshold:.01,rootMargin:"0px",imgClass:"J_img_lazyload",data_attribute:"src-original",loadExistImg:!1};o&&jm.extend(n,o);var a=n.loadExistImg,r=n.imgClass,s=n.data_attribute,l=jm("#"+e).find("."+r);i[e]&&(i[e].disconnect(),i[e]=null);var c=new IntersectionObserver((function(e){e.forEach((function(e){e&&e.isIntersecting&&e.target&&(t(e.target).attr(s)&&function(e,i,o,n,a){var r=t(e),s=r.attr(o),l="";l=9063789!=Fai.top._aid?Mobi.img2Webp(s):s;t("<img />").one("load",(function(){r.is("img")?r.attr("src",l):r.is("div")&&r.find("image").length?r.find("image").attr("xlink:href",l):r.css("background-image","url('"+l+"')"),r.addClass("fade-in-for-lazyload");var c=setTimeout((function(){r.removeClass("fade-in-for-lazyload"),clearTimeout(c),c=null}),600);i.unobserve(e),a&&n.each((function(e,n){jm(n).attr(o)==s&&function(e,i,o){var n=t(e),a=n.attr(o),r="";9063789!=Fai.top._aid&&(r=Mobi.img2Webp(a));n.is("img")?n.attr("src",r):n.is("div")&&n.find("image").length?n.find("image").attr("xlink:href",r):n.css("background-image","url('"+r+"')");i.unobserve(e)}(n,i,o)}))})).attr("src",l)}(e.target,c,s,l,a))}))}),{root:n.root,threshold:n.threshold,rootMargin:n.rootMargin});i[e]=c,l.each((function(t,e){c.observe(e)}))}}(jm,Mobi),function(t,e){var i={};function o(t,e,i){var o=jm("#module"+t);o.children().remove(),o.append(e),jm.fkEval.call(window,i),"1005"==Fai.top._templateFrameId||1019==Fai.top._templateFrameId?Mobi.changeMorePosition(1):Mobi.changeMorePosition(0)}function n(t){try{var e=t.moduleInfo,i=e.style,o=e.id,a=t.renderOptions,r=t.renderSuccess;t.isFirstScreen&&(a.isFirstScreen=!0,delete t.isFirstScreen);var s=t.childModule;if(!e||!a)return;r?new Vue({data:{componentName:Fai.top.isOpenLazyOptimize?JzmModule.default:JzmModule.utils.getComponentNameByStyleId(i),animationData:{id:o,animation:Fai.top._openThemeV3?e.patternV3.a:e.pattern.a,style:i}},provide:{module:e,options:a},components:JzmModule.components,mounted:function(){var t=Fai.top._manageMode,a=!Fai.top._openThemeV3&&!t&&51==i,r=!!e.inTab;if(a&&r){var l=jm("#module"+o),c=0;if(l.length>0){var d=parseInt(l.attr("_height"));0==l.attr("_autoHeight")&&d>0&&(c=d)}var m=parseInt(c)||parseInt(l.height())||1,p=m>2e3?2e3:m,u=jm("#module"+o);if(0===+u.attr("_autoHeight"))Mobi.setModuleHeight2(o,p,Fai.top.moduleManageFontSize["module"+o]),u.attr({_height:p,_autoHeight:"0"});else{u.css("height","auto");var f=u.find(".formMiddle");jm(f[0]).css("height","auto");var h=u.find(".formMiddleContent");jm(h[0]).css("height","auto"),u.attr("_autoHeight","1")}}s&&s.length&&s.forEach((function(t){n(t)}))},template:"<component v-animate-obsever='animationData' :is='componentName'></component>"}).$mount(Fai.top.isOpenLazyOptimize?"#module"+o:"#module"+o+" .module_content"):new Vue({components:JzmModule.components,data:{componentName:JzmModule.default},provide:{module:e,options:a},mounted:function(){s&&s.length&&s.forEach((function(t){n(t)})),107==i&&jm("#module"+o).removeClass("animateModule")},template:"<component :is='componentName'></component>"}).$mount("#module"+o)}catch(t){console.log(t)}}i.domEventList={},i.ajaxModuleList=[],i.ham=!1,i.listen=function(t,e){this.domEventList[t]||(this.domEventList[t]=[]),this.domEventList[t].push(e)},i.trigger=function(){var t=Array.prototype.shift.call(arguments),e=this.domEventList[t];if(!e||0===e.length)return!1;for(var i,o=0;i=e[o++];)i.apply(this,arguments)},e.ajaxLoadModuleDom=function(t,e,n){i.listen("topBar",(function(t){var e=Mobi.getPreviewWindow().jm(".multilingual");e.children().remove(),e.append(t.dom),jm.fkEval.call(window,t.scripts),Mobi.initLocater()})),i.listen("footer",(function(t){jm("#webFooter").html(t.dom),jm.fkEval(t.scripts)})),i.listen("ajaxLoadDomScript",(function(t){jm.fkEval.call(window,t)})),i.listen("renderAjaxLoadModule",(function(){if(i.ham&&i.ajaxModuleList.length){for(var t=i.ajaxModuleList,e=0;e<t.length;e++){var n=t[e];o(n.moduleId,n.dom,n.scripts)}Mobi.initFooterHeight(),Mobi.onlineServiceInputWord()}})),i.listen("ajaxLoadPaginationDomList",(function(){if(i.ajaxLoadPaginationDomList.length)for(var t=i.ajaxLoadPaginationDomList,e=0;e<t.length;e++){var o=t[e],n=o.moduleId,a=o.dom;if(a){var r=jm("#paginationDiv"+n);r.children().remove(),r.append(a)}}}));var a=window.location.href,r="",s="";if(a.indexOf("lcid")>0){var l=Mobi.getUrlParam(a,"lcid");l&&(s+="?lcid="+l)}a.indexOf("_fromJzmHome")>0&&(Mobi.getUrlParam(a,"_fromJzmHome")&&(r+="&_fromJzmHome=true"));jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/ajaxLoadModuleDom_h.jsp"+s,data:"cmd=getWafNotCk_loadModuleDom&colId="+t+"&extId="+e+"&ajaxOptionInfo="+jm.encodeUrl(jm.decodeUrl(jm.toJSON(n)))+r+"&anchor="+jm.encodeUrl(Fai.top.location.hash),success:function(t,e,o){var n=o.getResponseHeader("wafUpdate");n&&"true"==n&&window.location.reload();try{t=jm.parseJSON(t)}catch(e){t={success:!1}}if(t.success){var a=jm.parseJSON(t.rtInfo);a.topBar&&i.trigger("topBar",a.topBar),a.footer&&i.trigger("footer",a.footer),t.scripts&&i.trigger("ajaxLoadDomScript",t.scripts),a.moduleDomList&&a.moduleDomList.length>0&&(i.ajaxModuleList=a.moduleDomList,i.trigger("renderAjaxLoadModule")),a.ajaxLoadPaginationDomList&&a.ajaxLoadPaginationDomList.length>0&&(i.ajaxLoadPaginationDomList=a.ajaxLoadPaginationDomList,i.trigger("ajaxLoadPaginationDomList"))}}})},e.renderModuleSSR=function(t,e){if(1103398!=_aid){(!Fai.top._moduleSSRList||Fai.top._moduleSSRList.length<1)&&(i.ham=!0);var o=Fai.top._moduleSSRList,a=window.location.search;return new Promise((function(i,n){var r=Mobi.getUrlParamObj(a);r.cmd="getWafNotCk_activateSsrmodule",r._colId=t,r._extId=e,r._colInfo=jm.toJSON(Fai.top._colInfo),r.moduleList=jm.toJSON(o),r.qurl=window.location.href,jm.ajax({type:"post",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/module_h.jsp",data:r,success:function(t){try{t=jm.parseJSON(t)}catch(e){console.error("后台数据有误",e),t={success:!0,optionList:[]}}var e=t.optionList;t.success?i(e):(Mobi.ing(LS.js_systemError,!1),n(e))}})})).then((function(t){var e=function(t){var e={},i={};return t.filter((function(t){var o=t.id;var n=t.moduleInfo.style;if(n==50||n==51||n==58){i[o]=t}if(!t.inLabelModule){e[o]=t;return false}return true})).forEach((function(t){if(t.inLabelModule){var e=t.inLabelModule,o=i[e];if(!o)return;o.childModule||(o.childModule=[]),o.childModule.push(t)}})),e}(t);if(t&&t.length){for(var o in e){if(Object.hasOwnProperty.call(e,o))n(e[o])}i.ham=!0,i.trigger("renderAjaxLoadModule")}}))}}}(jm,Mobi),jm,h=Mobi,g=201151,v=1,b=2,h.getLocationByAddress=function(t){return h.logDog(g,v),new Promise((function(e,i){var o=new qq.maps.Geocoder;o.setComplete((function(t){e(t.detail.location)})),o.setError((function(t){i(t)})),o.getLocation(t)}))},h.syncComputeDistanceBetween=function(t,e){h.logDog(g,b);var i=new qq.maps.LatLng(t.latitude,t.longitude),o=new qq.maps.LatLng(e.latitude,e.longitude);return qq.maps.geometry.spherical.computeDistanceBetween(i,o)},Mobi.checkBit=function(t,e){var i=!0;if((t>2147483647||t<0||e>2147483647||e<0)&&(i=!1),i)return(t&e)==e;var o,n,a,r,s,l,c=t.toString(2),d=e.toString(2);if(c.length>62||d.length>62)return alert("Does not support more than 62 bit. flagBinary.length="+c.length+",bitFlagBinary.length"+d.length+"."),!1;r=o=n=a=0,c.length>31?(l=c.slice(0,c.length-31),s=c.slice(c.length-31),r=parseInt(l,"2"),o=parseInt(s,"2")):o=parseInt(c.slice(0,c.length),"2"),d.length>31?(l=d.slice(0,d.length-31),s=d.slice(d.length-31),n=parseInt(l,"2"),a=parseInt(s,"2")):a=parseInt(d.slice(0,d.length),"2");var m=(o&a)==a;return m&&(m=(r&n)==n),m},Mobi.bindViewIdForTs=function(){var t=window.location.href,e=Mobi.getUrlParam(t,"viewerId")||"";e&&""!=e?jm.setCookie("ts_viewerId",e):e=jm.getCookie("ts_viewerId"),(Fai.top.sessionMemberId||0)<=0||e&&""!=e&&(e=parseInt(e),isNaN(e)||jm.ajax({type:"get",url:"/ajax/member_h.jsp?cmd=setWafCk_setMemberViewerIdForTs&viewerId="+e,success:function(){}}))},Mobi.logMonitor=function(t,e){jm.ajax({type:"POST",url:Mobi.addRequestPrefix({newPath:"/ajax",oldPath:"ajax"})+"/log_h.jsp",data:"cmd=wafNotCk_monitor&id="+t+(e?"&isLog="+e:"")})},Mobi.fixIosBug=function(){var t,e,i;/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)&&(t=".jz_mobi_form",e=!0,i=0,document.body.addEventListener("focusin",(function(o){var n=o.target;jm(n).closest(t).length&&(i=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop,e=!1)})),document.body.addEventListener("focusout",(function(o){var n=o.target;jm(n).closest(t).length&&(e=!0,setTimeout((function(){e&&window.scrollTo(0,i)}),300))})))},function(){function t(){return new t.prototype.init}Mobi.DateUtil={getMonth:function(t){return new Date(t).getMonth()+1},getDayOfMonth:function(t){return new Date(t).getDate()},getYear:function(t){return new Date(t).getFullYear()},getHour:function(t){return new Date(t).getHours()},getMinutes:function(t){return new Date(t).getMinutes()},getZeroTime:function(t){var e=new Date(t);return e.setHours(0,0,0,0),e.getTime()},getNowZeroTime:function(){var t=(new Date).getTime();return this.getZeroTime(t)},getDayTextForNow:function(t){var e=this.getMonth(t),i=this.getDayOfMonth(t),o=""+i;i<10&&(o="0"+i);var n=""+e;e<10&&(n="0"+e);var a=n+"."+o,r=this.getZeroTime(t),s=this.getZeroTime((new Date).getTime()),l=s+this.DAY_UNIT;return r===s?a="今天":r===l&&(a="明天"),a=a+"(周"+this.getDayOfWeek(t)+")"},getIndexOfWeek:function(t){var e=new Date(t).getDay();return 0==e&&(e=7),e-1},getDayOfWeek:function(t){return["一","二","三","四","五","六","日"][this.getIndexOfWeek(t)]},getHourAndMinStr:function(t){var e=this.getHour(t),i=this.getMinutes(t);return(e<10?"0"+e:""+e)+":"+(i<10?"0"+i:""+i)},format:function(e,i){return o=new Date(e),n=i,(new t).format(o,n);var o,n},DAY_UNIT:864e5,HOUR_UNIT:36e5,HALF_HOUR_UNIT:18e5,MINUTE_UNIT:6e4},Mobi.isOpenAddrPropByType=function(t){return Fai.top._addrPropList.some((function(e){return e.type===t}))},t.fn=t.prototype={_default:{formatFn:function(t,e){return t=t||0,1===(e=e.length)?t:(Math.pow(10,e)+t+"").slice(-e)},formatMap:{Y:function(e,i){return t.fn._default.formatFn(e.getFullYear(),i)},M:function(e,i){return t.fn._default.formatFn(e.getMonth()+1,i)},D:function(e,i){return t.fn._default.formatFn(e.getDate(),i)},h:function(e,i){return t.fn._default.formatFn(e.getHours(),i)},m:function(e,i){return t.fn._default.formatFn(e.getMinutes(),i)},s:function(e,i){return t.fn._default.formatFn(e.getSeconds(),i)},w:function(t){return t.getDay()}}},init:function(){return this},config:function(t){for(var e in t)Object.hasOwnProperty.call(t,e)&&(this._default[e]=t[e]);return this},format:function(t,e){if(t=new Date(t),!/Invalid/i.test(t+"")){var i=this,o="";return e.replace(/([YMDhsmw])\1*/g,(function(e){return o=e.charAt(),i._default.formatMap[o]?i._default.formatMap[o](t,e):""}))}console.error("请提供一个合法日期！")}},t.fn.init.prototype=t.fn}(Mobi,jm),function(t,e){var i="_reqArgs";e.getLotteryInfo=Mobi.getLotteryInfo,e.getIsOpenRemoveUrlArg=function(){return Fai.top._openRemoveUrlArgs},e.getIsSetReqHttpOnlyCookie=function(){return Fai.top._setReqHttpOnlyCookie},e.setUrlArgToCookie=function(t,i){if(t.href||"")return Fai.top._manageMode&&Fai.top.Mobi.checkSaveBar({fun:o},!0)||o(),!1;function o(){e.handleSetUrlArgToCookie(i).then((function(){var e=t.cloneNode();e.setAttribute("onclick",""),e.click(),e=null})).catch((function(t){return console.error(t)}))}},e.handleSetUrlArgToCookie=function(o){return new Promise((function(n,a){try{"object"===p(o)&&(o=JSON.stringify(o))}catch(t){console.error(t),n()}e.getIsSetReqHttpOnlyCookie()?t.ajax({url:"/ajax/setCookie_h.jsp",type:"post",data:{cmd:"setWafCk_setReqArgsCookie",_reqArgs:o},success:function(){n()},error:function(t){a(t)}}):(t.cookie(i,o,{path:"/"}),n())}))},e.setUrlArgToCookieAndJump=function(t,e){Fai.top.JZ.getIsOpenRemoveUrlArg()&&e?Fai.top.JZ.handleSetUrlArgToCookie(e).then((function(){window.location.href=t})):window.location.href=t},e.createUrlArgsOnclickStr=function(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t)return"";var o="string"==typeof t?t:JSON.stringify(t),n="JZ.setUrlArgToCookie(this, ".concat(o,"); return false;");return e.getIsOpenRemoveUrlArg()?i?"onclick='".concat(n,"'"):n:""},e.getUrlArgInCookie=function(){return t.cookie(i)},e.getUrlHashInCookie=function(){var t=e.getUrlArgInCookie();if(!t)return"";try{return(JSON.parse(t)||{}).anchor||""}catch(e){return console.log(e,"hash in cookie is => ".concat(t)),""}},e.removeUrlArgInCookie=function(){e.getIsSetReqHttpOnlyCookie()?t.ajax({url:"ajax/setCookie_h.jsp",type:"post",data:{cmd:"setWafCk_setReqArgsCookie",_reqArgs:""}}):t.cookie(i,null,{path:"/"})},e.setHrefEventHasReqArgs=function(e){if(Fai.top.JZ.getIsOpenRemoveUrlArg()&&e){var i=e;try{(e instanceof Node||e instanceof NodeList)&&(i=t(e))}catch(t){console.error(t)}0!==i.length&&"1"!=i.prop("setReqArgsClick")&&(i.prop("setReqArgsClick","1"),i.off("click.setReqArgs").on("click.setReqArgs","a",(function(e){var i=t(this),o=i.attr("_reqargs");o&&(e.preventDefault(),Fai.top.JZ.setUrlArgToCookie(i[0],o))})))}}}(jm,Fai.top.JZ||(Fai.top.JZ={}));i(162),i(163);var j=[{name:"animate-obsever",directive:function(t,e){var i=e.value,o=!1,n=Object(r.deepExtendClone)(i),s=n.style,l=n.id,c=n.animation;c.t>0&&(o=!0);var d=Fai.top.isOpenLazyOptimize||Fai.top._manageMode?t:jm("#module"+l)[0];o&&setTimeout((function(){Mobi.Animation.initMobiAnimation({id:l,animation:c,style:s}),!a.InterSectionObserApi.isObserveEl(d,1)&&a.InterSectionObserApi.initAnimationObserver(d)}),100)}}];Mobi.initDirective=function(){j.forEach((function(t){return window.Vue.directive(t.name,t.directive)})),Vue.directive("drag-resize",{inserted:function(t,e){if(Fai.top._manageMode){var i=e.value;Mobi.initDragResizable(t,i)}},update:function(t,e){if(Fai.top._manageMode){var i=e.value,o=$(t);i.notAllow?o.resizable("destroy"):o.attr("_resizable")&&!i.forceInit||Mobi.initDragResizable(t,i),i&&"function"==typeof i.directiveUpdate&&i.directiveUpdate.call(null,t,e)}}}),Vue.directive("ban-copy",{inserted:function(t){Fai.top.banCopyTextImg&&Mobi.initImgNoSelect(t)},update:function(t){Fai.top.banCopyTextImg&&Mobi.initImgNoSelect(t)}}),
/*!
   * vue-dom-portal v0.1.5
   * (c) 2017 Caleb Roseland
   * Released under the MIT License.
   */
function(t){function e(t){return void 0===t&&(t=document.body),!0===t?document.body:t instanceof window.Node?t:document.querySelector(t)}var i=new Map,o={inserted:function(t,o){var n=o.value,a=t.parentNode,r=document.createComment(""),s=!1;!1!==n&&(a.replaceChild(r,t),e(n).appendChild(t),s=!0),i.has(t)||i.set(t,{parentNode:a,home:r,hasMovedOut:s})},componentUpdated:function(t,o){var n=o.value,a=i.get(t),r=a.parentNode,s=a.home,l=a.hasMovedOut;!l&&n?(r.replaceChild(s,t),e(n).appendChild(t),i.set(t,Object.assign({},i.get(t),{hasMovedOut:!0}))):l&&!1===n?(r.replaceChild(t,s),i.set(t,Object.assign({},i.get(t),{hasMovedOut:!1}))):n&&e(n).appendChild(t)},unbind:function(t){i.delete(t)}};t.directive("dom-portal",o)}(Vue)};i(164),i(165),i(166),i(167);function M(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var y=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,i,o;return e=t,i=null,o=[{key:"logFdpAfterSave",value:function(){var e=this,i=[].concat(this.fdpList);Object.keys(this.fdpMap).forEach((function(t){i.push(e.fdpMap[t])})),i.length&&(t.fdpRequest(i),this.fdpList=[],this.fdpMap={})}},{key:"addFdpLog",value:function(t){var e=t.event,i=t.properties;Object(r.isObject)(i)&&"string"==typeof e&&this.fdpList.push({event:e,properties:i})}},{key:"addRepeatFdpLog",value:function(t){var e=t.sign,i=t.event,o=t.properties;Object(r.isObject)(o)&&"string"==typeof i&&(this.fdpMap[e]={event:i,properties:o})}},{key:"getRepeatFdpLog",value:function(){return this.fdpMap}},{key:"getNormalFdpLog",value:function(){return this.fdpList}},{key:"logJzFdp",value:function(t,e){var i=null;(i=Fai.top._manageMode?$.ajax:jm.ajax)&&i({type:"POST",url:"/ajax/log_h.jsp",data:"cmd=wafNotCk_logJZFdpTrack&event=".concat(t,"&properties=").concat(encodeURIComponent(JSON.stringify(e)))})}},{key:"pushFdpRequest",value:function(t){Object(r.isObject)(t)&&this.requestList.push(t)}},{key:"clearTimeout",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){clearTimeout(this.requestTimer),this.requestTimer=null}))},{key:"clearRequestData",value:function(){this.requestList.length=0}},{key:"fdpRequest",value:function(t){Object(r.isArray)(t)&&jzRequest.post("/ajax/log_h.jsp",{data:{cmd:"wafNotCk_logJZFdpListTrack",fdpList:JSON.stringify(t)}}).catch((function(t){console.log(t)}))}},{key:"logFdpRequest",value:function(e,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e3;if(!(t.requestList.length<o))return t.requestTimer&&t.clearTimeout(),t.fdpRequest(t.requestList),t.clearRequestData(),void t.pushFdpRequest({event:e,properties:i});t.pushFdpRequest({event:e,properties:i}),t.requestTimer||(t.requestTimer=setTimeout((function(){t.fdpRequest(t.requestList),t.clearRequestData(),t.clearTimeout()}),n))}}],i&&M(e.prototype,i),o&&M(e,o),t}();y.requestTimer=null,y.requestList=[],y.fdpList=[],y.fdpMap={};var w=y,S=function(t){var e=t.id;if(!a.AnimationApis.hasAnimationManageMap(e)){var i=function(t){if(Object(r.isPlainObject)(t)){var e=Object(r.deepExtendClone)(t),i=e.id,o=void 0===i?0:i,n=e.animation,s=void 0===n?{}:n,l={contentTerminal:"mobi"};return l.manageMode=Fai.top._manageMode,l.Monitor=window.Monitor,l.JzFdpLog=Mobi.jzFdpLogIns,0===o||(l.id=o,l.idSelector="module".concat(o),a.ANIMATION_TYPE_LIST.forEach((function(t){switch(t){case a.ANIMATION_TYPE.ADMISSION:var e=Object(r.deepExtendClone)(s);switch(e.t){case 4:e.t=6;break;case 5:e.t=9;break;case 6:e.t=7;break;case 7:e.t=8;break;case 8:e.t=4;break;case 9:e.t=5}l[t]=e;break;default:l[t]={}}}))),l}}(t);return a.AnimationApis.initAnimationManage(i)}},I=function(t){var e=a.AnimationApis.getAnimationManage(t);e&&a.ANIMATION_TYPE_LIST.forEach((function(i){var o=e.animation[i]||{};o&&o.type>0&&(o.el=$("#module".concat(t))[0],e.setAnimation(),e.setAnimationElId())}))};var C=i(6);function P(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function x(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}if("undefined"!=typeof window){var k=window.Mobi||(window.Mobi={}),L=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?P(Object(i),!0).forEach((function(e){x(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):P(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({jzFdpLogIns:w,Animation:o,Adv:n},C);Object.assign(k,L)}},5:function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__5__},6:function(t,e,i){"use strict";i.r(e),i.d(e,"slideshowView",(function(){return n}));var o=i(2),n=function(t){var e=Object(o.deepExtendClone)({id:100*Math.random(),previewSrcList:[],zIndex:9999,initialIndex:0,onLog:Mobi.jzFdpLogIns.logFdpRequest,manageMode:Fai.top._manageMode,disableLongPress:Fai.top.banCopyTextImg,logEventConfig:{event:"jz_hdpzj",properties:{jz_content_terminal:"mobi-产品展示-产品详情",jz_version:Fai.top.jzVersion}}},t);Fai.top._manageMode&&(e.appendToContainerId="mobiReviewPage",e.appendToBody=!1,e.isMobi=!0),Fai.top.bizShared.slideshowView(e)}},9:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}}})}));